{"version":3,"mappings":"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","names":["Avatar","forwardRef","className","circle","size","src","link","label","fallback","lazy","domProps","ref","renderedAvatar","jsx","AvatarPlaceholderIcon","Tooltip","wrapperProps","clsx","getSizeClassName","Link","useCurrentDateTime","timezone","useUserTimezone","useMemo","now","AccordionAnimation","functionDebounce","debounce","fn","wait","callFirst","timeout","debouncedFn","clear","flush","call","debounceWrapper","context","args","callNow","draggables","droppables","dragMonitors","dragSession","readFilesFromDataTransfer","dataTransfer","entries","item","entry","file","getEntryFile","UploadedFile","getEntriesFromDirectory","reader","resolve","reject","asyncIterableToArray","iterator","items","DROP_ACTIVATE_TIMEOUT","useDroppable","id","disabled","options","state","useRef","optionsRef","useLayoutEffect","canDrop","draggable","allowEventsOnSelf","_a","fireDragLeave","e","getDraggable","_b","element","dropResult","_d","_c","ReplyEditorDropTargetMask","isVisible","mask","m","opacityAnimation","Trans","AnimatePresence","TwentyMB","useUploadReplyAttachments","props","onSuccess","useCallbackRef","uploadMultiple","useFileUploadStore","s","useCallback","files","message","toast","DefaultFileIcon","createSvgIcon","AudioFileIcon","VideoFileIcon","TextFileIcon","PdfFileIcon","ArchiveFileIcon","FolderFileIcon","ImageFileIcon","PowerPointFileIcon","WordFileIcon","SpreadsheetFileIcon","SharedFolderFileIcon","FileTypeIcon","type","mime","Icon","FileTypeIcons","FileEntryUrlsContext","React","useFileEntryUrls","base_url","useSettings","urlSearchParams","useContext","previewUrl","isAbsoluteUrl","urls","addParams","urlString","params","baseUrl","url","key","value","downloadFileFromUrl","name","FilePreviewContext","DefaultFilePreview","allowDownload","activeIndex","activeEntry","content","downloadUrl","jsxs","Button","ImageFilePreview","trans","useTrans","FIVE_MB","TextFilePreview","tooLarge","setTooLarge","useState","isLoading","setIsLoading","isFailed","setIsFailed","contents","setContents","useEffect","getFileContents","response","ProgressCircle","apiClient","VideoFilePreview","mediaInvalid","setMediaInvalid","AudioFilePreview","PdfFilePreview","WordDocumentFilePreview","showDefault","setShowDefault","timeoutId","buildPreviewUrl","data","buildOfficeLivePreviewUrl","AvailablePreviews","getPreviewForEntry","ChevronLeftIcon","FileDownloadIcon","TwoMB","FileThumbnail","iconClassName","showImage","alt","FilePreviewContainer","onClose","showHeader","headerActionsLeft","isMobile","useMediaQuery","setActiveIndex","useControlledState","contextValue","Preview","canOpenNext","openNext","canOpenPrevious","openPrevious","Header","IconButton","KeyboardArrowLeftIcon","KeyboardArrowRightIcon","onNext","onPrevious","actionsLeft","downloadButton","Fragment","ChevronRightIcon","CloseIcon","FilePreviewDialog","Dialog","Content","close","useDialogContext","previewSearchParams","AttachmentListLayout","children","AttachmentLayout","onRemove","progress","htmlProps","FormattedBytes","ProgressBar","FileEntryAttachmentLayout","attachments","index","attachment","DialogTrigger","ReplyEditorAttachments","uploads","abortUpload","_","upload","Divider","FormatBoldIcon","FormatItalicIcon","FormatUnderlinedIcon","FontStyleButtons","editor","FormatListBulletedIcon","FormatListNumberedIcon","ListButtons","bulletActive","orderedActive","LinkIcon","insertLinkIntoTextEditor","text","target","href","LinkButton","LinkDialog","previousUrl","previousText","form","useForm","formId","DialogHeader","DialogBody","Form","FormTextField","FormSelect","Option","DialogFooter","ImageIcon","ImageButton","diskPrefix","selectAndUploadFile","useActiveUpload","handleUpload","UploadInputType","Disk","FormatClearIcon","ClearFormatButton","FormatIndentDecreaseIcon","FormatIndentIncreaseIcon","IndentButtons","CodeIcon","CodeBlockMenuTrigger","language","MenuTrigger","Menu","MenuItem","AttachmentIcon","MenubarRowClassName","ReplyEditorMenubar","justify","onAttachmentUploaded","endButtons","uploadAttachments","openUploadWindow","cloneElement","getReplyBody","editorRef","body","ArticleBodyEditor","__vitePreload","ReplyEditor","onSubmit","initialContent","onChange","footerButtons","onAttachmentsChange","menubarButtons","minHeight","autoFocus","containerRef","isDragOver","setIsDragOver","droppableProps","handleSubmit","a","Suspense"],"sources":["../../../common/resources/client/ui/images/avatar.tsx","../../../common/resources/client/i18n/use-current-date-time.ts","../../../common/resources/client/ui/accordion/accordtion-animation.ts","../../../node_modules/just-debounce-it/index.mjs","../../../common/resources/client/ui/interactions/dnd/drag-state.ts","../../../common/resources/client/ui/interactions/dnd/read-files-from-data-transfer.ts","../../../common/resources/client/utils/array/async-iterable-to-array.ts","../../../common/resources/client/ui/interactions/dnd/use-droppable.ts","../../../resources/client/reply-editor/reply-editor-drop-target-mask.tsx","../../../resources/client/reply-editor/use-upload-reply-attachments.ts","../../../common/resources/client/uploads/file-type-icon/icons/default-file-icon.tsx","../../../common/resources/client/uploads/file-type-icon/icons/audio-file-icon.tsx","../../../common/resources/client/uploads/file-type-icon/icons/video-file-icon.tsx","../../../common/resources/client/uploads/file-type-icon/icons/text-file-icon.tsx","../../../common/resources/client/uploads/file-type-icon/icons/pdf-file-icon.tsx","../../../common/resources/client/uploads/file-type-icon/icons/archive-file-icon.tsx","../../../common/resources/client/uploads/file-type-icon/icons/folder-file-icon.tsx","../../../common/resources/client/uploads/file-type-icon/icons/image-file-icon.tsx","../../../common/resources/client/uploads/file-type-icon/icons/power-point-file-icon.tsx","../../../common/resources/client/uploads/file-type-icon/icons/word-file-icon.tsx","../../../common/resources/client/uploads/file-type-icon/icons/spreadsheet-file-icon.tsx","../../../common/resources/client/uploads/file-type-icon/icons/shared-folder-file-icon.tsx","../../../common/resources/client/uploads/file-type-icon/file-type-icon.tsx","../../../common/resources/client/uploads/hooks/file-entry-urls.ts","../../../common/resources/client/uploads/utils/download-file-from-url.ts","../../../common/resources/client/uploads/preview/file-preview-context.ts","../../../common/resources/client/uploads/preview/file-preview/default-file-preview.tsx","../../../common/resources/client/uploads/preview/file-preview/image-file-preview.tsx","../../../common/resources/client/uploads/preview/file-preview/text-file-preview.tsx","../../../common/resources/client/uploads/preview/file-preview/video-file-preview.tsx","../../../common/resources/client/uploads/preview/file-preview/audio-file-preview.tsx","../../../common/resources/client/uploads/preview/file-preview/pdf-file-preview.tsx","../../../common/resources/client/uploads/preview/file-preview/word-document-file-preview.tsx","../../../common/resources/client/uploads/preview/available-previews.ts","../../../common/resources/client/icons/material/ChevronLeft.tsx","../../../common/resources/client/icons/material/FileDownload.tsx","../../../common/resources/client/uploads/file-type-icon/file-thumbnail.tsx","../../../common/resources/client/uploads/preview/file-preview-container.tsx","../../../common/resources/client/uploads/preview/file-preview-dialog.tsx","../../../resources/client/agent/ticket-layout/attachment-list-layout.tsx","../../../resources/client/reply-editor/reply-editor-attachments.tsx","../../../common/resources/client/text-editor/menubar/divider.tsx","../../../common/resources/client/icons/material/FormatBold.tsx","../../../common/resources/client/icons/material/FormatItalic.tsx","../../../common/resources/client/icons/material/FormatUnderlined.tsx","../../../common/resources/client/text-editor/menubar/font-style-buttons.tsx","../../../common/resources/client/icons/material/FormatListBulleted.tsx","../../../common/resources/client/icons/material/FormatListNumbered.tsx","../../../common/resources/client/text-editor/menubar/list-buttons.tsx","../../../common/resources/client/icons/material/Link.tsx","../../../common/resources/client/text-editor/insert-link-into-text-editor.ts","../../../common/resources/client/text-editor/menubar/link-button.tsx","../../../common/resources/client/icons/material/Image.tsx","../../../common/resources/client/text-editor/menubar/image-button.tsx","../../../common/resources/client/icons/material/FormatClear.tsx","../../../common/resources/client/text-editor/menubar/clear-format-button.tsx","../../../common/resources/client/icons/material/FormatIndentDecrease.tsx","../../../common/resources/client/icons/material/FormatIndentIncrease.tsx","../../../common/resources/client/text-editor/menubar/indent-buttons.tsx","../../../common/resources/client/icons/material/Code.tsx","../../../common/resources/client/text-editor/menubar/code-block-menu-trigger.tsx","../../../common/resources/client/icons/material/Attachment.tsx","../../../resources/client/reply-editor/reply-editor-menubar.tsx","../../../resources/client/reply-editor/get-reply-body.ts","../../../resources/client/reply-editor/reply-editor.tsx"],"sourcesContent":["import clsx from 'clsx';\nimport React, {\n  ComponentProps,\n  ComponentPropsWithoutRef,\n  forwardRef,\n} from 'react';\nimport {Link} from 'react-router-dom';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {AvatarPlaceholderIcon} from '@common/auth/ui/account-settings/avatar/avatar-placeholder-icon';\n\ntype Size = 'xs' | 'sm' | 'md' | 'lg' | 'xl' | string;\n\nexport interface AvatarProps extends ComponentPropsWithoutRef<any> {\n  className?: string;\n  src?: string;\n  label?: string;\n  circle?: boolean;\n  size?: Size;\n  link?: string;\n  fallback?: 'initials' | 'generic';\n  lazy?: boolean;\n}\nexport const Avatar = forwardRef<HTMLImageElement, AvatarProps>(\n  (\n    {\n      className,\n      circle,\n      size = 'md',\n      src,\n      link,\n      label,\n      fallback = 'generic',\n      lazy = true,\n      ...domProps\n    },\n    ref,\n  ) => {\n    let renderedAvatar = src ? (\n      <img\n        ref={ref}\n        src={src}\n        alt={label}\n        loading={lazy ? 'lazy' : undefined}\n        className=\"block h-full w-full object-cover\"\n      />\n    ) : (\n      <div className=\"h-full w-full bg-alt dark:bg-chip\">\n        <AvatarPlaceholderIcon\n          viewBox=\"0 0 48 48\"\n          className=\"h-full w-full text-muted\"\n        />\n      </div>\n    );\n\n    if (label) {\n      renderedAvatar = <Tooltip label={label}>{renderedAvatar}</Tooltip>;\n    }\n\n    const wrapperProps: ComponentProps<any> = {\n      ...domProps,\n      className: clsx(\n        className,\n        'relative block overflow-hidden select-none flex-shrink-0',\n        getSizeClassName(size),\n        circle ? 'rounded-full' : 'rounded',\n      ),\n    };\n\n    return link ? (\n      <Link {...wrapperProps} to={link}>\n        {renderedAvatar}\n      </Link>\n    ) : (\n      <div {...wrapperProps}>{renderedAvatar}</div>\n    );\n  },\n);\n\nfunction getSizeClassName(size: Size) {\n  switch (size) {\n    case 'xs':\n      return 'w-18 h-18';\n    case 'sm':\n      return 'w-24 h-24';\n    case 'md':\n      return 'w-32 h-32';\n    case 'lg':\n      return 'w-40 h-40';\n    case 'xl':\n      return 'w-60 h-60';\n    // allow overriding with custom classNames\n    default:\n      return size;\n  }\n}\n","import {useMemo} from 'react';\nimport {now} from '@internationalized/date';\nimport {useUserTimezone} from './use-user-timezone';\n\nexport function useCurrentDateTime() {\n  const timezone = useUserTimezone();\n  return useMemo(() => {\n    return now(timezone);\n  }, [timezone]);\n}\n","export const AccordionAnimation = {\n  variants: {\n    open: {\n      height: 'auto',\n      visibility: 'visible',\n      transitionEnd: {\n        overflow: 'auto',\n      },\n    },\n    closed: {\n      height: 0,\n      overflow: 'hidden',\n      transitionEnd: {\n        visibility: 'hidden',\n      },\n    },\n  },\n  transition: {type: 'tween', duration: 0.2},\n} as const;\n","var functionDebounce = debounce;\n\nfunction debounce(fn, wait, callFirst) {\n  var timeout = null;\n  var debouncedFn = null;\n\n  var clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n\n      debouncedFn = null;\n      timeout = null;\n    }\n  };\n\n  var flush = function() {\n    var call = debouncedFn;\n    clear();\n\n    if (call) {\n      call();\n    }\n  };\n\n  var debounceWrapper = function() {\n    if (!wait) {\n      return fn.apply(this, arguments);\n    }\n\n    var context = this;\n    var args = arguments;\n    var callNow = callFirst && !timeout;\n    clear();\n\n    debouncedFn = function() {\n      fn.apply(context, args);\n    };\n\n    timeout = setTimeout(function() {\n      timeout = null;\n\n      if (!callNow) {\n        var call = debouncedFn;\n        debouncedFn = null;\n\n        return call();\n      }\n    }, wait);\n\n    if (callNow) {\n      return debouncedFn();\n    }\n  };\n\n  debounceWrapper.cancel = clear;\n  debounceWrapper.flush = flush;\n\n  return debounceWrapper;\n}\n\nexport {functionDebounce as default};\n","import {DragMonitor} from './use-drag-monitor';\nimport {ConnectedDraggable, DraggableId} from './use-draggable';\nimport {ConnectedDroppable} from './use-droppable';\n\nexport type DragSessionStatus =\n  | 'dropSuccess'\n  | 'dropFail'\n  | 'dragging'\n  | 'inactive';\n\nexport interface DragSession {\n  dragTargetId?: DraggableId;\n  status: DragSessionStatus;\n}\n\nexport const draggables = new Map<DraggableId, ConnectedDraggable>();\nexport const droppables = new Map<DraggableId, ConnectedDroppable>();\nexport const dragMonitors = new Map<DraggableId, DragMonitor>();\nexport const dragSession: DragSession = {\n  status: 'inactive',\n};\n","import {UploadedFile} from '@common/uploads/uploaded-file';\n\nexport async function* readFilesFromDataTransfer(dataTransfer: DataTransfer) {\n  const entries: FileSystemEntry[] = [];\n\n  // Pull out all entries before reading them, otherwise\n  // some entries will be lost due to recursion with promises\n  for (const item of dataTransfer.items) {\n    if (item.kind === 'file') {\n      const entry = item.webkitGetAsEntry();\n      if (entry) {\n        entries.push(entry);\n      }\n    }\n  }\n\n  for (const entry of entries) {\n    if (entry.isFile) {\n      if (entry.name === '.DS_Store') continue;\n      const file = await getEntryFile(entry as FileSystemFileEntry);\n      yield new UploadedFile(file, entry.fullPath);\n    } else if (entry.isDirectory) {\n      yield* getEntriesFromDirectory(entry as FileSystemDirectoryEntry);\n    }\n  }\n}\n\nasync function* getEntriesFromDirectory(\n  item: FileSystemDirectoryEntry\n): AsyncIterable<any> {\n  const reader = item.createReader();\n\n  // We must call readEntries repeatedly because there may be a limit to the\n  // number of entries that are returned at once.\n  let entries: FileSystemEntry[];\n  do {\n    entries = await new Promise((resolve, reject) => {\n      reader.readEntries(resolve, reject);\n    });\n\n    for (const entry of entries) {\n      if (entry.isFile) {\n        if (entry.name === '.DS_Store') continue;\n        const file = await getEntryFile(entry as FileSystemFileEntry);\n        yield new UploadedFile(file, entry.fullPath);\n      } else if (entry.isDirectory) {\n        yield* getEntriesFromDirectory(entry as FileSystemDirectoryEntry);\n      }\n    }\n  } while (entries.length > 0);\n}\n\nfunction getEntryFile(entry: FileSystemFileEntry): Promise<File> {\n  return new Promise((resolve, reject) => entry.file(resolve, reject));\n}\n","export async function asyncIterableToArray<T>(\n  iterator: AsyncIterable<T>\n): Promise<T[]> {\n  const items: T[] = [];\n  for await (const item of iterator) {\n    items.push(item);\n  }\n  return items;\n}\n","import React, {RefObject, useLayoutEffect, useRef} from 'react';\nimport {draggables, dragSession, droppables} from './drag-state';\nimport {readFilesFromDataTransfer} from './read-files-from-data-transfer';\nimport {asyncIterableToArray} from '@common/utils/array/async-iterable-to-array';\nimport {InteractableRect} from '../interactable-event';\nimport {DraggableId, MixedDraggable} from './use-draggable';\nimport {UploadedFile} from '@common/uploads/uploaded-file';\n\nexport interface ConnectedDroppable {\n  id: DraggableId;\n  rect?: InteractableRect;\n  disabled?: boolean;\n  ref: RefObject<HTMLElement>;\n}\n\n// File dragged in from desktop\nexport interface NativeFileDraggable {\n  type: 'nativeFile';\n  el: null;\n  ref: null;\n  getData: () => Promise<UploadedFile[]>;\n}\n\ninterface UseDroppableProps<T extends HTMLElement> {\n  id: DraggableId;\n  disabled?: boolean;\n  types: ('nativeFile' | string)[];\n  ref: RefObject<T>;\n  // this will fire dragEnter/dragLeave/dragOver events when same element is both draggable and drop target and dragging target over itself. Used for showing line previews before/after element during sort.\n  allowDragEventsFromItself?: boolean;\n  onDragEnter?: (target: MixedDraggable) => void;\n  onDragLeave?: (target: MixedDraggable) => void;\n  onDragOver?: (\n    target: MixedDraggable,\n    e: React.DragEvent<HTMLElement>\n  ) => void;\n  // Handler that is called after draggable is held over droppable for a period of time.\n  // This typically opens the item so that the user can drop within it.\n  onDropActivate?: (e: MixedDraggable) => void;\n  onDrop?: (target: MixedDraggable) => void | Promise<void> | false;\n  acceptsDrop?: (target: MixedDraggable) => boolean;\n}\n\ninterface DroppableState {\n  dragOverElements: Set<Element>;\n  dropActivateTimer: ReturnType<typeof setTimeout> | undefined;\n}\n\nconst DROP_ACTIVATE_TIMEOUT = 400;\n\nexport function useDroppable<T extends HTMLElement>({\n  id,\n  disabled,\n  ref,\n  ...options\n}: UseDroppableProps<T>) {\n  const state = useRef<DroppableState>({\n    dragOverElements: new Set<Element>(),\n    dropActivateTimer: undefined,\n  }).current;\n\n  const optionsRef = useRef(options);\n  optionsRef.current = options;\n\n  useLayoutEffect(() => {\n    droppables.set(id, {\n      ...droppables.get(id),\n      disabled,\n      id,\n      ref,\n    });\n    return () => {\n      droppables.delete(id);\n    };\n  }, [id, optionsRef, disabled, ref]);\n\n  // check if drop target accepts drag target\n  const canDrop = (draggable: MixedDraggable): boolean => {\n    const options = optionsRef.current;\n\n    const allowEventsOnSelf =\n      options.allowDragEventsFromItself ||\n      ref.current !== draggable.ref?.current;\n\n    return !!(\n      draggable?.type &&\n      allowEventsOnSelf &&\n      options.types.includes(draggable.type) &&\n      (!options.acceptsDrop || options.acceptsDrop(draggable))\n    );\n  };\n\n  const fireDragLeave = (e: React.DragEvent<HTMLElement>) => {\n    const draggable = getDraggable(e);\n    if (draggable) {\n      optionsRef.current.onDragLeave?.(draggable);\n    }\n  };\n\n  const onDragEnter = (e: React.DragEvent<HTMLElement>) => {\n    e.stopPropagation();\n\n    state.dragOverElements.add(e.target as Element);\n    if (state.dragOverElements.size > 1) {\n      return;\n    }\n\n    const draggable = getDraggable(e);\n    if (draggable && canDrop(draggable)) {\n      optionsRef.current.onDragEnter?.(draggable);\n\n      clearTimeout(state.dropActivateTimer);\n      if (typeof optionsRef.current.onDropActivate === 'function') {\n        state.dropActivateTimer = setTimeout(() => {\n          if (draggable) {\n            optionsRef.current.onDropActivate?.(draggable);\n          }\n        }, DROP_ACTIVATE_TIMEOUT);\n      }\n    }\n  };\n\n  const onDragLeave = (e: React.DragEvent<HTMLElement>) => {\n    e.stopPropagation();\n\n    // Track all the targets of dragenter events in a set, and remove them\n    // in dragleave. When the set becomes empty, we've left the drop target completely.\n    // We must also remove any elements that are no longer in the DOM, because dragleave\n    // events will never be fired for these. This can happen, for example, with drop\n    // indicators between items, which disappear when the drop target changes.\n    state.dragOverElements.delete(e.target as Element);\n    for (const element of state.dragOverElements) {\n      if (!e.currentTarget.contains(element)) {\n        state.dragOverElements.delete(element);\n      }\n    }\n\n    if (state.dragOverElements.size > 0) {\n      return;\n    }\n\n    const draggable = getDraggable(e);\n    if (draggable && canDrop(draggable)) {\n      fireDragLeave(e);\n      clearTimeout(state.dropActivateTimer);\n    }\n  };\n\n  const onDrop = async (e: React.DragEvent<HTMLElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    state.dragOverElements.clear();\n\n    fireDragLeave(e);\n    clearTimeout(state.dropActivateTimer);\n\n    const draggable = getDraggable(e);\n    if (draggable) {\n      optionsRef.current.onDragLeave?.(draggable);\n\n      // drop target does not accept this type of droppable\n      if (!canDrop(draggable)) {\n        if (dragSession.status !== 'inactive') {\n          dragSession.status = 'dropFail';\n        }\n        // drop target accepts this type, but it might still reject the drop in callback\n      } else {\n        // allow callback to mark drop as failed\n        const dropResult = optionsRef.current.onDrop?.(draggable);\n\n        // drag session will only be active for draggables within the app, never for files dragged in from desktop\n        if (dragSession.status !== 'inactive') {\n          dragSession.status =\n            dropResult === false ? 'dropFail' : 'dropSuccess';\n        }\n      }\n    }\n  };\n\n  const droppableProps = {\n    onDragOver: (e: React.DragEvent<HTMLElement>) => {\n      e.preventDefault();\n      e.stopPropagation();\n      const draggable = getDraggable(e);\n      if (draggable && canDrop(draggable)) {\n        optionsRef.current.onDragOver?.(draggable, e);\n      }\n    },\n    onDragEnter,\n    onDragLeave,\n    onDrop,\n  };\n\n  return {\n    droppableProps: disabled ? {} : droppableProps,\n  };\n}\n\nfunction getDraggable(\n  e: React.DragEvent<HTMLElement>\n): MixedDraggable | undefined {\n  if (dragSession.dragTargetId != null) {\n    return draggables.get(dragSession.dragTargetId);\n  } else if (e.dataTransfer.types.includes('Files')) {\n    return {\n      type: 'nativeFile',\n      el: null,\n      ref: null,\n      getData: () => {\n        return asyncIterableToArray(readFilesFromDataTransfer(e.dataTransfer));\n      },\n    };\n  }\n}\n","import {AnimatePresence, m} from 'framer-motion';\nimport {opacityAnimation} from '@common/ui/animation/opacity-animation';\nimport {Trans} from '@common/i18n/trans';\nimport React from 'react';\n\ninterface Props {\n  isVisible: boolean;\n}\nexport function ReplyEditorDropTargetMask({isVisible}: Props) {\n  const mask = (\n    <m.div\n      key=\"dragTargetMask\"\n      {...opacityAnimation}\n      transition={{duration: 0.3}}\n      className=\"pointer-events-none absolute inset-0 min-h-full w-full border-2 border-dashed border-primary bg-primary-light/30\"\n    >\n      <m.div\n        initial={{y: '100%', opacity: 0}}\n        animate={{y: '-10px', opacity: 1}}\n        exit={{y: '100%', opacity: 0}}\n        className=\"fixed bottom-0 left-0 right-0 mx-auto max-w-max rounded bg-primary p-10 text-on-primary\"\n      >\n        <Trans message=\"Drop files to attach them to this reply.\" />\n      </m.div>\n    </m.div>\n  );\n  return <AnimatePresence>{isVisible ? mask : null}</AnimatePresence>;\n}\n","import {toast} from '@common/ui/toast/toast';\nimport {useCallback} from 'react';\nimport {useFileUploadStore} from '@common/uploads/uploader/file-upload-provider';\nimport {UploadedFile} from '@common/uploads/uploaded-file';\nimport {useCallbackRef} from '@common/utils/hooks/use-callback-ref';\nimport {FileEntry} from '@common/uploads/file-entry';\n\nconst TwentyMB = 20 * 1024 * 1024;\n\ninterface Props {\n  onSuccess: (entry: FileEntry) => void;\n}\nexport function useUploadReplyAttachments(props: Props) {\n  const onSuccess = useCallbackRef(props.onSuccess);\n  const uploadMultiple = useFileUploadStore(s => s.uploadMultiple);\n  return useCallback(\n    (files: (File | UploadedFile)[]) => {\n      uploadMultiple(files, {\n        restrictions: {\n          maxFileSize: TwentyMB,\n        },\n        onSuccess: entry => onSuccess(entry),\n        onError: message => {\n          if (message) {\n            toast.danger(message);\n          }\n        },\n      });\n    },\n    [uploadMultiple, onSuccess]\n  );\n}\n","import {createSvgIcon} from '../../../icons/create-svg-icon';\n\nexport const DefaultFileIcon = createSvgIcon(\n  <g>\n    <path d=\"M 23.65625 4 C 22.320313 4 21.066406 4.519531 20.121094 5.464844 L 11.464844 14.121094 C 10.519531 15.066406 10 16.320313 10 17.65625 L 10 57 C 10 58.652344 11.347656 60 13 60 L 53 60 C 54.652344 60 56 58.652344 56 57 L 56 7 C 56 5.347656 54.652344 4 53 4 Z M 24 6 L 53 6 C 53.550781 6 54 6.449219 54 7 L 54 57 C 54 57.550781 53.550781 58 53 58 L 13 58 C 12.449219 58 12 57.550781 12 57 L 12 18 L 21 18 C 22.652344 18 24 16.652344 24 15 Z M 22 6.5 L 22 15 C 22 15.550781 21.550781 16 21 16 L 12.5 16 C 12.605469 15.835938 12.734375 15.679688 12.878906 15.535156 L 21.535156 6.878906 C 21.679688 6.738281 21.835938 6.613281 22 6.5 Z M 21 22 C 20.449219 22 20 22.449219 20 23 C 20 23.550781 20.449219 24 21 24 L 37 24 C 37.550781 24 38 23.550781 38 23 C 38 22.449219 37.550781 22 37 22 Z M 41 22 C 40.449219 22 40 22.449219 40 23 C 40 23.550781 40.449219 24 41 24 L 45 24 C 45.550781 24 46 23.550781 46 23 C 46 22.449219 45.550781 22 45 22 Z M 21 26 C 20.449219 26 20 26.449219 20 27 C 20 27.550781 20.449219 28 21 28 L 41 28 C 41.550781 28 42 27.550781 42 27 C 42 26.449219 41.550781 26 41 26 Z M 21 32 C 20.449219 32 20 32.449219 20 33 C 20 33.550781 20.449219 34 21 34 L 43 34 C 43.550781 34 44 33.550781 44 33 C 44 32.449219 43.550781 32 43 32 Z M 21 36 C 20.449219 36 20 36.449219 20 37 C 20 37.550781 20.449219 38 21 38 L 33 38 C 33.550781 38 34 37.550781 34 37 C 34 36.449219 33.550781 36 33 36 Z M 15 50 C 14.449219 50 14 50.449219 14 51 L 14 53 C 14 53.550781 14.449219 54 15 54 C 15.550781 54 16 53.550781 16 53 L 16 51 C 16 50.449219 15.550781 50 15 50 Z M 20 50 C 19.449219 50 19 50.449219 19 51 L 19 53 C 19 53.550781 19.449219 54 20 54 C 20.550781 54 21 53.550781 21 53 L 21 51 C 21 50.449219 20.550781 50 20 50 Z M 25 50 C 24.449219 50 24 50.449219 24 51 L 24 53 C 24 53.550781 24.449219 54 25 54 C 25.550781 54 26 53.550781 26 53 L 26 51 C 26 50.449219 25.550781 50 25 50 Z M 30 50 C 29.449219 50 29 50.449219 29 51 L 29 53 C 29 53.550781 29.449219 54 30 54 C 30.550781 54 31 53.550781 31 53 L 31 51 C 31 50.449219 30.550781 50 30 50 Z M 35 50 C 34.449219 50 34 50.449219 34 51 L 34 53 C 34 53.550781 34.449219 54 35 54 C 35.550781 54 36 53.550781 36 53 L 36 51 C 36 50.449219 35.550781 50 35 50 Z M 40 50 C 39.449219 50 39 50.449219 39 51 L 39 53 C 39 53.550781 39.449219 54 40 54 C 40.550781 54 41 53.550781 41 53 L 41 51 C 41 50.449219 40.550781 50 40 50 Z M 45 50 C 44.449219 50 44 50.449219 44 51 L 44 53 C 44 53.550781 44.449219 54 45 54 C 45.550781 54 46 53.550781 46 53 L 46 51 C 46 50.449219 45.550781 50 45 50 Z M 50 50 C 49.449219 50 49 50.449219 49 51 L 49 53 C 49 53.550781 49.449219 54 50 54 C 50.550781 54 51 53.550781 51 53 L 51 51 C 51 50.449219 50.550781 50 50 50 Z \" />\n  </g>\n);\n","import {createSvgIcon} from '../../../icons/create-svg-icon';\n\nexport const AudioFileIcon = createSvgIcon(\n  <g>\n    <path d=\"M 21.65625 4 C 20.320313 4 19.0625 4.519531 18.121094 5.464844 L 9.464844 14.121094 C 8.519531 15.066406 8 16.320313 8 17.65625 L 8 57 C 8 58.652344 9.347656 60 11 60 L 51 60 C 52.652344 60 54 58.652344 54 57 L 54 7 C 54 5.347656 52.652344 4 51 4 Z M 22 6 L 51 6 C 51.550781 6 52 6.449219 52 7 L 52 57 C 52 57.550781 51.550781 58 51 58 L 11 58 C 10.449219 58 10 57.550781 10 57 L 10 18 L 19 18 C 20.652344 18 22 16.652344 22 15 Z M 20 6.5 L 20 15 C 20 15.550781 19.550781 16 19 16 L 10.5 16 C 10.609375 15.835938 10.734375 15.679688 10.878906 15.535156 L 19.535156 6.878906 C 19.679688 6.734375 19.835938 6.609375 20 6.5 Z M 42.78125 18.023438 L 24.78125 22.023438 C 24.328125 22.125 24 22.53125 24 23 L 24 37 C 20.691406 37 18 39.242188 18 42 C 18 44.757813 20.691406 47 24 47 C 27.308594 47 30 44.757813 30 42 L 30 29.910156 L 38 28.136719 L 38 33 C 34.691406 33 32 35.242188 32 38 C 32 40.757813 34.691406 43 38 43 C 41.308594 43 44 40.757813 44 38 L 44 19 C 44 18.695313 43.863281 18.410156 43.625 18.21875 C 43.390625 18.03125 43.082031 17.960938 42.78125 18.023438 Z M 42 20.246094 L 42 38 C 42 39.652344 40.207031 41 38 41 C 35.792969 41 34 39.652344 34 38 C 34 36.347656 35.792969 35 38 35 C 38.28125 35 38.5625 35.023438 38.839844 35.066406 C 39.128906 35.117188 39.421875 35.03125 39.648438 34.84375 C 39.871094 34.652344 40 34.375 40 34.078125 L 40 26.890625 C 40 26.585938 39.863281 26.300781 39.625 26.109375 C 39.390625 25.921875 39.078125 25.847656 38.78125 25.910156 L 28.78125 28.136719 C 28.328125 28.238281 28 28.644531 28 29.109375 L 28 42 C 28 43.652344 26.207031 45 24 45 C 21.792969 45 20 43.652344 20 42 C 20 40.347656 21.792969 39 24 39 C 24.28125 39 24.5625 39.023438 24.839844 39.066406 C 25.128906 39.117188 25.425781 39.03125 25.648438 38.84375 C 25.871094 38.652344 26 38.375 26 38.078125 L 26 23.800781 Z M 13 52 C 12.449219 52 12 52.445313 12 53 L 12 55 C 12 55.554688 12.449219 56 13 56 C 13.550781 56 14 55.554688 14 55 L 14 53 C 14 52.445313 13.550781 52 13 52 Z M 18 52 C 17.449219 52 17 52.445313 17 53 L 17 55 C 17 55.554688 17.449219 56 18 56 C 18.550781 56 19 55.554688 19 55 L 19 53 C 19 52.445313 18.550781 52 18 52 Z M 23 52 C 22.449219 52 22 52.445313 22 53 L 22 55 C 22 55.554688 22.449219 56 23 56 C 23.550781 56 24 55.554688 24 55 L 24 53 C 24 52.445313 23.550781 52 23 52 Z M 28 52 C 27.449219 52 27 52.445313 27 53 L 27 55 C 27 55.554688 27.449219 56 28 56 C 28.550781 56 29 55.554688 29 55 L 29 53 C 29 52.445313 28.550781 52 28 52 Z M 33 52 C 32.449219 52 32 52.445313 32 53 L 32 55 C 32 55.554688 32.449219 56 33 56 C 33.550781 56 34 55.554688 34 55 L 34 53 C 34 52.445313 33.550781 52 33 52 Z M 38 52 C 37.449219 52 37 52.445313 37 53 L 37 55 C 37 55.554688 37.449219 56 38 56 C 38.550781 56 39 55.554688 39 55 L 39 53 C 39 52.445313 38.550781 52 38 52 Z M 43 52 C 42.449219 52 42 52.445313 42 53 L 42 55 C 42 55.554688 42.449219 56 43 56 C 43.550781 56 44 55.554688 44 55 L 44 53 C 44 52.445313 43.550781 52 43 52 Z M 48 52 C 47.449219 52 47 52.445313 47 53 L 47 55 C 47 55.554688 47.449219 56 48 56 C 48.550781 56 49 55.554688 49 55 L 49 53 C 49 52.445313 48.550781 52 48 52 Z \" />\n  </g>\n);\n","import {createSvgIcon} from '../../../icons/create-svg-icon';\n\nexport const VideoFileIcon = createSvgIcon(\n  <g>\n    <path d=\"M 23.65625 4 C 22.320313 4 21.0625 4.519531 20.121094 5.464844 L 11.464844 14.121094 C 10.519531 15.066406 10 16.320313 10 17.65625 L 10 57 C 10 58.652344 11.347656 60 13 60 L 53 60 C 54.652344 60 56 58.652344 56 57 L 56 7 C 56 5.347656 54.652344 4 53 4 Z M 24 6 L 53 6 C 53.550781 6 54 6.449219 54 7 L 54 57 C 54 57.550781 53.550781 58 53 58 L 13 58 C 12.449219 58 12 57.550781 12 57 L 12 18 L 21 18 C 22.652344 18 24 16.652344 24 15 Z M 22 6.5 L 22 15 C 22 15.550781 21.550781 16 21 16 L 12.5 16 C 12.613281 15.835938 12.738281 15.675781 12.878906 15.535156 L 21.535156 6.878906 C 21.679688 6.734375 21.835938 6.609375 22 6.5 Z M 28.023438 21.816406 C 27.671875 21.808594 27.316406 21.890625 26.996094 22.0625 C 26.355469 22.417969 25.964844 23.085938 25.964844 23.816406 L 25.964844 42.183594 C 25.964844 42.910156 26.355469 43.582031 26.996094 43.933594 C 27.296875 44.097656 27.632813 44.183594 27.964844 44.183594 C 28.335938 44.183594 28.707031 44.078125 29.03125 43.871094 L 43.53125 34.6875 C 44.113281 34.320313 44.464844 33.6875 44.464844 33 C 44.464844 32.308594 44.113281 31.679688 43.53125 31.3125 L 29.03125 22.125 C 28.722656 21.933594 28.375 21.828125 28.023438 21.816406 Z M 27.964844 23.816406 L 42.464844 33 L 27.964844 42.1875 Z M 15 52 C 14.449219 52 14 52.449219 14 53 L 14 55 C 14 55.550781 14.449219 56 15 56 C 15.550781 56 16 55.550781 16 55 L 16 53 C 16 52.449219 15.550781 52 15 52 Z M 20 52 C 19.449219 52 19 52.449219 19 53 L 19 55 C 19 55.550781 19.449219 56 20 56 C 20.550781 56 21 55.550781 21 55 L 21 53 C 21 52.449219 20.550781 52 20 52 Z M 25 52 C 24.449219 52 24 52.449219 24 53 L 24 55 C 24 55.550781 24.449219 56 25 56 C 25.550781 56 26 55.550781 26 55 L 26 53 C 26 52.449219 25.550781 52 25 52 Z M 30 52 C 29.449219 52 29 52.449219 29 53 L 29 55 C 29 55.550781 29.449219 56 30 56 C 30.550781 56 31 55.550781 31 55 L 31 53 C 31 52.449219 30.550781 52 30 52 Z M 35 52 C 34.449219 52 34 52.449219 34 53 L 34 55 C 34 55.550781 34.449219 56 35 56 C 35.550781 56 36 55.550781 36 55 L 36 53 C 36 52.449219 35.550781 52 35 52 Z M 40 52 C 39.449219 52 39 52.449219 39 53 L 39 55 C 39 55.550781 39.449219 56 40 56 C 40.550781 56 41 55.550781 41 55 L 41 53 C 41 52.449219 40.550781 52 40 52 Z M 45 52 C 44.449219 52 44 52.449219 44 53 L 44 55 C 44 55.550781 44.449219 56 45 56 C 45.550781 56 46 55.550781 46 55 L 46 53 C 46 52.449219 45.550781 52 45 52 Z M 50 52 C 49.449219 52 49 52.449219 49 53 L 49 55 C 49 55.550781 49.449219 56 50 56 C 50.550781 56 51 55.550781 51 55 L 51 53 C 51 52.449219 50.550781 52 50 52 Z \" />\n  </g>\n);\n","import {createSvgIcon} from '../../../icons/create-svg-icon';\n\nexport const TextFileIcon = createSvgIcon(\n  <g>\n    <path d=\"M 17.660156 4 C 16.320313 4 15.058594 4.519531 14.121094 5.460938 L 5.460938 14.121094 C 4.519531 15.070313 4 16.320313 4 17.660156 L 4 57 C 4 58.648438 5.351563 60 7 60 L 47 60 C 48.648438 60 50 58.648438 50 57 L 50 46 L 58 46 C 59.101563 46 60 45.101563 60 44 L 60 24 C 60 22.898438 59.101563 22 58 22 L 50 22 L 50 7 C 50 5.351563 48.648438 4 47 4 Z M 18 6 L 47 6 C 47.550781 6 48 6.449219 48 7 L 48 22 L 16 22 C 14.898438 22 14 22.898438 14 24 L 14 44 C 14 45.101563 14.898438 46 16 46 L 48 46 L 48 57 C 48 57.550781 47.550781 58 47 58 L 7 58 C 6.449219 58 6 57.550781 6 57 L 6 18 L 15 18 C 16.652344 18 18 16.652344 18 15 Z M 16 6.5 L 16 15 C 16 15.550781 15.550781 16 15 16 L 6.5 16 C 6.613281 15.835938 6.738281 15.679688 6.882813 15.539063 L 15.539063 6.882813 C 15.679688 6.738281 15.835938 6.609375 16 6.5 Z M 16 24 L 58 24 L 58 44 L 16 44 Z M 24 28 C 23.449219 28 23 28.445313 23 29 C 23 29.554688 23.449219 30 24 30 L 26 30 L 26 39 C 26 39.554688 26.449219 40 27 40 C 27.550781 40 28 39.554688 28 39 L 28 30 L 30 30 C 30.550781 30 31 29.554688 31 29 C 31 28.445313 30.550781 28 30 28 Z M 44 28 C 43.449219 28 43 28.445313 43 29 C 43 29.554688 43.449219 30 44 30 L 46 30 L 46 39 C 46 39.554688 46.449219 40 47 40 C 47.550781 40 48 39.554688 48 39 L 48 30 L 50 30 C 50.550781 30 51 29.554688 51 29 C 51 28.445313 50.550781 28 50 28 Z M 33.859375 28.011719 C 33.730469 28.027344 33.601563 28.070313 33.484375 28.140625 C 33.011719 28.425781 32.859375 29.039063 33.140625 29.515625 L 35.832031 34 L 33.140625 38.484375 C 32.859375 38.957031 33.011719 39.574219 33.484375 39.859375 C 33.644531 39.953125 33.824219 40 34 40 C 34.339844 40 34.671875 39.828125 34.859375 39.515625 L 37 35.941406 L 39.140625 39.515625 C 39.328125 39.828125 39.660156 40 40 40 C 40.175781 40 40.355469 39.953125 40.515625 39.859375 C 40.988281 39.574219 41.140625 38.957031 40.859375 38.484375 L 38.167969 34 L 40.859375 29.515625 C 41.140625 29.042969 40.988281 28.425781 40.515625 28.140625 C 40.042969 27.859375 39.425781 28.011719 39.140625 28.484375 L 37 32.058594 L 34.859375 28.484375 C 34.644531 28.128906 34.246094 27.957031 33.859375 28.011719 Z M 9 52 C 8.449219 52 8 52.445313 8 53 L 8 55 C 8 55.554688 8.449219 56 9 56 C 9.550781 56 10 55.554688 10 55 L 10 53 C 10 52.445313 9.550781 52 9 52 Z M 14 52 C 13.449219 52 13 52.445313 13 53 L 13 55 C 13 55.554688 13.449219 56 14 56 C 14.550781 56 15 55.554688 15 55 L 15 53 C 15 52.445313 14.550781 52 14 52 Z M 19 52 C 18.449219 52 18 52.445313 18 53 L 18 55 C 18 55.554688 18.449219 56 19 56 C 19.550781 56 20 55.554688 20 55 L 20 53 C 20 52.445313 19.550781 52 19 52 Z M 24 52 C 23.449219 52 23 52.445313 23 53 L 23 55 C 23 55.554688 23.449219 56 24 56 C 24.550781 56 25 55.554688 25 55 L 25 53 C 25 52.445313 24.550781 52 24 52 Z M 29 52 C 28.449219 52 28 52.445313 28 53 L 28 55 C 28 55.554688 28.449219 56 29 56 C 29.550781 56 30 55.554688 30 55 L 30 53 C 30 52.445313 29.550781 52 29 52 Z M 34 52 C 33.449219 52 33 52.445313 33 53 L 33 55 C 33 55.554688 33.449219 56 34 56 C 34.550781 56 35 55.554688 35 55 L 35 53 C 35 52.445313 34.550781 52 34 52 Z M 39 52 C 38.449219 52 38 52.445313 38 53 L 38 55 C 38 55.554688 38.449219 56 39 56 C 39.550781 56 40 55.554688 40 55 L 40 53 C 40 52.445313 39.550781 52 39 52 Z M 44 52 C 43.449219 52 43 52.445313 43 53 L 43 55 C 43 55.554688 43.449219 56 44 56 C 44.550781 56 45 55.554688 45 55 L 45 53 C 45 52.445313 44.550781 52 44 52 Z \" />\n  </g>\n);\n","import {createSvgIcon} from '../../../icons/create-svg-icon';\n\nexport const PdfFileIcon = createSvgIcon(\n  <g>\n    <path d=\"M 17.65625 4 C 16.320313 4 15.066406 4.519531 14.121094 5.464844 L 5.464844 14.121094 C 4.519531 15.066406 4 16.320313 4 17.65625 L 4 57 C 4 58.652344 5.347656 60 7 60 L 47 60 C 48.652344 60 50 58.652344 50 57 L 50 46 L 58 46 C 59.101563 46 60 45.101563 60 44 L 60 24 C 60 22.898438 59.101563 22 58 22 L 50 22 L 50 7 C 50 5.347656 48.652344 4 47 4 Z M 18 6 L 47 6 C 47.550781 6 48 6.449219 48 7 L 48 22 L 16 22 C 14.898438 22 14 22.898438 14 24 L 14 44 C 14 45.101563 14.898438 46 16 46 L 48 46 L 48 57 C 48 57.550781 47.550781 58 47 58 L 7 58 C 6.449219 58 6 57.550781 6 57 L 6 18 L 15 18 C 16.652344 18 18 16.652344 18 15 Z M 16 6.5 L 16 15 C 16 15.550781 15.550781 16 15 16 L 6.5 16 C 6.609375 15.835938 6.734375 15.679688 6.878906 15.535156 L 15.535156 6.878906 C 15.679688 6.734375 15.835938 6.609375 16 6.5 Z M 16 24 L 58 24 L 58 44 L 16 44 Z M 25 28 C 24.445313 28 24 28.449219 24 29 L 24 39 C 24 39.550781 24.445313 40 25 40 C 25.554688 40 26 39.550781 26 39 L 26 36 L 29 36 C 30.652344 36 32 34.652344 32 33 L 32 31 C 32 29.347656 30.652344 28 29 28 Z M 35 28 C 34.445313 28 34 28.449219 34 29 L 34 39 C 34 39.550781 34.445313 40 35 40 L 38 40 C 40.207031 40 42 38.207031 42 36 L 42 32 C 42 29.792969 40.207031 28 38 28 Z M 45 28 C 44.445313 28 44 28.449219 44 29 L 44 39 C 44 39.550781 44.445313 40 45 40 C 45.554688 40 46 39.550781 46 39 L 46 36 L 49 36 C 49.554688 36 50 35.550781 50 35 C 50 34.449219 49.554688 34 49 34 L 46 34 L 46 30 L 50 30 C 50.554688 30 51 29.550781 51 29 C 51 28.449219 50.554688 28 50 28 Z M 26 30 L 29 30 C 29.550781 30 30 30.449219 30 31 L 30 33 C 30 33.550781 29.550781 34 29 34 L 26 34 Z M 36 30 L 38 30 C 39.101563 30 40 30.898438 40 32 L 40 36 C 40 37.101563 39.101563 38 38 38 L 36 38 Z M 9 52 C 8.445313 52 8 52.449219 8 53 L 8 55 C 8 55.550781 8.445313 56 9 56 C 9.554688 56 10 55.550781 10 55 L 10 53 C 10 52.449219 9.554688 52 9 52 Z M 14 52 C 13.445313 52 13 52.449219 13 53 L 13 55 C 13 55.550781 13.445313 56 14 56 C 14.554688 56 15 55.550781 15 55 L 15 53 C 15 52.449219 14.554688 52 14 52 Z M 19 52 C 18.445313 52 18 52.449219 18 53 L 18 55 C 18 55.550781 18.445313 56 19 56 C 19.554688 56 20 55.550781 20 55 L 20 53 C 20 52.449219 19.554688 52 19 52 Z M 24 52 C 23.445313 52 23 52.449219 23 53 L 23 55 C 23 55.550781 23.445313 56 24 56 C 24.554688 56 25 55.550781 25 55 L 25 53 C 25 52.449219 24.554688 52 24 52 Z M 29 52 C 28.445313 52 28 52.449219 28 53 L 28 55 C 28 55.550781 28.445313 56 29 56 C 29.554688 56 30 55.550781 30 55 L 30 53 C 30 52.449219 29.554688 52 29 52 Z M 34 52 C 33.445313 52 33 52.449219 33 53 L 33 55 C 33 55.550781 33.445313 56 34 56 C 34.554688 56 35 55.550781 35 55 L 35 53 C 35 52.449219 34.554688 52 34 52 Z M 39 52 C 38.445313 52 38 52.449219 38 53 L 38 55 C 38 55.550781 38.445313 56 39 56 C 39.554688 56 40 55.550781 40 55 L 40 53 C 40 52.449219 39.554688 52 39 52 Z M 44 52 C 43.445313 52 43 52.449219 43 53 L 43 55 C 43 55.550781 43.445313 56 44 56 C 44.554688 56 45 55.550781 45 55 L 45 53 C 45 52.449219 44.554688 52 44 52 Z \" />\n  </g>\n);\n","import {createSvgIcon} from '../../../icons/create-svg-icon';\n\nexport const ArchiveFileIcon = createSvgIcon(\n  <g>\n    <path d=\"M 21.65625 4 C 20.320313 4 19.066406 4.519531 18.121094 5.464844 L 9.464844 14.121094 C 8.519531 15.066406 8 16.320313 8 17.65625 L 8 57 C 8 58.652344 9.347656 60 11 60 L 51 60 C 52.652344 60 54 58.652344 54 57 L 54 7 C 54 5.347656 52.652344 4 51 4 Z M 22 6 L 36 6 L 36 27.59375 C 35.144531 27.222656 34.210938 27 33.226563 27 L 32.773438 27 C 31.789063 27 30.859375 27.222656 30 27.59375 L 30 9 C 30 8.449219 29.554688 8 29 8 C 28.449219 8 28 8.449219 28 9 L 28 28.902344 C 27.015625 29.824219 26.277344 31.023438 25.953125 32.425781 L 24.875 37.097656 C 24.597656 38.292969 24.878906 39.53125 25.640625 40.488281 C 26.40625 41.449219 27.546875 42 28.769531 42 L 37.230469 42 C 38.457031 42 39.59375 41.449219 40.359375 40.488281 C 41.121094 39.53125 41.402344 38.292969 41.125 37.097656 L 40.046875 32.425781 C 39.726563 31.023438 38.984375 29.824219 38 28.902344 L 38 6 L 51 6 C 51.550781 6 52 6.449219 52 7 L 52 57 C 52 57.550781 51.550781 58 51 58 L 11 58 C 10.449219 58 10 57.550781 10 57 L 10 18 L 19 18 C 20.652344 18 22 16.652344 22 15 Z M 20 6.5 L 20 15 C 20 15.550781 19.550781 16 19 16 L 10.5 16 C 10.609375 15.835938 10.734375 15.679688 10.878906 15.535156 L 19.535156 6.878906 C 19.679688 6.738281 19.835938 6.609375 20 6.5 Z M 32 8 C 31.449219 8 31 8.445313 31 9 C 31 9.554688 31.449219 10 32 10 L 34 10 C 34.550781 10 35 9.554688 35 9 C 35 8.445313 34.550781 8 34 8 Z M 32 13 C 31.449219 13 31 13.445313 31 14 C 31 14.554688 31.449219 15 32 15 L 34 15 C 34.550781 15 35 14.554688 35 14 C 35 13.445313 34.550781 13 34 13 Z M 32 18 C 31.449219 18 31 18.445313 31 19 C 31 19.554688 31.449219 20 32 20 L 34 20 C 34.550781 20 35 19.554688 35 19 C 35 18.445313 34.550781 18 34 18 Z M 32 23 C 31.449219 23 31 23.445313 31 24 C 31 24.554688 31.449219 25 32 25 L 34 25 C 34.550781 25 35 24.554688 35 24 C 35 23.445313 34.550781 23 34 23 Z M 32.773438 29 L 33.226563 29 C 35.570313 29 37.574219 30.59375 38.097656 32.875 L 39.175781 37.550781 C 39.316406 38.148438 39.175781 38.765625 38.796875 39.246094 C 38.414063 39.722656 37.839844 40 37.230469 40 L 28.769531 40 C 28.160156 40 27.589844 39.722656 27.207031 39.246094 C 26.824219 38.765625 26.683594 38.148438 26.824219 37.550781 L 27.902344 32.875 C 28.429688 30.59375 30.429688 29 32.773438 29 Z M 31 34 C 30.449219 34 30 34.445313 30 35 C 30 35.554688 30.449219 36 31 36 L 35 36 C 35.550781 36 36 35.554688 36 35 C 36 34.445313 35.550781 34 35 34 Z M 13 52 C 12.449219 52 12 52.445313 12 53 C 12 53.554688 12.449219 54 13 54 L 17 54 C 17.550781 54 18 53.554688 18 53 C 18 52.445313 17.550781 52 17 52 Z M 21 52 C 20.449219 52 20 52.445313 20 53 C 20 53.554688 20.449219 54 21 54 L 49 54 C 49.550781 54 50 53.554688 50 53 C 50 52.445313 49.550781 52 49 52 Z \" />\n  </g>\n);\n","import {createSvgIcon} from '../../../icons/create-svg-icon';\n\nexport const FolderFileIcon = createSvgIcon(\n  <g>\n    <path d=\"M 5 10 C 3.300781 10 2 11.300781 2 13 L 2 52 C 2 54.199219 3.800781 56 6 56 L 60 56 C 62.199219 56 64 54.199219 64 52 L 64 23 C 64 21.300781 62.699219 20 61 20 L 58 20 L 58 19 C 58 17.300781 56.699219 16 55 16 L 29.699219 16 C 28.898438 16 28.199219 15.699219 27.597656 15.097656 L 23.902344 11.402344 C 23 10.5 21.699219 10 20.402344 10 Z M 5 12 L 20.402344 12 C 21.199219 12 21.898438 12.300781 22.5 12.902344 L 26.199219 16.597656 C 27.097656 17.5 28.398438 18 29.699219 18 L 55 18 C 55.601563 18 56 18.398438 56 19 L 56 52 C 56 52.601563 56.199219 53.300781 56.597656 54 L 6 54 C 4.898438 54 4 53.101563 4 52 L 4 46 L 45 46 C 45.601563 46 46 45.601563 46 45 C 46 44.398438 45.601563 44 45 44 L 4 44 L 4 13 C 4 12.398438 4.398438 12 5 12 Z M 58 22 L 61 22 C 61.601563 22 62 22.398438 62 23 L 62 52 C 62 53.101563 61.101563 54 60 54 C 58.800781 54 58 52.601563 58 52 Z M 11 24 C 10.398438 24 10 24.398438 10 25 C 10 25.601563 10.398438 26 11 26 L 21 26 C 21.601563 26 22 25.601563 22 25 C 22 24.398438 21.601563 24 21 24 Z M 25 24 C 24.398438 24 24 24.398438 24 25 C 24 25.601563 24.398438 26 25 26 L 31 26 C 31.601563 26 32 25.601563 32 25 C 32 24.398438 31.601563 24 31 24 Z M 11 28 C 10.398438 28 10 28.398438 10 29 C 10 29.601563 10.398438 30 11 30 L 15 30 C 15.601563 30 16 29.601563 16 29 C 16 28.398438 15.601563 28 15 28 Z M 19 28 C 18.398438 28 18 28.398438 18 29 C 18 29.601563 18.398438 30 19 30 L 26 30 C 26.601563 30 27 29.601563 27 29 C 27 28.398438 26.601563 28 26 28 Z M 49 44 C 48.398438 44 48 44.398438 48 45 C 48 45.601563 48.398438 46 49 46 L 53 46 C 53.601563 46 54 45.601563 54 45 C 54 44.398438 53.601563 44 53 44 Z M 7 48 C 6.398438 48 6 48.398438 6 49 L 6 51 C 6 51.601563 6.398438 52 7 52 C 7.601563 52 8 51.601563 8 51 L 8 49 C 8 48.398438 7.601563 48 7 48 Z M 12 48 C 11.398438 48 11 48.398438 11 49 L 11 51 C 11 51.601563 11.398438 52 12 52 C 12.601563 52 13 51.601563 13 51 L 13 49 C 13 48.398438 12.601563 48 12 48 Z M 17 48 C 16.398438 48 16 48.398438 16 49 L 16 51 C 16 51.601563 16.398438 52 17 52 C 17.601563 52 18 51.601563 18 51 L 18 49 C 18 48.398438 17.601563 48 17 48 Z M 22 48 C 21.398438 48 21 48.398438 21 49 L 21 51 C 21 51.601563 21.398438 52 22 52 C 22.601563 52 23 51.601563 23 51 L 23 49 C 23 48.398438 22.601563 48 22 48 Z M 27 48 C 26.398438 48 26 48.398438 26 49 L 26 51 C 26 51.601563 26.398438 52 27 52 C 27.601563 52 28 51.601563 28 51 L 28 49 C 28 48.398438 27.601563 48 27 48 Z M 32 48 C 31.398438 48 31 48.398438 31 49 L 31 51 C 31 51.601563 31.398438 52 32 52 C 32.601563 52 33 51.601563 33 51 L 33 49 C 33 48.398438 32.601563 48 32 48 Z M 37 48 C 36.398438 48 36 48.398438 36 49 L 36 51 C 36 51.601563 36.398438 52 37 52 C 37.601563 52 38 51.601563 38 51 L 38 49 C 38 48.398438 37.601563 48 37 48 Z M 42 48 C 41.398438 48 41 48.398438 41 49 L 41 51 C 41 51.601563 41.398438 52 42 52 C 42.601563 52 43 51.601563 43 51 L 43 49 C 43 48.398438 42.601563 48 42 48 Z M 47 48 C 46.398438 48 46 48.398438 46 49 L 46 51 C 46 51.601563 46.398438 52 47 52 C 47.601563 52 48 51.601563 48 51 L 48 49 C 48 48.398438 47.601563 48 47 48 Z M 52 48 C 51.398438 48 51 48.398438 51 49 L 51 51 C 51 51.601563 51.398438 52 52 52 C 52.601563 52 53 51.601563 53 51 L 53 49 C 53 48.398438 52.601563 48 52 48 Z \" />\n  </g>\n);\n","import {createSvgIcon} from '../../../icons/create-svg-icon';\n\nexport const ImageFileIcon = createSvgIcon(\n  <g>\n    <path d=\"M 21.65625 4 C 20.320313 4 19.066406 4.519531 18.121094 5.464844 L 9.464844 14.121094 C 8.519531 15.066406 8 16.320313 8 17.65625 L 8 57 C 8 58.652344 9.347656 60 11 60 L 51 60 C 52.652344 60 54 58.652344 54 57 L 54 7 C 54 5.347656 52.652344 4 51 4 Z M 22 6 L 51 6 C 51.550781 6 52 6.449219 52 7 L 52 57 C 52 57.550781 51.550781 58 51 58 L 11 58 C 10.449219 58 10 57.550781 10 57 L 10 18 L 19 18 C 20.652344 18 22 16.652344 22 15 Z M 20 6.5 L 20 15 C 20 15.550781 19.550781 16 19 16 L 10.5 16 C 10.605469 15.835938 10.734375 15.679688 10.878906 15.535156 L 19.535156 6.878906 C 19.679688 6.738281 19.835938 6.613281 20 6.5 Z M 20 24 C 17.792969 24 16 25.792969 16 28 C 16 30.207031 17.792969 32 20 32 C 22.207031 32 24 30.207031 24 28 C 24 25.792969 22.207031 24 20 24 Z M 20 25.75 C 21.242188 25.75 22.25 26.757813 22.25 28 C 22.25 29.242188 21.242188 30.25 20 30.25 C 18.757813 30.25 17.75 29.242188 17.75 28 C 17.75 26.757813 18.757813 25.75 20 25.75 Z M 37 30.414063 C 36.488281 30.414063 35.976563 30.609375 35.585938 31 L 29 37.585938 L 26.414063 35 C 25.632813 34.21875 24.363281 34.21875 23.585938 35 L 14.585938 44 L 13.042969 44 C 12.417969 44 12 44.398438 12 45 C 12 45.601563 12.523438 46 13.042969 46 L 48.980469 46 C 49.5 46 50.023438 45.601563 50.023438 45 C 50.023438 44.398438 49.5 44 48.980469 44 L 25.414063 44 L 37 32.414063 L 45.292969 40.707031 C 45.683594 41.097656 46.316406 41.097656 46.707031 40.707031 C 47.097656 40.316406 47.097656 39.683594 46.707031 39.292969 L 38.414063 31 C 38.023438 30.609375 37.511719 30.414063 37 30.414063 Z M 25 36.414063 L 27.585938 39 L 22.585938 44 L 17.414063 44 Z M 13 52 C 12.449219 52 12 52.449219 12 53 L 12 55 C 12 55.550781 12.449219 56 13 56 C 13.550781 56 14 55.550781 14 55 L 14 53 C 14 52.449219 13.550781 52 13 52 Z M 18 52 C 17.449219 52 17 52.449219 17 53 L 17 55 C 17 55.550781 17.449219 56 18 56 C 18.550781 56 19 55.550781 19 55 L 19 53 C 19 52.449219 18.550781 52 18 52 Z M 23 52 C 22.449219 52 22 52.449219 22 53 L 22 55 C 22 55.550781 22.449219 56 23 56 C 23.550781 56 24 55.550781 24 55 L 24 53 C 24 52.449219 23.550781 52 23 52 Z M 28 52 C 27.449219 52 27 52.449219 27 53 L 27 55 C 27 55.550781 27.449219 56 28 56 C 28.550781 56 29 55.550781 29 55 L 29 53 C 29 52.449219 28.550781 52 28 52 Z M 33 52 C 32.449219 52 32 52.449219 32 53 L 32 55 C 32 55.550781 32.449219 56 33 56 C 33.550781 56 34 55.550781 34 55 L 34 53 C 34 52.449219 33.550781 52 33 52 Z M 38 52 C 37.449219 52 37 52.449219 37 53 L 37 55 C 37 55.550781 37.449219 56 38 56 C 38.550781 56 39 55.550781 39 55 L 39 53 C 39 52.449219 38.550781 52 38 52 Z M 43 52 C 42.449219 52 42 52.449219 42 53 L 42 55 C 42 55.550781 42.449219 56 43 56 C 43.550781 56 44 55.550781 44 55 L 44 53 C 44 52.449219 43.550781 52 43 52 Z M 48 52 C 47.449219 52 47 52.449219 47 53 L 47 55 C 47 55.550781 47.449219 56 48 56 C 48.550781 56 49 55.550781 49 55 L 49 53 C 49 52.449219 48.550781 52 48 52 Z \" />\n  </g>\n);\n","import {createSvgIcon} from '../../../icons/create-svg-icon';\n\nexport const PowerPointFileIcon = createSvgIcon(\n  <g>\n    <path d=\"M 35.136719 2.386719 C 34.917969 2.378906 34.699219 2.390625 34.480469 2.429688 L 5.304688 7.578125 C 3.390625 7.917969 2 9.574219 2 11.515625 L 2 50.484375 C 2 52.429688 3.390625 54.085938 5.304688 54.421875 L 34.480469 59.570313 C 34.652344 59.601563 34.828125 59.613281 35 59.613281 C 35.703125 59.613281 36.382813 59.371094 36.925781 58.914063 C 37.609375 58.34375 38 57.503906 38 56.613281 L 38 52 L 57 52 C 58.652344 52 60 50.652344 60 49 L 60 13 C 60 11.347656 58.652344 10 57 10 L 38 10 L 38 5.382813 C 38 4.496094 37.609375 3.65625 36.925781 3.085938 C 36.417969 2.65625 35.789063 2.414063 35.136719 2.386719 Z M 35.105469 4.390625 C 35.359375 4.414063 35.542969 4.535156 35.640625 4.617188 C 35.777344 4.730469 36 4.980469 36 5.382813 L 36 56.613281 C 36 57.019531 35.777344 57.269531 35.640625 57.382813 C 35.507813 57.496094 35.226563 57.667969 34.828125 57.601563 L 5.652344 52.453125 C 4.695313 52.285156 4 51.457031 4 50.484375 L 4 11.515625 C 4 10.542969 4.695313 9.714844 5.652344 9.546875 L 34.824219 4.398438 C 34.925781 4.382813 35.019531 4.378906 35.105469 4.390625 Z M 38 12 L 57 12 C 57.550781 12 58 12.449219 58 13 L 58 49 C 58 49.550781 57.550781 50 57 50 L 38 50 L 38 45.949219 L 52.949219 45.949219 C 53.5 45.949219 53.949219 45.554688 53.949219 45 C 53.949219 44.445313 53.5 44 52.949219 44 L 50 44 L 50 41 C 50 40.445313 49.550781 40 49 40 L 46 40 L 46 37 C 46 36.445313 45.550781 36 45 36 L 41 36 C 40.449219 36 40 36.445313 40 37 L 40 39 L 38 39 L 38 32.46875 C 39.46875 33.449219 41.203125 34 43 34 C 47.960938 34 52 29.964844 52 25 C 52 20.035156 47.960938 16 43 16 C 41.1875 16 39.464844 16.535156 38 17.519531 Z M 42 18.078125 L 42 24.832031 C 42 25.027344 42.070313 25.203125 42.171875 25.359375 C 42.21875 25.492188 42.289063 25.617188 42.394531 25.726563 L 47.234375 30.5625 C 46.054688 31.460938 44.589844 32 43 32 C 41.113281 32 39.316406 31.230469 38 29.886719 L 38 20.105469 C 39.089844 18.992188 40.484375 18.292969 42 18.078125 Z M 44 18.078125 C 47.386719 18.566406 50 21.480469 50 25 C 50 26.546875 49.488281 27.976563 48.636719 29.136719 L 44 24.5 Z M 15 20 C 14.449219 20 14 20.445313 14 21 L 14 41 C 14 41.554688 14.449219 42 15 42 C 15.550781 42 16 41.554688 16 41 L 16 34 L 21 34 C 23.757813 34 26 31.757813 26 29 L 26 25 C 26 22.242188 23.757813 20 21 20 Z M 16 22 L 21 22 C 22.652344 22 24 23.347656 24 25 L 24 29 C 24 30.652344 22.652344 32 21 32 L 16 32 Z M 42 38 L 44 38 L 44 44 L 42 44 Z M 38 41 L 40 41 L 40 44 L 38 44 Z M 46 42 L 48 42 L 48 44 L 46 44 Z \" />\n  </g>\n);\n","import {createSvgIcon} from '../../../icons/create-svg-icon';\n\nexport const WordFileIcon = createSvgIcon(\n  <g>\n    <path d=\"M 21.65625 4 C 20.320313 4 19.0625 4.519531 18.121094 5.464844 L 9.464844 14.121094 C 8.519531 15.066406 8 16.320313 8 17.65625 L 8 57 C 8 58.652344 9.347656 60 11 60 L 51 60 C 52.652344 60 54 58.652344 54 57 L 54 7 C 54 5.347656 52.652344 4 51 4 Z M 22 6 L 51 6 C 51.550781 6 52 6.449219 52 7 L 52 57 C 52 57.550781 51.550781 58 51 58 L 11 58 C 10.449219 58 10 57.550781 10 57 L 10 18 L 19 18 C 20.652344 18 22 16.652344 22 15 Z M 20 6.5 L 20 15 C 20 15.550781 19.550781 16 19 16 L 10.5 16 C 10.613281 15.832031 10.738281 15.675781 10.878906 15.535156 L 19.535156 6.878906 C 19.679688 6.734375 19.835938 6.609375 20 6.5 Z M 21.140625 23.011719 C 21.015625 22.992188 20.878906 22.996094 20.746094 23.03125 C 20.210938 23.175781 19.894531 23.722656 20.03125 24.253906 L 25.03125 43.253906 C 25.148438 43.691406 25.539063 43.996094 25.984375 44 L 26 44 C 26.441406 44 26.832031 43.710938 26.957031 43.28125 L 31 29.546875 L 35.042969 43.28125 C 35.167969 43.707031 35.558594 44 36 44 L 36.015625 44 C 36.460938 43.992188 36.851563 43.6875 36.96875 43.253906 L 41.96875 24.253906 C 42.105469 23.722656 41.789063 23.175781 41.253906 23.03125 C 40.71875 22.890625 40.171875 23.210938 40.03125 23.746094 L 35.945313 39.273438 L 31.957031 25.71875 C 31.832031 25.292969 31.445313 25 31 25 C 30.554688 25 30.167969 25.292969 30.042969 25.71875 L 26.054688 39.277344 L 21.96875 23.746094 C 21.863281 23.347656 21.527344 23.066406 21.140625 23.011719 Z M 13 52 C 12.449219 52 12 52.445313 12 53 L 12 55 C 12 55.554688 12.449219 56 13 56 C 13.550781 56 14 55.554688 14 55 L 14 53 C 14 52.445313 13.550781 52 13 52 Z M 18 52 C 17.449219 52 17 52.445313 17 53 L 17 55 C 17 55.554688 17.449219 56 18 56 C 18.550781 56 19 55.554688 19 55 L 19 53 C 19 52.445313 18.550781 52 18 52 Z M 23 52 C 22.449219 52 22 52.445313 22 53 L 22 55 C 22 55.554688 22.449219 56 23 56 C 23.550781 56 24 55.554688 24 55 L 24 53 C 24 52.445313 23.550781 52 23 52 Z M 28 52 C 27.449219 52 27 52.445313 27 53 L 27 55 C 27 55.554688 27.449219 56 28 56 C 28.550781 56 29 55.554688 29 55 L 29 53 C 29 52.445313 28.550781 52 28 52 Z M 33 52 C 32.449219 52 32 52.445313 32 53 L 32 55 C 32 55.554688 32.449219 56 33 56 C 33.550781 56 34 55.554688 34 55 L 34 53 C 34 52.445313 33.550781 52 33 52 Z M 38 52 C 37.449219 52 37 52.445313 37 53 L 37 55 C 37 55.554688 37.449219 56 38 56 C 38.550781 56 39 55.554688 39 55 L 39 53 C 39 52.445313 38.550781 52 38 52 Z M 43 52 C 42.449219 52 42 52.445313 42 53 L 42 55 C 42 55.554688 42.449219 56 43 56 C 43.550781 56 44 55.554688 44 55 L 44 53 C 44 52.445313 43.550781 52 43 52 Z M 48 52 C 47.449219 52 47 52.445313 47 53 L 47 55 C 47 55.554688 47.449219 56 48 56 C 48.550781 56 49 55.554688 49 55 L 49 53 C 49 52.445313 48.550781 52 48 52 Z \" />\n  </g>\n);\n","import {createSvgIcon} from '../../../icons/create-svg-icon';\n\nexport const SpreadsheetFileIcon = createSvgIcon(\n  <g>\n    <path d=\"M 35.136719 2.386719 C 34.917969 2.378906 34.699219 2.390625 34.480469 2.429688 L 5.304688 7.578125 C 3.390625 7.917969 2 9.574219 2 11.515625 L 2 50.484375 C 2 52.429688 3.390625 54.085938 5.304688 54.421875 L 34.480469 59.570313 C 34.652344 59.601563 34.828125 59.613281 35 59.613281 C 35.703125 59.613281 36.382813 59.371094 36.925781 58.914063 C 37.609375 58.34375 38 57.503906 38 56.613281 L 38 52 L 57 52 C 58.652344 52 60 50.652344 60 49 L 60 13 C 60 11.347656 58.652344 10 57 10 L 38 10 L 38 5.382813 C 38 4.496094 37.609375 3.65625 36.925781 3.085938 C 36.417969 2.65625 35.789063 2.414063 35.136719 2.386719 Z M 35.105469 4.390625 C 35.359375 4.414063 35.542969 4.535156 35.640625 4.617188 C 35.777344 4.730469 36 4.980469 36 5.382813 L 36 56.613281 C 36 57.019531 35.777344 57.269531 35.640625 57.382813 C 35.507813 57.496094 35.226563 57.671875 34.828125 57.601563 L 5.652344 52.453125 C 4.695313 52.285156 4 51.457031 4 50.484375 L 4 11.515625 C 4 10.542969 4.695313 9.714844 5.652344 9.546875 L 34.824219 4.398438 C 34.925781 4.382813 35.019531 4.378906 35.105469 4.390625 Z M 38 12 L 57 12 C 57.550781 12 58 12.449219 58 13 L 58 49 C 58 49.550781 57.550781 50 57 50 L 38 50 L 38 44 L 41 44 C 41.550781 44 42 43.554688 42 43 C 42 42.445313 41.550781 42 41 42 L 38 42 L 38 38 L 41 38 C 41.550781 38 42 37.554688 42 37 C 42 36.445313 41.550781 36 41 36 L 38 36 L 38 32 L 41 32 C 41.550781 32 42 31.554688 42 31 C 42 30.445313 41.550781 30 41 30 L 38 30 L 38 26 L 41 26 C 41.550781 26 42 25.554688 42 25 C 42 24.445313 41.550781 24 41 24 L 38 24 L 38 20 L 41 20 C 41.550781 20 42 19.554688 42 19 C 42 18.445313 41.550781 18 41 18 L 38 18 Z M 45 18 C 44.449219 18 44 18.445313 44 19 C 44 19.554688 44.449219 20 45 20 L 51 20 C 51.550781 20 52 19.554688 52 19 C 52 18.445313 51.550781 18 51 18 Z M 12.824219 20.015625 C 12.695313 20.039063 12.570313 20.085938 12.453125 20.160156 C 11.992188 20.460938 11.859375 21.082031 12.160156 21.546875 L 18.308594 31 L 12.160156 40.453125 C 11.859375 40.917969 11.992188 41.539063 12.453125 41.839844 C 12.625 41.949219 12.8125 42 13 42 C 13.324219 42 13.648438 41.839844 13.839844 41.546875 L 19.5 32.835938 L 25.160156 41.546875 C 25.351563 41.839844 25.675781 42 26 42 C 26.1875 42 26.375 41.949219 26.546875 41.839844 C 27.007813 41.539063 27.140625 40.917969 26.839844 40.453125 L 20.691406 31 L 26.839844 21.546875 C 27.140625 21.082031 27.007813 20.460938 26.546875 20.160156 C 26.082031 19.859375 25.460938 19.992188 25.160156 20.453125 L 19.5 29.164063 L 13.839844 20.453125 C 13.613281 20.105469 13.207031 19.945313 12.824219 20.015625 Z M 45 24 C 44.449219 24 44 24.445313 44 25 C 44 25.554688 44.449219 26 45 26 L 51 26 C 51.550781 26 52 25.554688 52 25 C 52 24.445313 51.550781 24 51 24 Z M 45 30 C 44.449219 30 44 30.445313 44 31 C 44 31.554688 44.449219 32 45 32 L 51 32 C 51.550781 32 52 31.554688 52 31 C 52 30.445313 51.550781 30 51 30 Z M 45 36 C 44.449219 36 44 36.445313 44 37 C 44 37.554688 44.449219 38 45 38 L 51 38 C 51.550781 38 52 37.554688 52 37 C 52 36.445313 51.550781 36 51 36 Z M 45 42 C 44.449219 42 44 42.445313 44 43 C 44 43.554688 44.449219 44 45 44 L 51 44 C 51.550781 44 52 43.554688 52 43 C 52 42.445313 51.550781 42 51 42 Z \" />\n  </g>\n);\n","import {createSvgIcon} from '../../../icons/create-svg-icon';\n\nexport const SharedFolderFileIcon = createSvgIcon(\n  <g>\n    <path d=\"M 3 8 C 1.347656 8 0 9.347656 0 11 L 0 52 C 0 54.207031 1.792969 56 4 56 L 58 56 C 60.207031 56 62 54.207031 62 52 L 62 21 C 62 19.347656 60.652344 18 59 18 L 56 18 L 56 17 C 56 15.347656 54.652344 14 53 14 L 27.707031 14 C 26.910156 14 26.164063 13.691406 25.597656 13.132813 L 21.875 9.445313 C 20.929688 8.515625 19.679688 8 18.355469 8 Z M 3 10 L 18.355469 10 C 19.152344 10 19.898438 10.308594 20.464844 10.867188 L 24.1875 14.554688 C 25.132813 15.484375 26.382813 16 27.707031 16 L 53 16 C 53.550781 16 54 16.449219 54 17 L 54 52 C 54 52.617188 54.222656 53.339844 54.632813 54 L 4 54 C 2.898438 54 2 53.101563 2 52 L 2 46 L 43 46 C 43.550781 46 44 45.550781 44 45 C 44 44.449219 43.550781 44 43 44 L 2 44 L 2 11 C 2 10.449219 2.449219 10 3 10 Z M 56 20 L 59 20 C 59.550781 20 60 20.449219 60 21 L 60 52 C 60 53.101563 59.101563 54 58 54 C 56.753906 54 56 52.609375 56 52 Z M 27 22 C 24.242188 22 22 24.242188 22 27 L 22 29 C 22 29.992188 22.300781 30.914063 22.800781 31.691406 C 20.058594 32.886719 17.882813 35.527344 17.28125 38.765625 C 17.179688 39.3125 17.539063 39.832031 18.082031 39.933594 C 18.625 40.035156 19.148438 39.675781 19.25 39.132813 C 19.785156 36.242188 21.863281 33.949219 24.371094 33.234375 C 25.136719 33.710938 26.03125 34 27 34 C 27.96875 34 28.863281 33.710938 29.628906 33.234375 C 32.136719 33.949219 34.214844 36.246094 34.75 39.136719 C 34.839844 39.617188 35.261719 39.953125 35.734375 39.953125 C 35.796875 39.953125 35.855469 39.949219 35.917969 39.9375 C 36.460938 39.835938 36.820313 39.3125 36.71875 38.769531 C 36.117188 35.53125 33.941406 32.886719 31.199219 31.691406 C 31.699219 30.914063 32 29.992188 32 29 L 32 27 C 32 24.242188 29.757813 22 27 22 Z M 27 24 C 28.652344 24 30 25.347656 30 27 L 30 29 C 30 30.652344 28.652344 32 27 32 C 25.347656 32 24 30.652344 24 29 L 24 27 C 24 25.347656 25.347656 24 27 24 Z M 47 44 C 46.449219 44 46 44.449219 46 45 C 46 45.550781 46.449219 46 47 46 L 51 46 C 51.550781 46 52 45.550781 52 45 C 52 44.449219 51.550781 44 51 44 Z M 5 48 C 4.449219 48 4 48.449219 4 49 L 4 51 C 4 51.550781 4.449219 52 5 52 C 5.550781 52 6 51.550781 6 51 L 6 49 C 6 48.449219 5.550781 48 5 48 Z M 10 48 C 9.449219 48 9 48.449219 9 49 L 9 51 C 9 51.550781 9.449219 52 10 52 C 10.550781 52 11 51.550781 11 51 L 11 49 C 11 48.449219 10.550781 48 10 48 Z M 15 48 C 14.449219 48 14 48.449219 14 49 L 14 51 C 14 51.550781 14.449219 52 15 52 C 15.550781 52 16 51.550781 16 51 L 16 49 C 16 48.449219 15.550781 48 15 48 Z M 20 48 C 19.449219 48 19 48.449219 19 49 L 19 51 C 19 51.550781 19.449219 52 20 52 C 20.550781 52 21 51.550781 21 51 L 21 49 C 21 48.449219 20.550781 48 20 48 Z M 25 48 C 24.449219 48 24 48.449219 24 49 L 24 51 C 24 51.550781 24.449219 52 25 52 C 25.550781 52 26 51.550781 26 51 L 26 49 C 26 48.449219 25.550781 48 25 48 Z M 30 48 C 29.449219 48 29 48.449219 29 49 L 29 51 C 29 51.550781 29.449219 52 30 52 C 30.550781 52 31 51.550781 31 51 L 31 49 C 31 48.449219 30.550781 48 30 48 Z M 35 48 C 34.449219 48 34 48.449219 34 49 L 34 51 C 34 51.550781 34.449219 52 35 52 C 35.550781 52 36 51.550781 36 51 L 36 49 C 36 48.449219 35.550781 48 35 48 Z M 40 48 C 39.449219 48 39 48.449219 39 49 L 39 51 C 39 51.550781 39.449219 52 40 52 C 40.550781 52 41 51.550781 41 51 L 41 49 C 41 48.449219 40.550781 48 40 48 Z M 45 48 C 44.449219 48 44 48.449219 44 49 L 44 51 C 44 51.550781 44.449219 52 45 52 C 45.550781 52 46 51.550781 46 51 L 46 49 C 46 48.449219 45.550781 48 45 48 Z M 50 48 C 49.449219 48 49 48.449219 49 49 L 49 51 C 49 51.550781 49.449219 52 50 52 C 50.550781 52 51 51.550781 51 51 L 51 49 C 51 48.449219 50.550781 48 50 48 Z \" />\n  </g>\n);\n","import clsx from 'clsx';\nimport {DefaultFileIcon} from './icons/default-file-icon';\nimport {AudioFileIcon} from './icons/audio-file-icon';\nimport {VideoFileIcon} from './icons/video-file-icon';\nimport {TextFileIcon} from './icons/text-file-icon';\nimport {PdfFileIcon} from './icons/pdf-file-icon';\nimport {ArchiveFileIcon} from './icons/archive-file-icon';\nimport {FolderFileIcon} from './icons/folder-file-icon';\nimport {ImageFileIcon} from './icons/image-file-icon';\nimport {PowerPointFileIcon} from './icons/power-point-file-icon';\nimport {WordFileIcon} from './icons/word-file-icon';\nimport {SpreadsheetFileIcon} from './icons/spreadsheet-file-icon';\nimport {SharedFolderFileIcon} from './icons/shared-folder-file-icon';\nimport {IconSize} from '@common/icons/svg-icon';\n\ninterface Props {\n  type?: string;\n  mime?: string | null;\n  className?: string;\n  size?: IconSize;\n}\nexport function FileTypeIcon({type, mime, className, size}: Props) {\n  if (!type && mime) {\n    type = mime.split('/')[0];\n  }\n  // @ts-ignore\n  const Icon = FileTypeIcons[type] || FileTypeIcons.default;\n  return (\n    <Icon\n      size={size}\n      className={clsx(className, `${type}-file-color`)}\n      viewBox=\"0 0 64 64\"\n    />\n  );\n}\n\nconst FileTypeIcons = {\n  default: DefaultFileIcon,\n  audio: AudioFileIcon,\n  video: VideoFileIcon,\n  text: TextFileIcon,\n  pdf: PdfFileIcon,\n  archive: ArchiveFileIcon,\n  folder: FolderFileIcon,\n  sharedFolder: SharedFolderFileIcon,\n  image: ImageFileIcon,\n  powerPoint: PowerPointFileIcon,\n  word: WordFileIcon,\n  spreadsheet: SpreadsheetFileIcon,\n};\n","import React, {useContext, useMemo} from 'react';\nimport {FileEntry} from '../file-entry';\nimport {useSettings} from '../../core/settings/use-settings';\nimport {isAbsoluteUrl} from '@common/utils/urls/is-absolute-url';\n\nexport const FileEntryUrlsContext = React.createContext<\n  Record<string, string | number | null | undefined>\n>(null!);\n\nexport function useFileEntryUrls(\n  entry?: FileEntry,\n  options?: {thumbnail?: boolean; downloadHashes?: string[]},\n): {previewUrl?: string; downloadUrl?: string} {\n  const {base_url} = useSettings();\n  const urlSearchParams = useContext(FileEntryUrlsContext);\n\n  return useMemo(() => {\n    if (!entry) {\n      return {};\n    }\n\n    let previewUrl: string | undefined;\n    if (entry.url) {\n      previewUrl = isAbsoluteUrl(entry.url)\n        ? entry.url\n        : `${base_url}/${entry.url}`;\n    }\n\n    const urls = {\n      previewUrl,\n      downloadUrl: `${base_url}/api/v1/file-entries/download/${\n        options?.downloadHashes || entry.hash\n      }`,\n    };\n\n    if (urlSearchParams) {\n      // preview url\n      if (urls.previewUrl) {\n        urls.previewUrl = addParams(\n          urls.previewUrl,\n          {...urlSearchParams, thumbnail: options?.thumbnail ? 'true' : ''},\n          base_url,\n        );\n      }\n\n      // download url\n      urls.downloadUrl = addParams(urls.downloadUrl, urlSearchParams, base_url);\n    }\n\n    return urls;\n  }, [\n    base_url,\n    entry,\n    options?.downloadHashes,\n    options?.thumbnail,\n    urlSearchParams,\n  ]);\n}\n\nfunction addParams(urlString: string, params: object, baseUrl: string): string {\n  const url = new URL(urlString, baseUrl);\n  Object.entries(params).forEach(([key, value]) => {\n    url.searchParams.append(key, value as string);\n  });\n  return url.toString();\n}\n","export function downloadFileFromUrl(url: string, name?: string) {\n  const link = document.createElement('a');\n  link.href = url;\n  if (name) link.download = name;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n}\n","import React from 'react';\nimport {FileEntry} from '../file-entry';\n\nexport interface FilePreviewContextValue {\n  entries: FileEntry[];\n  activeIndex: number;\n}\n\nexport const FilePreviewContext = React.createContext<FilePreviewContextValue>(\n  null!\n);\n","import {ReactNode, useContext} from 'react';\nimport clsx from 'clsx';\nimport {Button} from '../../../ui/buttons/button';\nimport {downloadFileFromUrl} from '../../utils/download-file-from-url';\nimport {FilePreviewContext} from '../file-preview-context';\nimport {Trans} from '../../../i18n/trans';\nimport {FilePreviewProps} from './file-preview-props';\nimport {useFileEntryUrls} from '../../hooks/file-entry-urls';\n\ninterface Props extends FilePreviewProps {\n  message?: ReactNode;\n}\nexport function DefaultFilePreview({message, className, allowDownload}: Props) {\n  const {entries, activeIndex} = useContext(FilePreviewContext);\n  const activeEntry = entries[activeIndex];\n  const content = message || <Trans message=\"No file preview available\" />;\n  const {downloadUrl} = useFileEntryUrls(activeEntry);\n  return (\n    <div\n      className={clsx(\n        className,\n        'shadow bg-paper max-w-400 w-[calc(100%-40px)] text-center p-40 rounded'\n      )}\n    >\n      <div className=\"text-lg\">{content}</div>\n      {allowDownload && (\n        <div className=\"block mt-20 text-center\">\n          <Button\n            variant=\"flat\"\n            color=\"primary\"\n            onClick={() => {\n              if (downloadUrl) {\n                downloadFileFromUrl(downloadUrl);\n              }\n            }}\n          >\n            <Trans message=\"Download\" />\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n}\n","import clsx from 'clsx';\nimport {useFileEntryUrls} from '../../hooks/file-entry-urls';\nimport {useTrans} from '../../../i18n/use-trans';\nimport {FilePreviewProps} from './file-preview-props';\nimport {DefaultFilePreview} from './default-file-preview';\n\nexport function ImageFilePreview(props: FilePreviewProps) {\n  const {entry, className} = props;\n  const {trans} = useTrans();\n  const {previewUrl} = useFileEntryUrls(entry);\n\n  if (!previewUrl) {\n    return <DefaultFilePreview {...props} />;\n  }\n\n  return (\n    <img\n      className={clsx(className, 'shadow')}\n      src={previewUrl}\n      alt={trans({\n        message: 'Preview for :name',\n        values: {name: entry.name},\n      })}\n    />\n  );\n}\n","import {useEffect, useState} from 'react';\nimport clsx from 'clsx';\nimport {FilePreviewProps} from './file-preview-props';\nimport {DefaultFilePreview} from './default-file-preview';\nimport {ProgressCircle} from '@common/ui/progress/progress-circle';\nimport {useFileEntryUrls} from '@common/uploads/hooks/file-entry-urls';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {Trans} from '@common/i18n/trans';\nimport {apiClient} from '@common/http/query-client';\n\nconst FIVE_MB = 5242880;\n\nexport function TextFilePreview(props: FilePreviewProps) {\n  const {entry, className} = props;\n  const {trans} = useTrans();\n  const [tooLarge, setTooLarge] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isFailed, setIsFailed] = useState(false);\n  const [contents, setContents] = useState<string | null>(null);\n  const {previewUrl} = useFileEntryUrls(entry);\n\n  useEffect(() => {\n    if (!entry) return;\n    if (!previewUrl) {\n      setIsFailed(true);\n    } else if (entry.file_size! >= FIVE_MB) {\n      setTooLarge(true);\n      setIsLoading(false);\n    } else {\n      getFileContents(previewUrl)\n        .then(response => {\n          setContents(response.data);\n        })\n        .catch(() => {\n          setIsFailed(true);\n        })\n        .finally(() => {\n          setIsLoading(false);\n        });\n    }\n  }, [entry, previewUrl]);\n\n  if (isLoading) {\n    return (\n      <ProgressCircle\n        isIndeterminate\n        aria-label={trans({message: 'Loading file contents'})}\n      />\n    );\n  }\n\n  if (tooLarge) {\n    return (\n      <DefaultFilePreview\n        {...props}\n        message={<Trans message=\"This file is too large to preview.\" />}\n      />\n    );\n  }\n\n  if (isFailed) {\n    return (\n      <DefaultFilePreview\n        {...props}\n        message={<Trans message=\"There was an issue previewing this file\" />}\n      />\n    );\n  }\n\n  return (\n    <pre\n      className={clsx(\n        'rounded bg-paper p-20 text-sm whitespace-pre-wrap break-words h-full overflow-y-auto w-full',\n        className\n      )}\n    >\n      <div className=\"container mx-auto\">{`${contents}`}</div>\n    </pre>\n  );\n}\n\nfunction getFileContents(src: string) {\n  return apiClient.get(src, {\n    responseType: 'text',\n    // required for s3 presigned url to work\n    withCredentials: false,\n    headers: {\n      Accept: 'text/plain',\n    },\n  });\n}\n","import {useEffect, useRef, useState} from 'react';\nimport {FilePreviewProps} from './file-preview-props';\nimport {DefaultFilePreview} from './default-file-preview';\nimport {useFileEntryUrls} from '../../hooks/file-entry-urls';\n\nexport function VideoFilePreview(props: FilePreviewProps) {\n  const {entry, className} = props;\n  const {previewUrl} = useFileEntryUrls(entry);\n  const ref = useRef<HTMLVideoElement>(null);\n  const [mediaInvalid, setMediaInvalid] = useState(false);\n\n  useEffect(() => {\n    setMediaInvalid(!ref.current?.canPlayType(entry.mime));\n  }, [entry]);\n\n  if (mediaInvalid || !previewUrl) {\n    return <DefaultFilePreview {...props} />;\n  }\n\n  return (\n    <video\n      className={className}\n      ref={ref}\n      controls\n      controlsList=\"nodownload noremoteplayback\"\n      playsInline\n      autoPlay\n    >\n      <source\n        src={previewUrl}\n        type={entry.mime}\n        onError={() => {\n          setMediaInvalid(true);\n        }}\n      />\n    </video>\n  );\n}\n","import {FilePreviewProps} from './file-preview-props';\nimport {DefaultFilePreview} from './default-file-preview';\nimport {useFileEntryUrls} from '../../hooks/file-entry-urls';\nimport {useEffect, useRef, useState} from 'react';\n\nexport function AudioFilePreview(props: FilePreviewProps) {\n  const {entry, className} = props;\n  const {previewUrl} = useFileEntryUrls(entry);\n  const ref = useRef<HTMLAudioElement>(null);\n  const [mediaInvalid, setMediaInvalid] = useState(false);\n\n  useEffect(() => {\n    setMediaInvalid(!ref.current?.canPlayType(entry.mime));\n  }, [entry]);\n\n  if (mediaInvalid || !previewUrl) {\n    return <DefaultFilePreview {...props} />;\n  }\n\n  return (\n    <audio\n      className={className}\n      ref={ref}\n      controls\n      controlsList=\"nodownload noremoteplayback\"\n      autoPlay\n    >\n      <source\n        src={previewUrl}\n        type={entry.mime}\n        onError={() => {\n          setMediaInvalid(true);\n        }}\n      />\n    </audio>\n  );\n}\n","import clsx from 'clsx';\nimport {FilePreviewProps} from './file-preview-props';\nimport {useFileEntryUrls} from '../../hooks/file-entry-urls';\nimport {useTrans} from '../../../i18n/use-trans';\nimport {DefaultFilePreview} from './default-file-preview';\n\nexport function PdfFilePreview(props: FilePreviewProps) {\n  const {entry, className} = props;\n  const {trans} = useTrans();\n  const {previewUrl} = useFileEntryUrls(entry);\n\n  if (!previewUrl) {\n    return <DefaultFilePreview {...props} />;\n  }\n\n  return (\n    <iframe\n      title={trans({\n        message: 'Preview for :name',\n        values: {name: entry.name},\n      })}\n      className={clsx(className, 'w-full h-full')}\n      src={`${previewUrl}#toolbar=0`}\n    />\n  );\n}\n","import clsx from 'clsx';\nimport {useEffect, useRef, useState} from 'react';\nimport {FilePreviewProps} from './file-preview-props';\nimport {DefaultFilePreview} from './default-file-preview';\nimport {ProgressCircle} from '../../../ui/progress/progress-circle';\nimport {FileEntry} from '../../file-entry';\nimport {useFileEntryUrls} from '../../hooks/file-entry-urls';\nimport {useTrans} from '../../../i18n/use-trans';\nimport {apiClient} from '../../../http/query-client';\n\nexport function WordDocumentFilePreview(props: FilePreviewProps) {\n  const {entry, className} = props;\n  const {trans} = useTrans();\n  const ref = useRef<HTMLIFrameElement>(null);\n  const [showDefault, setShowDefault] = useState(false);\n  const timeoutId = useRef<any>();\n  const [isLoading, setIsLoading] = useState(false);\n  const {previewUrl} = useFileEntryUrls(entry);\n\n  useEffect(() => {\n    // Google Docs viewer only supports files up to 25MB\n    if (!previewUrl) {\n      setShowDefault(true);\n    } else if (entry.file_size && entry.file_size > 25000000) {\n      setShowDefault(true);\n    } else if (ref.current) {\n      ref.current.onload = () => {\n        clearTimeout(timeoutId.current);\n        setIsLoading(false);\n      };\n\n      buildPreviewUrl(previewUrl, entry).then(url => {\n        if (ref.current) {\n          ref.current.src = url;\n        }\n      });\n\n      // if preview iframe is not loaded\n      // after 5 seconds, bail and show default preview\n      timeoutId.current = setTimeout(() => {\n        setShowDefault(true);\n      }, 5000);\n    }\n  }, [entry, previewUrl]);\n\n  if (showDefault) {\n    return <DefaultFilePreview {...props} />;\n  }\n\n  return (\n    <div className={clsx(className, 'w-full h-full')}>\n      {isLoading && <ProgressCircle />}\n      <iframe\n        ref={ref}\n        title={trans({\n          message: 'Preview for :name',\n          values: {name: entry.name},\n        })}\n        className={clsx('w-full h-full', isLoading && 'hidden')}\n      />\n    </div>\n  );\n}\n\nasync function buildPreviewUrl(\n  urlString: string,\n  entry: FileEntry\n): Promise<string> {\n  const url = new URL(urlString);\n  // if we're not trying to preview shareable link we will need to generate\n  // preview token, otherwise it won't be publicly accessible\n  if (!url.searchParams.has('shareable_link')) {\n    const {data} = await apiClient.post(\n      `file-entries/${entry.id}/add-preview-token`\n    );\n    url.searchParams.append('preview_token', data.preview_token);\n  }\n\n  return buildOfficeLivePreviewUrl(url);\n}\n\nfunction buildOfficeLivePreviewUrl(url: URL) {\n  // https://docs.google.com/gview?embedded=true&url=\n  return `https://view.officeapps.live.com/op/embed.aspx?src=${encodeURIComponent(\n    url.toString()\n  )}`;\n}\n","import {ImageFilePreview} from './file-preview/image-file-preview';\nimport {FileEntry} from '../file-entry';\nimport {DefaultFilePreview} from './file-preview/default-file-preview';\nimport {TextFilePreview} from './file-preview/text-file-preview';\nimport {VideoFilePreview} from './file-preview/video-file-preview';\nimport {AudioFilePreview} from './file-preview/audio-file-preview';\nimport {PdfFilePreview} from './file-preview/pdf-file-preview';\nimport {WordDocumentFilePreview} from './file-preview/word-document-file-preview';\n\nexport const AvailablePreviews = {\n  text: TextFilePreview,\n  video: VideoFilePreview,\n  audio: AudioFilePreview,\n  image: ImageFilePreview,\n  pdf: PdfFilePreview,\n  spreadsheet: WordDocumentFilePreview,\n  powerPoint: WordDocumentFilePreview,\n  word: WordDocumentFilePreview,\n  'text/rtf': DefaultFilePreview,\n} as const;\n\nexport function getPreviewForEntry(entry: FileEntry) {\n  const mime = entry?.mime as keyof typeof AvailablePreviews;\n  const type = entry?.type as keyof typeof AvailablePreviews;\n  return (\n    AvailablePreviews[mime] || AvailablePreviews[type] || DefaultFilePreview\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const ChevronLeftIcon = createSvgIcon(\n  <path d=\"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z\" />\n, 'ChevronLeftOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const FileDownloadIcon = createSvgIcon(\n  <path d=\"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z\" />\n, 'FileDownloadOutlined');\n","import clsx from 'clsx';\nimport {FileTypeIcon} from './file-type-icon';\nimport {useFileEntryUrls} from '../hooks/file-entry-urls';\nimport {useTrans} from '../../i18n/use-trans';\nimport {FileEntry} from '../file-entry';\n\nconst TwoMB = 2 * 1024 * 1024;\n\ninterface Props {\n  file: FileEntry;\n  className?: string;\n  iconClassName?: string;\n  showImage?: boolean;\n}\nexport function FileThumbnail({\n  file,\n  className,\n  iconClassName,\n  showImage = true,\n}: Props) {\n  const {trans} = useTrans();\n  const {previewUrl} = useFileEntryUrls(file, {thumbnail: true});\n\n  // don't show images for files larger than 2MB, if thumbnail was not generated to avoid ui lag\n  if (file.file_size && file.file_size > TwoMB && !file.thumbnail) {\n    showImage = false;\n  }\n\n  if (showImage && file.type === 'image' && previewUrl) {\n    const alt = trans({\n      message: ':fileName thumbnail',\n      values: {fileName: file.name},\n    });\n    return (\n      <img\n        className={clsx(className, 'object-cover')}\n        src={previewUrl}\n        alt={alt}\n        draggable={false}\n      />\n    );\n  }\n  return <FileTypeIcon className={iconClassName} type={file.type} />;\n}\n","import {AnimatePresence, m} from 'framer-motion';\nimport {Fragment, ReactNode, useContext, useMemo} from 'react';\nimport clsx from 'clsx';\nimport {getPreviewForEntry} from './available-previews';\nimport {FileEntry} from '../file-entry';\nimport {FilePreviewContext} from './file-preview-context';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {ChevronLeftIcon} from '../../icons/material/ChevronLeft';\nimport {ChevronRightIcon} from '../../icons/material/ChevronRight';\nimport {FileDownloadIcon} from '../../icons/material/FileDownload';\nimport {downloadFileFromUrl} from '../utils/download-file-from-url';\nimport {useFileEntryUrls} from '../hooks/file-entry-urls';\nimport {Trans} from '../../i18n/trans';\nimport {Button} from '../../ui/buttons/button';\nimport {CloseIcon} from '../../icons/material/Close';\nimport {FileThumbnail} from '../file-type-icon/file-thumbnail';\nimport {useMediaQuery} from '../../utils/hooks/use-media-query';\nimport {KeyboardArrowLeftIcon} from '../../icons/material/KeyboardArrowLeft';\nimport {KeyboardArrowRightIcon} from '../../icons/material/KeyboardArrowRight';\nimport {useControlledState} from '@react-stately/utils';\nimport {opacityAnimation} from '../../ui/animation/opacity-animation';\n\nexport interface FilePreviewContainerProps {\n  entries: FileEntry[];\n  activeIndex?: number;\n  defaultActiveIndex?: number;\n  onActiveIndexChange?: (index: number) => void;\n  onClose?: () => void;\n  showHeader?: boolean;\n  headerActionsLeft?: ReactNode;\n  className?: string;\n  allowDownload?: boolean;\n}\nexport function FilePreviewContainer({\n  entries,\n  onClose,\n  showHeader = true,\n  className,\n  headerActionsLeft,\n  allowDownload = true,\n  ...props\n}: FilePreviewContainerProps) {\n  const isMobile = useMediaQuery('(max-width: 1024px)');\n\n  const [activeIndex, setActiveIndex] = useControlledState(\n    props.activeIndex,\n    props.defaultActiveIndex || 0,\n    props.onActiveIndexChange\n  );\n\n  const activeEntry = entries[activeIndex];\n  const contextValue = useMemo(() => {\n    return {entries, activeIndex};\n  }, [entries, activeIndex]);\n  const Preview = getPreviewForEntry(activeEntry);\n\n  if (!activeEntry) {\n    onClose?.();\n    return null;\n  }\n\n  const canOpenNext = entries.length - 1 > activeIndex;\n  const openNext = () => {\n    setActiveIndex(activeIndex + 1);\n  };\n  const canOpenPrevious = activeIndex > 0;\n  const openPrevious = () => {\n    setActiveIndex(activeIndex - 1);\n  };\n\n  return (\n    <FilePreviewContext.Provider value={contextValue}>\n      {showHeader && (\n        <Header\n          actionsLeft={headerActionsLeft}\n          isMobile={isMobile}\n          onClose={onClose}\n          onNext={canOpenNext ? openNext : undefined}\n          onPrevious={canOpenPrevious ? openPrevious : undefined}\n          allowDownload={allowDownload}\n        />\n      )}\n      <div className={clsx('overflow-hidden relative flex-auto', className)}>\n        {isMobile && (\n          <IconButton\n            size=\"lg\"\n            className=\"text-muted absolute left-0 top-1/2 transform -translate-y-1/2 z-10\"\n            disabled={!canOpenPrevious}\n            onClick={openPrevious}\n          >\n            <KeyboardArrowLeftIcon />\n          </IconButton>\n        )}\n        <AnimatePresence initial={false}>\n          <m.div\n            className=\"absolute inset-0 flex items-center justify-center\"\n            key={activeEntry.id}\n            {...opacityAnimation}\n          >\n            <Preview\n              className=\"max-h-[calc(100%-30px)]\"\n              entry={activeEntry}\n              allowDownload={allowDownload}\n            />\n          </m.div>\n        </AnimatePresence>\n        {isMobile && (\n          <IconButton\n            size=\"lg\"\n            className=\"text-muted absolute right-0 top-1/2 transform -translate-y-1/2 z-10\"\n            disabled={!canOpenNext}\n            onClick={openNext}\n          >\n            <KeyboardArrowRightIcon />\n          </IconButton>\n        )}\n      </div>\n    </FilePreviewContext.Provider>\n  );\n}\n\ninterface HeaderProps {\n  onNext?: () => void;\n  onPrevious?: () => void;\n  onClose?: () => void;\n  isMobile: boolean | null;\n  actionsLeft?: ReactNode;\n  allowDownload?: boolean;\n}\nfunction Header({\n  onNext,\n  onPrevious,\n  onClose,\n  isMobile,\n  actionsLeft,\n  allowDownload,\n}: HeaderProps) {\n  const {entries, activeIndex} = useContext(FilePreviewContext);\n  const activeEntry = entries[activeIndex];\n  const {downloadUrl} = useFileEntryUrls(activeEntry);\n\n  const desktopDownloadButton = (\n    <Button\n      startIcon={<FileDownloadIcon />}\n      variant=\"text\"\n      onClick={() => {\n        if (downloadUrl) {\n          downloadFileFromUrl(downloadUrl);\n        }\n      }}\n    >\n      <Trans message=\"Download\" />\n    </Button>\n  );\n\n  const mobileDownloadButton = (\n    <IconButton\n      onClick={() => {\n        if (downloadUrl) {\n          downloadFileFromUrl(downloadUrl);\n        }\n      }}\n    >\n      <FileDownloadIcon />\n    </IconButton>\n  );\n\n  const downloadButton = isMobile\n    ? mobileDownloadButton\n    : desktopDownloadButton;\n\n  return (\n    <div className=\"flex items-center justify-between gap-20 bg-paper border-b flex-shrink-0 text-sm min-h-50 px-10 text-muted\">\n      <div className=\"flex items-center gap-4 w-1/3 justify-start\">\n        {actionsLeft}\n        {allowDownload ? downloadButton : undefined}\n      </div>\n      <div className=\"flex items-center gap-10 w-1/3 justify-center flex-nowrap text-main\">\n        <FileThumbnail\n          file={activeEntry}\n          iconClassName=\"w-16 h-16\"\n          showImage={false}\n        />\n        <div className=\"whitespace-nowrap overflow-hidden overflow-ellipsis\">\n          {activeEntry.name}\n        </div>\n      </div>\n      <div className=\"w-1/3 flex items-center gap-10 justify-end whitespace-nowrap\">\n        {!isMobile && (\n          <Fragment>\n            <IconButton disabled={!onPrevious} onClick={onPrevious}>\n              <ChevronLeftIcon />\n            </IconButton>\n            <div>{activeIndex + 1}</div>\n            <div>/</div>\n            <div>{entries.length}</div>\n            <IconButton disabled={!onNext} onClick={onNext}>\n              <ChevronRightIcon />\n            </IconButton>\n            <div className=\"bg-divider w-1 h-24 mx-20\" />\n          </Fragment>\n        )}\n        <IconButton radius=\"rounded-none\" onClick={onClose}>\n          <CloseIcon />\n        </IconButton>\n      </div>\n    </div>\n  );\n}\n","import {\n  FilePreviewContainer,\n  FilePreviewContainerProps,\n} from './file-preview-container';\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\nimport {Dialog} from '../../ui/overlays/dialog/dialog';\n\ninterface Props extends Omit<FilePreviewContainerProps, 'onClose'> {}\nexport function FilePreviewDialog(props: Props) {\n  return (\n    <Dialog\n      size=\"fullscreenTakeover\"\n      background=\"bg-alt\"\n      className=\"flex flex-col\"\n    >\n      <Content {...props} />\n    </Dialog>\n  );\n}\n\nfunction Content(props: Props) {\n  const {close} = useDialogContext();\n  return <FilePreviewContainer onClose={close} {...props} />;\n}\n","import React, {forwardRef, ReactNode} from 'react';\nimport clsx from 'clsx';\nimport {FileTypeIcon} from '@common/uploads/file-type-icon/file-type-icon';\nimport {FormattedBytes} from '@common/uploads/formatted-bytes';\nimport {ProgressBar} from '@common/ui/progress/progress-bar';\nimport {FileEntry} from '@common/uploads/file-entry';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {FilePreviewDialog} from '@common/uploads/preview/file-preview-dialog';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {CloseIcon} from '@common/icons/material/Close';\nimport {FileEntryUrlsContext} from '@common/uploads/hooks/file-entry-urls';\n\nconst previewSearchParams = {\n  ticketEntry: 'true',\n};\n\ninterface Props {\n  children: ReactNode;\n  className?: string;\n}\nexport function AttachmentListLayout({children, className}: Props) {\n  return (\n    <FileEntryUrlsContext.Provider value={previewSearchParams}>\n      <div className={clsx('flex items-center gap-8', className)}>\n        {children}\n      </div>\n    </FileEntryUrlsContext.Provider>\n  );\n}\n\ninterface AttachmentLayoutProps {\n  name: string;\n  mime: string;\n  size: number | undefined;\n  onRemove?: () => void;\n  progress?: number;\n}\nexport const AttachmentLayout = forwardRef<\n  HTMLDivElement,\n  AttachmentLayoutProps\n>(({name, mime, size, onRemove, progress, ...htmlProps}, ref) => {\n  return (\n    <div\n      ref={ref}\n      className={clsx(\n        'relative flex min-h-30 w-max flex-shrink-0 items-center gap-6 rounded-lg border pl-8 transition-opacity',\n        ref && 'cursor-pointer hover:bg-hover',\n        !onRemove && 'pr-8',\n      )}\n      {...htmlProps}\n    >\n      <FileTypeIcon mime={mime} size=\"xs\" />\n      <div className=\"max-w-140 overflow-hidden overflow-ellipsis whitespace-nowrap text-xs font-bold text-muted\">\n        {name}\n      </div>\n      {size ? (\n        <div className=\"text-xs text-muted\">\n          (<FormattedBytes bytes={size} />)\n        </div>\n      ) : null}\n      {onRemove ? (\n        <IconButton\n          onClick={e => {\n            e.preventDefault();\n            e.stopPropagation();\n            onRemove();\n          }}\n          size=\"xs\"\n          className=\"text-muted\"\n        >\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n      {progress ? (\n        <ProgressBar\n          value={progress}\n          className=\"absolute bottom-0 left-0 w-full\"\n          size=\"xs\"\n        />\n      ) : null}\n    </div>\n  );\n});\n\ninterface FileEntryAttachmentLayoutProps {\n  attachments: FileEntry[];\n  index: number;\n  onRemove?: () => void;\n}\nexport function FileEntryAttachmentLayout({\n  attachments,\n  index,\n  onRemove,\n}: FileEntryAttachmentLayoutProps) {\n  const attachment = attachments[index];\n  return (\n    <DialogTrigger type=\"modal\">\n      <AttachmentLayout\n        name={attachment.name}\n        mime={attachment.mime}\n        size={attachment.file_size}\n        onRemove={onRemove}\n      />\n      <FilePreviewDialog entries={attachments} defaultActiveIndex={index} />\n    </DialogTrigger>\n  );\n}\n","import React from 'react';\nimport {useFileUploadStore} from '@common/uploads/uploader/file-upload-provider';\nimport {FileEntry} from '@common/uploads/file-entry';\nimport {\n  AttachmentLayout,\n  AttachmentListLayout,\n  FileEntryAttachmentLayout,\n} from '@app/agent/ticket-layout/attachment-list-layout';\n\ninterface Props {\n  attachments: FileEntry[];\n  onRemove: (attachment: FileEntry) => void;\n}\nexport function ReplyEditorAttachments({attachments, onRemove}: Props) {\n  const uploads = useFileUploadStore(s => s.fileUploads);\n  const abortUpload = useFileUploadStore(s => s.abortUpload);\n  return (\n    <AttachmentListLayout className=\"mb-8\">\n      {attachments.map((attachment, index) => (\n        <FileEntryAttachmentLayout\n          key={attachment.id}\n          attachments={attachments}\n          index={index}\n          onRemove={() => onRemove(attachment)}\n        />\n      ))}\n      {[...uploads.entries()]\n        .filter(([_, upload]) => upload.status === 'inProgress')\n        .map(([id, upload]) => (\n          <AttachmentLayout\n            key={id}\n            size={upload.file.size}\n            name={upload.file.name}\n            mime={upload.file.mime}\n            progress={upload.percentage}\n            onRemove={() => abortUpload(id)}\n          />\n        ))}\n    </AttachmentListLayout>\n  );\n}\n","export function Divider() {\n  return <div className=\"self-stretch mx-4 w-1 bg-divider flex-shrink-0\" />;\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const FormatBoldIcon = createSvgIcon(\n  <path d=\"M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z\" />\n, 'FormatBoldOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const FormatItalicIcon = createSvgIcon(\n  <path d=\"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4h-8z\" />\n, 'FormatItalicOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const FormatUnderlinedIcon = createSvgIcon(\n  <path d=\"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z\" />\n, 'FormatUnderlinedOutlined');\n","import React from 'react';\nimport clsx from 'clsx';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {FormatBoldIcon} from '../../icons/material/FormatBold';\nimport {FormatItalicIcon} from '../../icons/material/FormatItalic';\nimport {FormatUnderlinedIcon} from '../../icons/material/FormatUnderlined';\nimport {MenubarButtonProps} from './menubar-button-props';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {Trans} from '@common/i18n/trans';\n\nexport function FontStyleButtons({editor, size}: MenubarButtonProps) {\n  return (\n    <span className={clsx('flex-shrink-0 whitespace-nowrap')}>\n      <Tooltip label={<Trans message=\"Bold\" />}>\n        <IconButton\n          size={size}\n          color={editor.isActive('bold') ? 'primary' : null}\n          onClick={() => {\n            editor.commands.focus();\n            editor.commands.toggleBold();\n          }}\n        >\n          <FormatBoldIcon />\n        </IconButton>\n      </Tooltip>\n      <Tooltip label={<Trans message=\"Italic\" />}>\n        <IconButton\n          size={size}\n          color={editor.isActive('italic') ? 'primary' : null}\n          onClick={() => {\n            editor.commands.focus();\n            editor.commands.toggleItalic();\n          }}\n        >\n          <FormatItalicIcon />\n        </IconButton>\n      </Tooltip>\n      <Tooltip label={<Trans message=\"Underline\" />}>\n        <IconButton\n          size={size}\n          color={editor.isActive('underline') ? 'primary' : null}\n          onClick={() => {\n            editor.commands.focus();\n            editor.commands.toggleUnderline();\n          }}\n        >\n          <FormatUnderlinedIcon />\n        </IconButton>\n      </Tooltip>\n    </span>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const FormatListBulletedIcon = createSvgIcon(\n  <path d=\"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z\" />\n, 'FormatListBulletedOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const FormatListNumberedIcon = createSvgIcon(\n  <path d=\"M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z\" />\n, 'FormatListNumberedOutlined');\n","import React from 'react';\nimport clsx from 'clsx';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {FormatListBulletedIcon} from '../../icons/material/FormatListBulleted';\nimport {FormatListNumberedIcon} from '../../icons/material/FormatListNumbered';\nimport {MenubarButtonProps} from './menubar-button-props';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {Trans} from '@common/i18n/trans';\n\nexport function ListButtons({editor, size}: MenubarButtonProps) {\n  const bulletActive = editor.isActive('bulletList');\n  const orderedActive = editor.isActive('orderedList');\n  return (\n    <span className={clsx('flex-shrink-0', 'whitespace-nowrap')}>\n      <Tooltip label={<Trans message=\"Bulleted list\" />}>\n        <IconButton\n          size={size}\n          color={bulletActive ? 'primary' : null}\n          onClick={() => {\n            editor.commands.focus();\n            editor.commands.toggleBulletList();\n          }}\n        >\n          <FormatListBulletedIcon />\n        </IconButton>\n      </Tooltip>\n      <Tooltip label={<Trans message=\"Numbered list\" />}>\n        <IconButton\n          size={size}\n          color={orderedActive ? 'primary' : null}\n          onClick={() => {\n            editor.commands.focus();\n            editor.commands.toggleOrderedList();\n          }}\n        >\n          <FormatListNumberedIcon />\n        </IconButton>\n      </Tooltip>\n    </span>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const LinkIcon = createSvgIcon(\n  <path d=\"M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5zm-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-2zm-3-4h8v2H8z\" />\n, 'LinkOutlined');\n","import {Editor} from '@tiptap/react';\n\ninterface Props {\n  href: string;\n  target?: string;\n  text?: string;\n}\n\nexport function insertLinkIntoTextEditor(\n  editor: Editor,\n  {text, target, href}: Props\n) {\n  // no selection, insert new link with specified text\n  if (editor.state.selection.empty && text) {\n    editor.commands.insertContent(\n      `<a href=\"${href}\" target=\"${target}\">${text}</a>`\n    );\n  } else if (!editor.state.selection.empty) {\n    // no href provided, remove link from selection\n    if (!href) {\n      editor.chain().focus().extendMarkRange('link').unsetLink().run();\n    } else {\n      // add link to selection\n      editor\n        .chain()\n        .focus()\n        .extendMarkRange('link')\n        .setLink({href: href, target})\n        .run();\n    }\n  }\n}\n","import {useForm} from 'react-hook-form';\nimport React from 'react';\nimport clsx from 'clsx';\nimport {Form} from '../../ui/forms/form';\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\nimport {Button} from '../../ui/buttons/button';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {LinkIcon} from '../../icons/material/Link';\nimport {MenubarButtonProps} from './menubar-button-props';\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\nimport {FormSelect, Option} from '../../ui/forms/select/select';\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\nimport {Dialog} from '../../ui/overlays/dialog/dialog';\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\nimport {Trans} from '../../i18n/trans';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {insertLinkIntoTextEditor} from '@common/text-editor/insert-link-into-text-editor';\n\ninterface FormValue {\n  href: string;\n  target?: string;\n  text?: string;\n}\n\nexport function LinkButton({editor, size}: MenubarButtonProps) {\n  return (\n    <DialogTrigger type=\"modal\">\n      <Tooltip label={<Trans message=\"Insert link\" />}>\n        <IconButton size={size} className={clsx('flex-shrink-0')}>\n          <LinkIcon />\n        </IconButton>\n      </Tooltip>\n      <LinkDialog editor={editor} />\n    </DialogTrigger>\n  );\n}\n\nfunction LinkDialog({editor}: MenubarButtonProps) {\n  const previousUrl = editor.getAttributes('link').href;\n  const previousText = editor.state.doc.textBetween(\n    editor.state.selection.from,\n    editor.state.selection.to,\n    '',\n  );\n\n  const form = useForm<FormValue>({\n    defaultValues: {href: previousUrl, text: previousText, target: '_blank'},\n  });\n  const {formId, close} = useDialogContext();\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Insert link\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          form={form}\n          id={formId}\n          onSubmit={value => {\n            insertLinkIntoTextEditor(editor, value);\n            close();\n          }}\n        >\n          <FormTextField\n            name=\"href\"\n            label={<Trans message=\"URL\" />}\n            autoFocus\n            type=\"url\"\n            className=\"mb-20\"\n          />\n          <FormTextField\n            name=\"text\"\n            label={<Trans message=\"Text to display\" />}\n            className=\"mb-20\"\n          />\n          <FormSelect\n            selectionMode=\"single\"\n            name=\"target\"\n            label={<Trans message=\"Open link in...\" />}\n          >\n            <Option value=\"_self\">\n              <Trans message=\"Current window\" />\n            </Option>\n            <Option value=\"_blank\">\n              <Trans message=\"New window\" />\n            </Option>\n          </FormSelect>\n        </Form>\n      </DialogBody>\n      <DialogFooter>\n        <Button onClick={close} variant=\"text\">\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button type=\"submit\" form={formId} variant=\"flat\" color=\"primary\">\n          <Trans message=\"Save\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const ImageIcon = createSvgIcon(\n  <path d=\"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86-3 3.87L9 13.14 6 17h12l-3.86-5.14z\" />\n, 'ImageOutlined');\n","import React from 'react';\nimport clsx from 'clsx';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {ImageIcon} from '../../icons/material/Image';\nimport {MenubarButtonProps} from './menubar-button-props';\nimport {useActiveUpload} from '../../uploads/uploader/use-active-upload';\nimport {UploadInputType} from '../../uploads/types/upload-input-config';\nimport {Disk} from '../../uploads/types/backend-metadata';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {Trans} from '@common/i18n/trans';\n\nconst TwoMB = 2097152;\n\ninterface Props extends MenubarButtonProps {\n  diskPrefix?: string;\n}\n\nexport function ImageButton({editor, size, diskPrefix = 'page_media'}: Props) {\n  const {selectAndUploadFile} = useActiveUpload();\n\n  const handleUpload = () => {\n    selectAndUploadFile({\n      showToastOnRestrictionFail: true,\n      restrictions: {\n        allowedFileTypes: [UploadInputType.image],\n        maxFileSize: TwoMB,\n      },\n      metadata: {\n        diskPrefix: diskPrefix,\n        disk: Disk.public,\n      },\n      onSuccess: entry => {\n        editor.commands.focus();\n        editor.commands.setImage({\n          src: entry.url,\n        });\n      },\n    });\n  };\n\n  return (\n    <Tooltip label={<Trans message=\"Insert image\" />}>\n      <IconButton\n        size={size}\n        onClick={handleUpload}\n        className={clsx('flex-shrink-0')}\n      >\n        <ImageIcon />\n      </IconButton>\n    </Tooltip>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const FormatClearIcon = createSvgIcon(\n  <path d=\"M20 8V5H6.39l3 3h1.83l-.55 1.28 2.09 2.1L14.21 8zM3.41 4.86 2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21l1.41-1.41z\" />\n, 'FormatClearOutlined');\n","import React from 'react';\nimport clsx from 'clsx';\nimport {FormatClearIcon} from '../../icons/material/FormatClear';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {MenubarButtonProps} from './menubar-button-props';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {Trans} from '@common/i18n/trans';\n\nexport function ClearFormatButton({editor, size}: MenubarButtonProps) {\n  return (\n    <Tooltip label={<Trans message=\"Clear formatting\" />}>\n      <IconButton\n        className={clsx('flex-shrink-0')}\n        size={size}\n        onClick={() => {\n          editor.chain().focus().clearNodes().unsetAllMarks().run();\n        }}\n      >\n        <FormatClearIcon />\n      </IconButton>\n    </Tooltip>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const FormatIndentDecreaseIcon = createSvgIcon(\n  <path d=\"M11 17h10v-2H11v2zm-8-5 4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z\" />\n, 'FormatIndentDecreaseOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const FormatIndentIncreaseIcon = createSvgIcon(\n  <path d=\"M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z\" />\n, 'FormatIndentIncreaseOutlined');\n","import React from 'react';\nimport clsx from 'clsx';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {FormatIndentDecreaseIcon} from '../../icons/material/FormatIndentDecrease';\nimport {FormatIndentIncreaseIcon} from '../../icons/material/FormatIndentIncrease';\nimport {MenubarButtonProps} from './menubar-button-props';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {Trans} from '@common/i18n/trans';\n\nexport function IndentButtons({editor, size}: MenubarButtonProps) {\n  return (\n    <span className={clsx('flex-shrink-0', 'whitespace-nowrap')}>\n      <Tooltip label={<Trans message=\"Decrease indent\" />}>\n        <IconButton\n          size={size}\n          onClick={() => {\n            editor.commands.focus();\n            editor.commands.outdent();\n          }}\n        >\n          <FormatIndentDecreaseIcon />\n        </IconButton>\n      </Tooltip>\n      <Tooltip label={<Trans message=\"Increase indent\" />}>\n        <IconButton\n          size={size}\n          onClick={() => {\n            editor.commands.focus();\n            editor.commands.indent();\n          }}\n        >\n          <FormatIndentIncreaseIcon />\n        </IconButton>\n      </Tooltip>\n    </span>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const CodeIcon = createSvgIcon(\n  <path d=\"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z\" />\n, 'CodeOutlined');\n","import React from 'react';\nimport clsx from 'clsx';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {CodeIcon} from '../../icons/material/Code';\nimport {MenubarButtonProps} from './menubar-button-props';\nimport {\n  Menu,\n  MenuItem,\n  MenuTrigger,\n} from '../../ui/navigation/menu/menu-trigger';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {Trans} from '@common/i18n/trans';\n\nexport function CodeBlockMenuTrigger({editor, size}: MenubarButtonProps) {\n  const language = editor.getAttributes('codeBlock').language || '';\n  return (\n    <MenuTrigger\n      selectionMode=\"single\"\n      selectedValue={language}\n      onSelectionChange={key => {\n        editor.commands.toggleCodeBlock({language: key as string});\n      }}\n    >\n      <Tooltip label={<Trans message=\"Codeblock\" />}>\n        <IconButton\n          className={clsx('flex-shrink-0')}\n          size={size}\n          color={language ? 'primary' : null}\n        >\n          <CodeIcon />\n        </IconButton>\n      </Tooltip>\n      <Menu>\n        <MenuItem value=\"html\">HTML</MenuItem>\n        <MenuItem value=\"javascript\">JavaScript</MenuItem>\n        <MenuItem value=\"css\">CSS</MenuItem>\n        <MenuItem value=\"php\">PHP</MenuItem>\n        <MenuItem value=\"shell\">Shell</MenuItem>\n        <MenuItem value=\"bash\">Bash</MenuItem>\n        <MenuItem value=\"ruby\">Ruby</MenuItem>\n        <MenuItem value=\"python\">Python</MenuItem>\n        <MenuItem value=\"java\">Java</MenuItem>\n        <MenuItem value=\"c++\">C++</MenuItem>\n      </Menu>\n    </MenuTrigger>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const AttachmentIcon = createSvgIcon(\n  <path d=\"M18.5 16H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h12.5c1.38 0 2.5 1.12 2.5 2.5S20.88 13 19.5 13H9c-.55 0-1-.45-1-1s.45-1 1-1h9.5V9.5H9c-1.38 0-2.5 1.12-2.5 2.5s1.12 2.5 2.5 2.5h10.5c2.21 0 4-1.79 4-4s-1.79-4-4-4H7c-3.04 0-5.5 2.46-5.5 5.5s2.46 5.5 5.5 5.5h11.5V16z\" />\n, 'AttachmentOutlined');\n","import React, {cloneElement, ReactElement} from 'react';\nimport clsx from 'clsx';\nimport {Divider} from '@common/text-editor/menubar/divider';\nimport {FontStyleButtons} from '@common/text-editor/menubar/font-style-buttons';\nimport {ListButtons} from '@common/text-editor/menubar/list-buttons';\nimport {LinkButton} from '@common/text-editor/menubar/link-button';\nimport {ImageButton} from '@common/text-editor/menubar/image-button';\nimport {ClearFormatButton} from '@common/text-editor/menubar/clear-format-button';\nimport {IndentButtons} from '@common/text-editor/menubar/indent-buttons';\nimport {CodeBlockMenuTrigger} from '@common/text-editor/menubar/code-block-menu-trigger';\nimport {MenubarButtonProps} from '@common/text-editor/menubar/menubar-button-props';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {Trans} from '@common/i18n/trans';\nimport {openUploadWindow} from '@common/uploads/utils/open-upload-window';\nimport {AttachmentIcon} from '@common/icons/material/Attachment';\nimport {FileEntry} from '@common/uploads/file-entry';\nimport {useUploadReplyAttachments} from '@app/reply-editor/use-upload-reply-attachments';\n\nconst MenubarRowClassName =\n  'flex items-center px-4 h-42 text-muted border-b overflow-hidden';\n\ninterface Props extends MenubarButtonProps {\n  justify?: string;\n  onAttachmentUploaded: (entry: FileEntry) => void;\n  endButtons?: ReactElement;\n}\nexport function ReplyEditorMenubar({\n  editor,\n  size = 'sm',\n  justify = 'justify-start',\n  onAttachmentUploaded,\n  endButtons,\n}: Props) {\n  const uploadAttachments = useUploadReplyAttachments({\n    onSuccess: onAttachmentUploaded,\n  });\n  const handleUpload = async () => {\n    const files = await openUploadWindow({\n      multiple: true,\n    });\n    if (files.length) {\n      uploadAttachments(files);\n    }\n  };\n\n  return (\n    <div className=\"h-42\">\n      <div className={clsx(MenubarRowClassName, justify, 'relative z-20')}>\n        <Tooltip label={<Trans message=\"Upload attachments\" />}>\n          <IconButton size={size} onClick={() => handleUpload()}>\n            <AttachmentIcon />\n          </IconButton>\n        </Tooltip>\n        <Divider />\n        <FontStyleButtons editor={editor} size={size} />\n        <Divider />\n        <ListButtons editor={editor} size={size} />\n        <IndentButtons editor={editor} size={size} />\n        <Divider />\n        <LinkButton editor={editor} size={size} />\n        <ImageButton editor={editor} size={size} diskPrefix=\"ticket_images\" />\n        <Divider />\n        <CodeBlockMenuTrigger editor={editor} size={size} />\n        <ClearFormatButton editor={editor} size={size} />\n        {endButtons ? cloneElement(endButtons, {size}) : null}\n      </div>\n    </div>\n  );\n}\n","import {MutableRefObject} from 'react';\nimport {Editor} from '@tiptap/react';\n\nexport function getReplyBody(\n  editorRef: MutableRefObject<Editor | null>\n): string | null {\n  let body = editorRef.current?.getHTML() ?? '';\n  body = body.replace('<p></p>', '');\n  return body || null;\n}\n","import React, {\n  cloneElement,\n  Fragment,\n  MutableRefObject,\n  ReactElement,\n  Suspense,\n  useCallback,\n  useRef,\n  useState,\n} from 'react';\nimport {Editor, FocusPosition} from '@tiptap/react';\nimport debounce from 'just-debounce-it';\nimport {useDroppable} from '@common/ui/interactions/dnd/use-droppable';\nimport {MixedDraggable} from '@common/ui/interactions/dnd/use-draggable';\nimport {ReplyEditorDropTargetMask} from '@app/reply-editor/reply-editor-drop-target-mask';\nimport {useCallbackRef} from '@common/utils/hooks/use-callback-ref';\nimport {FileEntry} from '@common/uploads/file-entry';\nimport {useUploadReplyAttachments} from '@app/reply-editor/use-upload-reply-attachments';\nimport {ReplyEditorAttachments} from '@app/reply-editor/reply-editor-attachments';\nimport {ReplyEditorMenubar} from '@app/reply-editor/reply-editor-menubar';\nimport {getReplyBody} from '@app/reply-editor/get-reply-body';\n\nconst ArticleBodyEditor = React.lazy(\n  () => import('@common/article-editor/article-body-editor'),\n);\n\nexport interface ReplyEditorToolbarButtonsProps {\n  onSubmit?: () => void;\n  isLoading?: boolean;\n}\n\ninterface Props {\n  onSubmit: (reply: {body: string | null; attachments: FileEntry[]}) => void;\n  isLoading: boolean;\n  initialContent?: string;\n  onChange?: () => void;\n  className?: string;\n  editorRef: MutableRefObject<Editor | null>;\n  attachments: FileEntry[];\n  onAttachmentsChange: (attachments: FileEntry[]) => void;\n  footerButtons?: ReactElement<ReplyEditorToolbarButtonsProps>;\n  menubarButtons?: ReactElement<{size: 'sm' | 'md'}>;\n  minHeight?: string;\n  autoFocus?: FocusPosition;\n}\nexport function ReplyEditor(props: Props) {\n  const onSubmit = useCallbackRef(props.onSubmit);\n  const {\n    initialContent,\n    isLoading,\n    onChange,\n    footerButtons,\n    className,\n    editorRef,\n    attachments,\n    onAttachmentsChange,\n    menubarButtons,\n    minHeight = 'min-h-[243px]',\n    autoFocus = 'end',\n  } = props;\n  const uploadAttachments = useUploadReplyAttachments({\n    onSuccess: entry => onAttachmentsChange([...attachments, entry]),\n  });\n  const containerRef = useRef<HTMLDivElement | null>(null);\n  const [isDragOver, setIsDragOver] = useState(false);\n\n  const {droppableProps} = useDroppable({\n    id: 'driveRoot',\n    ref: containerRef,\n    types: ['nativeFile'],\n    onDragEnter: () => setIsDragOver(true),\n    onDragLeave: () => setIsDragOver(false),\n    onDrop: async (draggable: MixedDraggable) => {\n      if (draggable.type === 'nativeFile') {\n        uploadAttachments(await draggable.getData());\n      }\n    },\n  });\n\n  const handleSubmit = useCallback(() => {\n    onSubmit({\n      body: getReplyBody(editorRef),\n      attachments,\n    });\n  }, [attachments, onSubmit, editorRef]);\n\n  return (\n    <div className={className}>\n      {!!attachments.length && (\n        <ReplyEditorAttachments\n          attachments={attachments}\n          onRemove={attachment => {\n            onAttachmentsChange(\n              attachments.filter(a => a.id !== attachment.id),\n            );\n          }}\n        />\n      )}\n      <div\n        className=\"relative overflow-hidden rounded border\"\n        {...droppableProps}\n      >\n        <div className={minHeight}>\n          <Suspense>\n            <ArticleBodyEditor\n              autoFocus={autoFocus}\n              initialContent={initialContent}\n              minHeight=\"min-h-184\"\n              onCtrlEnter={handleSubmit}\n              onLoad={editor => {\n                editorRef.current = editor;\n                //editor.commands.focus('end');\n                editor.on(\n                  'update',\n                  debounce(() => onChange?.(), 300),\n                );\n              }}\n            >\n              {(content, editor) => (\n                <Fragment>\n                  <ReplyEditorMenubar\n                    endButtons={menubarButtons}\n                    editor={editor}\n                    onAttachmentUploaded={entry => {\n                      onAttachmentsChange([...attachments, entry]);\n                    }}\n                  />\n                  <div className=\"m-14\">\n                    <div className=\"ticket-reply-body max-w-none text-sm\">\n                      {content}\n                    </div>\n                  </div>\n                </Fragment>\n              )}\n            </ArticleBodyEditor>\n          </Suspense>\n        </div>\n        {footerButtons ? (\n          <div className=\"flex justify-end border-t\">\n            {cloneElement(footerButtons, {isLoading, onSubmit: handleSubmit})}\n          </div>\n        ) : null}\n        <ReplyEditorDropTargetMask isVisible={isDragOver} />\n      </div>\n    </div>\n  );\n}\n"],"file":"assets/reply-editor-41efed28.js"}