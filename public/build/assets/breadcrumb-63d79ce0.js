import{j as n,c as j,g as H,Y as R,r as M,cN as L,cO as S,bt as T,a9 as z,I as _,ab as A,n as D}from"./main-ab90dad4.js";import{C as O,M as K}from"./Edit-3e5a7805.js";function P(a){const{isCurrent:b,sizeStyle:i,isMenuTrigger:f,isClickable:w,isDisabled:d,onSelected:u,className:k,isMenuItem:m,isLink:e}=a,x=typeof a.children=="function"?a.children({isMenuItem:m}):a.children;if(m)return x;const g=f?{}:{tabIndex:e&&!d?0:void 0,role:e?"link":void 0,"aria-disabled":e?d:void 0,"aria-current":b&&e?"page":void 0,onClick:()=>u==null?void 0:u()};return n.jsxs("li",{className:j(`relative inline-flex min-w-0 flex-shrink-0 items-center justify-start ${i==null?void 0:i.font}`,(!w||d)&&"pointer-events-none",!b&&d&&"text-disabled"),children:[n.jsx("div",{...g,className:j(k,"cursor-pointer overflow-hidden whitespace-nowrap rounded px-8",!f&&"py-4 hover:bg-hover",!f&&e&&"outline-none focus-visible:ring"),children:x}),b===!1&&n.jsx(O,{size:i==null?void 0:i.icon,className:j(d?"text-disabled":"text-muted")})]})}const X=1,Y=10;function J(a){const{size:b="md",children:i,isDisabled:f,className:w,currentIsClickable:d,isNavigation:u}=a,{trans:k}=H(),m=q(b),e=[];R.Children.forEach(i,t=>{R.isValidElement(t)&&e.push(t)});const x=M.useRef(null),g=M.useRef(null),[E,C]=L(e.length),N=M.useCallback(()=>{const t=r=>{var $;const l=g.current;if(!l)return;const s=Array.from(l.children);if(!s.length)return;const h=l.offsetWidth,p=e.length>r;let o=0,c=0,v=Y;if(o+=s.shift().offsetWidth,c++,p&&(o+=(($=s.shift())==null?void 0:$.offsetWidth)??0,v--),o>=h&&c--,s.length>0){const y=s.pop();y.style.overflow="visible",o+=y.offsetWidth,o<h&&c++,y.style.overflow=""}for(const y of s.reverse())o+=y.offsetWidth,o<h&&c++;return Math.max(X,Math.min(v,c))};C(function*(){yield e.length;const r=t(e.length);yield r,r<e.length&&r>1&&(yield t(r))})},[g,i,C]);S({ref:x,onResize:N}),T(N,[i]);let I=e;if(e.length>E){const t=e.length-1;I=[n.jsx(P,{sizeStyle:m,isMenuTrigger:!0,children:n.jsxs(z,{selectionMode:"single",selectedValue:t,children:[n.jsx(_,{"aria-label":"â€¦",disabled:f,size:m.btn,children:n.jsx(K,{})}),n.jsx(A,{children:e.map((h,p)=>{const o=t===p;return n.jsx(D,{value:p,onSelected:()=>{var c,v;o||(v=(c=h.props).onSelected)==null||v.call(c)},children:M.cloneElement(h,{isMenuItem:!0})},p)})})]})},"menu")];const l=[...e];let s=E;E>1&&(I.unshift(l.shift()),s--),I.push(...l.slice(-s))}const V=I.length-1,B=I.map((t,r)=>{const l=r===V,s=!l||d;return M.cloneElement(t,{key:t.key||r,isCurrent:l,sizeStyle:m,isClickable:s,isDisabled:f,isLink:u&&t.key!=="menu"})}),W=u?"nav":"div";return n.jsx(W,{className:j(w,"w-full min-w-0"),"aria-label":k({message:"Breadcrumbs"}),ref:x,children:n.jsx("ol",{ref:g,className:j("flex flex-nowrap justify-start",m.minHeight),children:B})})}function q(a){switch(a){case"sm":return{font:"text-sm",icon:"sm",btn:"sm",minHeight:"min-h-36"};case"lg":return{font:"text-lg",icon:"md",btn:"md",minHeight:"min-h-42"};case"xl":return{font:"text-xl",icon:"md",btn:"md",minHeight:"min-h-42"};default:return{font:"text-base",icon:"md",btn:"md",minHeight:"min-h-42"}}}export{J as B,P as a};
//# sourceMappingURL=breadcrumb-63d79ce0.js.map
