import{u as g,a as M,r as d,j as e,L as q,I as _,C as b,T as c,A as y,c as L,b as B,D as V,d as Q,e as Y,m as K,f as W,g as G,h as E,i as D,k as p,l as J,S as U,n as X,o as Z,p as v,q as T,s as ee,t as se,v as F,B as I,w as ae,x as te,y as ne,z as f,E as re,P as ie,F as k,G as A,H as le,J as ce,K as N,M as x,N as oe,O as de,Q as me,R,U as xe,V as ue,W as he,X as ge,Y as z,_ as pe,Z as je,$ as fe,a0 as be,a1 as ye}from"./main-030e7994.js";import{B as ve,u as Ne}from"./bullet-seprated-items-a08505c8.js";import{D as Se,u as we,F as Ie,a as ke,b as Ae,c as Ce,d as Pe,s as _e}from"./search-a7f8797c.js";import{A as Le}from"./AttachFile-3537f9b5.js";import{S as Be}from"./search-trigger-button-b4d0fbfb.js";import{B as S,a as u}from"./breadcrumb-c42a2610.js";import{E as Ee}from"./Edit-db079bb8.js";function H({sections:s}){const{articleId:a}=g(),n=M(),{setLeftSidenavStatus:t}=d.useContext(Se),r=we(s),i=s??r;return e.jsx(d.Fragment,{children:e.jsxs("div",{className:"stable-scrollbar sticky w-350 overflow-y-auto overflow-x-hidden py-24 pl-24 pr-32 md:h-[calc(100dvh-64px)] lg:top-64 lg:py-64 lg:pl-32 xl:pl-48 xl:pr-64",children:[e.jsxs("div",{className:"mb-34 flex items-center justify-between gap-8 lg:hidden",children:[e.jsx(q,{isDarkMode:n,logoColor:"dark"}),e.jsx(_,{onClick:()=>t("closed"),children:e.jsx(b,{})})]}),e.jsx("nav",{className:"text-base lg:text-sm",children:e.jsx("ul",{role:"list",className:"space-y-36",children:i==null?void 0:i.map(l=>{var o;return e.jsxs("li",{children:[e.jsx("h2",{className:"font-display font-semibold",children:e.jsx(c,{message:l.name})}),e.jsx("ul",{role:"list",className:"mt-8 space-y-8 border-l lg:mt-16 lg:space-y-16",children:(o=l.articles)==null?void 0:o.map(h=>{const j=`${h.id}`===a;return e.jsx("li",{children:e.jsx(y,{className:L("-ml-1 block w-full pl-16 text-muted",j&&"border-l border-current font-semibold text-primary"),article:h,section:l})},h.id)})})]},l.id)})})})]})})}function De({article:s}){var n;const{base_url:a}=B();return e.jsx("div",{className:"space-y-12",children:(n=s.attachments)==null?void 0:n.map(t=>{const r=`${a}/file-entries/download/${t.hash}`;return e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(Le,{className:"mt-6",size:"sm"}),e.jsxs("div",{children:[e.jsx("a",{href:r,download:!0,className:"text-sm text-primary hover:underline",children:t.name}),e.jsxs(ve,{className:"mt-4 text-xs text-muted",children:[e.jsx(Ie,{bytes:t.file_size}),e.jsx("a",{href:r,download:!0,className:"hover:underline",children:e.jsx(c,{message:"Download"})})]})]})]},t.id)})})}function $({placeholder:s=K("Search documentation"),size:a="sm",width:n="w-320",categoryId:t,...r}){const[i,l]=d.useState(!1),o=d.useCallback(()=>{l(!0)},[]);return e.jsxs(V,{type:"modal",isOpen:i,onOpenChange:l,placement:"top",children:[e.jsx(Be,{...r,onTrigger:o,size:a,width:n,children:e.jsx(c,{...s})}),e.jsx(Q,{size:"lg",children:e.jsx(Y,{padding:"p-0",children:e.jsx(Te,{placeholder:s,categoryId:t})})})]})}function Te({placeholder:s,categoryId:a}){const{close:n}=W(),{trans:t}=G(),[r,i]=d.useState(""),l=E(),{data:o,isFetching:h}=D(r,{categoryIds:a?[a]:void 0},{onSearch:m=>{var w;l.log({term:m.query,results:m.pagination.data,categoryId:(w=m.categoryIds)==null?void 0:w[0]})}}),j=p();return e.jsx(J,{inputValue:r,onInputValueChange:i,isAsync:!0,isLoading:h,items:o==null?void 0:o.pagination.data,clearInputOnItemSelection:!0,endAdornmentIcon:e.jsx(b,{}),placeholder:t(s),startAdornment:e.jsx(U,{}),prependListbox:!0,listboxClassName:"py-12 px-8",inputRadius:"rounded-none",inputBorder:"border-b",inputRing:"ring-0",size:"lg",inputFontSize:"text-md",inputShadow:"shadow-none",onEndAdornmentClick:n,selectionMode:"none",showEmptyMessage:!0,children:m=>e.jsx(X,{padding:"py-8 px-12",radius:"rounded",value:m.id,onSelected:()=>{n(),l.updateLastSearch({clickedArticle:!0}),j(Z(m))},description:e.jsx(v,{article:m}),textLabel:m.title,children:m.title},m.id)})}function O({children:s,leftSidenav:a,rightSidenav:n,categoryId:t}){return e.jsxs(ke,{height:"h-auto",gridClassName:"hc-grid",name:"hc-article",blockBodyOverflow:!1,children:[e.jsx(Ae,{menuPosition:"header",className:"sticky top-0 z-10 flex-shrink-0",size:"md",children:e.jsx($,{categoryId:t})}),e.jsx(Ce,{position:"left",size:"w-auto",overflow:"overflow-initial",className:"justify-end bg-alt",children:a}),e.jsx(Pe,{isScrollable:!1,children:e.jsx("div",{className:"min-w-0 max-w-672 px-16 py-16 md:py-64 lg:max-w-none lg:px-32 xl:px-64",children:s})}),n]})}function Fe({data:{article:s},className:a}){var t;const n=p();return(t=s.path)!=null&&t.length?e.jsxs(S,{size:"sm",className:a,children:[e.jsx(u,{onSelected:()=>n("/hc"),children:e.jsx(c,{message:"Help center"})}),s.path.map(r=>e.jsx(u,{onSelected:()=>n(T(r)),children:e.jsx(c,{message:r.name})},`${r.parent_id}-${r.id}`)),e.jsx(u,{children:e.jsx(c,{message:"Article"})})]}):null}function Re(){const{articleId:s}=g();return ee({mutationFn:a=>ze(s,a),onSuccess:()=>{},onError:a=>se(a)})}function ze(s,a){return F.post(`hc/articles/${s}/feedback`,a).then(n=>n.data)}function He(){const s=Re();return s.isSuccess?e.jsx(c,{message:"Thank you! Your feedback will help us improve the support experience. If you need more help, try searching for what you need at the top of the page."}):e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx("div",{className:"mr-10",children:e.jsx(c,{message:"Was this article helpful?"})}),e.jsx(I,{variant:"outline",radius:"rounded-full",startIcon:e.jsx(ae,{}),color:"positive",disabled:s.isPending,onClick:()=>s.mutate({wasHelpful:!0}),children:e.jsx(c,{message:"Yes"})}),e.jsx(I,{variant:"outline",radius:"rounded-full",startIcon:e.jsx(b,{}),color:"danger",disabled:s.isPending,onClick:()=>s.mutate({wasHelpful:!1}),children:e.jsx(c,{message:"No"})})]})}function C(){var n,t,r,i;const s=Ne("articlePage"),{hash:a}=te();return d.useEffect(()=>{var l;a&&((l=s.data)!=null&&l.article)&&setTimeout(()=>{if(document.documentElement.scrollTop===0){const o=document.getElementById(a.slice(1));o&&o.scrollIntoView({behavior:"smooth"})}})},[s.data,a]),e.jsx(O,{leftSidenav:e.jsx(H,{sections:(n=s.data)==null?void 0:n.categoryNav}),rightSidenav:e.jsx($e,{nav:(t=s.data)==null?void 0:t.pageNav}),categoryId:(i=(r=s.data)==null?void 0:r.article.path)==null?void 0:i[0].id,children:e.jsx(ne,{initial:!1,mode:"sync",children:e.jsx(Oe,{query:s})})})}function $e({nav:s}){const[a,n]=d.useState(null);return d.useEffect(()=>{if(!s)return;const t=new IntersectionObserver(i=>{for(const l of i){const o=document.getElementById(`to-${l.target.id}`);o&&l.isIntersecting&&n(o.id.replace(/^to-/,""))}},{rootMargin:"0px 0px -50% 0px"}),r=s.map(i=>document.getElementById(i.slug)).filter(Boolean);return r.forEach(i=>{t.observe(i)}),()=>{r.forEach(i=>t.unobserve(i))}},[s]),e.jsx("div",{className:"dashboard-grid-sidenav-right compact-scrollbar hidden w-224 xl:flex xl:w-288",children:e.jsxs("nav",{className:"sticky top-64 h-[calc(100dvh-64px)] w-full py-64 pr-32 xl:pr-64",children:[e.jsx("h2",{className:"font-display text-sm font-medium",children:e.jsx(c,{message:"On this page"})}),e.jsx("ol",{role:"list",className:"mt-16 space-y-12 text-sm text-muted",children:s==null?void 0:s.map(t=>{const r=t.slug===a;return e.jsx("li",{className:t.indent?"pl-20":"mt-8",children:e.jsx(f,{className:L("cursor-pointer",r?"text-primary":"hover:text-main"),to:`#${t.slug}`,id:`to-${t.slug}`,onClick:i=>{const l=document.getElementById(t.slug);l&&(n(t.slug),l.scrollIntoView({behavior:"smooth"}))},children:t.display_name})},t.slug)})})]})})}function Oe({query:s}){var r;const a=B(),{hasPermission:n,hasRole:t}=re();if(s.data&&!s.isPlaceholderData){const i=n("articles.update")||s.data.article.managed_by_role&&t(s.data.article.managed_by_role);return e.jsxs(d.Fragment,{children:[e.jsx(ie,{query:s}),e.jsxs(k.article,{...A,children:[e.jsxs("header",{className:"mb-36",children:[e.jsx(Fe,{data:s.data,className:"-ml-6"}),e.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[e.jsx("h1",{className:"font-display text-slate-900 text-3xl tracking-tight",children:s.data.article.title}),i&&e.jsx(_,{className:"text-muted",elementType:f,to:le(s.data.article),children:e.jsx(Ee,{})})]})]}),e.jsx(Me,{body:s.data.article.body}),e.jsx(De,{article:s.data.article})]},"article"),!((r=a.article)!=null&&r.hide_new_ticket_link)&&e.jsx("div",{className:"my-50 border-y py-50",children:e.jsx(c,{message:"Have more questions? <a>Submit a request</a>",values:{a:l=>e.jsx(f,{className:ce,to:"/hc/tickets/new",children:l})}})}),e.jsx(He,{})]})}return e.jsx(N,{query:s,show404:!1,delayedSpinner:!1,loader:e.jsxs(k.div,{...A,children:[e.jsx(x,{variant:"rect",className:"h-20 max-w-580"}),e.jsx(x,{variant:"rect",className:"mb-30 mt-10 h-34 max-w-440"}),e.jsx(x,{className:"max-w-[95%]"}),e.jsx(x,{}),e.jsx(x,{className:"mb-30 max-w-[70%]"}),e.jsx(x,{className:"max-w-[90%]"}),e.jsx(x,{className:"max-w-[80%]"}),e.jsx(x,{className:"max-w-[30%]"})]},"skeletons")})}function Me({body:s}){const a=d.useRef(null);return d.useEffect(()=>{a.current&&oe(a.current)},[]),e.jsx("div",{className:"prose-headings:font-display prose-pre:bg-slate-900 prose max-w-none dark:prose-invert prose-headings:scroll-mt-112 prose-headings:font-normal prose-a:font-normal prose-a:text-primary prose-pre:rounded-xl prose-pre:shadow-lg dark:prose-pre:shadow-none dark:prose-pre:ring-1 dark:prose-pre:ring-divider lg:prose-headings:scroll-mt-136",children:e.jsx("div",{ref:a,className:"article-body whitespace-pre-wrap break-words",dangerouslySetInnerHTML:{__html:s}})})}function qe(s){const{categoryId:a,sectionId:n}=g(),t=n||a;return de({queryKey:["hc","categories",t,s],queryFn:()=>Ve(t,s),initialData:()=>{var i,l;const r=(i=me().loaders)==null?void 0:i[s];if(((l=r==null?void 0:r.category)==null?void 0:l.id)==t)return r}})}function Ve(s,a){return F.get(`hc/categories/${s}`,{params:{loader:a}}).then(n=>n.data)}function P(){var n,t;const s=qe("categoryPage"),a=(n=s.data)==null?void 0:n.category;return e.jsx(O,{leftSidenav:e.jsx(H,{sections:(t=s.data)==null?void 0:t.categoryNav}),categoryId:a!=null&&a.is_section?a.parent_id:a==null?void 0:a.id,children:s.data?e.jsx(Qe,{data:s.data}):e.jsx("div",{children:e.jsx(N,{query:s,loaderClassName:"absolute inset-0 m-auto"})})})}function Qe({data:s}){var a;return e.jsxs("div",{children:[e.jsxs("header",{className:"mb-36",children:[e.jsx(Ye,{category:s.category}),e.jsx("h1",{className:"font-display text-3xl tracking-tight",children:s.category.name})]}),(a=s.articles)==null?void 0:a.map(n=>e.jsxs("div",{className:"mb-16 flex items-start gap-10 border-b pb-16",children:[e.jsx(R,{size:"md",className:"mt-2 text-muted"}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-display mb-2 text-xl",children:e.jsx(y,{article:n})}),e.jsx(v,{article:n,className:"text-sm text-muted"})]})]},n.id))]})}function Ye({category:s}){const a=p(),n=[s];return s.is_section&&s.parent&&n.unshift(s.parent),e.jsxs(S,{size:"sm",className:"-ml-6",children:[e.jsx(u,{onSelected:()=>a("/hc"),children:e.jsx(c,{message:"Help center"})}),n.map(t=>e.jsx(u,{onSelected:()=>a(T(t)),children:e.jsx(c,{message:t.name})},t.id))]})}function Ke(){const s=p();return e.jsxs("div",{children:[e.jsx(xe,{menuPosition:"header",children:e.jsx($,{})}),e.jsxs("main",{className:"container mx-auto px-24 pb-48",children:[e.jsxs(S,{size:"sm",className:"mb-48 mt-34",children:[e.jsx(u,{onSelected:()=>s("/hc"),children:e.jsx(c,{message:"Help center"})}),e.jsx(u,{children:e.jsx(c,{message:"Search"})})]}),e.jsx(We,{})]})]})}function We(){var t;const s=E(),{query:a}=g(),n=D(a,{perPage:30});return n.data?n.data.pagination.data.length===0?e.jsx(ue,{className:"mt-48",image:e.jsx(he,{src:_e}),title:e.jsx(c,{message:"No articles match your search query"})}):e.jsxs("div",{children:[e.jsx("h1",{className:"mb-34 text-3xl font-semibold",children:e.jsx(c,{message:'Showing :count results for ":query"',values:{count:n.data.pagination.data.length,query:n.data.query}})}),(t=n.data)==null?void 0:t.pagination.data.map(r=>e.jsxs("div",{className:"mb-14 flex items-start gap-12",children:[e.jsx(R,{className:"mt-4 flex-shrink-0 text-muted"}),e.jsxs("div",{className:"flex-auto",children:[e.jsx("h2",{className:"mb-4 text-xl",children:e.jsx(y,{article:r,onClick:()=>{s.updateLastSearch({clickedArticle:!0})}})}),e.jsx(v,{article:r,className:"text-sm text-muted"})]})]},r.id))]}):e.jsx(N,{query:n,show404:!1,loaderIsScreen:!1})}const Ge=z.lazy(()=>pe(()=>import("./hc-ticket-routes-d244def4.js"),["./hc-ticket-routes-d244def4.js","./main-030e7994.js","./main-951fed17.css","./use-create-ticket-191d1327.js","./reply-editor-14b4a609.js","./search-a7f8797c.js","./Edit-db079bb8.js","./breadcrumb-c42a2610.js","./Reply-62b0d6b5.js","./search-trigger-button-b4d0fbfb.js","./section-helper-85d2074f.js","./bullet-seprated-items-a08505c8.js","./AttachFile-3537f9b5.js"],import.meta.url)),Je=[{path:"/",element:e.jsx(je,{})},{path:"/articles/:articleId/:articleSlug",element:e.jsx(C,{})},{path:"/articles/:categoryId/:sectionId/:articleId/:articleSlug",element:e.jsx(C,{})},{path:"/categories/:categoryId/:sectionId/:slug",element:e.jsx(P,{})},{path:"/categories/:categoryId/:slug",element:e.jsx(P,{})},{path:"/search/:query",element:e.jsx(Ke,{})},{path:"tickets/*",element:e.jsx(fe,{children:e.jsx(z.Suspense,{fallback:e.jsx(be,{screen:!0}),children:e.jsx(Ge,{})})})},{path:"*",element:e.jsx(ye,{})}];function Ue(){return ge(Je)}const rs=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"}));export{$ as H,rs as h};
//# sourceMappingURL=hc-routes-8c86cf34.js.map
