{"version":3,"file":"hc-routes-0d1606ef.mjs","sources":["../../../resources/client/help-center/articles/hc-sidenav.tsx","../../../resources/client/help-center/articles/article-attachments.tsx","../../../resources/client/help-center/search/use-search-term-logger.ts","../../../resources/client/help-center/search/hc-search-bar.tsx","../../../resources/client/help-center/articles/article-page/article-page-layout.tsx","../../../resources/client/help-center/articles/article-page/article-page-breadcrumb.tsx","../../../resources/client/help-center/articles/article-page/use-submit-article-feedback.ts","../../../resources/client/help-center/articles/article-page/article-page-feedback.tsx","../../../resources/client/help-center/articles/article-page/article-page.tsx","../../../resources/client/help-center/categories/use-category.ts","../../../resources/client/help-center/categories/category-page.tsx","../../../resources/client/help-center/search/hc-search-page.tsx","../../../resources/client/help-center/hc-routes.tsx"],"sourcesContent":["import {Trans} from '@common/i18n/trans';\nimport {useParams} from 'react-router-dom';\nimport clsx from 'clsx';\nimport {Fragment, useContext} from 'react';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {CloseIcon} from '@common/icons/material/Close';\nimport {Logo} from '@common/ui/navigation/navbar/logo';\nimport {useIsDarkMode} from '@common/ui/themes/use-is-dark-mode';\nimport {DashboardLayoutContext} from '@common/ui/layout/dashboard-layout-context';\nimport {ArticleLink} from '@app/help-center/articles/article-link';\nimport {Section} from '@app/help-center/categories/category';\nimport {usePrevious} from '@common/utils/hooks/use-previous';\n\ninterface Props {\n  sections?: Section[];\n  isCompact?: boolean;\n}\nexport function HcSidenav({sections: currentSections}: Props) {\n  const {articleId} = useParams();\n  const isDarkMode = useIsDarkMode();\n  const {setLeftSidenavStatus} = useContext(DashboardLayoutContext);\n  const prevSections = usePrevious(currentSections);\n  const sections = currentSections ?? prevSections;\n\n  return (\n    <Fragment>\n      <div className=\"stable-scrollbar sticky w-350 overflow-y-auto overflow-x-hidden py-24 pl-24 pr-32 md:h-[calc(100dvh-64px)] lg:top-64 lg:py-64 lg:pl-32 xl:pl-48 xl:pr-64\">\n        <div className=\"mb-34 flex items-center justify-between gap-8 lg:hidden\">\n          <Logo isDarkMode={isDarkMode} logoColor=\"dark\" />\n          <IconButton onClick={() => setLeftSidenavStatus('closed')}>\n            <CloseIcon />\n          </IconButton>\n        </div>\n        <nav className=\"text-base lg:text-sm\">\n          <ul role=\"list\" className=\"space-y-36\">\n            {sections?.map(section => (\n              <li key={section.id}>\n                <h2 className=\"font-display font-semibold\">\n                  <Trans message={section.name} />\n                </h2>\n                <ul\n                  role=\"list\"\n                  className=\"mt-8 space-y-8 border-l lg:mt-16 lg:space-y-16\"\n                >\n                  {section.articles?.map(article => {\n                    const isActive = `${article.id}` === articleId;\n                    return (\n                      <li key={article.id}>\n                        <ArticleLink\n                          className={clsx(\n                            '-ml-1 block w-full pl-16 text-muted',\n                            isActive &&\n                              'border-l border-current font-semibold text-primary',\n                          )}\n                          article={article}\n                          section={section}\n                        />\n                      </li>\n                    );\n                  })}\n                </ul>\n              </li>\n            ))}\n          </ul>\n        </nav>\n      </div>\n    </Fragment>\n  );\n}\n","import {Article} from '@app/help-center/articles/article';\nimport {BulletSeparatedItems} from '@common/ui/bullet-seprated-items';\nimport {FormattedBytes} from '@common/uploads/formatted-bytes';\nimport {Trans} from '@common/i18n/trans';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport {AttachFileIcon} from '@common/icons/material/AttachFile';\n\ninterface Props {\n  article: Article;\n}\nexport function ArticleAttachments({article}: Props) {\n  const {base_url} = useSettings();\n  return (\n    <div className=\"space-y-12\">\n      {article.attachments?.map(attachment => {\n        const downloadLink = `${base_url}/file-entries/download/${attachment.hash}`;\n        return (\n          <div key={attachment.id} className=\"flex items-start gap-4\">\n            <AttachFileIcon className=\"mt-6\" size=\"sm\" />\n            <div>\n              <a\n                href={downloadLink}\n                download\n                className=\"text-sm text-primary hover:underline\"\n              >\n                {attachment.name}\n              </a>\n              <BulletSeparatedItems className=\"mt-4 text-xs text-muted\">\n                <FormattedBytes bytes={attachment.file_size} />\n                <a href={downloadLink} download className=\"hover:underline\">\n                  <Trans message=\"Download\" />\n                </a>\n              </BulletSeparatedItems>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n","import {Article} from '@app/help-center/articles/article';\nimport {useCallback} from 'react';\nimport {getBootstrapData} from '@common/core/bootstrap-data/use-backend-bootstrap-data';\n\nexport interface SearchSessionItem {\n  term: string;\n  results: number[];\n  clickedArticle?: boolean;\n  createdTicket?: boolean;\n  categoryId?: number;\n  date?: string;\n}\n\ninterface LogTermData {\n  term: string;\n  results: Article[];\n  categoryId?: number;\n}\n\nlet searchSession: SearchSessionItem[] = [];\n\nlet isInitialized = false;\nexport function initSearchTermLogger() {\n  if (isInitialized) return;\n  document.addEventListener('visibilitychange', () => {\n    isInitialized = true;\n    if (document.visibilityState === 'hidden' && searchSession.length) {\n      if (navigator.sendBeacon) {\n        const {base_url} = getBootstrapData().settings;\n        navigator.sendBeacon(\n          `${base_url}/search-term`,\n          JSON.stringify({\n            searchSession: searchSession,\n            //_token: this.settings.csrfToken,\n          }),\n        );\n        searchSession = [];\n      }\n    }\n  });\n}\n\nexport function useSearchTermLogger() {\n  const log = useCallback(({term, results, categoryId}: LogTermData) => {\n    term = term?.trim();\n    if (!term || term.length < 4) {\n      return;\n    }\n    searchSession.push({\n      term,\n      results: results.map(r => r.id),\n      clickedArticle: false,\n      createdTicket: false,\n      categoryId,\n    });\n  }, []);\n\n  const updateLastSearch = useCallback((data: Partial<SearchSessionItem>) => {\n    const lastItem = searchSession.at(-1);\n    if (lastItem) {\n      searchSession.push({...lastItem, ...data});\n    }\n  }, []);\n\n  return {\n    log,\n    updateLastSearch,\n  };\n}\n","import {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {SearchIcon} from '@common/icons/material/Search';\nimport {Trans} from '@common/i18n/trans';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {useSearchArticles} from '@app/help-center/search/use-search-articles';\nimport React, {useCallback, useState} from 'react';\nimport {ComboBox} from '@common/ui/forms/combobox/combobox';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\nimport {getArticleLink} from '@app/help-center/articles/article-link';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {CloseIcon} from '@common/icons/material/Close';\nimport {MessageDescriptor} from '@common/i18n/message-descriptor';\nimport {ArticlePath} from '@app/help-center/articles/article-path';\nimport {\n  SearchTriggerButton,\n  SearchTriggerButtonProps,\n} from '@app/help-center/search/search-trigger-button';\nimport {message} from '@common/i18n/message';\nimport {useSearchTermLogger} from '@app/help-center/search/use-search-term-logger';\n\ninterface Props\n  extends Omit<SearchTriggerButtonProps, 'children' | 'onTrigger'> {\n  placeholder?: MessageDescriptor;\n  categoryId?: number;\n}\nexport function HcSearchBar({\n  placeholder = message('Search documentation'),\n  size = 'sm',\n  width = 'w-320',\n  categoryId,\n  ...buttonProps\n}: Props) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const handleOpen = useCallback(() => {\n    setIsOpen(true);\n  }, []);\n\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      isOpen={isOpen}\n      onOpenChange={setIsOpen}\n      placement=\"top\"\n    >\n      <SearchTriggerButton\n        {...buttonProps}\n        onTrigger={handleOpen}\n        size={size}\n        width={width}\n      >\n        <Trans {...placeholder} />\n      </SearchTriggerButton>\n      <Dialog size=\"lg\">\n        <DialogBody padding=\"p-0\">\n          <DialogContent placeholder={placeholder} categoryId={categoryId} />\n        </DialogBody>\n      </Dialog>\n    </DialogTrigger>\n  );\n}\n\ninterface SearchFieldProps {\n  placeholder: MessageDescriptor;\n  categoryId?: number;\n}\nfunction DialogContent({placeholder, categoryId}: SearchFieldProps) {\n  const {close} = useDialogContext();\n  const {trans} = useTrans();\n  const [query, setQuery] = useState('');\n  const searchLogger = useSearchTermLogger();\n  const {data, isFetching} = useSearchArticles(\n    query,\n    {categoryIds: categoryId ? [categoryId] : undefined},\n    {\n      onSearch: r => {\n        searchLogger.log({\n          term: r.query,\n          results: r.pagination.data,\n          categoryId: r.categoryIds?.[0],\n        });\n      },\n    }\n  );\n  const navigate = useNavigate();\n\n  return (\n    <ComboBox\n      inputValue={query}\n      onInputValueChange={setQuery}\n      isAsync\n      isLoading={isFetching}\n      items={data?.pagination.data}\n      clearInputOnItemSelection\n      endAdornmentIcon={<CloseIcon />}\n      placeholder={trans(placeholder)}\n      startAdornment={<SearchIcon />}\n      prependListbox\n      listboxClassName=\"py-12 px-8\"\n      inputRadius=\"rounded-none\"\n      inputBorder=\"border-b\"\n      inputRing=\"ring-0\"\n      size=\"lg\"\n      inputFontSize=\"text-md\"\n      inputShadow=\"shadow-none\"\n      onEndAdornmentClick={close}\n      selectionMode=\"none\"\n      showEmptyMessage\n    >\n      {result => (\n        <Item\n          padding=\"py-8 px-12\"\n          radius=\"rounded\"\n          key={result.id}\n          value={result.id}\n          onSelected={() => {\n            close();\n            searchLogger.updateLastSearch({clickedArticle: true});\n            navigate(getArticleLink(result));\n          }}\n          description={<ArticlePath article={result} />}\n          textLabel={result.title}\n        >\n          {result.title}\n        </Item>\n      )}\n    </ComboBox>\n  );\n}\n","import React, {ReactElement, ReactNode} from 'react';\nimport {DashboardLayout} from '@common/ui/layout/dashboard-layout';\nimport {DashboardNavbar} from '@common/ui/layout/dashboard-navbar';\nimport {DashboardContent} from '@common/ui/layout/dashboard-content';\nimport {DashboardSidenav} from '@common/ui/layout/dashboard-sidenav';\nimport {HcSearchBar} from '@app/help-center/search/hc-search-bar';\n\ninterface Props {\n  children: ReactNode;\n  leftSidenav: ReactElement;\n  rightSidenav?: ReactNode;\n  categoryId?: number;\n}\nexport function ArticlePageLayout({\n  children,\n  leftSidenav,\n  rightSidenav,\n  categoryId,\n}: Props) {\n  return (\n    <DashboardLayout\n      height=\"h-auto\"\n      gridClassName=\"hc-grid\"\n      name=\"hc-article\"\n      blockBodyOverflow={false}\n    >\n      <DashboardNavbar\n        menuPosition=\"header\"\n        className=\"sticky top-0 z-10 flex-shrink-0\"\n        size=\"md\"\n      >\n        <HcSearchBar categoryId={categoryId} />\n      </DashboardNavbar>\n      <DashboardSidenav\n        position=\"left\"\n        size=\"w-auto\"\n        overflow=\"overflow-initial\"\n        className=\"justify-end bg-alt\"\n      >\n        {leftSidenav}\n      </DashboardSidenav>\n      <DashboardContent isScrollable={false}>\n        <div className=\"min-w-0 max-w-672 px-16 py-16 md:py-64 lg:max-w-none lg:px-32 xl:px-64\">\n          {children}\n        </div>\n      </DashboardContent>\n      {rightSidenav}\n    </DashboardLayout>\n  );\n}\n","import {GetArticleResponse} from '@app/help-center/articles/use-article';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\nimport {Breadcrumb} from '@common/ui/breadcrumbs/breadcrumb';\nimport {BreadcrumbItem} from '@common/ui/breadcrumbs/breadcrumb-item';\nimport {Trans} from '@common/i18n/trans';\nimport {getCategoryLink} from '@app/help-center/categories/category-link';\nimport React from 'react';\nimport {Section} from '@app/help-center/categories/category';\n\ninterface Props {\n  data: GetArticleResponse;\n  className?: string;\n}\n\nexport function ArticlePageBreadcrumb({data: {article}, className}: Props) {\n  const navigate = useNavigate();\n\n  if (!article.path?.length) {\n    return null;\n  }\n\n  return (\n    <Breadcrumb size=\"sm\" className={className}>\n      <BreadcrumbItem onSelected={() => navigate(`/hc`)}>\n        <Trans message=\"Help center\" />\n      </BreadcrumbItem>\n      {article.path.map(category => (\n        <BreadcrumbItem\n          key={`${(category as Section).parent_id}-${category.id}`} // prevent duplicate keys\n          onSelected={() => navigate(getCategoryLink(category))}\n        >\n          <Trans message={category.name} />\n        </BreadcrumbItem>\n      ))}\n      <BreadcrumbItem>\n        <Trans message=\"Article\" />\n      </BreadcrumbItem>\n    </Breadcrumb>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\nimport {useParams} from 'react-router-dom';\n\ninterface Payload {\n  wasHelpful: boolean;\n  comment?: string;\n}\n\nexport function useSubmitArticleFeedback() {\n  const {articleId} = useParams();\n  return useMutation({\n    mutationFn: (payload: Payload) => submitFeedback(articleId!, payload),\n    onSuccess: () => {\n      //\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction submitFeedback(articleId: string, payload: Payload) {\n  return apiClient\n    .post<BackendResponse>(`hc/articles/${articleId}/feedback`, payload)\n    .then(r => r.data);\n}\n","import {Trans} from '@common/i18n/trans';\nimport {Button} from '@common/ui/buttons/button';\nimport {CheckIcon} from '@common/icons/material/Check';\nimport {CloseIcon} from '@common/icons/material/Close';\nimport {useSubmitArticleFeedback} from '@app/help-center/articles/article-page/use-submit-article-feedback';\n\nexport function ArticlePageFeedback() {\n  const submitFeedback = useSubmitArticleFeedback();\n  if (submitFeedback.isSuccess) {\n    return (\n      <Trans message=\"Thank you! Your feedback will help us improve the support experience. If you need more help, try searching for what you need at the top of the page.\" />\n    );\n  }\n  return (\n    <div className=\"flex items-center gap-8\">\n      <div className=\"mr-10\">\n        <Trans message=\"Was this article helpful?\" />\n      </div>\n      <Button\n        variant=\"outline\"\n        radius=\"rounded-full\"\n        startIcon={<CheckIcon />}\n        color=\"positive\"\n        disabled={submitFeedback.isPending}\n        onClick={() => submitFeedback.mutate({wasHelpful: true})}\n      >\n        <Trans message=\"Yes\" />\n      </Button>\n      <Button\n        variant=\"outline\"\n        radius=\"rounded-full\"\n        startIcon={<CloseIcon />}\n        color=\"danger\"\n        disabled={submitFeedback.isPending}\n        onClick={() => submitFeedback.mutate({wasHelpful: false})}\n      >\n        <Trans message=\"No\" />\n      </Button>\n    </div>\n  );\n}\n","import {\n  ArticlePageNavItem,\n  GetArticleResponse,\n  useArticle,\n} from '@app/help-center/articles/use-article';\nimport React, {Fragment, useEffect, useRef, useState} from 'react';\nimport {PageMetaTags} from '@common/http/page-meta-tags';\nimport {PageStatus} from '@common/http/page-status';\nimport {Trans} from '@common/i18n/trans';\nimport {HcSidenav} from '@app/help-center/articles/hc-sidenav';\nimport {UseQueryResult} from '@tanstack/react-query';\nimport {Link, useLocation} from 'react-router-dom';\nimport clsx from 'clsx';\nimport {ArticleAttachments} from '@app/help-center/articles/article-attachments';\nimport {ArticlePageLayout} from '@app/help-center/articles/article-page/article-page-layout';\nimport {Skeleton} from '@common/ui/skeleton/skeleton';\nimport {AnimatePresence, m} from 'framer-motion';\nimport {opacityAnimation} from '@common/ui/animation/opacity-animation';\nimport {LinkStyle} from '@common/ui/buttons/external-link';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport {ArticlePageBreadcrumb} from '@app/help-center/articles/article-page/article-page-breadcrumb';\nimport {ArticlePageFeedback} from '@app/help-center/articles/article-page/article-page-feedback';\nimport {highlightCode} from '@common/text-editor/highlight/highlight-code';\nimport {useAuth} from '@common/auth/use-auth';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {EditIcon} from '@common/icons/material/Edit';\nimport {getEditArticleLink} from '@app/help-center/articles/article-link';\n\nexport function ArticlePage() {\n  const query = useArticle('articlePage');\n  const {hash} = useLocation();\n\n  useEffect(() => {\n    if (hash && query.data?.article) {\n      setTimeout(() => {\n        if (document.documentElement.scrollTop === 0) {\n          const el = document.getElementById(hash.slice(1));\n          if (el) {\n            el.scrollIntoView({behavior: 'smooth'});\n          }\n        }\n      });\n    }\n  }, [query.data, hash]);\n\n  return (\n    <ArticlePageLayout\n      leftSidenav={<HcSidenav sections={query.data?.categoryNav} />}\n      rightSidenav={<RightSidenav nav={query.data?.pageNav} />}\n      categoryId={query.data?.article.path?.[0].id}\n    >\n      <AnimatePresence initial={false} mode=\"sync\">\n        <PageContent query={query} />\n      </AnimatePresence>\n    </ArticlePageLayout>\n  );\n}\n\ninterface RightSidenavProps {\n  nav?: ArticlePageNavItem[];\n}\nfunction RightSidenav({nav}: RightSidenavProps) {\n  const [activeItem, setActiveItem] = useState<string | null>(null);\n  useEffect(() => {\n    if (!nav) return;\n\n    const observer = new IntersectionObserver(\n      entries => {\n        for (const entry of entries) {\n          const el = document.getElementById(`to-${entry.target.id}`);\n          if (el && entry.isIntersecting) {\n            setActiveItem(el.id.replace(/^to-/, ''));\n          }\n        }\n      },\n      {\n        rootMargin: '0px 0px -50% 0px',\n      },\n    );\n\n    const headings = nav\n      .map(item => document.getElementById(item.slug))\n      .filter(Boolean) as HTMLElement[];\n\n    headings.forEach(heading => {\n      observer.observe(heading);\n    });\n\n    return () => {\n      headings.forEach(heading => observer.unobserve(heading));\n    };\n  }, [nav]);\n\n  return (\n    <div className=\"dashboard-grid-sidenav-right compact-scrollbar hidden w-224 xl:flex xl:w-288\">\n      <nav className=\"sticky top-64 h-[calc(100dvh-64px)] w-full py-64 pr-32 xl:pr-64\">\n        <h2 className=\"font-display text-sm font-medium\">\n          <Trans message=\"On this page\" />\n        </h2>\n        <ol role=\"list\" className=\"mt-16 space-y-12 text-sm text-muted\">\n          {nav?.map(item => {\n            const isActive = item.slug === activeItem;\n            return (\n              <li key={item.slug} className={item.indent ? 'pl-20' : 'mt-8'}>\n                <Link\n                  className={clsx(\n                    'cursor-pointer',\n                    isActive ? 'text-primary' : 'hover:text-main',\n                  )}\n                  to={`#${item.slug}`}\n                  id={`to-${item.slug}`}\n                  onClick={e => {\n                    const el = document.getElementById(item.slug);\n                    if (el) {\n                      setActiveItem(item.slug);\n                      el.scrollIntoView({behavior: 'smooth'});\n                    }\n                  }}\n                >\n                  {item.display_name}\n                </Link>\n              </li>\n            );\n          })}\n        </ol>\n      </nav>\n    </div>\n  );\n}\n\ninterface PageContentProps {\n  query: UseQueryResult<GetArticleResponse>;\n}\nfunction PageContent({query}: PageContentProps) {\n  const settings = useSettings();\n  const {hasPermission, hasRole} = useAuth();\n  if (query.data && !query.isPlaceholderData) {\n    const canEdit =\n      hasPermission('articles.update') ||\n      (query.data.article.managed_by_role &&\n        hasRole(query.data.article.managed_by_role));\n    return (\n      <Fragment>\n        <PageMetaTags query={query} />\n        <m.article key=\"article\" {...opacityAnimation}>\n          <header className=\"mb-36\">\n            <ArticlePageBreadcrumb data={query.data} className=\"-ml-6\" />\n            <div className=\"mt-4 flex items-center gap-4\">\n              <h1 className=\"font-display text-slate-900 text-3xl tracking-tight\">\n                {query.data.article.title}\n              </h1>\n              {canEdit && (\n                <IconButton\n                  className=\"text-muted\"\n                  elementType={Link}\n                  to={getEditArticleLink(query.data.article)}\n                >\n                  <EditIcon />\n                </IconButton>\n              )}\n            </div>\n          </header>\n          <ArticleBody body={query.data.article.body} />\n          <ArticleAttachments article={query.data.article} />\n        </m.article>\n        {!settings.article?.hide_new_ticket_link && (\n          <div className=\"my-50 border-y py-50\">\n            <Trans\n              message=\"Have more questions? <a>Submit a request</a>\"\n              values={{\n                a: label => (\n                  <Link className={LinkStyle} to=\"/hc/tickets/new\">\n                    {label}\n                  </Link>\n                ),\n              }}\n            />\n          </div>\n        )}\n        <ArticlePageFeedback />\n      </Fragment>\n    );\n  }\n\n  return (\n    <PageStatus\n      query={query}\n      show404={false}\n      delayedSpinner={false}\n      loader={\n        <m.div key=\"skeletons\" {...opacityAnimation}>\n          <Skeleton variant=\"rect\" className=\"h-20 max-w-580\" />\n          <Skeleton variant=\"rect\" className=\"mb-30 mt-10 h-34 max-w-440\" />\n          <Skeleton className=\"max-w-[95%]\" />\n          <Skeleton />\n          <Skeleton className=\"mb-30 max-w-[70%]\" />\n          <Skeleton className=\"max-w-[90%]\" />\n          <Skeleton className=\"max-w-[80%]\" />\n          <Skeleton className=\"max-w-[30%]\" />\n        </m.div>\n      }\n    />\n  );\n}\n\ninterface ArticleBodyProps {\n  body: string;\n}\nfunction ArticleBody({body}: ArticleBodyProps) {\n  const bodyRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    if (bodyRef.current) {\n      highlightCode(bodyRef.current);\n    }\n  }, []);\n  return (\n    <div className=\"prose-headings:font-display prose-pre:bg-slate-900 prose max-w-none dark:prose-invert prose-headings:scroll-mt-112 prose-headings:font-normal prose-a:font-normal prose-a:text-primary prose-pre:rounded-xl prose-pre:shadow-lg dark:prose-pre:shadow-none dark:prose-pre:ring-1 dark:prose-pre:ring-divider lg:prose-headings:scroll-mt-136\">\n      <div\n        ref={bodyRef}\n        className=\"article-body whitespace-pre-wrap break-words\"\n        dangerouslySetInnerHTML={{__html: body}}\n      />\n    </div>\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {useParams} from 'react-router-dom';\nimport {apiClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {Category, Section} from '@app/help-center/categories/category';\nimport {Article} from '@app/help-center/articles/article';\nimport {getBootstrapData} from '@common/core/bootstrap-data/use-backend-bootstrap-data';\n\nexport interface GetCategoryResponse extends BackendResponse {\n  category: Category | Section;\n  articles?: Article[];\n  categoryNav?: Section[];\n}\n\nexport function useCategory(loader: 'categoryPage' | 'updateCategory') {\n  const {categoryId, sectionId} = useParams();\n  const id = sectionId || categoryId;\n  return useQuery<GetCategoryResponse>({\n    queryKey: ['hc', 'categories', id, loader],\n    queryFn: () => fetchCategory(id!, loader),\n    initialData: () => {\n      const data = getBootstrapData().loaders?.[loader];\n      if (data?.category?.id == id) {\n        return data;\n      }\n    },\n  });\n}\n\nfunction fetchCategory(\n  categoryId: string,\n  loader: string,\n): Promise<GetCategoryResponse> {\n  return apiClient\n    .get(`hc/categories/${categoryId}`, {params: {loader}})\n    .then(response => response.data);\n}\n","import React from 'react';\nimport {PageStatus} from '@common/http/page-status';\nimport {\n  GetCategoryResponse,\n  useCategory,\n} from '@app/help-center/categories/use-category';\nimport {ArticleIcon} from '@common/icons/material/Article';\nimport {ArticlePageLayout} from '@app/help-center/articles/article-page/article-page-layout';\nimport {ArticleLink} from '@app/help-center/articles/article-link';\nimport {ArticlePath} from '@app/help-center/articles/article-path';\nimport {HcSidenav} from '@app/help-center/articles/hc-sidenav';\nimport {Category, Section} from '@app/help-center/categories/category';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\nimport {Breadcrumb} from '@common/ui/breadcrumbs/breadcrumb';\nimport {BreadcrumbItem} from '@common/ui/breadcrumbs/breadcrumb-item';\nimport {Trans} from '@common/i18n/trans';\nimport {getCategoryLink} from '@app/help-center/categories/category-link';\n\nexport function CategoryPage() {\n  const query = useCategory('categoryPage');\n  const category = query.data?.category;\n\n  return (\n    <ArticlePageLayout\n      leftSidenav={<HcSidenav sections={query.data?.categoryNav} />}\n      categoryId={category?.is_section ? category.parent_id : category?.id}\n    >\n      {query.data ? (\n        <PageContent data={query.data} />\n      ) : (\n        <div>\n          <PageStatus query={query} loaderClassName=\"absolute inset-0 m-auto\" />\n        </div>\n      )}\n    </ArticlePageLayout>\n  );\n}\n\ninterface PageContentProps {\n  data: GetCategoryResponse;\n}\nfunction PageContent({data}: PageContentProps) {\n  return (\n    <div>\n      <header className=\"mb-36\">\n        <PageBreadcrumb category={data.category} />\n        <h1 className=\"font-display text-3xl tracking-tight\">\n          {data.category.name}\n        </h1>\n      </header>\n      {data.articles?.map(article => (\n        <div\n          key={article.id}\n          className=\"mb-16 flex items-start gap-10 border-b pb-16\"\n        >\n          <ArticleIcon size=\"md\" className=\"mt-2 text-muted\" />\n          <div>\n            <h2 className=\"font-display mb-2 text-xl\">\n              <ArticleLink article={article} />\n            </h2>\n            <ArticlePath article={article} className=\"text-sm text-muted\" />\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\ninterface PageBreadcrumbProps {\n  category: Category | Section;\n}\nfunction PageBreadcrumb({category}: PageBreadcrumbProps) {\n  const navigate = useNavigate();\n  const categories = [category];\n  if (category.is_section && category.parent) {\n    categories.unshift(category.parent);\n  }\n\n  return (\n    <Breadcrumb size=\"sm\" className=\"-ml-6\">\n      <BreadcrumbItem onSelected={() => navigate(`/hc`)}>\n        <Trans message=\"Help center\" />\n      </BreadcrumbItem>\n      {categories.map(category => (\n        <BreadcrumbItem\n          key={category.id}\n          onSelected={() => navigate(getCategoryLink(category))}\n        >\n          <Trans message={category.name} />\n        </BreadcrumbItem>\n      ))}\n    </Breadcrumb>\n  );\n}\n","import {useSearchArticles} from '@app/help-center/search/use-search-articles';\nimport {useParams} from 'react-router-dom';\nimport {Navbar} from '@common/ui/navigation/navbar/navbar';\nimport {HcSearchBar} from '@app/help-center/search/hc-search-bar';\nimport {Breadcrumb} from '@common/ui/breadcrumbs/breadcrumb';\nimport {BreadcrumbItem} from '@common/ui/breadcrumbs/breadcrumb-item';\nimport {Trans} from '@common/i18n/trans';\nimport React from 'react';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\nimport {ArticlePath} from '@app/help-center/articles/article-path';\nimport {ArticleIcon} from '@common/icons/material/Article';\nimport {PageStatus} from '@common/http/page-status';\nimport searchImage from '@app/agent/agent-search-page/search.svg';\nimport {IllustratedMessage} from '@common/ui/images/illustrated-message';\nimport {SvgImage} from '@common/ui/images/svg-image/svg-image';\nimport {ArticleLink} from '@app/help-center/articles/article-link';\nimport {useSearchTermLogger} from '@app/help-center/search/use-search-term-logger';\n\nexport function HcSearchPage() {\n  const navigate = useNavigate();\n  return (\n    <div>\n      <Navbar menuPosition=\"header\">\n        <HcSearchBar />\n      </Navbar>\n      <main className=\"container mx-auto px-24 pb-48\">\n        <Breadcrumb size=\"sm\" className=\"mb-48 mt-34\">\n          <BreadcrumbItem onSelected={() => navigate(`/hc`)}>\n            <Trans message=\"Help center\" />\n          </BreadcrumbItem>\n          <BreadcrumbItem>\n            <Trans message=\"Search\" />\n          </BreadcrumbItem>\n        </Breadcrumb>\n        <PageContent />\n      </main>\n    </div>\n  );\n}\n\nfunction PageContent() {\n  const searchLogger = useSearchTermLogger();\n  const {query: searchTerm} = useParams();\n  const query = useSearchArticles(searchTerm!, {perPage: 30});\n\n  if (query.data) {\n    if (query.data.pagination.data.length === 0) {\n      return (\n        <IllustratedMessage\n          className=\"mt-48\"\n          image={<SvgImage src={searchImage} />}\n          title={<Trans message=\"No articles match your search query\" />}\n        />\n      );\n    }\n    return (\n      <div>\n        <h1 className=\"mb-34 text-3xl font-semibold\">\n          <Trans\n            message={`Showing :count results for \":query\"`}\n            values={{\n              count: query.data.pagination.data.length,\n              query: query.data.query,\n            }}\n          />\n        </h1>\n        {query.data?.pagination.data.map(article => (\n          <div key={article.id} className=\"mb-14 flex items-start gap-12\">\n            <ArticleIcon className=\"mt-4 flex-shrink-0 text-muted\" />\n            <div className=\"flex-auto\">\n              <h2 className=\"mb-4 text-xl\">\n                <ArticleLink\n                  article={article}\n                  onClick={() => {\n                    searchLogger.updateLastSearch({clickedArticle: true});\n                  }}\n                />\n              </h2>\n              <ArticlePath article={article} className=\"text-sm text-muted\" />\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  return <PageStatus query={query} show404={false} loaderIsScreen={false} />;\n}\n","import {RouteObject, useRoutes} from 'react-router-dom';\nimport {ArticlePage} from '@app/help-center/articles/article-page/article-page';\nimport {CategoryPage} from '@app/help-center/categories/category-page';\nimport {NotFoundPage} from '@common/ui/not-found-page/not-found-page';\nimport React from 'react';\nimport {AuthRoute} from '@common/auth/guards/auth-route';\nimport {FullPageLoader} from '@common/ui/progress/full-page-loader';\nimport {HcSearchPage} from '@app/help-center/search/hc-search-page';\nimport {LandingPage} from '@app/help-center/homepage/landing-page';\n\nconst TicketRoutes = React.lazy(\n  () => import('@app/help-center/tickets/hc-ticket-routes'),\n);\n\nconst RouteConfig: RouteObject[] = [\n  {\n    path: '/',\n    element: <LandingPage />,\n  },\n  {\n    path: '/articles/:articleId/:articleSlug',\n    element: <ArticlePage />,\n  },\n  {\n    path: '/articles/:categoryId/:sectionId/:articleId/:articleSlug',\n    element: <ArticlePage />,\n  },\n  {\n    path: '/categories/:categoryId/:sectionId/:slug',\n    element: <CategoryPage />,\n  },\n  {\n    path: '/categories/:categoryId/:slug',\n    element: <CategoryPage />,\n  },\n  {\n    path: '/search/:query',\n    element: <HcSearchPage />,\n  },\n  {\n    path: 'tickets/*',\n    element: (\n      <AuthRoute>\n        <React.Suspense fallback={<FullPageLoader screen />}>\n          <TicketRoutes />\n        </React.Suspense>\n      </AuthRoute>\n    ),\n  },\n  {\n    path: '*',\n    element: <NotFoundPage />,\n  },\n];\n\nexport default function HcRoutes() {\n  return useRoutes(RouteConfig);\n}\n"],"names":["ComboBox","submitFeedback","_a","PageContent","category"],"mappings":";;;;;;;;;;;;;AAiBO,SAAS,UAAU,EAAC,UAAU,mBAAyB;AACtD,QAAA,EAAC,cAAa;AACpB,QAAM,aAAa;AACnB,QAAM,EAAC,qBAAA,IAAwB,WAAW,sBAAsB;AAC1D,QAAA,eAAe,YAAY,eAAe;AAChD,QAAM,WAAW,mBAAmB;AAEpC,SACG,oBAAA,UAAA,EACC,UAAC,qBAAA,OAAA,EAAI,WAAU,4JACb,UAAA;AAAA,IAAC,qBAAA,OAAA,EAAI,WAAU,2DACb,UAAA;AAAA,MAAC,oBAAA,MAAA,EAAK,YAAwB,WAAU,OAAO,CAAA;AAAA,MAC/C,oBAAC,cAAW,SAAS,MAAM,qBAAqB,QAAQ,GACtD,UAAC,oBAAA,WAAA,CAAA,CAAU,EACb,CAAA;AAAA,IAAA,GACF;AAAA,IACC,oBAAA,OAAA,EAAI,WAAU,wBACb,8BAAC,MAAG,EAAA,MAAK,QAAO,WAAU,cACvB,UAAA,qCAAU,IAAI,CAAA;;kCACZ,MACC,EAAA,UAAA;AAAA,QAAC,oBAAA,MAAA,EAAG,WAAU,8BACZ,UAAA,oBAAC,SAAM,SAAS,QAAQ,MAAM,EAChC,CAAA;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YAET,WAAA,aAAQ,aAAR,mBAAkB,IAAI,CAAW,YAAA;AAChC,oBAAM,WAAW,GAAG,QAAQ,EAAE,OAAO;AACrC,yCACG,MACC,EAAA,UAAA;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,WAAW;AAAA,oBACT;AAAA,oBACA,YACE;AAAA,kBACJ;AAAA,kBACA;AAAA,kBACA;AAAA,gBAAA;AAAA,cAAA,KARK,QAAQ,EAUjB;AAAA,YAAA;AAAA,UAEH;AAAA,QACH;AAAA,MAAA,EAAA,GAxBO,QAAQ,EAyBjB;AAAA,OACD,CACH,EACF,CAAA;AAAA,EAAA,EACF,CAAA,EACF,CAAA;AAEJ;AC1DgB,SAAA,mBAAmB,EAAC,WAAiB;;AAC7C,QAAA,EAAC,aAAY;AACnB,6BACG,OAAI,EAAA,WAAU,cACZ,WAAQ,aAAA,gBAAA,mBAAa,IAAI,CAAc,eAAA;AACtC,UAAM,eAAe,GAAG,QAAQ,0BAA0B,WAAW,IAAI;AAEvE,WAAA,qBAAC,OAAwB,EAAA,WAAU,0BACjC,UAAA;AAAA,MAAA,oBAAC,gBAAe,EAAA,WAAU,QAAO,MAAK,MAAK;AAAA,2BAC1C,OACC,EAAA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAM;AAAA,YACN,UAAQ;AAAA,YACR,WAAU;AAAA,YAET,UAAW,WAAA;AAAA,UAAA;AAAA,QACd;AAAA,QACA,qBAAC,sBAAqB,EAAA,WAAU,2BAC9B,UAAA;AAAA,UAAC,oBAAA,gBAAA,EAAe,OAAO,WAAW,UAAW,CAAA;AAAA,UAC5C,oBAAA,KAAA,EAAE,MAAM,cAAc,UAAQ,MAAC,WAAU,mBACxC,UAAC,oBAAA,OAAA,EAAM,SAAQ,WAAW,CAAA,GAC5B;AAAA,QAAA,GACF;AAAA,MAAA,GACF;AAAA,IAAA,KAhBQ,WAAW,EAiBrB;AAAA,EAEH,GACH,CAAA;AAEJ;ACpBA,IAAI,gBAAqC,CAAA;AAuBlC,SAAS,sBAAsB;AACpC,QAAM,MAAM,YAAY,CAAC,EAAC,MAAM,SAAS,iBAA6B;AACpE,WAAO,6BAAM;AACb,QAAI,CAAC,QAAQ,KAAK,SAAS,GAAG;AAC5B;AAAA,IACF;AACA,kBAAc,KAAK;AAAA,MACjB;AAAA,MACA,SAAS,QAAQ,IAAI,CAAA,MAAK,EAAE,EAAE;AAAA,MAC9B,gBAAgB;AAAA,MAChB,eAAe;AAAA,MACf;AAAA,IAAA,CACD;AAAA,EACH,GAAG,CAAE,CAAA;AAEC,QAAA,mBAAmB,YAAY,CAAC,SAAqC;AACnE,UAAA,WAAW,cAAc,GAAG,EAAE;AACpC,QAAI,UAAU;AACZ,oBAAc,KAAK,EAAC,GAAG,UAAU,GAAG,KAAK,CAAA;AAAA,IAC3C;AAAA,EACF,GAAG,CAAE,CAAA;AAEE,SAAA;AAAA,IACL;AAAA,IACA;AAAA,EAAA;AAEJ;ACxCO,SAAS,YAAY;AAAA,EAC1B,cAAc,QAAQ,sBAAsB;AAAA,EAC5C,OAAO;AAAA,EACP,QAAQ;AAAA,EACR;AAAA,EACA,GAAG;AACL,GAAU;AACR,QAAM,CAAC,QAAQ,SAAS,IAAI,SAAS,KAAK;AAEpC,QAAA,aAAa,YAAY,MAAM;AACnC,cAAU,IAAI;AAAA,EAChB,GAAG,CAAE,CAAA;AAGH,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL;AAAA,MACA,cAAc;AAAA,MACd,WAAU;AAAA,MAEV,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACE,GAAG;AAAA,YACJ,WAAW;AAAA,YACX;AAAA,YACA;AAAA,YAEA,UAAA,oBAAC,OAAO,EAAA,GAAG,YAAa,CAAA;AAAA,UAAA;AAAA,QAC1B;AAAA,QACC,oBAAA,QAAA,EAAO,MAAK,MACX,UAAC,oBAAA,YAAA,EAAW,SAAQ,OAClB,UAAC,oBAAA,eAAA,EAAc,aAA0B,WAAwB,CAAA,EACnE,CAAA,GACF;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAMA,SAAS,cAAc,EAAC,aAAa,cAA+B;AAC5D,QAAA,EAAC,UAAS;AACV,QAAA,EAAC,UAAS;AAChB,QAAM,CAAC,OAAO,QAAQ,IAAI,SAAS,EAAE;AACrC,QAAM,eAAe;AACf,QAAA,EAAC,MAAM,WAAA,IAAc;AAAA,IACzB;AAAA,IACA,EAAC,aAAa,aAAa,CAAC,UAAU,IAAI,OAAS;AAAA,IACnD;AAAA,MACE,UAAU,CAAK,MAAA;;AACb,qBAAa,IAAI;AAAA,UACf,MAAM,EAAE;AAAA,UACR,SAAS,EAAE,WAAW;AAAA,UACtB,aAAY,OAAE,gBAAF,mBAAgB;AAAA,QAAC,CAC9B;AAAA,MACH;AAAA,IACF;AAAA,EAAA;AAEF,QAAM,WAAW;AAGf,SAAA;AAAA,IAACA;AAAAA,IAAA;AAAA,MACC,YAAY;AAAA,MACZ,oBAAoB;AAAA,MACpB,SAAO;AAAA,MACP,WAAW;AAAA,MACX,OAAO,6BAAM,WAAW;AAAA,MACxB,2BAAyB;AAAA,MACzB,sCAAmB,WAAU,EAAA;AAAA,MAC7B,aAAa,MAAM,WAAW;AAAA,MAC9B,oCAAiB,YAAW,EAAA;AAAA,MAC5B,gBAAc;AAAA,MACd,kBAAiB;AAAA,MACjB,aAAY;AAAA,MACZ,aAAY;AAAA,MACZ,WAAU;AAAA,MACV,MAAK;AAAA,MACL,eAAc;AAAA,MACd,aAAY;AAAA,MACZ,qBAAqB;AAAA,MACrB,eAAc;AAAA,MACd,kBAAgB;AAAA,MAEf,UACC,CAAA,WAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAQ;AAAA,UACR,QAAO;AAAA,UAEP,OAAO,OAAO;AAAA,UACd,YAAY,MAAM;AACV;AACN,yBAAa,iBAAiB,EAAC,gBAAgB,KAAK,CAAA;AAC3C,qBAAA,eAAe,MAAM,CAAC;AAAA,UACjC;AAAA,UACA,aAAa,oBAAC,aAAY,EAAA,SAAS,OAAQ,CAAA;AAAA,UAC3C,WAAW,OAAO;AAAA,UAEjB,UAAO,OAAA;AAAA,QAAA;AAAA,QAVH,OAAO;AAAA,MAWd;AAAA,IAAA;AAAA,EAAA;AAIR;ACtHO,SAAS,kBAAkB;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAU;AAEN,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,QAAO;AAAA,MACP,eAAc;AAAA,MACd,MAAK;AAAA,MACL,mBAAmB;AAAA,MAEnB,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,cAAa;AAAA,YACb,WAAU;AAAA,YACV,MAAK;AAAA,YAEL,UAAA,oBAAC,eAAY,WAAwB,CAAA;AAAA,UAAA;AAAA,QACvC;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,UAAS;AAAA,YACT,MAAK;AAAA,YACL,UAAS;AAAA,YACT,WAAU;AAAA,YAET,UAAA;AAAA,UAAA;AAAA,QACH;AAAA,QACA,oBAAC,oBAAiB,cAAc,OAC9B,8BAAC,OAAI,EAAA,WAAU,0EACZ,SAAA,CACH,EACF,CAAA;AAAA,QACC;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGP;ACnCO,SAAS,sBAAsB,EAAC,MAAM,EAAC,QAAO,GAAG,aAAmB;;AACzE,QAAM,WAAW;AAEb,MAAA,GAAC,aAAQ,SAAR,mBAAc,SAAQ;AAClB,WAAA;AAAA,EACT;AAEA,SACG,qBAAA,YAAA,EAAW,MAAK,MAAK,WACpB,UAAA;AAAA,IAAC,oBAAA,gBAAA,EAAe,YAAY,MAAM,SAAS,KAAK,GAC9C,UAAC,oBAAA,OAAA,EAAM,SAAQ,cAAA,CAAc,EAC/B,CAAA;AAAA,IACC,QAAQ,KAAK,IAAI,CAChB,aAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,YAAY,MAAM,SAAS,gBAAgB,QAAQ,CAAC;AAAA,QAEpD,UAAC,oBAAA,OAAA,EAAM,SAAS,SAAS,MAAM;AAAA,MAAA;AAAA,MAH1B,GAAI,SAAqB,SAAS,IAAI,SAAS,EAAE;AAAA,IAAA,CAKzD;AAAA,wBACA,gBACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,UAAU,CAAA,GAC3B;AAAA,EACF,EAAA,CAAA;AAEJ;AC5BO,SAAS,2BAA2B;AACnC,QAAA,EAAC,cAAa;AACpB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,YAAqB,eAAe,WAAY,OAAO;AAAA,IACpE,WAAW,MAAM;AAAA,IAEjB;AAAA,IACA,SAAS,CAAO,QAAA,mBAAmB,GAAG;AAAA,EAAA,CACvC;AACH;AAEA,SAAS,eAAe,WAAmB,SAAkB;AACpD,SAAA,UACJ,KAAsB,eAAe,SAAS,aAAa,OAAO,EAClE,KAAK,CAAK,MAAA,EAAE,IAAI;AACrB;ACpBO,SAAS,sBAAsB;AACpC,QAAMC,kBAAiB;AACvB,MAAIA,gBAAe,WAAW;AAE1B,WAAA,oBAAC,OAAM,EAAA,SAAQ,uJAAuJ,CAAA;AAAA,EAE1K;AAEE,SAAA,qBAAC,OAAI,EAAA,WAAU,2BACb,UAAA;AAAA,IAAA,oBAAC,SAAI,WAAU,SACb,8BAAC,OAAM,EAAA,SAAQ,6BAA4B,EAC7C,CAAA;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,QAAO;AAAA,QACP,+BAAY,WAAU,EAAA;AAAA,QACtB,OAAM;AAAA,QACN,UAAUA,gBAAe;AAAA,QACzB,SAAS,MAAMA,gBAAe,OAAO,EAAC,YAAY,MAAK;AAAA,QAEvD,UAAA,oBAAC,OAAM,EAAA,SAAQ,MAAM,CAAA;AAAA,MAAA;AAAA,IACvB;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,QAAO;AAAA,QACP,+BAAY,WAAU,EAAA;AAAA,QACtB,OAAM;AAAA,QACN,UAAUA,gBAAe;AAAA,QACzB,SAAS,MAAMA,gBAAe,OAAO,EAAC,YAAY,OAAM;AAAA,QAExD,UAAA,oBAAC,OAAM,EAAA,SAAQ,KAAK,CAAA;AAAA,MAAA;AAAA,IACtB;AAAA,EACF,EAAA,CAAA;AAEJ;ACZO,SAAS,cAAc;;AACtB,QAAA,QAAQ,WAAW,aAAa;AAChC,QAAA,EAAC,SAAQ;AAEf,YAAU,MAAM;;AACV,QAAA,UAAQC,MAAA,MAAM,SAAN,gBAAAA,IAAY,UAAS;AAC/B,iBAAW,MAAM;AACX,YAAA,SAAS,gBAAgB,cAAc,GAAG;AAC5C,gBAAM,KAAK,SAAS,eAAe,KAAK,MAAM,CAAC,CAAC;AAChD,cAAI,IAAI;AACN,eAAG,eAAe,EAAC,UAAU,SAAS,CAAA;AAAA,UACxC;AAAA,QACF;AAAA,MAAA,CACD;AAAA,IACH;AAAA,EACC,GAAA,CAAC,MAAM,MAAM,IAAI,CAAC;AAGnB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,aAAc,oBAAA,WAAA,EAAU,WAAU,WAAM,SAAN,mBAAY,aAAa;AAAA,MAC3D,cAAe,oBAAA,cAAA,EAAa,MAAK,WAAM,SAAN,mBAAY,SAAS;AAAA,MACtD,aAAY,iBAAM,SAAN,mBAAY,QAAQ,SAApB,mBAA2B,GAAG;AAAA,MAE1C,UAAA,oBAAC,mBAAgB,SAAS,OAAO,MAAK,QACpC,UAAA,oBAACC,eAAY,EAAA,MAAA,CAAc,EAC7B,CAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAKA,SAAS,aAAa,EAAC,OAAyB;AAC9C,QAAM,CAAC,YAAY,aAAa,IAAI,SAAwB,IAAI;AAChE,YAAU,MAAM;AACd,QAAI,CAAC;AAAK;AAEV,UAAM,WAAW,IAAI;AAAA,MACnB,CAAW,YAAA;AACT,mBAAW,SAAS,SAAS;AAC3B,gBAAM,KAAK,SAAS,eAAe,MAAM,MAAM,OAAO,EAAE,EAAE;AACtD,cAAA,MAAM,MAAM,gBAAgB;AAC9B,0BAAc,GAAG,GAAG,QAAQ,QAAQ,EAAE,CAAC;AAAA,UACzC;AAAA,QACF;AAAA,MACF;AAAA,MACA;AAAA,QACE,YAAY;AAAA,MACd;AAAA,IAAA;AAGI,UAAA,WAAW,IACd,IAAI,CAAQ,SAAA,SAAS,eAAe,KAAK,IAAI,CAAC,EAC9C,OAAO,OAAO;AAEjB,aAAS,QAAQ,CAAW,YAAA;AAC1B,eAAS,QAAQ,OAAO;AAAA,IAAA,CACzB;AAED,WAAO,MAAM;AACX,eAAS,QAAQ,CAAA,YAAW,SAAS,UAAU,OAAO,CAAC;AAAA,IAAA;AAAA,EACzD,GACC,CAAC,GAAG,CAAC;AAER,6BACG,OAAI,EAAA,WAAU,gFACb,UAAC,qBAAA,OAAA,EAAI,WAAU,mEACb,UAAA;AAAA,IAAA,oBAAC,QAAG,WAAU,oCACZ,8BAAC,OAAM,EAAA,SAAQ,gBAAe,EAChC,CAAA;AAAA,IACA,oBAAC,QAAG,MAAK,QAAO,WAAU,uCACvB,UAAA,2BAAK,IAAI,CAAQ,SAAA;AACV,YAAA,WAAW,KAAK,SAAS;AAC/B,iCACG,MAAmB,EAAA,WAAW,KAAK,SAAS,UAAU,QACrD,UAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAW;AAAA,YACT;AAAA,YACA,WAAW,iBAAiB;AAAA,UAC9B;AAAA,UACA,IAAI,IAAI,KAAK,IAAI;AAAA,UACjB,IAAI,MAAM,KAAK,IAAI;AAAA,UACnB,SAAS,CAAK,MAAA;AACZ,kBAAM,KAAK,SAAS,eAAe,KAAK,IAAI;AAC5C,gBAAI,IAAI;AACN,4BAAc,KAAK,IAAI;AACvB,iBAAG,eAAe,EAAC,UAAU,SAAS,CAAA;AAAA,YACxC;AAAA,UACF;AAAA,UAEC,UAAK,KAAA;AAAA,QAAA;AAAA,MAAA,KAhBD,KAAK,IAkBd;AAAA,IAEH,IACH;AAAA,EAAA,EACF,CAAA,EACF,CAAA;AAEJ;AAKA,SAASA,cAAY,EAAC,SAA0B;;AAC9C,QAAM,WAAW;AACjB,QAAM,EAAC,eAAe,QAAO,IAAI,QAAQ;AACzC,MAAI,MAAM,QAAQ,CAAC,MAAM,mBAAmB;AAC1C,UAAM,UACJ,cAAc,iBAAiB,KAC9B,MAAM,KAAK,QAAQ,mBAClB,QAAQ,MAAM,KAAK,QAAQ,eAAe;AAC9C,gCACG,UACC,EAAA,UAAA;AAAA,MAAA,oBAAC,gBAAa,OAAc;AAAA,MAC3B,qBAAA,EAAE,SAAF,EAAyB,GAAG,kBAC3B,UAAA;AAAA,QAAC,qBAAA,UAAA,EAAO,WAAU,SAChB,UAAA;AAAA,UAAA,oBAAC,uBAAsB,EAAA,MAAM,MAAM,MAAM,WAAU,SAAQ;AAAA,UAC3D,qBAAC,OAAI,EAAA,WAAU,gCACb,UAAA;AAAA,YAAA,oBAAC,QAAG,WAAU,uDACX,UAAM,MAAA,KAAK,QAAQ,OACtB;AAAA,YACC,WACC;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAU;AAAA,gBACV,aAAa;AAAA,gBACb,IAAI,mBAAmB,MAAM,KAAK,OAAO;AAAA,gBAEzC,8BAAC,UAAS,EAAA;AAAA,cAAA;AAAA,YACZ;AAAA,UAAA,GAEJ;AAAA,QAAA,GACF;AAAA,4BACC,aAAY,EAAA,MAAM,MAAM,KAAK,QAAQ,MAAM;AAAA,QAC3C,oBAAA,oBAAA,EAAmB,SAAS,MAAM,KAAK,SAAS;AAAA,MAAA,EAAA,GAnBpC,SAoBf;AAAA,MACC,GAAC,cAAS,YAAT,mBAAkB,yBACjB,oBAAA,OAAA,EAAI,WAAU,wBACb,UAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAQ;AAAA,UACR,QAAQ;AAAA,YACN,GAAG,WACA,oBAAA,MAAA,EAAK,WAAW,WAAW,IAAG,mBAC5B,UACH,MAAA,CAAA;AAAA,UAEJ;AAAA,QAAA;AAAA,MAAA,GAEJ;AAAA,0BAED,qBAAoB,EAAA;AAAA,IACvB,EAAA,CAAA;AAAA,EAEJ;AAGE,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA,SAAS;AAAA,MACT,gBAAgB;AAAA,MAChB,QACG,qBAAA,EAAE,KAAF,EAAuB,GAAG,kBACzB,UAAA;AAAA,QAAA,oBAAC,UAAS,EAAA,SAAQ,QAAO,WAAU,kBAAiB;AAAA,QACnD,oBAAA,UAAA,EAAS,SAAQ,QAAO,WAAU,8BAA6B;AAAA,QAChE,oBAAC,UAAS,EAAA,WAAU,cAAc,CAAA;AAAA,4BACjC,UAAS,EAAA;AAAA,QACV,oBAAC,UAAS,EAAA,WAAU,oBAAoB,CAAA;AAAA,QACxC,oBAAC,UAAS,EAAA,WAAU,cAAc,CAAA;AAAA,QAClC,oBAAC,UAAS,EAAA,WAAU,cAAc,CAAA;AAAA,QAClC,oBAAC,UAAS,EAAA,WAAU,cAAc,CAAA;AAAA,MAAA,EAAA,GARzB,WASX;AAAA,IAAA;AAAA,EAAA;AAIR;AAKA,SAAS,YAAY,EAAC,QAAyB;AACvC,QAAA,UAAU,OAAuB,IAAI;AAC3C,YAAU,MAAM;AACd,QAAI,QAAQ,SAAS;AACnB,oBAAc,QAAQ,OAAO;AAAA,IAC/B;AAAA,EACF,GAAG,CAAE,CAAA;AAEH,SAAA,oBAAC,OAAI,EAAA,WAAU,gVACb,UAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,KAAK;AAAA,MACL,WAAU;AAAA,MACV,yBAAyB,EAAC,QAAQ,KAAI;AAAA,IAAA;AAAA,EAE1C,EAAA,CAAA;AAEJ;AClNO,SAAS,YAAY,QAA2C;AACrE,QAAM,EAAC,YAAY,UAAS,IAAI,UAAU;AAC1C,QAAM,KAAK,aAAa;AACxB,SAAO,SAA8B;AAAA,IACnC,UAAU,CAAC,MAAM,cAAc,IAAI,MAAM;AAAA,IACzC,SAAS,MAAM,cAAc,IAAK,MAAM;AAAA,IACxC,aAAa,MAAM;;AACjB,YAAM,QAAO,sBAAA,EAAmB,YAAnB,mBAA6B;AACtC,YAAA,kCAAM,aAAN,mBAAgB,OAAM,IAAI;AACrB,eAAA;AAAA,MACT;AAAA,IACF;AAAA,EAAA,CACD;AACH;AAEA,SAAS,cACP,YACA,QAC8B;AAC9B,SAAO,UACJ,IAAI,iBAAiB,UAAU,IAAI,EAAC,QAAQ,EAAC,UAAQ,EACrD,KAAK,CAAA,aAAY,SAAS,IAAI;AACnC;AClBO,SAAS,eAAe;;AACvB,QAAA,QAAQ,YAAY,cAAc;AAClC,QAAA,YAAW,WAAM,SAAN,mBAAY;AAG3B,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,aAAc,oBAAA,WAAA,EAAU,WAAU,WAAM,SAAN,mBAAY,aAAa;AAAA,MAC3D,aAAY,qCAAU,cAAa,SAAS,YAAY,qCAAU;AAAA,MAEjE,UAAM,MAAA,OACJ,oBAAAA,eAAA,EAAY,MAAM,MAAM,MAAM,IAE/B,oBAAC,SACC,UAAC,oBAAA,YAAA,EAAW,OAAc,iBAAgB,0BAA0B,CAAA,GACtE;AAAA,IAAA;AAAA,EAAA;AAIR;AAKA,SAASA,cAAY,EAAC,QAAyB;;AAC7C,8BACG,OACC,EAAA,UAAA;AAAA,IAAC,qBAAA,UAAA,EAAO,WAAU,SAChB,UAAA;AAAA,MAAC,oBAAA,gBAAA,EAAe,UAAU,KAAK,SAAU,CAAA;AAAA,0BACxC,MAAG,EAAA,WAAU,wCACX,UAAA,KAAK,SAAS,MACjB;AAAA,IAAA,GACF;AAAA,KACC,UAAK,aAAL,mBAAe,IAAI,CAClB,YAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,WAAU;AAAA,QAEV,UAAA;AAAA,UAAA,oBAAC,aAAY,EAAA,MAAK,MAAK,WAAU,mBAAkB;AAAA,+BAClD,OACC,EAAA,UAAA;AAAA,YAAA,oBAAC,QAAG,WAAU,6BACZ,UAAC,oBAAA,aAAA,EAAY,QAAkB,CAAA,GACjC;AAAA,YACC,oBAAA,aAAA,EAAY,SAAkB,WAAU,qBAAqB,CAAA;AAAA,UAAA,GAChE;AAAA,QAAA;AAAA,MAAA;AAAA,MATK,QAAQ;AAAA,IAAA;AAAA,EAYnB,EAAA,CAAA;AAEJ;AAKA,SAAS,eAAe,EAAC,YAAgC;AACvD,QAAM,WAAW;AACX,QAAA,aAAa,CAAC,QAAQ;AACxB,MAAA,SAAS,cAAc,SAAS,QAAQ;AAC/B,eAAA,QAAQ,SAAS,MAAM;AAAA,EACpC;AAEA,SACG,qBAAA,YAAA,EAAW,MAAK,MAAK,WAAU,SAC9B,UAAA;AAAA,IAAC,oBAAA,gBAAA,EAAe,YAAY,MAAM,SAAS,KAAK,GAC9C,UAAC,oBAAA,OAAA,EAAM,SAAQ,cAAA,CAAc,EAC/B,CAAA;AAAA,IACC,WAAW,IAAI,CAAAC,cACd;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,YAAY,MAAM,SAAS,gBAAgBA,SAAQ,CAAC;AAAA,QAEpD,UAAC,oBAAA,OAAA,EAAM,SAASA,UAAS,MAAM;AAAA,MAAA;AAAA,MAH1BA,UAAS;AAAA,IAAA,CAKjB;AAAA,EACH,EAAA,CAAA;AAEJ;AC3EO,SAAS,eAAe;AAC7B,QAAM,WAAW;AACjB,8BACG,OACC,EAAA,UAAA;AAAA,IAAA,oBAAC,QAAO,EAAA,cAAa,UACnB,UAAA,oBAAC,cAAY,CAAA,GACf;AAAA,IACA,qBAAC,QAAK,EAAA,WAAU,iCACd,UAAA;AAAA,MAAA,qBAAC,YAAW,EAAA,MAAK,MAAK,WAAU,eAC9B,UAAA;AAAA,QAAC,oBAAA,gBAAA,EAAe,YAAY,MAAM,SAAS,KAAK,GAC9C,UAAC,oBAAA,OAAA,EAAM,SAAQ,cAAA,CAAc,EAC/B,CAAA;AAAA,4BACC,gBACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA,GAC1B;AAAA,MAAA,GACF;AAAA,0BACC,aAAY,EAAA;AAAA,IAAA,GACf;AAAA,EACF,EAAA,CAAA;AAEJ;AAEA,SAAS,cAAc;;AACrB,QAAM,eAAe;AACrB,QAAM,EAAC,OAAO,WAAU,IAAI,UAAU;AACtC,QAAM,QAAQ,kBAAkB,YAAa,EAAC,SAAS,IAAG;AAE1D,MAAI,MAAM,MAAM;AACd,QAAI,MAAM,KAAK,WAAW,KAAK,WAAW,GAAG;AAEzC,aAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAU;AAAA,UACV,OAAO,oBAAC,UAAS,EAAA,KAAK,YAAa,CAAA;AAAA,UACnC,OAAO,oBAAC,OAAM,EAAA,SAAQ,sCAAsC,CAAA;AAAA,QAAA;AAAA,MAAA;AAAA,IAGlE;AACA,gCACG,OACC,EAAA,UAAA;AAAA,MAAC,oBAAA,MAAA,EAAG,WAAU,gCACZ,UAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAS;AAAA,UACT,QAAQ;AAAA,YACN,OAAO,MAAM,KAAK,WAAW,KAAK;AAAA,YAClC,OAAO,MAAM,KAAK;AAAA,UACpB;AAAA,QAAA;AAAA,MAAA,GAEJ;AAAA,OACC,WAAM,SAAN,mBAAY,WAAW,KAAK,IAAI,CAC/B,YAAA,qBAAC,OAAqB,EAAA,WAAU,iCAC9B,UAAA;AAAA,QAAC,oBAAA,aAAA,EAAY,WAAU,gCAAgC,CAAA;AAAA,QACvD,qBAAC,OAAI,EAAA,WAAU,aACb,UAAA;AAAA,UAAC,oBAAA,MAAA,EAAG,WAAU,gBACZ,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC;AAAA,cACA,SAAS,MAAM;AACb,6BAAa,iBAAiB,EAAC,gBAAgB,KAAK,CAAA;AAAA,cACtD;AAAA,YAAA;AAAA,UAAA,GAEJ;AAAA,UACC,oBAAA,aAAA,EAAY,SAAkB,WAAU,qBAAqB,CAAA;AAAA,QAAA,GAChE;AAAA,MAAA,KAZQ,QAAQ,EAalB;AAAA,IAEJ,EAAA,CAAA;AAAA,EAEJ;AAEA,6BAAQ,YAAW,EAAA,OAAc,SAAS,OAAO,gBAAgB,MAAO,CAAA;AAC1E;AC7EA,MAAM,eAAe,MAAM;AAAA,EACzB,MAAM,OAAO,iCAA2C;AAC1D;AAEA,MAAM,cAA6B;AAAA,EACjC;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,aAAY,EAAA;AAAA,EACxB;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,aAAY,EAAA;AAAA,EACxB;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,aAAY,EAAA;AAAA,EACxB;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,cAAa,EAAA;AAAA,EACzB;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,cAAa,EAAA;AAAA,EACzB;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,cAAa,EAAA;AAAA,EACzB;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,SACG,oBAAA,WAAA,EACC,UAAC,oBAAA,MAAM,UAAN,EAAe,UAAW,oBAAA,gBAAA,EAAe,QAAM,KAAC,CAAA,GAC/C,UAAC,oBAAA,cAAA,CAAA,CAAa,EAChB,CAAA,GACF;AAAA,EAEJ;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,cAAa,EAAA;AAAA,EACzB;AACF;AAEA,SAAwB,WAAW;AACjC,SAAO,UAAU,WAAW;AAC9B;;;;;"}