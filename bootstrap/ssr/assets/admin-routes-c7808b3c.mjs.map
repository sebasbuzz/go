{"version":3,"file":"admin-routes-c7808b3c.mjs","sources":["../../../common/resources/client/admin/admin-sidebar.tsx","../../../common/resources/client/admin/admin-layout.tsx","../../../common/resources/client/admin/users/user-datatable-filters.ts","../../../common/resources/client/admin/roles/team.svg","../../../common/resources/client/datatable/requests/use-export-csv.ts","../../../common/resources/client/datatable/csv-export/csv-export-info-dialog.tsx","../../../common/resources/client/datatable/csv-export/data-table-export-csv-button.tsx","../../../common/resources/client/icons/material/PersonOff.tsx","../../../common/resources/client/admin/users/requests/use-unban-user.ts","../../../common/resources/client/admin/users/requests/use-impersonate-user.ts","../../../common/resources/client/admin/users/user-datatable-columns.tsx","../../../common/resources/client/admin/users/hubstaff-users/requests/save-user.ts","../../../common/resources/client/admin/users/hubstaff-users/save-hubstaff-user.tsx","../../../common/resources/client/admin/users/hubstaff-users/hubstaff-users-dialog.tsx","../../../common/resources/client/admin/users/hubstaff-users/requests/use-users.ts","../../../common/resources/client/admin/users/user-datatable.tsx","../../../common/resources/client/utils/array/chunk-array.ts","../../../common/resources/client/admin/appearance/config/default-appearance-config.ts","../../../resources/client/admin/appearance/background-position-selector.tsx","../../../resources/client/admin/appearance/landing-page-section.tsx","../../../common/resources/client/admin/appearance/appearance-button.tsx","../../../resources/client/admin/appearance/new-ticket-page-section/new-ticket-page-section.tsx","../../../resources/client/admin/appearance/new-ticket-page-section/sidebar-tips-section.tsx","../../../resources/client/admin/appearance/app-appearance-config.tsx","../../../common/resources/client/admin/appearance/config/merged-appearance-config.ts","../../../common/resources/client/admin/appearance/appearance-store.ts","../../../common/resources/client/admin/appearance/requests/save-appearance-changes.ts","../../../common/resources/client/admin/appearance/requests/appearance-values.ts","../../../common/resources/client/admin/appearance/section-header.tsx","../../../common/resources/client/admin/appearance/appearance-layout.tsx","../../../common/resources/client/admin/appearance/sections/menus/menu-list.tsx","../../../common/resources/client/admin/appearance/sections/menus/hooks/available-routes.ts","../../../common/resources/client/utils/string/uc-first.ts","../../../common/resources/client/admin/appearance/sections/menus/add-menu-item-dialog.tsx","../../../common/resources/client/icons/material/DragIndicator.tsx","../../../common/resources/client/admin/appearance/sections/menus/dropdown-menu.svg","../../../common/resources/client/ui/interactions/interactable-event.ts","../../../common/resources/client/ui/interactions/active-interaction.ts","../../../common/resources/client/ui/interactions/utils/dom-rect-to-obj.ts","../../../common/resources/client/ui/interactions/dnd/update-rects.ts","../../../common/resources/client/ui/interactions/dnd/use-draggable.ts","../../../common/resources/client/utils/array/move-item-in-array.ts","../../../common/resources/client/utils/array/move-item-in-new-array.ts","../../../common/resources/client/ui/interactions/dnd/use-sortable.ts","../../../common/resources/client/admin/appearance/sections/menus/menu-editor.tsx","../../../common/resources/client/auth/ui/permission-selector.tsx","../../../common/resources/client/ui/icon-picker/icon-grid-style.ts","../../../common/resources/client/ui/icon-picker/icon-picker.tsx","../../../common/resources/client/ui/icon-picker/icon-picker-dialog.tsx","../../../common/resources/client/admin/menus/menu-item-form.tsx","../../../common/resources/client/admin/appearance/sections/menus/menu-item-editor.tsx","../../../common/resources/client/admin/appearance/sections/general-section.tsx","../../../common/resources/client/utils/string/random-number.ts","../../../common/resources/client/admin/appearance/sections/themes/theme-list.tsx","../../../common/resources/client/ace-editor/ace-dialog.tsx","../../../common/resources/client/admin/appearance/sections/seo/use-seo-tags.ts","../../../common/resources/client/admin/appearance/sections/seo/use-update-seo-tags.ts","../../../common/resources/client/admin/appearance/sections/seo/seo-section.tsx","../../../common/resources/client/admin/appearance/sections/code/custom-code-section.tsx","../../../common/resources/client/admin/custom-pages/articles.svg","../../../common/resources/client/admin/custom-pages/custom-page-datatable-filters.tsx","../../../common/resources/client/admin/custom-pages/custom-page-datatable-columns.tsx","../../../common/resources/client/admin/custom-pages/custom-page-datable-page.tsx","../../../resources/client/admin/settings/app-settings-nav-config.ts","../../../common/resources/client/admin/settings/settings-nav-config.ts","../../../common/resources/client/admin/settings/settings-layout.tsx","../../../common/resources/client/admin/settings/requests/use-admin-settings.ts","../../../common/resources/client/admin/settings/generate-sitemap.ts","../../../common/resources/client/admin/settings/requests/update-admin-settings.ts","../../../common/resources/client/admin/settings/settings-panel.tsx","../../../common/resources/client/admin/settings/settings-separator.tsx","../../../common/resources/client/admin/settings/learn-more-link.tsx","../../../common/resources/client/admin/settings/pages/general-settings.tsx","../../../common/resources/client/admin/settings/pages/hubstaff-token/save-token.ts","../../../common/resources/client/admin/settings/pages/hubstaff-token/hubstaff-token-form.tsx","../../../common/resources/client/admin/settings/pages/hubstaff-settings.tsx","../../../common/resources/client/admin/appearance/sections/themes/color-icon.tsx","../../../common/resources/client/ui/themes/utils/color-to-theme-value.ts","../../../common/resources/client/ui/themes/utils/theme-value-to-hex.ts","../../../common/resources/client/icons/material/Tune.tsx","../../../common/resources/client/admin/appearance/sections/themes/theme-settings-dialog-trigger.tsx","../../../common/resources/client/icons/material/RestartAlt.tsx","../../../common/resources/client/admin/appearance/sections/themes/theme-more-options-button.tsx","../../../common/resources/client/ui/color-picker/color-swatch.tsx","../../../common/resources/client/ui/color-picker/color-presets.ts","../../../common/resources/client/ui/color-picker/color-picker.tsx","../../../common/resources/client/ui/color-picker/color-picker-dialog.tsx","../../../common/resources/client/admin/appearance/sections/themes/navbar-color-picker.tsx","../../../common/resources/client/admin/appearance/sections/themes/theme-editor.tsx","../../../common/resources/client/admin/settings/settings-error-group.tsx","../../../common/resources/client/admin/settings/pages/search-settings/requests/use-search-models.ts","../../../common/resources/client/admin/settings/pages/search-settings/requests/use-import-search-models.ts","../../../common/resources/client/admin/settings/pages/search-settings/search-settings.tsx","../../../resources/client/admin/settings/envato-settings/use-import-envato-items.ts","../../../resources/client/admin/settings/envato-settings/envato-settings.tsx","../../../resources/client/admin/settings/hc-settings/use-import-hc-data-from-zip.ts","../../../common/resources/client/icons/material/Style.tsx","../../../resources/client/admin/settings/hc-settings/hc-settings.tsx","../../../resources/client/admin/settings/incoming-email/crupdate-imap-connection-dialog.tsx","../../../common/resources/client/admin/settings/pages/mail-settings/gmail-icon.tsx","../../../common/resources/client/admin/settings/pages/mail-settings/connect-gmail-panel.tsx","../../../common/resources/client/admin/settings/pages/authentication-settings.tsx","../../../resources/client/admin/settings/incoming-email/incoming-email-settings.tsx","../../../resources/client/admin/settings/app-settings-routes.tsx","../../../common/resources/client/admin/settings/json-chip-field.tsx","../../../common/resources/client/ui/tabs/tab-panels.tsx","../../../common/resources/client/admin/settings/pages/subscription-settings.tsx","../../../common/resources/client/admin/settings/pages/localization-settings.tsx","../../../common/resources/client/admin/settings/pages/uploading-settings/max-server-upload-size.ts","../../../common/resources/client/uploads/utils/space-units.ts","../../../common/resources/client/uploads/utils/convert-to-bytes.ts","../../../common/resources/client/ui/forms/input-field/file-size-field.tsx","../../../common/resources/client/admin/settings/pages/uploading-settings/use-upload-s3-cors.ts","../../../common/resources/client/admin/settings/pages/uploading-settings/dropbox-form/use-generate-dropbox-refresh-token.ts","../../../common/resources/client/admin/settings/pages/uploading-settings/dropbox-form/dropbox-form.tsx","../../../common/resources/client/admin/settings/pages/uploading-settings/uploading-settings.tsx","../../../common/resources/client/admin/settings/pages/mail-settings/mailgun-credentials.tsx","../../../common/resources/client/admin/settings/pages/mail-settings/smtp-credentials.tsx","../../../common/resources/client/admin/settings/pages/mail-settings/ses-credentials.tsx","../../../common/resources/client/admin/settings/pages/mail-settings/postmark-credentials.tsx","../../../common/resources/client/admin/settings/pages/mail-settings/outgoing-mail-group.tsx","../../../common/resources/client/admin/settings/pages/mail-settings/outgoing-email-settings.tsx","../../../common/resources/client/admin/settings/pages/cache-settings/clear-cache.ts","../../../common/resources/client/admin/settings/pages/cache-settings/cache-settings.tsx","../../../common/resources/client/admin/settings/pages/logging-settings.tsx","../../../common/resources/client/admin/settings/pages/queue-settings.tsx","../../../common/resources/client/admin/settings/pages/recaptcha-settings.tsx","../../../common/resources/client/ui/forms/input-field/file-field.tsx","../../../common/resources/client/admin/settings/pages/reports-settings.tsx","../../../common/resources/client/admin/users/requests/update-user.ts","../../../common/resources/client/utils/hooks/sticky-sentinel.ts","../../../common/resources/client/admin/crupdate-resource-layout.tsx","../../../common/resources/client/admin/users/requests/use-teams.ts","../../../common/resources/client/admin/users/crupdate-user-form.tsx","../../../common/resources/client/icons/material/Report.tsx","../../../common/resources/client/admin/users/update-user-page.tsx","../../../common/resources/client/admin/users/requests/create-user.ts","../../../common/resources/client/admin/users/create-user-page.tsx","../../../common/resources/client/icons/material/Translate.tsx","../../../common/resources/client/admin/translations/use-locale-with-lines.ts","../../../common/resources/client/admin/translations/update-localization.ts","../../../common/resources/client/admin/translations/update-localization-dialog.tsx","../../../common/resources/client/admin/translations/create-localization.ts","../../../common/resources/client/admin/translations/create-localization-dialog.tsx","../../../common/resources/client/admin/translations/around-the-world.svg","../../../common/resources/client/admin/translations/localization-index.tsx","../../../common/resources/client/admin/translations/new-translation-dialog.tsx","../../../common/resources/client/admin/translations/translation-management-page.tsx","../../../common/resources/client/ui/overlays/dialog/image-zoom-dialog.tsx","../../../common/resources/client/admin/ads/ads-page.tsx","../../../common/resources/client/admin/appearance/section-list.tsx","../../../common/resources/client/admin/roles/role-index-page-filters.ts","../../../common/resources/client/admin/roles/roles-index-page.tsx","../../../common/resources/client/admin/roles/requests/use-role.ts","../../../common/resources/client/admin/roles/requests/use-update-role.ts","../../../common/resources/client/admin/roles/crupdate-role-page/crupdate-role-settings-panel.tsx","../../../common/resources/client/users/select-user-dialog.tsx","../../../common/resources/client/admin/roles/requests/use-remove-users-from-role.ts","../../../common/resources/client/admin/roles/requests/use-add-users-to-role.ts","../../../common/resources/client/admin/roles/crupdate-role-page/edit-role-page-users-panel.tsx","../../../common/resources/client/admin/roles/crupdate-role-page/edit-role-page.tsx","../../../common/resources/client/admin/roles/requests/user-create-role.ts","../../../common/resources/client/admin/roles/crupdate-role-page/create-role-page.tsx","../../../common/resources/client/admin/tags/tag-index-page-filters.ts","../../../common/resources/client/admin/tags/software-engineer.svg","../../../common/resources/client/admin/tags/crupdate-tag-form.tsx","../../../common/resources/client/admin/tags/requests/use-create-new-tag.ts","../../../common/resources/client/admin/tags/create-tag-dialog.tsx","../../../common/resources/client/admin/tags/requests/use-update-tag.ts","../../../common/resources/client/admin/tags/update-tag-dialog.tsx","../../../common/resources/client/admin/tags/tag-index-page.tsx","../../../common/resources/client/icons/material/Visibility.tsx","../../../common/resources/client/admin/file-entry/upload.svg","../../../common/resources/client/admin/file-entry/file-entry-index-filters.ts","../../../common/resources/client/admin/file-entry/file-entry-index-page.tsx","../../../common/resources/client/admin/subscriptions/subscription-index-page-filters.ts","../../../common/resources/client/admin/subscriptions/subscriptions.svg","../../../common/resources/client/admin/subscriptions/requests/use-update-subscription.ts","../../../common/resources/client/admin/subscriptions/crupdate-subscription-form.tsx","../../../common/resources/client/admin/subscriptions/update-subscription-dialog.tsx","../../../common/resources/client/admin/subscriptions/requests/use-create-subscription.ts","../../../common/resources/client/admin/subscriptions/create-subscription-dialog.tsx","../../../common/resources/client/icons/material/Pause.tsx","../../../common/resources/client/icons/material/PlayArrow.tsx","../../../common/resources/client/admin/subscriptions/subscriptions-index-page.tsx","../../../common/resources/client/icons/material/Sync.tsx","../../../common/resources/client/admin/plans/requests/use-sync-products.ts","../../../common/resources/client/admin/plans/requests/use-delete-product.ts","../../../common/resources/client/admin/plans/plans-index-page-filters.ts","../../../common/resources/client/admin/plans/plans-index-page.tsx","../../../common/resources/client/admin/plans/requests/use-product.ts","../../../common/resources/client/admin/plans/crupdate-plan-page/billing-period-presets.ts","../../../common/resources/client/admin/plans/crupdate-plan-page/price-form.tsx","../../../common/resources/client/admin/plans/crupdate-plan-page/crupdate-plan-form.tsx","../../../common/resources/client/admin/plans/requests/use-update-product.ts","../../../common/resources/client/admin/plans/crupdate-plan-page/edit-plan-page.tsx","../../../common/resources/client/admin/plans/requests/use-create-product.ts","../../../common/resources/client/admin/plans/crupdate-plan-page/create-plan-page.tsx","../../../common/resources/client/admin/settings/pages/gdpr-settings.tsx","../../../resources/client/admin/help-center/requests/use-categories.ts","../../../resources/client/admin/help-center/requests/use-hc-category-manager-params.ts","../../../resources/client/admin/help-center/requests/use-create-category.ts","../../../resources/client/admin/help-center/role-selector.tsx","../../../resources/client/admin/help-center/visible-to-field.tsx","../../../resources/client/admin/help-center/managed-by-field.tsx","../../../resources/client/admin/help-center/crupdate-category-dialog/crupdate-category-form.tsx","../../../resources/client/admin/help-center/crupdate-category-dialog/create-category-dialog.tsx","../../../resources/client/admin/help-center/manager/hc-manager-layout.tsx","../../../resources/client/admin/help-center/manager/hc-manager-breadcrumb.tsx","../../../resources/client/admin/help-center/manager/hc-manager-title.tsx","../../../common/resources/client/utils/hooks/is-touch-device.ts","../../../resources/client/admin/help-center/requests/use-reorder-categories.ts","../../../common/resources/client/ui/interactions/dnd/drag-preview.tsx","../../../resources/client/admin/help-center/manager/hc-manager-row.tsx","../../../resources/client/admin/help-center/manager/hc-manager-empty-message.tsx","../../../resources/client/admin/help-center/requests/use-delete-category.ts","../../../resources/client/admin/help-center/requests/use-update-category.ts","../../../resources/client/admin/help-center/crupdate-category-dialog/update-category-dialog.tsx","../../../resources/client/admin/help-center/manager/hc-category-manager.tsx","../../../resources/client/admin/help-center/requests/use-articles.ts","../../../resources/client/admin/help-center/requests/use-delete-articles.ts","../../../resources/client/admin/help-center/requests/use-hc-article-manager-params.ts","../../../resources/client/admin/help-center/requests/use-reorder-articles.ts","../../../resources/client/admin/help-center/manager/hc-article-manager.tsx","../../../resources/client/admin/help-center/requests/use-create-article.ts","../../../resources/client/admin/help-center/requests/use-update-article.ts","../../../resources/client/admin/help-center/article-editor/toggle-published-button.tsx","../../../common/resources/client/article-editor/article-editor-title.tsx","../../../common/resources/client/ui/slug-editor.tsx","../../../common/resources/client/icons/material/ArrowBack.tsx","../../../common/resources/client/icons/material/Undo.tsx","../../../common/resources/client/icons/material/Redo.tsx","../../../common/resources/client/text-editor/menubar/history-buttons.tsx","../../../common/resources/client/text-editor/menubar/mode-button.tsx","../../../common/resources/client/icons/material/HorizontalRule.tsx","../../../common/resources/client/icons/material/PriorityHigh.tsx","../../../common/resources/client/icons/material/Note.tsx","../../../common/resources/client/icons/material/SmartDisplay.tsx","../../../common/resources/client/text-editor/menubar/insert-menu-trigger.tsx","../../../common/resources/client/ui/keyboard/keyboard.tsx","../../../common/resources/client/text-editor/menubar/format-menu-trigger.tsx","../../../common/resources/client/icons/material/FormatColorText.tsx","../../../common/resources/client/icons/material/FormatColorFill.tsx","../../../common/resources/client/text-editor/menubar/color-buttons.tsx","../../../common/resources/client/icons/material/FormatAlignLeft.tsx","../../../common/resources/client/icons/material/FormatAlignCenter.tsx","../../../common/resources/client/icons/material/FormatAlignRight.tsx","../../../common/resources/client/icons/material/FormatAlignJustify.tsx","../../../common/resources/client/text-editor/menubar/align-buttons.tsx","../../../common/resources/client/icons/material/UnfoldMore.tsx","../../../common/resources/client/icons/material/UnfoldLess.tsx","../../../common/resources/client/article-editor/article-body-editor-menubar.tsx","../../../common/resources/client/article-editor/article-editor-sticky-header.tsx","../../../resources/client/admin/help-center/article-editor/use-article-editor-back-link.ts","../../../resources/client/admin/help-center/article-editor/hc-article-body-editor.tsx","../../../resources/client/admin/help-center/article-editor/article-section-selector.tsx","../../../resources/client/admin/help-center/article-editor/article-attachments-editor.tsx","../../../resources/client/admin/help-center/article-editor/article-author-field.tsx","../../../resources/client/admin/help-center/article-editor/article-editor-aside.tsx","../../../resources/client/admin/help-center/article-editor/update-article-page.tsx","../../../resources/client/admin/help-center/article-editor/create-article-page.tsx","../../../common/resources/client/charts/chart-layout.tsx","../../../common/resources/client/charts/chart-loading-indicator.tsx","../../../common/resources/client/charts/base-chart.tsx","../../../common/resources/client/charts/data/format-report-data.ts","../../../common/resources/client/charts/chart-colors.tsx","../../../common/resources/client/charts/line-chart.tsx","../../../resources/client/admin/reports/ticket-report/use-ticket-report.ts","../../../common/resources/client/charts/bar-chart.tsx","../../../resources/client/admin/reports/ticket-report/busiest-time-of-day-chart.tsx","../../../resources/client/admin/reports/ticket-report/agent-performance-table.tsx","../../../common/resources/client/icons/material/TrendingUp.tsx","../../../common/resources/client/icons/material/TrendingDown.tsx","../../../common/resources/client/charts/polar-area-chart.tsx","../../../common/resources/client/admin/analytics/geo-chart/use-google-geo-chart.ts","../../../common/resources/client/i18n/formatted-country-name.tsx","../../../common/resources/client/admin/analytics/geo-chart/geo-chart.tsx","../../../common/resources/client/admin/analytics/visitors-report-charts.tsx","../../../common/resources/client/icons/material/TrendingFlat.tsx","../../../common/resources/client/admin/analytics/admin-header-report.tsx","../../../common/resources/client/icons/material/HelpOutline.tsx","../../../common/resources/client/icons/material/Send.tsx","../../../common/resources/client/icons/material/EmojiEvents.tsx","../../../resources/client/admin/reports/ticket-report/ticket-report-header.tsx","../../../common/resources/client/admin/analytics/report-date-selector.tsx","../../../resources/client/admin/reports/bedesk-admin-report-layout.tsx","../../../resources/client/admin/reports/use-bedesk-report-date-range-state.tsx","../../../resources/client/admin/reports/ticket-report/admin-ticket-report.tsx","../../../common/resources/client/admin/analytics/use-admin-report.ts","../../../resources/client/admin/reports/admin-visitors-report.tsx","../../../resources/client/admin/reports/search-report/admin-search-report.tsx","../../../resources/client/admin/reports/search-report/failed-searches-report.tsx","../../../resources/client/admin/reports/search-report/popular-searches-report.tsx","../../../resources/client/admin/reports/articles-report/use-articles-report.ts","../../../resources/client/admin/reports/articles-report/article-report-table-columns.tsx","../../../resources/client/admin/reports/articles-report/articles-report.tsx","../../../resources/client/admin/reports/envato-report/use-envato-report.ts","../../../resources/client/admin/reports/envato-report/envato-report.tsx","../../../resources/client/admin/triggers/software-engineer.svg","../../../resources/client/admin/triggers/triggers-datatable-columns.tsx","../../../resources/client/admin/triggers/triggers-datatable-page.tsx","../../../resources/client/admin/triggers/requests/use-trigger.ts","../../../resources/client/admin/triggers/requests/use-update-trigger.ts","../../../resources/client/admin/triggers/form/trigger-section-header.tsx","../../../resources/client/admin/triggers/form/trigger-condition-selector.tsx","../../../resources/client/admin/triggers/form/trigger-action-selector.tsx","../../../resources/client/admin/triggers/form/crupdate-trigger-form.tsx","../../../common/resources/client/utils/array/group-array-by.ts","../../../resources/client/admin/triggers/requests/use-trigger-config.ts","../../../resources/client/admin/triggers/update-trigger-page.tsx","../../../resources/client/admin/triggers/requests/use-create-trigger.ts","../../../resources/client/admin/triggers/create-trigger-page.tsx","../../../resources/client/admin/article-datatable/article-datatable-columns.tsx","../../../resources/client/admin/article-datatable/canned-replies-datatable-filters.ts","../../../resources/client/admin/article-datatable/article-datatable-page.tsx","../../../resources/client/admin/ticket-categories/crupdate-ticket-category-form.tsx","../../../resources/client/admin/ticket-categories/requests/use-update-ticket-category.ts","../../../resources/client/admin/ticket-categories/update-ticket-category-dialog.tsx","../../../resources/client/admin/ticket-categories/software-engineer.svg","../../../resources/client/admin/ticket-categories/requests/use-create-ticket-category.ts","../../../resources/client/admin/ticket-categories/create-ticket-category-dialog.tsx","../../../resources/client/admin/ticket-categories/ticket-category-datatable.tsx","../../../resources/client/admin/ticket-request-type/crupdate-ticket-request-type-form.tsx","../../../resources/client/admin/ticket-request-type/requests/use-update-ticket-request-type.ts","../../../resources/client/admin/ticket-request-type/update-ticket-request-type-dialog.tsx","../../../resources/client/admin/ticket-request-type/software-engineer.svg","../../../resources/client/admin/ticket-request-type/requests/use-create-ticket-request-type.ts","../../../resources/client/admin/ticket-request-type/create-ticket-request-type-dialog.tsx","../../../resources/client/admin/ticket-request-type/ticket-request-type.tsx","../../../common/resources/client/admin/teams/team.svg","../../../common/resources/client/admin/teams/crupdate-team-form.tsx","../../../common/resources/client/admin/teams/requests/use-create-team.ts","../../../common/resources/client/admin/teams/create-team-dialog.tsx","../../../common/resources/client/admin/teams/requests/use-update-team.ts","../../../common/resources/client/admin/teams/update-team-dialog.tsx","../../../common/resources/client/admin/teams/teams-index-page.tsx","../../../resources/client/admin/app-admin-routes.tsx","../../../common/resources/client/admin/custom-pages/requests/use-update-custom-page.ts","../../../common/resources/client/admin/custom-pages/edit-custom-page.tsx","../../../common/resources/client/admin/custom-pages/requests/use-create-custom-page.ts","../../../common/resources/client/admin/custom-pages/create-custom-page.tsx","../../../common/resources/client/ui/font-selector/font.svg","../../../common/resources/client/ui/font-selector/font-selector-filters.tsx","../../../common/resources/client/i18n/use-filter.ts","../../../common/resources/client/ui/font-picker/browser-safe-fonts.ts","../../../common/resources/client/ui/font-selector/font-selector-state.ts","../../../common/resources/client/ui/font-selector/font-selector-pagination.tsx","../../../common/resources/client/ui/font-selector/font-selector.tsx","../../../common/resources/client/admin/appearance/sections/themes/theme-font-panel.tsx","../../../common/resources/client/admin/appearance/sections/themes/theme-radius-panel.tsx","../../../common/resources/client/admin/admin-routes.tsx"],"sourcesContent":["import clsx from 'clsx';\nimport React from 'react';\nimport {CustomMenu} from '../menus/custom-menu';\nimport {Trans} from '../i18n/trans';\nimport {useSettings} from '../core/settings/use-settings';\n\ninterface Props {\n  className?: string;\n  isCompactMode?: boolean;\n}\nexport function AdminSidebar({className, isCompactMode}: Props) {\n  const {version} = useSettings();\n  return (\n    <div\n      className={clsx(\n        className,\n        'relative flex flex-col gap-20 overflow-y-auto border-r bg-alt px-12 pb-16 pt-26 text-sm font-medium text-muted',\n      )}\n    >\n      <CustomMenu\n        matchDescendants={to => to === '/admin'}\n        menu=\"admin-sidebar\"\n        orientation=\"vertical\"\n        onlyShowIcons={isCompactMode}\n        itemClassName={({isActive}) =>\n          clsx(\n            'block w-full rounded-button py-12 px-16',\n            isActive\n              ? 'bg-primary/6 text-primary font-semibold'\n              : 'hover:bg-hover',\n          )\n        }\n        gap=\"gap-8\"\n      />\n      {!isCompactMode && (\n        <div className=\"mt-auto gap-14 px-16 text-xs\">\n          <Trans message=\"Version: :number\" values={{number: version}} />\n        </div>\n      )}\n    </div>\n  );\n}\n","import {Outlet} from 'react-router-dom';\nimport {AdminSidebar} from './admin-sidebar';\nimport {DashboardLayout} from '../ui/layout/dashboard-layout';\nimport {DashboardContent} from '../ui/layout/dashboard-content';\nimport {DashboardSidenav} from '../ui/layout/dashboard-sidenav';\nimport {DashboardNavbar} from '../ui/layout/dashboard-navbar';\n\nexport function AdminLayout() {\n  return (\n    <DashboardLayout name=\"admin\" leftSidenavCanBeCompact>\n      <DashboardNavbar size=\"sm\" menuPosition=\"admin-navbar\" />\n      <DashboardSidenav position=\"left\" size=\"sm\">\n        <AdminSidebar />\n      </DashboardSidenav>\n      <DashboardContent>\n        <div className=\"bg dark:bg-alt\">\n          <Outlet />\n        </div>\n      </DashboardContent>\n    </DashboardLayout>\n  );\n}\n","import {\n  BackendFilter,\n  FilterControlType,\n  FilterOperator,\n} from '../../datatable/filters/backend-filter';\nimport {\n  createdAtFilter,\n  updatedAtFilter,\n} from '../../datatable/filters/timestamp-filters';\nimport {message} from '../../i18n/message';\n\nexport const UserDatatableFilters: BackendFilter[] = [\n  {\n    key: 'email_verified_at',\n    label: message('Email'),\n    description: message('Email verification status'),\n    defaultOperator: FilterOperator.ne,\n    control: {\n      type: FilterControlType.Select,\n      defaultValue: '01',\n      options: [\n        {\n          key: '01',\n          label: message('is confirmed'),\n          value: {value: null, operator: FilterOperator.ne},\n        },\n        {\n          key: '02',\n          label: message('is not confirmed'),\n          value: {value: null, operator: FilterOperator.eq},\n        },\n      ],\n    },\n  },\n  createdAtFilter({\n    description: message('Date user registered or was created'),\n  }),\n  updatedAtFilter({\n    description: message('Date user was last updated'),\n  }),\n  {\n    key: 'subscriptions',\n    label: message('Subscription'),\n    description: message('Whether user is subscribed or not'),\n    defaultOperator: FilterOperator.eq,\n    control: {\n      type: FilterControlType.Select,\n      defaultValue: '01',\n      options: [\n        {\n          key: '01',\n          label: message('is subscribed'),\n          value: {value: '*', operator: FilterOperator.has},\n        },\n        {\n          key: '02',\n          label: message('is not subscribed'),\n          value: {value: '*', operator: FilterOperator.doesntHave},\n        },\n      ],\n    },\n  },\n];\n","export default \"__VITE_ASSET__d109d853__\"","import {apiClient} from '../../http/query-client';\nimport {BackendResponse} from '../../http/backend-response/backend-response';\nimport {useMutation} from '@tanstack/react-query';\nimport {showHttpErrorToast} from '../../utils/http/show-http-error-toast';\n\ninterface Response extends BackendResponse {\n  downloadPath?: string;\n  result?: 'jobQueued';\n}\n\nexport type ExportCsvPayload = Record<string, string | number | undefined>;\n\nexport function useExportCsv(endpoint: string) {\n  return useMutation({\n    mutationFn: (payload?: ExportCsvPayload) => exportCsv(endpoint, payload),\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction exportCsv(\n  endpoint: string,\n  payload: ExportCsvPayload | undefined,\n): Promise<Response> {\n  return apiClient.post(endpoint, payload).then(r => r.data);\n}\n","import {DialogBody} from '../../ui/overlays/dialog/dialog-body';\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\nimport {Dialog} from '../../ui/overlays/dialog/dialog';\nimport {Button} from '../../ui/buttons/button';\nimport {Trans} from '../../i18n/trans';\n\nexport function CsvExportInfoDialog() {\n  const {close} = useDialogContext();\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Csv export\" />\n      </DialogHeader>\n      <DialogBody>\n        <Trans\n          message=\"Your request is being processed. We'll email you when the report is ready to download. In\n            certain cases, it might take a little longer, depending on the number of items beings\n            exported and the volume of activity.\"\n        />\n      </DialogBody>\n      <DialogFooter>\n        <Button variant=\"flat\" color=\"primary\" onClick={close}>\n          <Trans message=\"Got it\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {IconButton} from '../../ui/buttons/icon-button';\nimport {FileDownloadIcon} from '../../icons/material/FileDownload';\nimport React, {Fragment, useState} from 'react';\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\nimport {ExportCsvPayload, useExportCsv} from '../requests/use-export-csv';\nimport {downloadFileFromUrl} from '../../uploads/utils/download-file-from-url';\nimport {CsvExportInfoDialog} from './csv-export-info-dialog';\n\ninterface DataTableExportCsvButtonProps {\n  endpoint: string;\n  payload?: ExportCsvPayload;\n}\nexport function DataTableExportCsvButton({\n  endpoint,\n  payload,\n}: DataTableExportCsvButtonProps) {\n  const [dialogIsOpen, setDialogIsOpen] = useState(false);\n  const exportCsv = useExportCsv(endpoint);\n\n  return (\n    <Fragment>\n      <IconButton\n        variant=\"outline\"\n        color=\"primary\"\n        size=\"sm\"\n        className=\"flex-shrink-0\"\n        disabled={exportCsv.isPending}\n        onClick={() => {\n          exportCsv.mutate(payload, {\n            onSuccess: response => {\n              if (response.downloadPath) {\n                downloadFileFromUrl(response.downloadPath);\n              } else {\n                setDialogIsOpen(true);\n              }\n            },\n          });\n        }}\n      >\n        <FileDownloadIcon />\n      </IconButton>\n      <DialogTrigger\n        type=\"modal\"\n        isOpen={dialogIsOpen}\n        onOpenChange={setDialogIsOpen}\n      >\n        <CsvExportInfoDialog />\n      </DialogTrigger>\n    </Fragment>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const PersonOffIcon = createSvgIcon(\n  <path d=\"m20 17.17-3.37-3.38c.64.22 1.23.48 1.77.76.97.51 1.58 1.52 1.6 2.62zm1.19 4.02-1.41 1.41-2.61-2.6H4v-2.78c0-1.12.61-2.15 1.61-2.66 1.29-.66 2.87-1.22 4.67-1.45L1.39 4.22 2.8 2.81l18.39 18.38zM15.17 18l-3-3H12c-2.37 0-4.29.73-5.48 1.34-.32.16-.52.5-.52.88V18h9.17zM12 6c1.1 0 2 .9 2 2 0 .86-.54 1.59-1.3 1.87l1.48 1.48C15.28 10.64 16 9.4 16 8c0-2.21-1.79-4-4-4-1.4 0-2.64.72-3.35 1.82l1.48 1.48C10.41 6.54 11.14 6 12 6z\" />\n, 'PersonOffOutlined');\n","import {useMutation} from '@tanstack/react-query';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {toast} from '@common/ui/toast/toast';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {message} from '@common/i18n/message';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\n\ninterface Response extends BackendResponse {}\n\nexport function useUnbanUser(userId: number) {\n  return useMutation({\n    mutationFn: () => unbanUser(userId),\n    onSuccess: () => {\n      toast(message('User unsuspended'));\n      queryClient.invalidateQueries({queryKey: ['users']});\n    },\n    onError: r => showHttpErrorToast(r),\n  });\n}\n\nfunction unbanUser(userId: number): Promise<Response> {\n  return apiClient.delete(`users/${userId}/unban`).then(r => r.data);\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {toast} from '@common/ui/toast/toast';\nimport {apiClient} from '@common/http/query-client';\nimport {message} from '@common/i18n/message';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {User} from '@common/auth/user';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\n\ninterface Response extends BackendResponse {\n  user: User;\n}\n\ninterface Payload {\n  userId: string | number;\n}\n\nexport function useImpersonateUser() {\n  return useMutation({\n    mutationFn: (payload: Payload) => impersonateUser(payload),\n    onSuccess: async response => {\n      toast(message(`Impersonating User \"${response.user.display_name}\"`));\n      window.location.href = '/';\n    },\n    onError: r => showHttpErrorToast(r),\n  });\n}\n\nfunction impersonateUser(payload: Payload) {\n  return apiClient\n    .post<Response>(`admin/users/impersonate/${payload.userId}`, payload)\n    .then(r => r.data);\n}\n","import {ColumnConfig} from '@common/datatable/column-config';\nimport {User} from '@common/auth/user';\nimport {Trans} from '@common/i18n/trans';\nimport {NameWithAvatar} from '@common/datatable/column-templates/name-with-avatar';\nimport {CheckIcon} from '@common/icons/material/Check';\nimport {CloseIcon} from '@common/icons/material/Close';\nimport {ChipList} from '@common/ui/forms/input-field/chip-field/chip-list';\nimport {Chip} from '@common/ui/forms/input-field/chip-field/chip';\nimport {Link} from 'react-router-dom';\nimport clsx from 'clsx';\nimport {FormattedDate} from '@common/i18n/formatted-date';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {EditIcon} from '@common/icons/material/Edit';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {PersonOffIcon} from '@common/icons/material/PersonOff';\nimport {BanUserDialog} from '@common/admin/users/ban-user-dialog';\nimport React from 'react';\nimport {useUnbanUser} from '@common/admin/users/requests/use-unban-user';\nimport {ConfirmationDialog} from '@common/ui/overlays/dialog/confirmation-dialog';\nimport {useImpersonateUser} from '@common/admin/users/requests/use-impersonate-user';\nimport {LoginIcon} from '@common/icons/material/Login';\n\nexport const userDatatableColumns: ColumnConfig<User>[] = [\n  {\n    key: 'name',\n    allowsSorting: true,\n    sortingKey: 'email',\n    width: 'flex-3 min-w-200',\n    visibleInMode: 'all',\n    header: () => <Trans message=\"User\" />,\n    body: user => (\n      <NameWithAvatar\n        image={user.avatar}\n        label={user.display_name}\n        description={user.email}\n      />\n    ),\n  },\n  {\n    key: 'subscribed',\n    header: () => <Trans message=\"Subscribed\" />,\n    width: 'w-96',\n    body: user =>\n      user.subscriptions?.length ? (\n        <CheckIcon className=\"text-positive icon-md\" />\n      ) : (\n        <CloseIcon className=\"text-danger icon-md\" />\n      ),\n  },\n  {\n    key: 'roles',\n    header: () => <Trans message=\"Roles\" />,\n    body: user => (\n      <ChipList radius=\"rounded\" size=\"xs\">\n        {user?.roles.map(role => (\n          <Chip key={role.id} selectable>\n            <Link\n              className={clsx('capitalize')}\n              target=\"_blank\"\n              to={`/admin/roles/${role.id}/edit`}\n            >\n              <Trans message={role.name} />\n            </Link>\n          </Chip>\n        ))}\n      </ChipList>\n    ),\n  },\n  {\n    key: 'firstName',\n    allowsSorting: true,\n    header: () => <Trans message=\"First name\" />,\n    body: user => user.first_name,\n  },\n  {\n    key: 'lastName',\n    allowsSorting: true,\n    header: () => <Trans message=\"Last name\" />,\n    body: user => user.last_name,\n  },\n  {\n    key: 'createdAt',\n    allowsSorting: true,\n    width: 'w-96',\n    header: () => <Trans message=\"Created at\" />,\n    body: user => (\n      <time>\n        <FormattedDate date={user.created_at} />\n      </time>\n    ),\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    width: 'w-128 flex-shrink-0',\n    hideHeader: true,\n    align: 'end',\n    visibleInMode: 'all',\n    body: user => (\n      <div className=\"text-muted\">\n        <Link to={`${user.id}/edit`}>\n          <Tooltip label={<Trans message=\"Edit user\" />}>\n            <IconButton size=\"md\">\n              <EditIcon />\n            </IconButton>\n          </Tooltip>\n        </Link>\n        {user.banned_at ? (\n          <UnbanButton user={user} />\n        ) : (\n          <DialogTrigger type=\"modal\">\n            <Tooltip label={<Trans message=\"Suspend user\" />}>\n              <IconButton size=\"md\">\n                <PersonOffIcon />\n              </IconButton>\n            </Tooltip>\n            <BanUserDialog user={user} />\n          </DialogTrigger>\n        )}\n        <ImpersonateButton user={user} />\n      </div>\n    ),\n  },\n];\n\ninterface UnbanButtonProps {\n  user: User;\n}\nfunction UnbanButton({user}: UnbanButtonProps) {\n  const unban = useUnbanUser(user.id);\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      onClose={confirmed => {\n        if (confirmed) {\n          unban.mutate();\n        }\n      }}\n    >\n      <Tooltip label={<Trans message=\"Remove suspension\" />}>\n        <IconButton size=\"md\" color=\"danger\">\n          <PersonOffIcon />\n        </IconButton>\n      </Tooltip>\n      <ConfirmationDialog\n        isDanger\n        title={\n          <Trans message=\"Suspend “:name“\" values={{name: user.display_name}} />\n        }\n        body={\n          <Trans message=\"Are you sure you want to remove suspension from this user?\" />\n        }\n        confirm={<Trans message=\"Unsuspend\" />}\n      />\n    </DialogTrigger>\n  );\n}\n\ninterface ImpersonateButtonProps {\n  user: User;\n}\nfunction ImpersonateButton({user}: ImpersonateButtonProps) {\n  const impersonate = useImpersonateUser();\n  return (\n    <DialogTrigger type=\"modal\">\n      <Tooltip label={<Trans message=\"Login as user\" />}>\n        <IconButton size=\"md\">\n          <LoginIcon />\n        </IconButton>\n      </Tooltip>\n      <ConfirmationDialog\n        title={\n          <Trans\n            message=\"Login as “:name“\"\n            values={{name: user.display_name}}\n          />\n        }\n        isLoading={impersonate.isPending}\n        body={<Trans message=\"Are you sure you want to login as this user?\" />}\n        confirm={<Trans message=\"Login\" />}\n        onConfirm={() => {\n          impersonate.mutate({userId: user.id});\n        }}\n      />\n    </DialogTrigger>\n  );\n}\n","import {useMutation, useQuery} from '@tanstack/react-query';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport { User } from '@common/auth/user';\r\nimport { BackendResponse } from '@common/http/backend-response/backend-response';\r\nimport { toast } from '@common/ui/toast/toast';\r\nimport { apiClient, queryClient } from '@common/http/query-client';\r\nimport { DatatableDataQueryKey } from '@common/datatable/requests/paginated-resources';\r\nimport { onFormQueryError } from '@common/errors/on-form-query-error';\r\nimport { message } from '@common/i18n/message';\r\nimport { useNavigate } from '@common/utils/hooks/use-navigate';\r\n\r\n\r\nexport interface Response extends BackendResponse {\r\n  user: User;\r\n}\r\n\r\nexport interface SaveUserForm {\r\n  email: string;\r\n  password: string;\r\n  hubstaff_user_id?: number;\r\n}\r\n\r\nexport interface CreateUserPayload\r\n  extends Omit<Partial<User>, 'email_verified_at'> {\r\n  email_verified_at?: boolean;\r\n}\r\n\r\n/* export function useCreateUser(form: UseFormReturn<CreateUserPayload>) {\r\n  const navigate = useNavigate();\r\n  return useMutation({\r\n    mutationFn: (props: CreateUserPayload) => createUser(props),\r\n    onSuccess: () => {\r\n      toast(message('User created'));\r\n      queryClient.invalidateQueries({queryKey: DatatableDataQueryKey('users')});\r\n      navigate('/admin/users');\r\n    },\r\n    onError: r => onFormQueryError(r, form),\r\n  });\r\n}\r\n\r\nfunction createUser(payload: CreateUserPayload): Promise<Response> {\r\n  if (payload.roles) {\r\n    payload.roles = payload.roles.map(r => r.id) as any;\r\n  }\r\n  return apiClient.post('users', payload).then(r => r.data);\r\n} */\r\n\r\n/* export interface CreateHubstaffTokenPayload {\r\n  refresh_token: string;\r\n  access_token: string;\r\n  expires_in: number;\r\n} */\r\n\r\n\r\n\r\nexport function useCreateUser(form: SaveUserForm) {\r\n  return useMutation({\r\n    mutationFn: (form: SaveUserForm) => createUser(form),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({queryKey: DatatableDataQueryKey('users')});\r\n    },\r\n  });\r\n}\r\n\r\n/* export const fetchUsers = async (form : SaveUserForm) => {\r\n  const data = {\r\n    email: form.email,\r\n    password: form.password,\r\n  }\r\n  return apiClient.post<Response>('users', data).then(r => r.data);\r\n} */\r\n\r\nconst createUser = async (payload: CreateUserPayload): Promise<Response> => {\r\n  const newPayload = {...payload, roles: [3]}\r\n  console.log('newPayload', newPayload);\r\n  return apiClient.post('users', newPayload).then(r => r.data);\r\n}","import { useEffect } from 'react';\r\nimport { useCreateUser } from './requests/save-user';\r\nimport { SaveUserForm } from './requests/save-user';\r\nimport { HubstaffUser } from './requests/use-users';\r\n\r\ninterface Props extends SaveUserForm {\r\n  setData: (users: HubstaffUser[]) => void;\r\n  data: HubstaffUser[];\r\n  globalStatusSaveUser: boolean;\r\n  setGlobalStatusSaveUser: (status: boolean) => void;\r\n}\r\n\r\nconst SaveHubstaffUser = (props: Props) => {\r\n  const { mutate, status, isError, isSuccess } = useCreateUser(props);\r\n  const payload = {\r\n    email: props.email,\r\n    password: props.password,\r\n    hubstaff_user_id: props.hubstaff_user_id\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(isSuccess) {\r\n      \r\n      const oldData = props.data;\r\n      setTimeout(() => {\r\n        props.setGlobalStatusSaveUser(false);\r\n        props.setData(oldData.filter(user => user.email !== props.email ))\r\n      }, 500);\r\n    }\r\n  }, [props, isSuccess])\r\n  \r\n\r\n  return (\r\n    <div className={`border-1 rounded-lg py-4 px-8 mb-5 ${isSuccess && \"bg-positive/focus\"}`}>\r\n      <div className={`flex gap-8 mb-5 ${isError && \"text-danger\"}`}>\r\n        <span>{props.email} - {props.hubstaff_user_id}</span><span>{`- Password: ${props.password}`}</span>\r\n        {isSuccess && <span className=\"text-positive\">&#10003;</span>}\r\n      </div>\r\n      {!isSuccess && (\r\n        <button \r\n          className='ml-auto flex text-muted italic' \r\n          onClick={() => (mutate(payload), props.setGlobalStatusSaveUser(true))}\r\n          disabled={status === \"pending\" || props.globalStatusSaveUser ? true : false}\r\n        >\r\n          {`Add User${status === \"pending\" ? \"...\" : \"\"}`}\r\n        </button>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SaveHubstaffUser;","import {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\r\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\r\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\r\nimport {Button} from '@common/ui/buttons/button';\r\nimport { HubstaffUser } from './requests/use-users';\r\nimport SaveHubstaffUser from './save-hubstaff-user';\r\nimport { useState } from 'react';\r\n\r\nexport interface Data {\r\n  data: HubstaffUser[];\r\n  setData: (users: HubstaffUser[]) => void;\r\n}\r\n\r\nexport function SyncHubstaffUsersDialog({data, setData} : Data) {\r\n  const {close} = useDialogContext();\r\n  const [globalStatusSaveUser, setGlobalStatusSaveUser] = useState(false)\r\n\r\n  return (\r\n    <Dialog>\r\n      <DialogHeader>\r\n        <Trans message=\"Sync Hubstaff Users\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        {data?.length > 0 \r\n          ? data.map(user => \r\n            <SaveHubstaffUser \r\n              key={user.id} \r\n              data={data} \r\n              setData={setData} \r\n              hubstaff_user_id={user.id} \r\n              globalStatusSaveUser={globalStatusSaveUser}\r\n              setGlobalStatusSaveUser={setGlobalStatusSaveUser}\r\n              email={user.email} password=\"buzzzcr!321\" /> ) \r\n          : \"No new Hubstaff users found.\"\r\n        }\r\n      </DialogBody>\r\n      <DialogFooter>\r\n        <Button onClick={() => close()}>\r\n          <Trans message=\"Cancel\" />\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n","import {useQuery} from '@tanstack/react-query';\r\nimport {apiClient} from '@common/http/query-client';\r\nimport {PaginatedBackendResponse} from '@common/http/backend-response/pagination-response';\r\nimport { BackendResponse } from '@common/http/backend-response/backend-response';\r\nimport {User} from '@common/auth/user';\r\nimport { toast } from '@common/ui/toast/toast';\r\nimport { message } from '@common/i18n/message';\r\n\r\n\r\nconst mock_users = [\r\n    /* {\r\n      \"id\": 777870,\r\n      \"name\": \"Andrés Martín\",\r\n      \"email\": \"andres@buzz.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2020-02-08T21:00:52.945281Z\",\r\n      \"updated_at\": \"2024-03-08T15:36:16.131847Z\"\r\n  },\r\n  {\r\n      \"id\": 778820,\r\n      \"name\": \"Luis Fernando Gutiérrez\",\r\n      \"email\": \"luis@buzz.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2020-02-10T15:20:08.800968Z\",\r\n      \"updated_at\": \"2024-03-15T11:38:29.737263Z\"\r\n  },\r\n  {\r\n      \"id\": 778839,\r\n      \"name\": \"Catalina Camareno\",\r\n      \"email\": \"catalina@buzz.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2020-02-10T15:35:54.362335Z\",\r\n      \"updated_at\": \"2024-03-18T14:46:34.226355Z\"\r\n  },\r\n  {\r\n      \"id\": 778933,\r\n      \"name\": \"moises gonzalez\",\r\n      \"email\": \"moises@buzz.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2020-02-10T17:11:15.771894Z\",\r\n      \"updated_at\": \"2024-03-15T11:38:27.738724Z\"\r\n  },\r\n  {\r\n      \"id\": 778936,\r\n      \"name\": \"Farina Ramos\",\r\n      \"email\": \"farina@buzz.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2020-02-10T17:15:48.559664Z\",\r\n      \"updated_at\": \"2024-03-18T18:24:33.463785Z\"\r\n  },\r\n  {\r\n      \"id\": 780189,\r\n      \"name\": \"Pili\",\r\n      \"email\": \"priscilla@buzz.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2020-02-12T14:47:36.377218Z\",\r\n      \"updated_at\": \"2024-01-10T19:16:26.090179Z\"\r\n  },\r\n  {\r\n      \"id\": 791191,\r\n      \"name\": \"Jefferson Sandí Álvarez\",\r\n      \"email\": \"jeff@buzz.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2020-03-03T02:36:27.458837Z\",\r\n      \"updated_at\": \"2024-03-18T17:41:46.305276Z\"\r\n  },\r\n  {\r\n      \"id\": 1008033,\r\n      \"name\": \"Laurel Zayas\",\r\n      \"email\": \"medios@buzz.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2020-11-03T14:59:03.780874Z\",\r\n      \"updated_at\": \"2024-03-14T13:01:32.941510Z\"\r\n  },\r\n  {\r\n      \"id\": 1186655,\r\n      \"name\": \"Crisly Díaz\",\r\n      \"email\": \"crisly@buzz.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2021-02-25T02:03:08.492288Z\",\r\n      \"updated_at\": \"2024-03-15T11:38:27.628517Z\"\r\n  },\r\n  {\r\n      \"id\": 1593195,\r\n      \"name\": \"Fran Gómez\",\r\n      \"email\": \"francine@buzz.cr\",\r\n      \"time_zone\": \"America/Bogota\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2021-10-07T21:28:11.459610Z\",\r\n      \"updated_at\": \"2024-03-16T11:38:44.384588Z\"\r\n  },\r\n  {\r\n      \"id\": 1609719,\r\n      \"name\": \"Katherinne Sequeira\",\r\n      \"email\": \"kat@buzz.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2021-10-21T17:57:23.964352Z\",\r\n      \"updated_at\": \"2024-02-29T14:50:21.104639Z\"\r\n  },\r\n  {\r\n      \"id\": 1462862,\r\n      \"name\": \"Rebeca Castro\",\r\n      \"email\": \"rebe@buzz.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2021-07-07T20:37:45.955156Z\",\r\n      \"updated_at\": \"2024-02-08T22:09:52.135733Z\"\r\n  },\r\n  {\r\n      \"id\": 1737982,\r\n      \"name\": \"Pamela Hidalgo\",\r\n      \"email\": \"phidalgou@baccredomatic.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2022-02-01T17:08:04.212058Z\",\r\n      \"updated_at\": \"2024-02-20T22:32:13.819091Z\"\r\n  },\r\n  {\r\n      \"id\": 1785968,\r\n      \"name\": \"Mario Oviedo\",\r\n      \"email\": \"mario@buzz.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2022-03-14T15:39:16.088175Z\",\r\n      \"updated_at\": \"2024-03-15T11:38:30.234701Z\"\r\n  },\r\n  {\r\n      \"id\": 1916021,\r\n      \"name\": \"Carlos Morales Altamirano\",\r\n      \"email\": \"carlos@buzz.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2022-07-14T16:15:22.267323Z\",\r\n      \"updated_at\": \"2024-03-16T11:38:44.147163Z\"\r\n  },\r\n  {\r\n      \"id\": 1939969,\r\n      \"name\": \"Glenda Moya\",\r\n      \"email\": \"glenda.moya@baccredomatic.cr\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2022-08-05T14:32:12.065252Z\",\r\n      \"updated_at\": \"2023-10-21T15:24:27.721003Z\"\r\n  },\r\n  {\r\n      \"id\": 1965900,\r\n      \"name\": \"Za\",\r\n      \"email\": \"zaffsalomon@gmail.com\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2022-08-30T23:35:42.198253Z\",\r\n      \"updated_at\": \"2024-03-18T05:28:21.789082Z\"\r\n  },\r\n  {\r\n      \"id\": 2004880,\r\n      \"name\": \"Jacky Paniagua\",\r\n      \"email\": \"jacky@buzz.cr\",\r\n      \"time_zone\": \"Etc/GMT+12\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2022-10-07T18:09:06.237072Z\",\r\n      \"updated_at\": \"2024-03-18T13:59:19.638907Z\"\r\n  },\r\n  {\r\n      \"id\": 2021248,\r\n      \"name\": \"Paula González\",\r\n      \"email\": \"pgonzalez@buzz.cr\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2022-10-24T16:17:24.169047Z\",\r\n      \"updated_at\": \"2024-03-12T13:42:50.173023Z\"\r\n  },\r\n  {\r\n      \"id\": 2049321,\r\n      \"name\": \"Karol Cruz Arias\",\r\n      \"email\": \"administrativo@buzz.cr\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2022-11-22T13:08:07.261128Z\",\r\n      \"updated_at\": \"2024-03-18T11:37:40.513074Z\"\r\n  },\r\n  {\r\n      \"id\": 2073292,\r\n      \"name\": \"Andreina Villalobos\",\r\n      \"email\": \"avillalobos@buzz.cr\",\r\n      \"time_zone\": \"Etc/GMT+12\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2022-12-12T14:52:05.447601Z\",\r\n      \"updated_at\": \"2024-03-15T11:38:30.229548Z\"\r\n  },\r\n  {\r\n      \"id\": 2100292,\r\n      \"name\": \"Irene Wallfall\",\r\n      \"email\": \"ire@buzz.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-01-04T16:59:40.755648Z\",\r\n      \"updated_at\": \"2024-03-18T06:32:24.178453Z\"\r\n  },\r\n  {\r\n      \"id\": 2108579,\r\n      \"name\": \"Raúl Prado\",\r\n      \"email\": \"rprado@buzz.cr\",\r\n      \"time_zone\": \"Etc/GMT+12\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-01-11T15:53:05.667538Z\",\r\n      \"updated_at\": \"2024-03-15T11:38:32.766086Z\"\r\n  },\r\n  {\r\n      \"id\": 2113768,\r\n      \"name\": \"Valeska\",\r\n      \"email\": \"vrodriguezv@baccredomatic.cr\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-01-16T16:31:04.772566Z\",\r\n      \"updated_at\": \"2024-01-12T22:28:42.840570Z\"\r\n  },\r\n  {\r\n      \"id\": 2157670,\r\n      \"name\": \"Chepe Vargas\",\r\n      \"email\": \"chepe@buzz.cr\",\r\n      \"time_zone\": \"Etc/GMT+12\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-02-20T17:04:13.932056Z\",\r\n      \"updated_at\": \"2024-03-15T11:38:28.661648Z\"\r\n  },\r\n  {\r\n      \"id\": 2254071,\r\n      \"name\": \"Cafria Martínez\",\r\n      \"email\": \"cafria@buzz.cr\",\r\n      \"time_zone\": \"Etc/GMT+12\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-05-22T19:39:10.335676Z\",\r\n      \"updated_at\": \"2024-03-08T11:37:59.377214Z\"\r\n  },\r\n  {\r\n      \"id\": 2255992,\r\n      \"name\": \"Francinnie Villalobos Rojas\",\r\n      \"email\": \"francin.villalobos@baccredomatic.cr\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-05-26T20:51:53.230447Z\",\r\n      \"updated_at\": \"2024-01-26T19:37:50.232090Z\"\r\n  },\r\n  {\r\n      \"id\": 2274418,\r\n      \"name\": \"Pame\",\r\n      \"email\": \"phernandez@buzz.cr\",\r\n      \"time_zone\": \"Etc/GMT+12\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-06-12T15:48:19.556913Z\",\r\n      \"updated_at\": \"2024-03-15T11:38:30.776770Z\"\r\n  },\r\n  {\r\n      \"id\": 2277830,\r\n      \"name\": \"Majo\",\r\n      \"email\": \"mjpereira@buzz.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-06-15T15:57:47.997349Z\",\r\n      \"updated_at\": \"2024-02-28T11:37:46.277810Z\"\r\n  },\r\n  {\r\n      \"id\": 2285036,\r\n      \"name\": \"Karen Gómez Méndez\",\r\n      \"email\": \"gomez.karenina@gmail.com\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-06-22T16:59:18.500574Z\",\r\n      \"updated_at\": \"2024-03-15T11:38:28.142235Z\"\r\n  },\r\n  {\r\n      \"id\": 2288526,\r\n      \"name\": \"Anel Rodriguez\",\r\n      \"email\": \"anel@buzz.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-06-26T14:28:48.425446Z\",\r\n      \"updated_at\": \"2024-03-18T13:03:27.547587Z\"\r\n  },\r\n  {\r\n      \"id\": 2310965,\r\n      \"name\": \"Maria Paula Vásquez Gutiérrez\",\r\n      \"email\": \"mpvasquez@buzz.cr\",\r\n      \"time_zone\": \"Etc/GMT+12\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-07-17T19:13:34.949193Z\",\r\n      \"updated_at\": \"2024-03-18T11:37:40.577084Z\"\r\n  },\r\n  {\r\n      \"id\": 2339504,\r\n      \"name\": \"Abigail Quesada\",\r\n      \"email\": \"aquesada@buzz.cr\",\r\n      \"time_zone\": \"Etc/GMT+12\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-08-15T15:06:08.166442Z\",\r\n      \"updated_at\": \"2024-02-20T11:37:50.928901Z\"\r\n  },\r\n  {\r\n      \"id\": 2345726,\r\n      \"name\": \"Maria Solano\",\r\n      \"email\": \"msolano@buzz.cr\",\r\n      \"time_zone\": \"Etc/GMT+12\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-08-21T15:09:51.282959Z\",\r\n      \"updated_at\": \"2024-03-18T13:01:19.415761Z\"\r\n  },\r\n  {\r\n      \"id\": 2347327,\r\n      \"name\": \"Tatiana Cervantes\",\r\n      \"email\": \"tatiana@buzz.cr\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-08-22T17:13:54.129076Z\",\r\n      \"updated_at\": \"2024-03-18T16:02:13.707631Z\"\r\n  },\r\n  {\r\n      \"id\": 2339550,\r\n      \"name\": \"Yendry Barahona Navarro\",\r\n      \"email\": \"ybarahona@buzz.cr\",\r\n      \"time_zone\": \"Etc/GMT+12\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-08-15T15:30:27.432133Z\",\r\n      \"updated_at\": \"2024-02-27T14:01:35.954910Z\"\r\n  },\r\n  {\r\n      \"id\": 2358338,\r\n      \"name\": \"Laura Guillén Ureña\",\r\n      \"email\": \"lguillen@buzz.cr\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-09-01T17:29:44.412855Z\",\r\n      \"updated_at\": \"2024-03-15T21:54:19.770438Z\"\r\n  },\r\n  {\r\n      \"id\": 1944414,\r\n      \"name\": \"Josseline Villalobos\",\r\n      \"email\": \"josseline.villalobos@baccredomatic.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-09-08T20:36:50.377878Z\",\r\n      \"updated_at\": \"2024-03-11T18:35:38.964332Z\"\r\n  },\r\n  {\r\n      \"id\": 2368923,\r\n      \"name\": \"Joel López\",\r\n      \"email\": \"jlopez@buzz.cr\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-09-12T17:06:30.504917Z\",\r\n      \"updated_at\": \"2024-03-15T11:38:32.363735Z\"\r\n  },\r\n  {\r\n      \"id\": 2378906,\r\n      \"name\": \"Cinthya Quintana Martínez\",\r\n      \"email\": \"cinthya@buzz.cr\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-09-22T20:38:36.159703Z\",\r\n      \"updated_at\": \"2024-03-15T19:15:12.681312Z\"\r\n  },\r\n  {\r\n      \"id\": 2383232,\r\n      \"name\": \"Argerie Flores\",\r\n      \"email\": \"aflores@buzz.cr\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-09-27T15:10:26.356089Z\",\r\n      \"updated_at\": \"2023-11-02T11:42:36.464247Z\"\r\n  },\r\n  {\r\n      \"id\": 2387801,\r\n      \"name\": \"Guiselle Borges Salas\",\r\n      \"email\": \"gborges@buzz.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-10-02T20:00:24.749496Z\",\r\n      \"updated_at\": \"2024-03-14T11:38:14.558491Z\"\r\n  },\r\n  {\r\n      \"id\": 2390228,\r\n      \"name\": \"Mónica Zumbado\",\r\n      \"email\": \"monica.zumbado_chacon@roche.com\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-10-04T22:27:14.399379Z\",\r\n      \"updated_at\": \"2023-12-27T14:11:18.885989Z\"\r\n  },\r\n  {\r\n      \"id\": 2390229,\r\n      \"name\": \"Nella Quiros\",\r\n      \"email\": \"marianella.quiros_valverde@roche.com\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-10-04T22:28:47.102016Z\",\r\n      \"updated_at\": \"2023-12-04T14:12:40.923145Z\"\r\n  },\r\n  {\r\n      \"id\": 2400089,\r\n      \"name\": \"Montse\",\r\n      \"email\": \"montserrat.guillen_solis@roche.com\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-10-16T15:52:36.421902Z\",\r\n      \"updated_at\": \"2024-03-11T17:39:08.030798Z\"\r\n  },\r\n  {\r\n      \"id\": 2413682,\r\n      \"name\": \"Steven Acosta Barrantes\",\r\n      \"email\": \"steven@buzz.cr\",\r\n      \"time_zone\": \"Etc/GMT+12\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-10-31T19:10:27.104029Z\",\r\n      \"updated_at\": \"2024-02-22T20:22:47.953572Z\"\r\n  },\r\n  {\r\n      \"id\": 2414587,\r\n      \"name\": \"Fernanda Monge\",\r\n      \"email\": \"fmonge@buzz.cr\",\r\n      \"time_zone\": \"Etc/GMT+12\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-11-01T15:32:12.177776Z\",\r\n      \"updated_at\": \"2024-03-13T11:38:09.261502Z\"\r\n  },\r\n  {\r\n      \"id\": 2414599,\r\n      \"name\": \"Sofia Induni\",\r\n      \"email\": \"btl@buzz.cr\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-11-01T15:42:09.549968Z\",\r\n      \"updated_at\": \"2024-03-18T12:51:33.713178Z\"\r\n  },\r\n  {\r\n      \"id\": 2418689,\r\n      \"name\": \"Krissya\",\r\n      \"email\": \"kleon@buzz.cr\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-11-06T20:10:12.577008Z\",\r\n      \"updated_at\": \"2024-03-15T14:18:33.612340Z\"\r\n  },\r\n  {\r\n      \"id\": 2424550,\r\n      \"name\": \"Valeria Aguilar Ruiz\",\r\n      \"email\": \"vaguilar@buzz.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-11-13T15:54:08.175405Z\",\r\n      \"updated_at\": \"2024-03-18T18:27:02.801617Z\"\r\n  },\r\n  {\r\n      \"id\": 2433316,\r\n      \"name\": \"Marcela Calderón\",\r\n      \"email\": \"mcalderon@buzz.cr\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-11-22T15:57:34.026288Z\",\r\n      \"updated_at\": \"2024-03-16T11:38:44.741049Z\"\r\n  },\r\n  {\r\n      \"id\": 2457715,\r\n      \"name\": \"Johan Hernandez\",\r\n      \"email\": \"johan@buzz.cr\",\r\n      \"time_zone\": \"Etc/GMT+12\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-12-12T16:32:25.189212Z\",\r\n      \"updated_at\": \"2024-02-14T15:46:09.693505Z\"\r\n  },\r\n  {\r\n      \"id\": 2465230,\r\n      \"name\": \"Andrea Lopez\",\r\n      \"email\": \"luandrealop@gmail.com\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-12-19T14:16:41.737635Z\",\r\n      \"updated_at\": \"2024-02-22T20:42:14.527387Z\"\r\n  },\r\n  {\r\n      \"id\": 2465236,\r\n      \"name\": \"Rebeca Delgado\",\r\n      \"email\": \"marenal@buzz.cr\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-12-19T14:22:26.467160Z\",\r\n      \"updated_at\": \"2024-02-22T21:38:58.484174Z\"\r\n  },\r\n  {\r\n      \"id\": 2465265,\r\n      \"name\": \"Ana León\",\r\n      \"email\": \"aleon@elarenal.com.gt\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2023-12-19T14:45:10.867452Z\",\r\n      \"updated_at\": \"2023-12-19T14:46:08.273747Z\"\r\n  },\r\n  {\r\n      \"id\": 2480479,\r\n      \"name\": \"Lorenzo Jimenez Abarca\",\r\n      \"email\": \"lorenzo@buzz.cr\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2024-01-09T15:00:29.816721Z\",\r\n      \"updated_at\": \"2024-01-09T15:01:26.916580Z\"\r\n  },\r\n  {\r\n      \"id\": 2542948,\r\n      \"name\": \"Amanda Abarca\",\r\n      \"email\": \"aabarca@buzz.cr\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2024-02-07T01:50:06.101223Z\",\r\n      \"updated_at\": \"2024-03-18T14:14:48.104617Z\"\r\n  },\r\n  {\r\n      \"id\": 2557500,\r\n      \"name\": \"Yaritza Cascante\",\r\n      \"email\": \"ycascante@buzz.cr\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2024-02-20T21:52:24.886970Z\",\r\n      \"updated_at\": \"2024-03-04T23:16:04.628291Z\"\r\n  },\r\n  {\r\n      \"id\": 2563412,\r\n      \"name\": \"María José Zúñiga\",\r\n      \"email\": \"mjzuniga@buzz.cr\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2024-02-26T16:10:57.732850Z\",\r\n      \"updated_at\": \"2024-03-15T11:38:29.056834Z\"\r\n  },\r\n  {\r\n      \"id\": 2566644,\r\n      \"name\": \"Carina Herrera\",\r\n      \"email\": \"cherrera@buzz.cr\",\r\n      \"time_zone\": \"Etc/GMT+12\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2024-02-28T16:06:31.843612Z\",\r\n      \"updated_at\": \"2024-03-18T17:39:03.702000Z\"\r\n  },\r\n  {\r\n      \"id\": 2570326,\r\n      \"name\": \"Sofia Picon\",\r\n      \"email\": \"spicon@buzz.cr\",\r\n      \"time_zone\": \"America/Buenos_Aires\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2024-03-02T13:25:02.358473Z\",\r\n      \"updated_at\": \"2024-03-15T11:38:27.846476Z\"\r\n  },\r\n  {\r\n      \"id\": 2572918,\r\n      \"name\": \"Belu Monini\",\r\n      \"email\": \"bmonini@buzz.cr\",\r\n      \"time_zone\": \"America/Argentina/Buenos_Aires\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2024-03-04T19:03:33.994394Z\",\r\n      \"updated_at\": \"2024-03-15T11:38:27.613245Z\"\r\n  },\r\n  {\r\n      \"id\": 1979954,\r\n      \"name\": \"Mariana\",\r\n      \"email\": \"marimorera@gmail.com\",\r\n      \"time_zone\": \"America/Guatemala\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2024-03-12T15:33:48.851993Z\",\r\n      \"updated_at\": \"2024-03-14T17:33:45.260764Z\"\r\n  },\r\n  {\r\n      \"id\": 2588392,\r\n      \"name\": \"Roy Montoya\",\r\n      \"email\": \"rmontoya@buzz.cr\",\r\n      \"time_zone\": \"America/Costa_Rica\",\r\n      \"status\": \"active\",\r\n      \"created_at\": \"2024-03-18T19:45:42.536825Z\",\r\n      \"updated_at\": \"2024-03-18T19:45:49.783297Z\"\r\n  }, */\r\n  {\r\n    \"id\": 2588392,\r\n    \"name\": \"Hola33 3232323333\",\r\n    \"email\": \"33333@buzz.cr\",\r\n    \"time_zone\": \"America/Costa_Rica\",\r\n    \"status\": \"active\",\r\n    \"created_at\": \"2024-03-18T19:45:42.536825Z\",\r\n    \"updated_at\": \"2024-03-18T19:45:49.783297Z\"\r\n    }\r\n]\r\n\r\nconst mock_members = {\r\n  \"members\": [\r\n    {\r\n      \"user_id\": 777870,\r\n    },\r\n    {\r\n      \"user_id\": 778820,\r\n    }\r\n  ]\r\n}\r\n\r\n\r\n\r\n\r\ninterface Response extends PaginatedBackendResponse<User> {}\r\n\r\ninterface ResponseAccessToken extends BackendResponse {\r\n  access_token: string\r\n}\r\n\r\nexport interface HubstaffUser {\r\n  id: number;\r\n  user_id: number;\r\n  name: string;\r\n  email: string;\r\n  time_zone: string;\r\n  status: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n  hubstaff_user_id?: number;\r\n}\r\n\r\nexport interface HubstaffUserPartial {\r\n  user_id: number;\r\n}\r\n\r\nconst getHubstaffUser = async (accessToken : string, id : number): Promise<HubstaffUser> => {\r\n    const response = await fetch(`https://api.hubstaff.com/v2/users/${id}`, {\r\n        method: 'GET',\r\n        headers: {\r\n        'Authorization': `Bearer ${accessToken}`\r\n        }\r\n    });\r\n  \r\n    const data = await response.json();\r\n\r\n    if(data.error) {\r\n        toast.danger(`${data.error_description}`);\r\n    }\r\n\r\n  return data.user;\r\n};\r\n\r\nconst getHubstaffMembers = async (accessToken : string) => {\r\n    try {\r\n        const response = await fetch('https://api.hubstaff.com/v2/organizations/236631/members', {\r\n            method: 'GET',\r\n            headers: {\r\n            'Authorization': `Bearer ${accessToken}`\r\n            }\r\n        });\r\n\r\n        const data = await response.json();\r\n        if(data.error) {\r\n            return toast.danger(`${data.error_description}`);\r\n        }\r\n        return data;\r\n    } catch (error) {}\r\n};\r\n\r\n\r\n\r\nexport function useGetAcessToken() {\r\n  return useQuery({\r\n    queryKey: ['hubstaff-access-token'],\r\n    queryFn: () => fetchAccessToken(),\r\n  });\r\n}\r\n\r\nfunction fetchAccessToken() {\r\n  return apiClient\r\n    .get<ResponseAccessToken>(`hubstaff-access-token`)\r\n    .then(response => response.data);\r\n}\r\n\r\nexport function useGetUsers() {\r\n  return useQuery({\r\n    queryKey: ['users'],\r\n    queryFn: () => fetchCurrentUsers(),\r\n    staleTime: Infinity,\r\n  });\r\n}\r\n\r\nexport const fetchCurrentUsers = async () => {\r\n  try {\r\n    const accessToken = await fetchAccessToken();\r\n\r\n    const currentUsers = (await apiClient.get<Response>(`users-all`)).data?.pagination.data?.map(user => user.hubstaff_user_id)?.filter(hubstaffUserId => hubstaffUserId !== null) || [];\r\n\r\n    const hubsMembers = await getHubstaffMembers(accessToken.access_token);\r\n\r\n    const clearCurrentUsers = hubsMembers.members.filter((member: HubstaffUserPartial) => !currentUsers.includes(member.user_id));\r\n\r\n    const hubsUsersPromises = clearCurrentUsers.map((user: HubstaffUserPartial) => getHubstaffUser(accessToken.access_token, user.user_id));\r\n    const hubsUsers = await Promise.all(hubsUsersPromises);\r\n    return hubsUsers;\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n}\r\n","import {Fragment, useState} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {UserDatatableFilters} from './user-datatable-filters';\r\nimport {DataTablePage} from '../../datatable/page/data-table-page';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {DeleteSelectedItemsAction} from '../../datatable/page/delete-selected-items-action';\r\nimport {DataTableEmptyStateMessage} from '../../datatable/page/data-table-emty-state-message';\r\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\r\nimport teamSvg from '../roles/team.svg';\r\nimport {DataTableAddItemButton} from '../../datatable/data-table-add-item-button';\r\nimport {DataTableExportCsvButton} from '../../datatable/csv-export/data-table-export-csv-button';\r\nimport {useSettings} from '../../core/settings/use-settings';\r\nimport {userDatatableColumns} from '@common/admin/users/user-datatable-columns';\r\nimport {SyncHubstaffUsersDialog} from './hubstaff-users/hubstaff-users-dialog';\r\nimport {HubstaffUser} from './hubstaff-users/requests/use-users';\r\nimport {fetchCurrentUsers} from './hubstaff-users/requests/use-users';\r\n\r\nexport function UserDatatable() {\r\n  const {billing} = useSettings();\r\n  const [data, setData] = useState<HubstaffUser[]>([]);\r\n\r\n  const filteredColumns = !billing.enable\r\n    ? userDatatableColumns.filter(c => c.key !== 'subscribed')\r\n    : userDatatableColumns;\r\n\r\n  return (\r\n    <Fragment>\r\n      <DataTablePage\r\n        endpoint=\"users\"\r\n        title={<Trans message=\"Users\" />}\r\n        filters={UserDatatableFilters}\r\n        columns={filteredColumns}\r\n        actions={<Actions data={data} setData={setData} />}\r\n        queryParams={{with: 'subscriptions,bans'}}\r\n        selectedActions={<DeleteSelectedItemsAction />}\r\n        emptyStateMessage={\r\n          <DataTableEmptyStateMessage\r\n            image={teamSvg}\r\n            title={<Trans message=\"No users have been created yet\" />}\r\n            filteringTitle={<Trans message=\"No matching users\" />}\r\n          />\r\n        }\r\n      />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\ninterface HubstaffUsersDialog {\r\n  setData: (users: HubstaffUser[]) => void;\r\n  data: HubstaffUser[]\r\n}\r\n\r\nfunction Actions({ data, setData } : HubstaffUsersDialog) {\r\n  return (\r\n    <Fragment>\r\n      <DataTableExportCsvButton endpoint=\"users/csv/export\" />\r\n      <DataTableAddItemButton elementType={Link} to=\"new\">\r\n        <Trans message=\"Add new user\" />\r\n      </DataTableAddItemButton>\r\n      <DialogTrigger type=\"modal\">\r\n      <DataTableAddItemButton onClick={async () => {\r\n        const users = await fetchCurrentUsers();\r\n          if (Array.isArray(users)) {\r\n            setData(users as HubstaffUser[]);\r\n        }\r\n      }}>\r\n          <Trans message=\"Sync Hubstaff Users\" />\r\n        </DataTableAddItemButton>\r\n        {data && (\r\n          <SyncHubstaffUsersDialog data={data} setData={setData} />\r\n        )}\r\n      </DialogTrigger>\r\n    </Fragment>\r\n  );\r\n}\r\n","export function chunkArray<T>(array: T[], chunkSize: number): T[][] {\n  return array.reduce<any>((resultArray, item, index) => {\n    const chunkIndex = Math.floor(index / chunkSize);\n\n    if (!resultArray[chunkIndex]) {\n      resultArray[chunkIndex] = [];\n    }\n\n    resultArray[chunkIndex].push(item);\n\n    return resultArray;\n  }, []);\n}\n","import {\r\n  IAppearanceConfig,\r\n  MenuSectionConfig,\r\n} from '@common/admin/appearance/types/appearance-editor-config';\r\nimport {message} from '@common/i18n/message';\r\nimport {chunkArray} from '@common/utils/array/chunk-array';\r\nimport {AppearanceEditorBreadcrumbItem} from '@common/admin/appearance/types/appearance-editor-section';\r\n\r\nexport const DefaultAppearanceConfig: IAppearanceConfig = {\r\n  preview: {\r\n    defaultRoute: '/',\r\n    navigationRoutes: [],\r\n  },\r\n  sections: {\r\n    general: {\r\n      label: message('General'),\r\n      position: 1,\r\n      buildBreadcrumb: () => [\r\n        {\r\n          label: message('General'),\r\n          location: `general`,\r\n        },\r\n      ],\r\n    },\r\n    themes: {\r\n      label: message('Themes'),\r\n      position: 2,\r\n      buildBreadcrumb: (pathname, formValue) => {\r\n        const parts = pathname.split('/').filter(p => !!p);\r\n        const [, , , themeIndex] = parts;\r\n        const breadcrumb: AppearanceEditorBreadcrumbItem[] = [\r\n          {\r\n            label: message('Themes'),\r\n            location: `themes`,\r\n          },\r\n        ];\r\n        if (themeIndex != null) {\r\n          breadcrumb.push({\r\n            label: formValue.appearance.themes.all[+themeIndex]?.name,\r\n            location: `themes/${themeIndex}`,\r\n          });\r\n        }\r\n        if (parts.at(-1) === 'font') {\r\n          breadcrumb.push({\r\n            label: message('Font'),\r\n            location: `themes/${themeIndex}/font`,\r\n          });\r\n        }\r\n        if (parts.at(-1) === 'radius') {\r\n          breadcrumb.push({\r\n            label: message('Rounding'),\r\n            location: `themes/${themeIndex}/radius`,\r\n          });\r\n        }\r\n        return breadcrumb;\r\n      },\r\n    },\r\n    menus: {\r\n      label: message('Menus'),\r\n      position: 3,\r\n      buildBreadcrumb: (pathname, formValue) => {\r\n        // /admin/appearance/menus/0/items/1\r\n        const parts = pathname.split('/').filter(p => !!p);\r\n        const [, , ...rest] = parts;\r\n        // admin/appearance\r\n        const breadcrumb: AppearanceEditorBreadcrumbItem[] = [\r\n          {\r\n            label: message('Menus'),\r\n            location: 'menus',\r\n          },\r\n        ];\r\n        // chunk every two items: [form group, item index]\r\n        const chunked = chunkArray(rest, 2);\r\n        chunked.forEach(([sectionName, sectionIndex], chunkIndex) => {\r\n          // menu\r\n          if (sectionName === 'menus' && sectionIndex != null) {\r\n            breadcrumb.push({\r\n              label: formValue.settings.menus[+sectionIndex]?.name,\r\n              location: `menus/${sectionIndex}`,\r\n            });\r\n            // menu item\r\n          } else if (sectionName === 'items' && sectionIndex != null) {\r\n            const [, menuIndex] = chunked[chunkIndex - 1];\r\n            breadcrumb.push({\r\n              label:\r\n                formValue.settings.menus[+menuIndex].items[+sectionIndex]\r\n                  ?.label,\r\n              location: `menus/${menuIndex}/${sectionIndex}`,\r\n            });\r\n          }\r\n        });\r\n        return breadcrumb;\r\n      },\r\n      config: {\r\n        availableRoutes: [\r\n          '/',\r\n          '/login',\r\n          '/register',\r\n          '/contact',\r\n          '/billing/pricing',\r\n          '/account-settings',\r\n          '/admin',\r\n          '/admin/appearance',\r\n          '/admin/ticket-request-type',\r\n          '/admin/teams',\r\n          '/admin/settings',\r\n          '/admin/plans',\r\n          '/admin/subscriptions',\r\n          '/admin/users',\r\n          '/admin/roles',\r\n          '/admin/pages',\r\n          '/admin/tags',\r\n          '/admin/files',\r\n          '/admin/localizations',\r\n          '/admin/ads',\r\n          '/admin/settings/authentication',\r\n          '/admin/settings/branding',\r\n          '/admin/settings/cache',\r\n          '/admin/settings/providers',\r\n          '/api-docs',\r\n        ],\r\n        positions: [\r\n          'admin-navbar',\r\n          'admin-sidebar',\r\n          'custom-page-navbar',\r\n          'auth-page-footer',\r\n          'auth-dropdown',\r\n          'account-settings-page',\r\n          'billing-page',\r\n          'checkout-page-navbar',\r\n          'checkout-page-footer',\r\n          'pricing-table-page',\r\n          'contact-us-page',\r\n          'notifications-page',\r\n          'footer',\r\n          'footer-secondary',\r\n        ],\r\n      } as MenuSectionConfig,\r\n    },\r\n    'custom-code': {\r\n      label: message('Custom Code'),\r\n      position: 4,\r\n      buildBreadcrumb: () => [\r\n        {\r\n          label: message('Custom code'),\r\n          location: `custom-code`,\r\n        },\r\n      ],\r\n    },\r\n    'seo-settings': {\r\n      label: message('SEO Settings'),\r\n      position: 5,\r\n      buildBreadcrumb: () => [\r\n        {\r\n          label: message('SEO'),\r\n          location: `seo`,\r\n        },\r\n      ],\r\n    },\r\n  },\r\n};\r\n","import {MessageDescriptor} from '@common/i18n/message-descriptor';\nimport {message} from '@common/i18n/message';\nimport {Trans} from '@common/i18n/trans';\nimport {RadioGroup} from '@common/ui/forms/radio-group/radio-group';\nimport {Radio} from '@common/ui/forms/radio-group/radio';\n\ninterface ImageBackgroundConfig {\n  backgroundRepeat?: string;\n  backgroundSize?: string;\n  backgroundPosition?: string;\n}\n\nconst BackgroundPositions: Record<\n  'cover' | 'contain' | 'repeat',\n  {\n    label: MessageDescriptor;\n    bgConfig: ImageBackgroundConfig;\n  }\n> = {\n  cover: {\n    label: message('Stretch to fit'),\n    bgConfig: {\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: 'cover',\n    },\n  },\n  contain: {\n    label: message('Fit'),\n    bgConfig: {\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: 'contain',\n      backgroundPosition: 'center top',\n    },\n  },\n  repeat: {\n    label: message('Repeat'),\n    bgConfig: {\n      backgroundRepeat: 'repeat',\n      backgroundSize: undefined,\n      backgroundPosition: 'left top',\n    },\n  },\n};\n\ninterface Props {\n  value?: ImageBackgroundConfig;\n  onChange?: (value: ImageBackgroundConfig) => void;\n  className?: string;\n  disabled?: boolean;\n}\nexport function BackgroundPositionSelector({\n  value: imageBgValue,\n  onChange,\n  className,\n  disabled,\n}: Props) {\n  const selectedPosition = positionKeyFromValue(imageBgValue);\n  return (\n    <div className={className}>\n      <RadioGroup size=\"sm\" disabled={disabled}>\n        {Object.entries(BackgroundPositions).map(([key, position]) => (\n          <Radio\n            key={key}\n            name=\"background-position\"\n            value={key}\n            checked={key === selectedPosition}\n            onChange={e => {\n              if (imageBgValue) {\n                onChange?.({\n                  ...imageBgValue,\n                  ...position.bgConfig,\n                });\n              }\n            }}\n          >\n            <Trans {...position.label} />\n          </Radio>\n        ))}\n      </RadioGroup>\n    </div>\n  );\n}\n\nfunction positionKeyFromValue(\n  value?: ImageBackgroundConfig,\n): keyof typeof BackgroundPositions {\n  if (value?.backgroundSize === 'cover') {\n    return 'cover';\n  } else if (value?.backgroundSize === 'contain') {\n    return 'contain';\n  } else {\n    return 'repeat';\n  }\n}\n","import {\r\n  appearanceState,\r\n  AppearanceValues,\r\n} from '@common/admin/appearance/appearance-store';\r\nimport {Fragment} from 'react';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {FormImageSelector} from '@common/ui/images/image-selector';\r\nimport {FormSwitch} from '@common/ui/forms/toggle/switch';\r\nimport {FormSelect} from '@common/ui/forms/select/select';\r\nimport {Item} from '@common/ui/forms/listbox/item';\r\nimport {BackgroundPositionSelector} from '@app/admin/appearance/background-position-selector';\r\nimport {useFormContext} from 'react-hook-form';\r\nimport {InfoDialogTrigger} from '@common/ui/overlays/dialog/info-dialog-trigger/info-dialog-trigger';\r\n\r\nexport function LandingPageSection() {\r\n  const {watch, setValue, getValues} = useFormContext<AppearanceValues>();\r\n  return (\r\n    <Fragment>\r\n      <FormSelect\r\n        selectionMode=\"single\"\r\n        label={<Trans message=\"Header style\" />}\r\n        className=\"mb-24\"\r\n        name=\"settings.landing.header.variant\"\r\n      >\r\n        <Item value=\"simple\">\r\n          <Trans message=\"Simple\" />\r\n        </Item>\r\n        <Item value=\"colorful\">\r\n          <Trans message=\"Colorful\" />\r\n        </Item>\r\n      </FormSelect>\r\n      <FormImageSelector\r\n        name=\"settings.landing.header.background\"\r\n        className=\"mb-12\"\r\n        label={<Trans message=\"Header image\" />}\r\n        defaultValue={''}\r\n        diskPrefix=\"homepage\"\r\n      />\r\n      <BackgroundPositionSelector\r\n        value={watch('settings.landing.header')}\r\n        disabled={!watch('settings.landing.header.background')}\r\n        onChange={value => {\r\n          setValue('settings.landing.header', {\r\n            ...getValues('settings.landing.header'),\r\n            ...value,\r\n          });\r\n        }}\r\n        className=\"mb-20 border-b pb-12\"\r\n      />\r\n      <FormSelect\r\n        selectionMode=\"single\"\r\n        label={<Trans message=\"Content style\" />}\r\n        className=\"mb-12\"\r\n        name=\"settings.landing.content.variant\"\r\n      >\r\n        <Item value=\"articleGrid\">\r\n          <Trans message=\"Article grid\" />\r\n        </Item>\r\n        <Item value=\"multiProduct\">\r\n          <Trans message=\"Multiproduct\" />\r\n        </Item>\r\n        <Item value=\"homeTickets\">\r\n          <Trans message=\"HomeTickets\" />\r\n        </Item>\r\n      </FormSelect>\r\n      {watch('settings.landing.content.variant') === 'articleGrid' && (\r\n        <ArticleGridLayoutFields />\r\n      )}\r\n      <FormTextField\r\n        label={<Trans message=\"Header title\" />}\r\n        className=\"mb-24\"\r\n        name=\"settings.landing.header.title\"\r\n        inputElementType=\"textarea\"\r\n        rows={2}\r\n        onFocus={() => {\r\n          appearanceState().preview.setHighlight('[data-testid=\"headerTitle\"]');\r\n        }}\r\n      />\r\n      <FormTextField\r\n        label={<Trans message=\"Header subtitle\" />}\r\n        className=\"mb-24\"\r\n        inputElementType=\"textarea\"\r\n        rows={2}\r\n        name=\"settings.landing.header.subtitle\"\r\n        onFocus={() => {\r\n          appearanceState().preview.setHighlight(\r\n            '[data-testid=\"headerSubtitle\"]',\r\n          );\r\n        }}\r\n      />\r\n      <FormTextField\r\n        label={<Trans message=\"Search field placeholder\" />}\r\n        className=\"mb-24\"\r\n        name=\"settings.landing.header.placeholder\"\r\n        inputElementType=\"textarea\"\r\n        rows={2}\r\n        onFocus={() => {\r\n          appearanceState().preview.setHighlight(\r\n            '[data-testid=\"headerSubtitle\"]',\r\n          );\r\n        }}\r\n      />\r\n      <FormSwitch className=\"mb-24\" name=\"settings.landing.show_footer\">\r\n        <Trans message=\"Show footer\" />\r\n      </FormSwitch>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nfunction ArticleGridLayoutFields() {\r\n  return (\r\n    <div className=\"mb-18 border-b pb-18\">\r\n      <FormTextField\r\n        name=\"settings.landing.articles_per_category\"\r\n        label={<Trans message=\"Articles per category\" />}\r\n        labelSuffixPosition=\"inline\"\r\n        labelSuffix={\r\n          <InfoDialogTrigger\r\n            body={\r\n              <Trans message=\"How many articles should each category display in help center homepage.\" />\r\n            }\r\n          />\r\n        }\r\n        type=\"number\"\r\n        className=\"mb-12\"\r\n        min=\"1\"\r\n        max=\"50\"\r\n      />\r\n      <FormTextField\r\n        name=\"settings.landing.children_per_category\"\r\n        label={<Trans message=\"Child categories\" />}\r\n        labelSuffix={\r\n          <InfoDialogTrigger\r\n            body={\r\n              <Trans message=\"How many child categories should each parent category display in help center homepage.\" />\r\n            }\r\n          />\r\n        }\r\n        labelSuffixPosition=\"inline\"\r\n        className=\"mb-18\"\r\n        type=\"number\"\r\n        min=\"1\"\r\n        max=\"50\"\r\n      />\r\n      <FormSwitch name=\"settings.landing.hide_small_categories\">\r\n        <Trans message=\"Hide empty categories\" />\r\n      </FormSwitch>\r\n    </div>\r\n  );\r\n}\r\n","import clsx from 'clsx';\nimport {forwardRef, ReactNode} from 'react';\nimport {KeyboardArrowRightIcon} from '../../icons/material/KeyboardArrowRight';\nimport {ButtonBase, ButtonBaseProps} from '../../ui/buttons/button-base';\n\ninterface Props extends ButtonBaseProps {\n  startIcon?: ReactNode;\n  description?: ReactNode;\n}\nexport const AppearanceButton = forwardRef<HTMLButtonElement, Props>(\n  ({startIcon, children, className, description, ...other}, ref) => {\n    return (\n      <ButtonBase\n        ref={ref}\n        display=\"flex\"\n        className={clsx(\n          'relative mb-10 h-54 w-full items-center gap-10 rounded-input border bg px-14 text-sm hover:bg-hover',\n          className,\n        )}\n        variant={null}\n        {...other}\n      >\n        {startIcon}\n        <span className=\"block min-w-0\">\n          <span className=\"block\">{children}</span>\n          {description && (\n            <span className=\"block overflow-hidden overflow-ellipsis whitespace-nowrap text-xs text-muted\">\n              {description}\n            </span>\n          )}\n        </span>\n        <KeyboardArrowRightIcon\n          aria-hidden\n          className=\"ml-auto text-muted icon-sm\"\n        />\n      </ButtonBase>\n    );\n  },\n);\n","import {Fragment} from 'react';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport {AppearanceButton} from '@common/admin/appearance/appearance-button';\nimport {Link} from 'react-router-dom';\n\nexport function NewTicketPageSection() {\n  return (\n    <Fragment>\n      <FormTextField\n        label={<Trans message=\"Title\" />}\n        className=\"mb-20\"\n        name=\"settings.hc.newTicket.appearance.title\"\n        inputElementType=\"textarea\"\n        rows={2}\n      />\n      <FormTextField\n        label={<Trans message=\"Category label\" />}\n        className=\"mb-20\"\n        name=\"settings.hc.newTicket.appearance.categoryLabel\"\n        inputElementType=\"textarea\"\n        rows={2}\n      />\n      <FormTextField\n        label={<Trans message=\"Subject label\" />}\n        className=\"mb-20\"\n        name=\"settings.hc.newTicket.appearance.subjectLabel\"\n        inputElementType=\"textarea\"\n        rows={2}\n      />\n      <FormTextField\n        label={<Trans message=\"Description label\" />}\n        className=\"mb-20\"\n        name=\"settings.hc.newTicket.appearance.descriptionLabel\"\n        inputElementType=\"textarea\"\n        rows={2}\n      />\n      <FormTextField\n        label={<Trans message=\"Submit button text\" />}\n        className=\"mb-20\"\n        name=\"settings.hc.newTicket.appearance.submitButtonText\"\n        inputElementType=\"textarea\"\n        rows={2}\n      />\n      <div className=\"mt-24 border-t pt-24\">\n        <FormTextField\n          label={<Trans message=\"Sidebar title\" />}\n          className=\"mb-20\"\n          name=\"settings.hc.newTicket.appearance.sidebarTitle\"\n          inputElementType=\"textarea\"\n          rows={2}\n        />\n        <AppearanceButton to=\"sidebar\" elementType={Link}>\n          <Trans message=\"Sidebar tips\" />\n        </AppearanceButton>\n      </div>\n    </Fragment>\n  );\n}\n","import {Trans} from '@common/i18n/trans';\nimport {useFieldArray} from 'react-hook-form';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Button} from '@common/ui/buttons/button';\nimport {AddIcon} from '@common/icons/material/Add';\nimport {Fragment, useState} from 'react';\nimport {Accordion, AccordionItem} from '@common/ui/accordion/accordion';\n\nexport function SidebarTipSection() {\n  const {fields, remove, append} = useFieldArray({\n    name: 'settings.hc.newTicket.appearance.sidebarTips',\n  });\n  const [expandedValues, setExpandedValues] = useState([0]);\n  return (\n    <div>\n      <Accordion\n        variant=\"outline\"\n        expandedValues={expandedValues}\n        onExpandedChange={values => {\n          setExpandedValues(values as number[]);\n        }}\n      >\n        {fields.map((field, index) => {\n          return (\n            <AccordionItem\n              key={field.id}\n              value={index}\n              label={<Trans message={`Sidebar tip ${index + 1}`} />}\n            >\n              <SidebarTip index={index} />\n              <div className=\"text-right\">\n                <Button\n                  size=\"xs\"\n                  variant=\"outline\"\n                  color=\"danger\"\n                  onClick={() => {\n                    remove(index);\n                  }}\n                >\n                  <Trans message=\"Remove\" />\n                </Button>\n              </div>\n            </AccordionItem>\n          );\n        })}\n      </Accordion>\n      <div className=\"mt-20 text-right\">\n        <Button\n          size=\"xs\"\n          variant=\"outline\"\n          color=\"primary\"\n          startIcon={<AddIcon />}\n          onClick={() => {\n            append({});\n            setExpandedValues([fields.length]);\n          }}\n        >\n          <Trans message=\"Add another\" />\n        </Button>\n      </div>\n    </div>\n  );\n}\n\ninterface SidebarTipProps {\n  index: number;\n}\nfunction SidebarTip({index}: SidebarTipProps) {\n  return (\n    <Fragment>\n      <FormTextField\n        name={`settings.hc.newTicket.appearance.sidebarTips.${index}.title`}\n        label={<Trans message=\"Title\" />}\n        className=\"mb-20\"\n        inputElementType=\"textarea\"\n        rows={2}\n      />\n      <FormTextField\n        name={`settings.hc.newTicket.appearance.sidebarTips.${index}.content`}\n        label={<Trans message=\"Content\" />}\n        className=\"mb-20\"\n        inputElementType=\"textarea\"\n        rows={4}\n      />\n    </Fragment>\n  );\n}\n","import {\n  IAppearanceConfig,\n  MenuSectionConfig,\n  SeoSettingsSectionConfig,\n} from '@common/admin/appearance/types/appearance-editor-config';\nimport {message} from '@common/i18n/message';\nimport {LandingPageSection} from '@app/admin/appearance/landing-page-section';\nimport {NewTicketPageSection} from '@app/admin/appearance/new-ticket-page-section/new-ticket-page-section';\nimport {SidebarTipSection} from '@app/admin/appearance/new-ticket-page-section/sidebar-tips-section';\nimport {AppearanceEditorBreadcrumbItem} from '@common/admin/appearance/types/appearance-editor-section';\n\nexport const AppAppearanceConfig: IAppearanceConfig = {\n  preview: {\n    defaultRoute: '/',\n    navigationRoutes: ['/'],\n  },\n  sections: {\n    'landing-page': {\n      label: message('Landing page'),\n      position: 0,\n      previewRoute: '/',\n      routes: [{path: 'landing-page', element: <LandingPageSection />}],\n      buildBreadcrumb: () => [\n        {\n          label: message('Landing page'),\n          location: 'landing-page',\n        },\n      ],\n    },\n    'new-ticket': {\n      label: message('New ticket page'),\n      position: 1,\n      previewRoute: '/hc/tickets/new',\n      routes: [\n        {path: 'new-ticket', element: <NewTicketPageSection />},\n        {\n          path: 'new-ticket/sidebar',\n          element: <SidebarTipSection />,\n        },\n      ],\n      buildBreadcrumb: sectionName => {\n        const breadcrumb: AppearanceEditorBreadcrumbItem[] = [\n          {\n            label: message('New ticket page'),\n            location: 'new-ticket',\n          },\n        ];\n        if (sectionName.endsWith('sidebar')) {\n          breadcrumb.push({\n            label: message('Sidebar'),\n            location: 'landing-page/sidebar',\n          });\n        }\n        return breadcrumb;\n      },\n    },\n    // missing label will get added by deepMerge from default config\n    // @ts-ignore\n    menus: {\n      config: {\n        positions: [\n          'header',\n          'agent-mailbox',\n          'landing-page-navbar',\n          'landing-page-footer',\n        ],\n        availableRoutes: [\n          '/hc',\n          '/hc/tickets',\n          '/agent/tickets',\n          '/admin/hc/arrange',\n          '/admin/hc/articles',\n          '/admin/triggers',\n        ],\n      } as MenuSectionConfig,\n    },\n    // @ts-ignore\n    'seo-settings': {\n      config: {\n        pages: [\n          {\n            key: 'landing-page',\n            label: message('Landing page'),\n          },\n          {\n            key: 'article-page',\n            label: message('Article page'),\n          },\n          {\n            key: 'category-page',\n            label: message('Category page'),\n          },\n          {\n            key: 'search-page',\n            label: message('Search page'),\n          },\n        ],\n      } as SeoSettingsSectionConfig,\n    },\n  },\n};\n","import deepMerge from 'deepmerge';\nimport {DefaultAppearanceConfig} from '@common/admin/appearance/config/default-appearance-config';\nimport {AppAppearanceConfig} from '@app/admin/appearance/app-appearance-config';\nimport {IAppearanceConfig} from '@common/admin/appearance/types/appearance-editor-config';\n\nconst mergedAppearanceConfig = deepMerge.all([\n  DefaultAppearanceConfig,\n  AppAppearanceConfig,\n]);\n\nexport default mergedAppearanceConfig as IAppearanceConfig;\n","import {create} from 'zustand';\nimport {subscribeWithSelector} from 'zustand/middleware';\nimport {immer} from 'zustand/middleware/immer';\nimport {Settings} from '../../core/settings/settings';\nimport type {IAppearanceConfig} from './types/appearance-editor-config';\nimport {AllCommands} from './commands/commands';\nimport mergedAppearanceConfig from './config/merged-appearance-config';\nimport {BootstrapData} from '../../core/bootstrap-data/bootstrap-data';\nimport {FontConfig} from '@common/http/value-lists';\n\nexport interface AppearanceValues {\n  appearance: {\n    env: {app_name: string; app_url: string};\n    seo: {\n      key: string;\n      name: string;\n      value: string;\n      defaultValue: string;\n    }[];\n    themes: BootstrapData['themes'];\n    custom_code: {\n      css?: string;\n      html?: string;\n    };\n  };\n  settings: Settings;\n}\n\nexport interface AppearanceDefaults {\n  appearance: {\n    themes: {\n      light: Record<string, string>;\n      dark: Record<string, string>;\n    };\n  };\n  settings: Settings;\n}\n\ninterface AppearanceStore {\n  defaults: AppearanceDefaults | null;\n  iframeWindow: Window | null;\n  config: IAppearanceConfig | null;\n  setDefaults: (value: AppearanceDefaults) => void;\n  setIframeWindow: (value: Window) => void;\n  preview: {\n    navigate: (sectionName: string) => void;\n    setValues: (settings: AppearanceValues) => void;\n    setThemeFont: (font: FontConfig | null) => void;\n    setThemeValue: (name: string, value: string) => void;\n    setActiveTheme: (themeId: number | string) => void;\n    setHighlight: (selector: string | null | undefined) => void;\n    setCustomCode: (mode: 'css' | 'html', value?: string) => void;\n  };\n}\n\nexport const useAppearanceStore = create<AppearanceStore>()(\n  subscribeWithSelector(\n    immer((set, get) => ({\n      defaults: null,\n      iframeWindow: null,\n      config: mergedAppearanceConfig,\n      setDefaults: value => {\n        set(state => {\n          state.defaults = {...value};\n        });\n      },\n      setIframeWindow: value => {\n        set(() => {\n          return {iframeWindow: value};\n        });\n      },\n\n      preview: {\n        navigate: sectionName => {\n          const section = get().config?.sections[sectionName];\n          const route = section?.previewRoute || '/';\n          const preview = get().iframeWindow;\n          if (route) {\n            postMessage(preview, {type: 'navigate', to: route});\n          }\n        },\n        setValues: values => {\n          const preview = get().iframeWindow;\n          postMessage(preview, {type: 'setValues', values});\n        },\n        setThemeFont: font => {\n          const preview = get().iframeWindow;\n          postMessage(preview, {type: 'setThemeFont', value: font});\n        },\n        setThemeValue: (name, value) => {\n          const preview = get().iframeWindow;\n          postMessage(preview, {type: 'setThemeValue', name, value});\n        },\n        setActiveTheme: themeId => {\n          const preview = get().iframeWindow;\n          postMessage(preview, {type: 'setActiveTheme', themeId});\n        },\n        setCustomCode: (mode, value) => {\n          const preview = get().iframeWindow;\n          postMessage(preview, {type: 'setCustomCode', mode, value});\n        },\n        setHighlight: selector => {\n          set(() => {\n            let node: HTMLElement | null = null;\n            const document = get().iframeWindow?.document;\n            if (document && selector) {\n              node = document.querySelector(selector);\n            }\n            if (node) {\n              requestAnimationFrame(() => {\n                if (!node) return;\n                node.scrollIntoView({\n                  behavior: 'smooth',\n                  block: 'center',\n                  inline: 'center',\n                });\n              });\n            }\n          });\n        },\n      },\n    })),\n  ),\n);\n\nfunction postMessage(window: Window | null, command: AllCommands) {\n  if (window) {\n    window.postMessage({source: 'be-appearance-editor', ...command}, '*');\n  }\n}\n\nexport function appearanceState() {\n  return useAppearanceStore.getState();\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {AppearanceValues} from '@common/admin/appearance/appearance-store';\nimport {toast} from '@common/ui/toast/toast';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\nimport {message} from '@common/i18n/message';\n\ninterface Response extends BackendResponse {}\n\nexport function useSaveAppearanceChanges() {\n  return useMutation({\n    mutationFn: (values: Partial<AppearanceValues>) =>\n      saveAppearanceChanges(values),\n    onSuccess: async () => {\n      await queryClient.invalidateQueries({\n        queryKey: ['admin/appearance/values'],\n      });\n      toast(message('Changes saved'));\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction saveAppearanceChanges(\n  changes: Partial<AppearanceValues>,\n): Promise<Response> {\n  return apiClient.post(`admin/appearance`, {changes}).then(r => r.data);\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {apiClient} from '@common/http/query-client';\nimport {AppearanceDefaults, AppearanceValues} from '../appearance-store';\n\nexport interface FetchAppearanceValuesResponse extends BackendResponse {\n  values: AppearanceValues;\n  defaults: AppearanceDefaults;\n}\n\nexport function useAppearanceValues() {\n  return useQuery({\n    queryKey: ['admin/appearance/values'],\n    queryFn: () => fetchAppearanceValues(),\n    staleTime: Infinity,\n  });\n}\n\nfunction fetchAppearanceValues(): Promise<FetchAppearanceValuesResponse> {\n  return apiClient\n    .get('admin/appearance/values')\n    .then(response => response.data);\n}\n","import {Link, useLocation} from 'react-router-dom';\nimport clsx from 'clsx';\nimport {Fragment, useEffect, useState} from 'react';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {KeyboardArrowLeftIcon} from '../../icons/material/KeyboardArrowLeft';\nimport {KeyboardArrowRightIcon} from '../../icons/material/KeyboardArrowRight';\nimport {Trans} from '../../i18n/trans';\nimport {MixedText} from '../../i18n/mixed-text';\nimport {useFormContext} from 'react-hook-form';\nimport {appearanceState, AppearanceValues} from './appearance-store';\nimport {AppearanceEditorBreadcrumbItem} from './types/appearance-editor-section';\nimport {message} from '../../i18n/message';\n\nexport function SectionHeader() {\n  const {pathname} = useLocation();\n  const {getValues} = useFormContext<AppearanceValues>();\n  const [breadcrumb, setBreadcrumb] = useState<\n    AppearanceEditorBreadcrumbItem[] | null\n  >(null);\n\n  useEffect(() => {\n    const [, , sectionName] = pathname.split('/').filter(p => !!p);\n    if (sectionName) {\n      const section = appearanceState().config?.sections[sectionName];\n      if (section) {\n        setBreadcrumb([\n          {\n            label: message('Appearance'),\n            location: '',\n          },\n          ...section.buildBreadcrumb(pathname, getValues()),\n        ]);\n        // bail, so breadcrumb is not cleared below\n        return;\n      }\n    }\n    setBreadcrumb(null);\n  }, [pathname, getValues]);\n\n  // not need to show section header if already at root\n  if (!breadcrumb || breadcrumb.length < 2) {\n    return null;\n  }\n\n  return (\n    <div className=\"flex items-center border-b h-60 flex-shrink-0\">\n      <IconButton\n        iconSize=\"md\"\n        radius=\"rounded-none\"\n        className=\"text-muted h-full w-50 flex-shrink-0\"\n        elementType={Link}\n        to={`/admin/appearance/${breadcrumb[breadcrumb.length - 2].location}`}\n      >\n        <KeyboardArrowLeftIcon />\n      </IconButton>\n      <div className=\"border-l p-10 min-w-0\">\n        <div className=\"text-xs text-muted\">\n          <Trans message=\"Customizing\" />\n        </div>\n        <div className=\"flex items-center gap-4 text-sm mt-2\">\n          {breadcrumb.map((item, index) => {\n            const isLast = breadcrumb.length - 1 === index;\n            const isFirst = index === 0;\n            const label = <MixedText value={item.label} />;\n\n            if (isFirst) {\n              return null;\n            }\n\n            return (\n              <Fragment key={index}>\n                <div\n                  className={clsx(\n                    'whitespace-nowrap overflow-hidden overflow-ellipsis min-w-0',\n                    isLast && 'text-primary',\n                    // don't overflow ellipses last item\n                    isLast ? 'flex-shrink-0' : 'flex-auto'\n                  )}\n                >\n                  {label}\n                </div>\n                {!isLast && (\n                  <KeyboardArrowRightIcon className=\"icon-sm text-muted flex-shrink-0\" />\n                )}\n              </Fragment>\n            );\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import {Link, Navigate, Outlet, useLocation} from 'react-router-dom';\nimport {useEffect, useRef} from 'react';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {CloseIcon} from '../../icons/material/Close';\nimport {Button} from '../../ui/buttons/button';\nimport {appearanceState, AppearanceValues} from './appearance-store';\nimport {useSaveAppearanceChanges} from './requests/save-appearance-changes';\nimport {useAppearanceValues} from './requests/appearance-values';\nimport {Trans} from '../../i18n/trans';\nimport {useForm, useFormContext} from 'react-hook-form';\nimport {Form} from '../../ui/forms/form';\nimport {ProgressCircle} from '../../ui/progress/progress-circle';\nimport {SectionHeader} from './section-header';\nimport {FileUploadProvider} from '../../uploads/uploader/file-upload-provider';\nimport {useAppearanceEditorMode} from './commands/use-appearance-editor-mode';\nimport {StaticPageTitle} from '../../seo/static-page-title';\nimport {useSettings} from '../../core/settings/use-settings';\n\nexport function AppearanceLayout() {\n  const {isAppearanceEditorActive} = useAppearanceEditorMode();\n  const {data} = useAppearanceValues();\n  const {base_url} = useSettings();\n  const iframeRef = useRef<HTMLIFrameElement>(null);\n  const {pathname} = useLocation();\n\n  useEffect(() => {\n    // only set defaults snapshot once on route init\n    if (data?.defaults && !appearanceState().defaults) {\n      appearanceState().setDefaults(data.defaults);\n    }\n  }, [data]);\n\n  useEffect(() => {\n    if (iframeRef.current) {\n      appearanceState().setIframeWindow(iframeRef.current.contentWindow!);\n    }\n  }, []);\n\n  useEffect(() => {\n    const sectionName = pathname.split('/')[3];\n    appearanceState().preview.navigate(sectionName);\n  }, [pathname]);\n\n  // make sure appearance editor iframe can't be nested\n  if (isAppearanceEditorActive) {\n    return <Navigate to=\"/admin\" />;\n  }\n\n  return (\n    <div className=\"h-screen items-center md:flex\">\n      <StaticPageTitle>\n        <Trans message=\"Appearance\" />\n      </StaticPageTitle>\n      <Sidebar values={data?.values} />\n      <div className=\"relative h-full flex-auto\">\n        <iframe\n          ref={iframeRef}\n          className=\"h-full w-full max-md:hidden\"\n          src={`${base_url}?appearanceEditor=true`}\n        />\n      </div>\n    </div>\n  );\n}\n\ninterface SidebarProps {\n  values: AppearanceValues | undefined;\n}\nfunction Sidebar({values}: SidebarProps) {\n  const spinner = (\n    <div className=\"flex h-full flex-auto items-center justify-center\">\n      <ProgressCircle isIndeterminate aria-label=\"Loading editor\" />\n    </div>\n  );\n\n  return (\n    <div className=\"relative z-10 h-full w-full border-r bg shadow-lg @container md:w-320\">\n      {values ? <AppearanceForm defaultValues={values} /> : spinner}\n    </div>\n  );\n}\n\ninterface AppearanceFormProps {\n  defaultValues: AppearanceValues;\n}\n\nfunction AppearanceForm({defaultValues}: AppearanceFormProps) {\n  const form = useForm<AppearanceValues>({defaultValues});\n  const {watch, reset} = form;\n  const saveChanges = useSaveAppearanceChanges();\n\n  useEffect(() => {\n    const subscription = watch(value => {\n      appearanceState().preview.setValues(value as AppearanceValues);\n    });\n    return () => subscription.unsubscribe();\n  }, [watch]);\n\n  return (\n    <Form\n      className=\"flex h-full flex-col\"\n      form={form}\n      onSubmit={values => {\n        saveChanges.mutate(values, {\n          onSuccess: () => reset(values),\n        });\n      }}\n    >\n      <Header isLoading={saveChanges.isPending} />\n      <SectionHeader />\n      <div className=\"flex-auto overflow-y-auto px-14 py-20\">\n        <FileUploadProvider>\n          <Outlet />\n        </FileUploadProvider>\n      </div>\n    </Form>\n  );\n}\n\ninterface HeaderProps {\n  isLoading: boolean;\n}\nfunction Header({isLoading}: HeaderProps) {\n  const {\n    formState: {dirtyFields},\n  } = useFormContext<AppearanceValues>();\n  const isDirty = Object.keys(dirtyFields).length;\n  return (\n    <div className=\"flex h-50 flex-shrink-0 items-center border-b pr-10\">\n      <IconButton\n        border=\"border-r\"\n        className=\"text-muted\"\n        elementType={Link}\n        to=\"..\"\n      >\n        <CloseIcon />\n      </IconButton>\n      <div className=\"pl-10\">\n        <Trans message=\"Appearance editor\" />\n      </div>\n      <Button\n        variant=\"flat\"\n        color=\"primary\"\n        className=\"ml-auto block\"\n        disabled={!isDirty || isLoading}\n        type=\"submit\"\n      >\n        {isDirty ? <Trans message=\"Save\" /> : <Trans message=\"Saved\" />}\n      </Button>\n    </div>\n  );\n}\n","import {Link, useNavigate} from 'react-router-dom';\nimport {AppearanceValues} from '../../appearance-store';\nimport {Button} from '../../../../ui/buttons/button';\nimport {AddIcon} from '../../../../icons/material/Add';\nimport {Trans} from '../../../../i18n/trans';\nimport {useFieldArray} from 'react-hook-form';\nimport {AppearanceButton} from '../../appearance-button';\nimport {nanoid} from 'nanoid';\nimport {useTrans} from '../../../../i18n/use-trans';\nimport {message} from '../../../../i18n/message';\nimport {Fragment} from 'react';\n\nexport function MenuList() {\n  const navigate = useNavigate();\n  const {trans} = useTrans();\n  const {fields, append} = useFieldArray<\n    AppearanceValues,\n    'settings.menus',\n    'key'\n  >({\n    name: 'settings.menus',\n    keyName: 'key',\n  });\n\n  return (\n    <Fragment>\n      <div>\n        {fields.map((field, index) => (\n          <AppearanceButton to={`${index}`} key={field.key} elementType={Link}>\n            {field.name}\n          </AppearanceButton>\n        ))}\n      </div>\n      <div className=\"text-right\">\n        <Button\n          variant=\"outline\"\n          color=\"primary\"\n          startIcon={<AddIcon />}\n          size=\"xs\"\n          onClick={() => {\n            const id = nanoid(10);\n            append({\n              name: trans(\n                message('New menu :number', {\n                  values: {number: fields.length + 1},\n                })\n              ),\n              id,\n              positions: [],\n              items: [],\n            });\n            navigate(`${fields.length}`);\n          }}\n        >\n          <Trans message=\"Create menu\" />\n        </Button>\n      </div>\n    </Fragment>\n  );\n}\n","import {MenuSectionConfig} from '../../../types/appearance-editor-config';\nimport {MenuItemConfig} from '../../../../../core/settings/settings';\nimport mergedAppearanceConfig from '../../../config/merged-appearance-config';\n\nexport function useAvailableRoutes(): Partial<MenuItemConfig>[] {\n  const menuConfig = mergedAppearanceConfig.sections.menus.config;\n\n  if (!menuConfig) return [];\n\n  return (menuConfig as MenuSectionConfig).availableRoutes.map(route => {\n    return {\n      id: route,\n      label: route,\n      action: route,\n      type: 'route',\n      target: '_self',\n    };\n  });\n}\n","export function ucFirst<T extends string>(string: T): T {\n  if (!string) return string;\n  return (string.charAt(0).toUpperCase() + string.slice(1)) as T;\n}\n","import {useForm} from 'react-hook-form';\nimport {Accordion, AccordionItem} from '@common/ui/accordion/accordion';\nimport {Form} from '@common/ui/forms/form';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {MenuItemConfig} from '@common/core/settings/settings';\nimport {AddIcon} from '@common/icons/material/Add';\nimport {Button} from '@common/ui/buttons/button';\nimport {useAvailableRoutes} from '@common/admin/appearance/sections/menus/hooks/available-routes';\nimport {ucFirst} from '@common/utils/string/uc-first';\nimport {List, ListItem} from '@common/ui/list/list';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {Trans} from '@common/i18n/trans';\nimport {useValueLists} from '@common/http/value-lists';\nimport {ReactNode} from 'react';\nimport {nanoid} from 'nanoid';\n\ninterface AddMenuItemDialogProps {\n  title?: ReactNode;\n}\nexport function AddMenuItemDialog({\n  title = <Trans message=\"Add menu item\" />,\n}: AddMenuItemDialogProps) {\n  const {data} = useValueLists(['menuItemCategories']);\n  const categories = data?.menuItemCategories || [];\n  const routeItems = useAvailableRoutes();\n\n  return (\n    <Dialog size=\"sm\">\n      <DialogHeader>{title}</DialogHeader>\n      <DialogBody>\n        <Accordion variant=\"outline\">\n          <AccordionItem\n            label={<Trans message=\"Link\" />}\n            bodyClassName=\"max-h-240 overflow-y-auto\"\n          >\n            <AddCustomLink />\n          </AccordionItem>\n          <AccordionItem\n            label={<Trans message=\"Route\" />}\n            bodyClassName=\"max-h-240 overflow-y-auto\"\n          >\n            <AddRoute items={routeItems} />\n          </AccordionItem>\n          {categories.map(category => (\n            <AccordionItem\n              key={category.name}\n              label={<Trans message={category.name} />}\n            >\n              <AddRoute items={category.items} />\n            </AccordionItem>\n          ))}\n        </Accordion>\n      </DialogBody>\n    </Dialog>\n  );\n}\n\nfunction AddCustomLink() {\n  const form = useForm<MenuItemConfig>({\n    defaultValues: {\n      id: nanoid(6),\n      type: 'link',\n      target: '_blank',\n    },\n  });\n  const {close} = useDialogContext();\n\n  return (\n    <Form\n      form={form}\n      onSubmit={value => {\n        close(value);\n      }}\n    >\n      <FormTextField\n        required\n        name=\"label\"\n        label={<Trans message=\"Label\" />}\n        className=\"mb-20\"\n      />\n      <FormTextField\n        required\n        type=\"url\"\n        name=\"action\"\n        placeholder=\"https://\"\n        label={<Trans message=\"Url\" />}\n        className=\"mb-20\"\n      />\n      <div className=\"text-right\">\n        <Button type=\"submit\" variant=\"flat\" color=\"primary\" size=\"xs\">\n          <Trans message=\"Add to menu\" />\n        </Button>\n      </div>\n    </Form>\n  );\n}\n\ninterface AddRouteProps {\n  items: Partial<MenuItemConfig>[];\n}\nfunction AddRoute({items}: AddRouteProps) {\n  const {close} = useDialogContext();\n\n  return (\n    <List>\n      {items.map(item => {\n        return (\n          <ListItem\n            key={item.id}\n            startIcon={<AddIcon size=\"sm\" />}\n            onSelected={() => {\n              if (item.label) {\n                const last = item.label.split('/').pop();\n                item.label = last ? ucFirst(last) : item.label;\n                item.id = nanoid(6);\n              }\n              close(item);\n            }}\n          >\n            {item.label}\n          </ListItem>\n        );\n      })}\n    </List>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const DragIndicatorIcon = createSvgIcon(\n  <path d=\"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" />\n, 'DragIndicatorOutlined');\n","export default \"__VITE_ASSET__abcb02f6__\"","import React from 'react';\n\ntype NativeEvent =\n  | React.PointerEvent\n  | PointerEvent\n  | React.DragEvent<HTMLElement>\n  | DragEvent;\n\nexport interface InteractableEvent {\n  x: number;\n  y: number;\n  deltaX: number;\n  deltaY: number;\n  rect: InteractableRect;\n  nativeEvent: NativeEvent;\n}\n\nexport interface InteractableRect {\n  left: number;\n  top: number;\n  width: number;\n  height: number;\n  angle?: number;\n}\n\nexport function interactableEvent({\n  e,\n  rect,\n  deltaX,\n  deltaY,\n}: {\n  e: NativeEvent;\n  rect: InteractableRect;\n  deltaX?: number;\n  deltaY?: number;\n}): InteractableEvent {\n  return {\n    rect,\n    x: e.clientX,\n    y: e.clientY,\n    deltaX: deltaX ?? 0,\n    deltaY: deltaY ?? 0,\n    nativeEvent: e,\n  };\n}\n","type InteractionName = null | 'resize' | 'rotate' | 'drag' | 'move';\n\nexport let activeInteraction: InteractionName = null;\n\nexport function setActiveInteraction(name: InteractionName) {\n  activeInteraction = name;\n}\n","import {InteractableRect} from '../interactable-event';\n\nexport function domRectToObj(rect: DOMRect): InteractableRect {\n  return {\n    left: rect.left,\n    top: rect.top,\n    width: rect.width,\n    height: rect.height,\n  };\n}\n","// use intersection observer instead of getBoundingClientRect for better performance as this will be called in onPointerMove event\nimport {InteractableRect} from '../interactable-event';\nimport {ConnectedMouseSelectable} from './mouse-selection/use-mouse-selectable';\nimport {DraggableId} from './use-draggable';\nimport {ConnectedDroppable} from './use-droppable';\n\nexport function updateRects(\n  targets: Map<DraggableId, ConnectedDroppable | ConnectedMouseSelectable>\n) {\n  const observer = new IntersectionObserver(entries => {\n    entries.forEach(entry => {\n      const {width, height, left, top} = entry.boundingClientRect;\n      const [id, target] =\n        [...targets].find(\n          ([, target]) => target.ref.current === entry.target\n        ) || [];\n      if (id == null || target == null) return;\n\n      const rect: InteractableRect = {\n        width,\n        height,\n        left,\n        top,\n      };\n      targets.set(id, {...target, rect});\n    });\n    observer.disconnect();\n  });\n\n  [...targets.values()].forEach(target => {\n    if (target.ref.current) {\n      observer.observe(target.ref.current);\n    }\n  });\n}\n","import React, {RefObject, useLayoutEffect, useRef} from 'react';\nimport {draggables, dragMonitors, dragSession, droppables} from './drag-state';\nimport {\n  InteractableEvent,\n  interactableEvent,\n  InteractableRect,\n} from '../interactable-event';\nimport {activeInteraction, setActiveInteraction} from '../active-interaction';\nimport {domRectToObj} from '../utils/dom-rect-to-obj';\nimport {updateRects} from './update-rects';\nimport {useGlobalListeners} from '@react-aria/utils';\nimport {DragMonitor} from './use-drag-monitor';\nimport {NativeFileDraggable} from './use-droppable';\n\ninterface DragState {\n  currentRect?: InteractableRect;\n  lastPosition: {x: number; y: number};\n  clickedEl?: HTMLElement;\n}\n\nexport type DragPreviewRenderer = (\n  draggable: ConnectedDraggable,\n  callback: (node: HTMLElement) => void\n) => void;\n\nexport type DraggableId = string | number | object;\n\nexport interface ConnectedDraggable<T = any> {\n  type: string;\n  id: DraggableId;\n  getData: () => T;\n  ref: RefObject<HTMLElement>;\n}\n\n// Either draggable from within the app, or file dragged in from the desktop\nexport type MixedDraggable = ConnectedDraggable | NativeFileDraggable;\n\ninterface UseDragProps extends ConnectedDraggable {\n  disabled?: boolean;\n  onDragStart?: (e: InteractableEvent, target: ConnectedDraggable) => void;\n  onDragMove?: (e: InteractableEvent, target: ConnectedDraggable) => void;\n  onDragEnd?: (e: InteractableEvent, target: ConnectedDraggable) => void;\n  preview?: RefObject<DragPreviewRenderer>;\n  hidePreview?: boolean;\n}\nexport function useDraggable({\n  id,\n  disabled,\n  ref,\n  preview,\n  hidePreview,\n  ...options\n}: UseDragProps) {\n  const dragHandleRef = useRef<HTMLButtonElement>(null);\n  const {addGlobalListener, removeAllGlobalListeners} = useGlobalListeners();\n\n  const state = useRef<DragState>({\n    lastPosition: {x: 0, y: 0},\n  }).current;\n\n  const optionsRef = useRef(options);\n  optionsRef.current = options;\n\n  useLayoutEffect(() => {\n    if (!disabled) {\n      draggables.set(id, {\n        ...draggables.get(id),\n        id,\n        ref,\n        type: optionsRef.current.type,\n        getData: optionsRef.current.getData,\n      });\n    } else {\n      draggables.delete(id);\n    }\n    return () => {\n      draggables.delete(id);\n    };\n  }, [id, disabled, optionsRef, ref]);\n\n  // notify monitors connected to the same drag type as this draggable\n  const notifyMonitors = (callback: (m: DragMonitor) => void) => {\n    dragMonitors.forEach(monitor => {\n      if (monitor.type === draggables.get(id)?.type) {\n        callback(monitor);\n      }\n    });\n  };\n\n  const onDragStart = (e: React.DragEvent<HTMLElement>) => {\n    const draggable = draggables.get(id);\n    const el = ref.current;\n    const clickedOnHandle =\n      !dragHandleRef.current ||\n      !state.clickedEl ||\n      dragHandleRef.current.contains(state.clickedEl);\n\n    // if another interaction is in progress (rotate, resize, drag etc.), bail\n    if (activeInteraction || !el || !draggable || !clickedOnHandle) {\n      e.preventDefault();\n      e.stopPropagation();\n      return;\n    }\n\n    updateRects(droppables);\n    setActiveInteraction('drag');\n\n    // hide default browser ghost image\n    if (hidePreview) {\n      hideNativeGhostImage(e);\n    }\n    // this will hide default browser cursor icon, if \"dropEffect\" is not set in dragOver/dragEnter\n    e.dataTransfer.effectAllowed = 'move';\n\n    state.lastPosition = {x: e.clientX, y: e.clientY};\n    state.currentRect = domRectToObj(el.getBoundingClientRect());\n    const ie = interactableEvent({rect: state.currentRect!, e});\n\n    // If there is a preview option, use it to render a custom preview image that will\n    // appear under the pointer while dragging. If not, the element itself is dragged by the browser.\n    if (preview?.current) {\n      preview.current(draggable, node => {\n        e.dataTransfer.setDragImage(node, 0, 0);\n      });\n    }\n\n    dragSession.status = 'dragging';\n    dragSession.dragTargetId = id;\n    if (ref.current) {\n      ref.current.dataset.dragging = 'true';\n    }\n\n    optionsRef.current.onDragStart?.(ie, draggable);\n\n    // wait until next frame so changes made in \"onDragStart\" are reflected in drag monitors\n    requestAnimationFrame(() => {\n      notifyMonitors(m => m.onDragStart?.(ie, draggable));\n    });\n\n    // firefox does not provide clientX/clientY in \"onDrag\", need to listen for dragOver on window instead\n    addGlobalListener(window, 'dragover', onDragOver, true);\n  };\n\n  const onDragOver = (e: React.DragEvent<HTMLElement> | DragEvent) => {\n    e.preventDefault();\n\n    if (!state.currentRect) return;\n\n    const deltaX = e.clientX - state.lastPosition.x;\n    const deltaY = e.clientY - state.lastPosition.y;\n\n    const newRect = {\n      ...state.currentRect,\n      left: state.currentRect.left + deltaX,\n      top: state.currentRect.top + deltaY,\n    };\n\n    const ie = interactableEvent({rect: newRect, e, deltaX, deltaY});\n\n    const target = draggables.get(id);\n    if (target) {\n      optionsRef.current.onDragMove?.(ie, target);\n      notifyMonitors(m => m.onDragMove?.(ie, target));\n    }\n\n    state.lastPosition = {x: e.clientX, y: e.clientY};\n    state.currentRect = newRect;\n  };\n\n  const onDragEnd = (e: React.DragEvent<HTMLElement>) => {\n    removeAllGlobalListeners();\n    if (!state.currentRect) return;\n\n    setActiveInteraction(null);\n    if (emptyImage) {\n      emptyImage.remove();\n    }\n\n    const ie = interactableEvent({rect: state.currentRect, e});\n\n    const draggable = draggables.get(id);\n    if (draggable) {\n      optionsRef.current.onDragEnd?.(ie, draggable);\n      notifyMonitors(m => m.onDragEnd?.(ie, draggable, dragSession!.status));\n    }\n\n    // wait a frame before clearing so monitors have a chance to use drag session status\n    requestAnimationFrame(() => {\n      dragSession.dragTargetId = undefined;\n      dragSession.status = 'inactive';\n      if (ref.current) {\n        delete ref.current.dataset.dragging;\n      }\n    });\n  };\n\n  const draggableProps = {\n    draggable: !disabled,\n    onDragStart,\n    onDragEnd,\n    onPointerDown: (e: React.PointerEvent) => {\n      state.clickedEl = e.target as HTMLElement;\n    },\n  };\n\n  return {draggableProps, dragHandleRef};\n}\n\nlet emptyImage: HTMLImageElement | undefined;\nfunction hideNativeGhostImage(e: React.DragEvent) {\n  if (!emptyImage) {\n    emptyImage = new Image();\n    // image needs to be in the dom to prevent \"globe\" icon in chrome\n    document.body.append(emptyImage);\n    emptyImage.src =\n      'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n  }\n\n  e.dataTransfer.setDragImage(emptyImage, 0, 0);\n}\n","import {clamp} from '../number/clamp';\n\nexport function moveItemInArray<T = any>(\n  array: T[],\n  fromIndex: number,\n  toIndex: number\n): T[] {\n  const from = clamp(fromIndex, 0, array.length - 1);\n  const to = clamp(toIndex, 0, array.length - 1);\n\n  if (from === to) {\n    return array;\n  }\n\n  const target = array[from];\n  const delta = to < from ? -1 : 1;\n\n  for (let i = from; i !== to; i += delta) {\n    array[i] = array[i + delta];\n  }\n\n  array[to] = target;\n\n  return array;\n}\n","export function moveItemInNewArray<T>(\n  array: T[],\n  from: number,\n  to: number\n): T[] {\n  const newArray = array.slice();\n  newArray.splice(\n    to < 0 ? newArray.length + to : to,\n    0,\n    newArray.splice(from, 1)[0]\n  );\n\n  return newArray;\n}\n","import {DraggableId, DragPreviewRenderer, useDraggable} from './use-draggable';\nimport {useDroppable} from './use-droppable';\nimport {RefObject, useEffect, useRef} from 'react';\nimport {getScrollParent, mergeProps} from '@react-aria/utils';\nimport {moveItemInArray} from '@common/utils/array/move-item-in-array';\nimport {droppables} from './drag-state';\nimport {moveItemInNewArray} from '@common/utils/array/move-item-in-new-array';\nimport {updateRects} from '@common/ui/interactions/dnd/update-rects';\n\nlet sortSession: null | {\n  // items in this list will be moved when user is sorting\n  sortables: DraggableId[];\n\n  // sortable user started dragging to start this session\n  activeSortable: DraggableId;\n  activeIndex: number;\n\n  // final index sortable was dropped in and should be moved to\n  finalIndex: number;\n\n  // drop position for displaying line preview\n  dropPosition: DropPosition;\n  // element that currently has a line preview at the top or bottom\n  linePreviewEl?: HTMLElement;\n  scrollParent?: Element;\n  scrollListener: () => void;\n} = null;\n\nexport type DropPosition = 'before' | 'after' | null;\n\nexport interface UseSortableProps {\n  item: DraggableId;\n  items: DraggableId[];\n  onSortStart?: () => void;\n  onSortEnd?: (oldIndex: number, newIndex: number) => void;\n  onDragEnd?: () => void;\n  onDropPositionChange?: (dropPosition: DropPosition) => void;\n  ref: RefObject<HTMLElement>;\n  type: string;\n  preview?: RefObject<DragPreviewRenderer>;\n  previewVariant?: 'line' | 'liveSort';\n  disabled?: boolean;\n}\nexport function useSortable({\n  item,\n  items,\n  type,\n  ref,\n  onSortEnd,\n  onSortStart,\n  onDragEnd,\n  preview,\n  disabled,\n  onDropPositionChange,\n  previewVariant = 'liveSort',\n}: UseSortableProps) {\n  const dropPosition = useRef<DropPosition>(null);\n\n  // todo: issue with sorting after scrolling menu editor item list\n\n  // update sortables and active index, in case we lazy load more items while sorting\n  useEffect(() => {\n    if (sortSession && sortSession.sortables.length !== items.length) {\n      sortSession.sortables = [...items];\n      sortSession.activeIndex = items.indexOf(item);\n    }\n  }, [items, item]);\n\n  const {draggableProps, dragHandleRef} = useDraggable({\n    id: item,\n    ref,\n    type,\n    preview,\n    disabled,\n    onDragStart: () => {\n      dropPosition.current = null;\n      sortSession = {\n        sortables: [...items],\n        activeSortable: item,\n        activeIndex: items.indexOf(item),\n        finalIndex: items.indexOf(item),\n        dropPosition: null,\n        scrollParent: ref.current ? getScrollParent(ref.current) : undefined,\n        scrollListener: () => {\n          updateRects(droppables);\n        },\n      };\n\n      if (previewVariant === 'liveSort') {\n        addSortStyles();\n      }\n      onSortStart?.();\n      sortSession.scrollParent?.addEventListener(\n        'scroll',\n        sortSession.scrollListener\n      );\n    },\n    onDragEnd: () => {\n      if (!sortSession) return;\n\n      if (previewVariant === 'liveSort') {\n        removeSortStyles();\n      }\n\n      sortSession.dropPosition = null;\n      onDropPositionChange?.(sortSession.dropPosition);\n      if (sortSession.activeIndex !== sortSession.finalIndex) {\n        onSortEnd?.(sortSession.activeIndex, sortSession.finalIndex);\n      }\n      sortSession.scrollParent?.removeEventListener(\n        'scroll',\n        sortSession.scrollListener\n      );\n      clearLinePreview();\n      // call \"onDragEnd\" after \"onSortEnd\", so listener has a chance to use sort session data\n      onDragEnd?.();\n      sortSession = null;\n    },\n    getData: () => {},\n  });\n\n  const {droppableProps} = useDroppable({\n    id: item,\n    ref,\n    types: [type],\n    disabled,\n    allowDragEventsFromItself: true,\n    onDragOver: (target, e) => {\n      if (!sortSession || previewVariant !== 'line') {\n        return;\n      }\n\n      const previousPosition = sortSession.dropPosition;\n      let newPosition: DropPosition = null;\n\n      const rect = droppables.get(item)?.rect;\n      if (rect) {\n        const midY = rect.top + rect.height / 2;\n        if (e.clientY <= midY) {\n          newPosition = 'before';\n        } else if (e.clientY >= midY) {\n          newPosition = 'after';\n        }\n      }\n\n      if (newPosition !== previousPosition) {\n        const overIndex = sortSession.sortables.indexOf(item);\n        sortSession.dropPosition = newPosition;\n        onDropPositionChange?.(sortSession.dropPosition);\n\n        clearLinePreview();\n        if (ref.current) {\n          if (sortSession.dropPosition === 'after') {\n            addLinePreview(ref.current, 'bottom');\n          } else {\n            // if it's the first row, add preview to the top border, as there's no previous element\n            if (overIndex === 0) {\n              addLinePreview(ref.current, 'top');\n              // otherwise add preview to the bottom border of the previous row\n            } else {\n              const droppableId = sortSession.sortables[overIndex - 1];\n              const droppable = droppables.get(droppableId);\n              if (droppable?.ref.current) {\n                addLinePreview(droppable.ref.current, 'bottom');\n              }\n            }\n          }\n        }\n\n        const itemIndex = items.indexOf(item);\n\n        // don't move item at all if hovering over itself\n        if (sortSession.activeIndex === itemIndex) {\n          sortSession.finalIndex = sortSession.activeIndex;\n          return;\n        }\n\n        // adjust final drop index based on whether we're dropping drag target after or before it's original index\n        // this is needed, so we get the same index if target is dropped after current item or before next item\n        const dragDirection =\n          overIndex > sortSession.activeIndex ? 'after' : 'before';\n        if (dragDirection === 'after') {\n          sortSession.finalIndex =\n            sortSession.dropPosition === 'before' ? itemIndex - 1 : itemIndex;\n        } else {\n          sortSession.finalIndex =\n            sortSession.dropPosition === 'after' ? itemIndex + 1 : itemIndex;\n        }\n      }\n    },\n    onDragEnter: () => {\n      if (!sortSession || previewVariant === 'line') return;\n\n      const overIndex = sortSession.sortables.indexOf(item);\n      const oldIndex = sortSession.sortables.indexOf(\n        sortSession.activeSortable\n      );\n\n      moveItemInArray(sortSession.sortables, oldIndex, overIndex);\n      const rects = sortSession.sortables.map(s => droppables.get(s)?.rect);\n\n      sortSession.sortables.forEach((sortable, index) => {\n        if (!sortSession) return;\n\n        const newRects = moveItemInNewArray(\n          rects,\n          overIndex,\n          sortSession.activeIndex\n        );\n        const oldRect = rects[index];\n        const newRect = newRects[index];\n        const sortableTarget = droppables.get(sortable);\n\n        if (sortableTarget?.ref.current && newRect && oldRect) {\n          const x = newRect.left - oldRect.left;\n          const y = newRect.top - oldRect.top;\n          sortableTarget.ref.current.style.transform = `translate3d(${x}px, ${y}px, 0)`;\n        }\n      });\n\n      sortSession.finalIndex = overIndex;\n    },\n    onDragLeave: () => {\n      if (!sortSession || previewVariant !== 'line') {\n        return;\n      }\n      sortSession.dropPosition = null;\n      onDropPositionChange?.(sortSession.dropPosition);\n    },\n  });\n\n  return {\n    sortableProps: {...mergeProps(draggableProps, droppableProps)},\n    dragHandleRef,\n  };\n}\n\nconst transition = 'transform 0.2s cubic-bezier(0.2, 0, 0, 1)';\n\nfunction addSortStyles() {\n  if (!sortSession) return;\n  sortSession.sortables.forEach((sortable, index) => {\n    const droppable = droppables.get(sortable);\n    if (!droppable?.ref.current) return;\n\n    droppable.ref.current.style.transition = transition;\n\n    if (sortSession?.activeIndex === index) {\n      droppable.ref.current.style.opacity = '0.4';\n    }\n  });\n}\n\n// clear any styles and transforms applied to sortables during sorting\nfunction removeSortStyles() {\n  if (!sortSession) return;\n  sortSession.sortables.forEach(sortable => {\n    const droppable = droppables.get(sortable);\n    if (droppable?.ref.current) {\n      droppable.ref.current.style.transform = '';\n      droppable.ref.current.style.transition = '';\n      droppable.ref.current.style.opacity = '';\n      droppable.ref.current.style.zIndex = '';\n    }\n  });\n}\n\nfunction clearLinePreview() {\n  if (sortSession?.linePreviewEl) {\n    sortSession.linePreviewEl.style.borderBottomColor = '';\n    sortSession.linePreviewEl.style.borderTopColor = '';\n    sortSession.linePreviewEl = undefined;\n  }\n}\n\nfunction addLinePreview(el: HTMLElement, side: 'top' | 'bottom') {\n  const color = 'rgb(var(--be-primary))';\n  if (side === 'top') {\n    el.style.borderTopColor = color;\n  } else {\n    el.style.borderBottomColor = color;\n  }\n  if (sortSession) {\n    sortSession.linePreviewEl = el;\n  }\n}\n","import {\n  FieldArrayWithId,\n  useFieldArray,\n  UseFieldArrayReturn,\n  useFormContext,\n} from 'react-hook-form';\nimport {Fragment, useEffect, useMemo, useRef} from 'react';\nimport {Link, useNavigate, useParams} from 'react-router-dom';\nimport {MenuSectionConfig} from '../../types/appearance-editor-config';\nimport {MenuItemConfig} from '@common/core/settings/settings';\nimport {\n  appearanceState,\n  AppearanceValues,\n  useAppearanceStore,\n} from '../../appearance-store';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Button} from '@common/ui/buttons/button';\nimport {AddMenuItemDialog} from '@common/admin/appearance/sections/menus/add-menu-item-dialog';\nimport {AppearanceButton} from '@common/admin/appearance/appearance-button';\nimport {AddIcon} from '@common/icons/material/Add';\nimport {DragIndicatorIcon} from '@common/icons/material/DragIndicator';\nimport {ConfirmationDialog} from '@common/ui/overlays/dialog/confirmation-dialog';\nimport {IllustratedMessage} from '@common/ui/images/illustrated-message';\nimport {SvgImage} from '@common/ui/images/svg-image/svg-image';\nimport {DeleteIcon} from '@common/icons/material/Delete';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {Option} from '../../../../ui/forms/select/select';\nimport {Trans} from '@common/i18n/trans';\nimport dropdownMenu from './dropdown-menu.svg';\nimport {FormChipField} from '@common/ui/forms/input-field/chip-field/form-chip-field';\nimport {\n  useSortable,\n  UseSortableProps,\n} from '@common/ui/interactions/dnd/use-sortable';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {createSvgIconFromTree} from '@common/icons/create-svg-icon';\nimport {useSettings} from '@common/core/settings/use-settings';\n\nexport function MenuEditor() {\n  const {menuIndex} = useParams();\n  const navigate = useNavigate();\n\n  const {getValues} = useFormContext<AppearanceValues>();\n  const formPath = `settings.menus.${menuIndex!}` as 'settings.menus.0';\n  const menu = getValues(formPath);\n\n  useEffect(() => {\n    // go to menu list, if menu can't be found\n    if (!menu) {\n      navigate('/admin/appearance/menus');\n    } else {\n      appearanceState().preview.setHighlight(`[data-menu-id=\"${menu.id}\"]`);\n    }\n  }, [navigate, menu]);\n\n  if (!menu) {\n    return null;\n  }\n\n  return <MenuEditorSection formPath={formPath} />;\n}\n\ninterface MenuEditorFormProps {\n  formPath: 'settings.menus.0';\n}\nfunction MenuEditorSection({formPath}: MenuEditorFormProps) {\n  const {\n    site: {has_mobile_app},\n  } = useSettings();\n  const menuSectionConfig = useAppearanceStore(\n    s => s.config?.sections.menus.config\n  ) as MenuSectionConfig;\n\n  const menuPositions = useMemo(() => {\n    const positions = [...menuSectionConfig?.positions];\n    if (has_mobile_app) {\n      positions.push('mobile-app-about');\n    }\n    return positions.map(position => ({\n      key: position,\n      name: position.replaceAll('-', ' '),\n    }));\n  }, [menuSectionConfig, has_mobile_app]);\n\n  const fieldArray = useFieldArray<\n    AppearanceValues,\n    `settings.menus.0.items`,\n    'key'\n  >({\n    name: `${formPath}.items`,\n    keyName: 'key',\n  });\n\n  return (\n    <Fragment>\n      <div className=\"mb-30 pb-30 border-b\">\n        <FormTextField\n          name={`${formPath}.name`}\n          label={<Trans message=\"Menu name\" />}\n          className=\"mb-20\"\n          autoFocus\n        />\n        <FormChipField\n          chipSize=\"sm\"\n          name={`${formPath}.positions`}\n          valueKey=\"id\"\n          label={<Trans message=\"Menu positions\" />}\n          description={\n            <Trans message=\"Where should this menu appear on the site\" />\n          }\n        >\n          {menuPositions.map(item => (\n            <Option key={item.key} value={item.key} capitalizeFirst>\n              {item.name}\n            </Option>\n          ))}\n        </FormChipField>\n      </div>\n      <MenuItemsManager fieldArray={fieldArray} />\n      <div className=\"text-right\">\n        <DeleteMenuTrigger />\n      </div>\n    </Fragment>\n  );\n}\n\ninterface ItemListProps {\n  fieldArray: UseFieldArrayReturn<\n    AppearanceValues,\n    'settings.menus.0.items',\n    'key'\n  >;\n}\nfunction MenuItemsManager({fieldArray: {append, fields, move}}: ItemListProps) {\n  const navigate = useNavigate();\n\n  return (\n    <Fragment>\n      <div className=\"flex items-center gap-16 justify-between flex-shrink-0\">\n        <Trans message=\"Menu items\" />\n        <DialogTrigger\n          type=\"popover\"\n          placement=\"right\"\n          offset={20}\n          onClose={(menuItemConfig?: MenuItemConfig) => {\n            if (menuItemConfig) {\n              append({...menuItemConfig});\n              navigate(`items/${fields.length}`);\n            }\n          }}\n        >\n          <Button\n            variant=\"outline\"\n            color=\"primary\"\n            size=\"xs\"\n            startIcon={<AddIcon />}\n          >\n            <Trans message=\"Add\" />\n          </Button>\n          <AddMenuItemDialog />\n        </DialogTrigger>\n      </div>\n      <div className=\"mt-20 flex-shrink-0\">\n        {fields.map((item, index) => (\n          <MenuListItem\n            key={item.key}\n            item={item}\n            items={fields}\n            index={index}\n            onSortEnd={(oldIndex, newIndex) => {\n              move(oldIndex, newIndex);\n            }}\n          />\n        ))}\n        {!fields.length ? (\n          <IllustratedMessage\n            size=\"xs\"\n            className=\"my-40\"\n            image={<SvgImage src={dropdownMenu} />}\n            title={<Trans message=\"No menu items yet\" />}\n            description={\n              <Trans message=\"Click “add“ button to start adding links, pages, routes and other items to this menu. \" />\n            }\n          />\n        ) : null}\n      </div>\n    </Fragment>\n  );\n}\n\nfunction DeleteMenuTrigger() {\n  const navigate = useNavigate();\n  const {menuIndex} = useParams();\n  const {fields, remove} = useFieldArray<\n    AppearanceValues,\n    'settings.menus',\n    'key'\n  >({\n    name: 'settings.menus',\n    keyName: 'key',\n  });\n  if (!menuIndex) return null;\n  const menu = fields[+menuIndex];\n\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      onClose={isConfirmed => {\n        if (isConfirmed) {\n          const index = fields.findIndex(m => m.id === menu.id);\n          remove(index);\n          navigate('/admin/appearance/menus');\n        }\n      }}\n    >\n      <Button\n        variant=\"outline\"\n        color=\"danger\"\n        size=\"xs\"\n        startIcon={<DeleteIcon />}\n      >\n        <Trans message=\"Delete menu\" />\n      </Button>\n      <ConfirmationDialog\n        isDanger\n        title={<Trans message=\"Delete menu\" />}\n        body={\n          <Trans\n            message=\"Are you sure you want to delete “:name“?\"\n            values={{name: menu.name}}\n          />\n        }\n        confirm={<Trans message=\"Delete\" />}\n      />\n    </DialogTrigger>\n  );\n}\n\ninterface MenuListItemProps {\n  item: MenuItemConfig;\n  items: FieldArrayWithId[];\n  index: number;\n  onSortEnd: UseSortableProps['onSortEnd'];\n}\nfunction MenuListItem({item, items, index, onSortEnd}: MenuListItemProps) {\n  const ref = useRef<HTMLButtonElement>(null);\n  const {sortableProps, dragHandleRef} = useSortable({\n    item,\n    items,\n    type: 'menuEditorSortable',\n    ref,\n    onSortEnd,\n    previewVariant: 'liveSort',\n  });\n\n  const Icon = item.icon && createSvgIconFromTree(item.icon);\n  const iconOnlyLabel = (\n    <div className=\"text-muted flex items-center gap-4 text-xs\">\n      {Icon && <Icon size=\"sm\" />}\n      (<Trans message=\"No label...\" />)\n    </div>\n  );\n\n  return (\n    <Fragment>\n      <AppearanceButton\n        elementType={Link}\n        to={`items/${index}`}\n        ref={ref}\n        {...sortableProps}\n      >\n        <div className=\"flex items-center gap-10\">\n          <IconButton ref={dragHandleRef} size=\"sm\">\n            <DragIndicatorIcon className=\"text-muted hover:cursor-move\" />\n          </IconButton>\n          <div>{item.label || iconOnlyLabel}</div>\n        </div>\n      </AppearanceButton>\n    </Fragment>\n  );\n}\n","import {useControlledState} from '@react-stately/utils';\nimport React, {Fragment, useState} from 'react';\nimport {useController} from 'react-hook-form';\nimport {mergeProps} from '@react-aria/utils';\nimport clsx from 'clsx';\nimport {produce} from 'immer';\nimport {Permission, PermissionRestriction} from '../permission';\nimport {useValueLists} from '../../http/value-lists';\nimport {ucFirst} from '../../utils/string/uc-first';\nimport {Accordion, AccordionItem} from '../../ui/accordion/accordion';\nimport {List, ListItem} from '../../ui/list/list';\nimport {Switch} from '../../ui/forms/toggle/switch';\nimport {TextField} from '../../ui/forms/input-field/text-field/text-field';\nimport {DoneAllIcon} from '../../icons/material/DoneAll';\nimport {Trans} from '../../i18n/trans';\n\ninterface PermissionSelectorProps {\n  value?: Permission[];\n  onChange?: (value: Permission[]) => void;\n  valueListKey?: 'permissions' | 'workspacePermissions';\n}\nexport const PermissionSelector = React.forwardRef<\n  HTMLDivElement,\n  PermissionSelectorProps\n>(({valueListKey = 'permissions', ...props}, ref) => {\n  const {data} = useValueLists([valueListKey]);\n  const permissions = data?.permissions || data?.workspacePermissions;\n\n  const [value, setValue] = useControlledState(props.value, [], props.onChange);\n  const [showAdvanced, setShowAdvanced] = useState(false);\n\n  if (!permissions) return null;\n\n  const groupedPermissions = buildPermissionList(\n    permissions,\n    value,\n    showAdvanced\n  );\n\n  const onRestrictionChange = (newPermission: Permission) => {\n    const newValue = [...value];\n    const index = newValue.findIndex(p => p.id === newPermission.id);\n    if (index > -1) {\n      newValue.splice(index, 1, newPermission);\n    }\n    setValue(newValue);\n  };\n\n  return (\n    <Fragment>\n      <Accordion variant=\"outline\" ref={ref}>\n        {groupedPermissions.map(({groupName, items, anyChecked}) => (\n          <AccordionItem\n            label={<Trans message={prettyName(groupName)} />}\n            key={groupName}\n            startIcon={anyChecked ? <DoneAllIcon size=\"sm\" /> : undefined}\n          >\n            <List>\n              {items.map(permission => {\n                const index = value.findIndex(v => v.id === permission.id);\n                const isChecked = index > -1;\n\n                return (\n                  <div key={permission.id}>\n                    <ListItem\n                      onSelected={() => {\n                        if (isChecked) {\n                          const newValue = [...value];\n                          newValue.splice(index, 1);\n                          setValue(newValue);\n                        } else {\n                          setValue([...value, permission]);\n                        }\n                      }}\n                      endSection={\n                        <Switch\n                          tabIndex={-1}\n                          checked={isChecked}\n                          onChange={() => {}}\n                        />\n                      }\n                      description={<Trans message={permission.description} />}\n                    >\n                      <Trans\n                        message={permission.display_name || permission.name}\n                      />\n                    </ListItem>\n                    {isChecked && (\n                      <Restrictions\n                        permission={permission}\n                        onChange={onRestrictionChange}\n                      />\n                    )}\n                  </div>\n                );\n              })}\n            </List>\n          </AccordionItem>\n        ))}\n      </Accordion>\n      <Switch\n        className=\"mt-30\"\n        checked={showAdvanced}\n        onChange={e => {\n          setShowAdvanced(e.target.checked);\n        }}\n      >\n        <Trans message=\"Show advanced permissions\" />\n      </Switch>\n    </Fragment>\n  );\n});\n\ninterface RestrictionsProps {\n  permission: Permission;\n  onChange?: (newPermission: Permission) => void;\n}\nfunction Restrictions({permission, onChange}: RestrictionsProps) {\n  if (!permission?.restrictions?.length) return null;\n\n  const setRestrictionValue = (\n    name: string,\n    value: PermissionRestriction['value']\n  ) => {\n    const nextState = produce(permission, draftState => {\n      const restriction = draftState.restrictions.find(r => r.name === name);\n      if (restriction) {\n        restriction.value = value;\n      }\n    });\n    onChange?.(nextState);\n  };\n\n  return (\n    <div className=\"px-40 py-20\">\n      {permission.restrictions.map((restriction, index) => {\n        const isLast = index === permission.restrictions.length - 1;\n\n        const name = <Trans message={prettyName(restriction.name)} />;\n        const description = restriction.description ? (\n          <Trans message={restriction.description} />\n        ) : undefined;\n\n        if (restriction.type === 'bool') {\n          return (\n            <Switch\n              description={description}\n              key={restriction.name}\n              className={clsx(!isLast && 'mb-30')}\n              checked={Boolean(restriction.value)}\n              onChange={e => {\n                setRestrictionValue(restriction.name, e.target.checked);\n              }}\n            >\n              {name}\n            </Switch>\n          );\n        }\n\n        return (\n          <TextField\n            size=\"sm\"\n            label={name}\n            description={description}\n            type=\"number\"\n            key={restriction.name}\n            className={clsx(!isLast && 'mb-30')}\n            value={(restriction.value as string) || ''}\n            onChange={e => {\n              setRestrictionValue(\n                restriction.name,\n                e.target.value === '' ? undefined : parseInt(e.target.value)\n              );\n            }}\n          />\n        );\n      })}\n    </div>\n  );\n}\n\nexport type FormChipFieldProps = PermissionSelectorProps & {\n  name: string;\n};\nexport function FormPermissionSelector(props: FormChipFieldProps) {\n  const {\n    field: {onChange, value = [], ref},\n  } = useController({\n    name: props.name,\n  });\n\n  const formProps: Partial<PermissionSelectorProps> = {\n    onChange,\n    value,\n  };\n\n  return <PermissionSelector ref={ref} {...mergeProps(formProps, props)} />;\n}\n\nexport const prettyName = (name: string) => {\n  return ucFirst(name.replace('_', ' '));\n};\n\ninterface PermissionGroup {\n  groupName: string;\n  anyChecked: boolean;\n  items: Permission[];\n}\n\n// merge \"restrictions\" from selected value into all permissions to make\n// it easier to bind restriction values to form inputs\nexport function buildPermissionList(\n  allPermissions: Permission[],\n  selectedPermissions: Permission[],\n  showAdvanced: boolean\n) {\n  const groupedPermissions: PermissionGroup[] = [];\n\n  allPermissions.forEach(permission => {\n    const index = selectedPermissions.findIndex(p => p.id === permission.id);\n    if (!showAdvanced && permission.advanced) return;\n\n    let group: PermissionGroup | undefined = groupedPermissions.find(\n      g => g.groupName === permission.group\n    );\n    if (!group) {\n      group = {groupName: permission.group, anyChecked: false, items: []};\n      groupedPermissions.push(group);\n    }\n\n    if (index > -1) {\n      const mergedPermission = {\n        ...permission,\n        restrictions: mergeRestrictions(\n          permission.restrictions,\n          selectedPermissions[index].restrictions\n        ),\n      };\n      group.anyChecked = true;\n      group.items.push(mergedPermission);\n    } else {\n      group.items.push(permission);\n    }\n  });\n\n  return groupedPermissions;\n}\n\nfunction mergeRestrictions(\n  allRestrictions: PermissionRestriction[],\n  selectedRestrictions: PermissionRestriction[]\n): PermissionRestriction[] {\n  return allRestrictions?.map(restriction => {\n    const selected = selectedRestrictions.find(\n      r => r.name === restriction.name\n    );\n    if (selected) {\n      return {...restriction, value: selected.value};\n    } else {\n      return restriction;\n    }\n  });\n}\n","export const iconGridStyle = {\n  grid: 'flex flex-wrap gap-24',\n  button:\n    'flex flex-col items-center rounded hover:bg-hover h-90 aspect-square',\n};\n","import React, {Suspense} from 'react';\nimport {IconTree} from '../../icons/create-svg-icon';\nimport {iconGridStyle} from './icon-grid-style';\nimport {TextField} from '../forms/input-field/text-field/text-field';\nimport {Skeleton} from '../skeleton/skeleton';\nimport {useTrans} from '../../i18n/use-trans';\nimport {AnimatePresence, m} from 'framer-motion';\nimport {opacityAnimation} from '../animation/opacity-animation';\n\nconst skeletons = [...Array(60).keys()];\n\nconst IconList = React.lazy(() => import('./icon-list'));\n\ninterface IconListProps {\n  onIconSelected: (icon: IconTree[] | null) => void;\n}\nexport default function IconPicker({onIconSelected}: IconListProps) {\n  const {trans} = useTrans();\n  const [value, setValue] = React.useState('');\n\n  return (\n    <div className=\"py-4\">\n      <TextField\n        className=\"mb-20\"\n        value={value}\n        onChange={e => {\n          setValue(e.target.value);\n        }}\n        placeholder={trans({message: 'Search icons...'})}\n      />\n      <AnimatePresence mode=\"wait\">\n        <Suspense\n          fallback={\n            <m.div {...opacityAnimation} className={iconGridStyle.grid}>\n              {skeletons.map((_, index) => (\n                <div className={iconGridStyle.button} key={index}>\n                  <Skeleton variant=\"rect\" />\n                </div>\n              ))}\n            </m.div>\n          }\n        >\n          <m.div {...opacityAnimation} className={iconGridStyle.grid}>\n            <IconList searchQuery={value} onIconSelected={onIconSelected} />\n          </m.div>\n        </Suspense>\n      </AnimatePresence>\n    </div>\n  );\n}\n","import React from 'react';\nimport IconPicker from './icon-picker';\nimport {useDialogContext} from '../overlays/dialog/dialog-context';\nimport {Dialog} from '../overlays/dialog/dialog';\nimport {DialogHeader} from '../overlays/dialog/dialog-header';\nimport {DialogBody} from '../overlays/dialog/dialog-body';\nimport {Trans} from '../../i18n/trans';\n\nexport function IconPickerDialog() {\n  return (\n    <Dialog size=\"w-850\" className=\"min-h-dialog\">\n      <DialogHeader>\n        <Trans message=\"Select icon\" />\n      </DialogHeader>\n      <DialogBody>\n        <IconPickerWrapper />\n      </DialogBody>\n    </Dialog>\n  );\n}\n\nfunction IconPickerWrapper() {\n  const {close} = useDialogContext();\n  return (\n    <IconPicker\n      onIconSelected={value => {\n        close(value);\n      }}\n    />\n  );\n}\n","import {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\nimport {Trans} from '../../i18n/trans';\nimport {useValueLists} from '../../http/value-lists';\nimport {useTrans} from '../../i18n/use-trans';\nimport {FormChipField} from '../../ui/forms/input-field/chip-field/form-chip-field';\nimport {Item} from '../../ui/forms/listbox/item';\nimport {Fragment, useEffect, useMemo} from 'react';\nimport {\n  buildPermissionList,\n  prettyName,\n} from '../../auth/ui/permission-selector';\nimport {Section} from '../../ui/forms/listbox/section';\nimport {useFormContext} from 'react-hook-form';\nimport {MenuItemConfig} from '../../core/settings/settings';\nimport {FormSelect, Option} from '../../ui/forms/select/select';\nimport {useAvailableRoutes} from '../appearance/sections/menus/hooks/available-routes';\nimport {ButtonBaseProps} from '../../ui/buttons/button-base';\nimport {createSvgIconFromTree, IconTree} from '../../icons/create-svg-icon';\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {EditIcon} from '../../icons/material/Edit';\nimport {IconPickerDialog} from '../../ui/icon-picker/icon-picker-dialog';\nimport {message} from '../../i18n/message';\nimport {usePrevious} from '../../utils/hooks/use-previous';\n\ninterface NameProps {\n  prefixName: (name: string) => string;\n}\n\ninterface MenuItemFormProps {\n  formPathPrefix?: string;\n  hideRoleAndPermissionFields?: boolean;\n}\nexport function MenuItemForm({\n  formPathPrefix,\n  hideRoleAndPermissionFields,\n}: MenuItemFormProps) {\n  const {trans} = useTrans();\n  const prefixName = (name: string): string => {\n    return formPathPrefix ? `${formPathPrefix}.${name}` : name;\n  };\n\n  return (\n    <Fragment>\n      <FormTextField\n        className=\"mb-20\"\n        name={prefixName('label')}\n        label={<Trans message=\"Label\" />}\n        placeholder={trans(message('No label...'))}\n        startAppend={<IconDialogTrigger prefixName={prefixName} />}\n      />\n      <DestinationSelector prefixName={prefixName} />\n      {!hideRoleAndPermissionFields && (\n        <Fragment>\n          <RoleSelector prefixName={prefixName} />\n          <PermissionSelector prefixName={prefixName} />\n        </Fragment>\n      )}\n      <TargetSelect prefixName={prefixName} />\n    </Fragment>\n  );\n}\n\ninterface IconDialogTriggerProps extends ButtonBaseProps, NameProps {}\nfunction IconDialogTrigger({\n  prefixName,\n  ...buttonProps\n}: IconDialogTriggerProps) {\n  const {watch, setValue} = useFormContext<MenuItemConfig>();\n  const fieldName = prefixName('icon') as 'icon';\n  const watchedItemIcon = watch(fieldName);\n  const Icon = watchedItemIcon && createSvgIconFromTree(watchedItemIcon);\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      onClose={(iconTree?: IconTree[] | null) => {\n        // null will be set explicitly if icon is cleared via icon picker\n        if (iconTree || iconTree === null) {\n          setValue(fieldName, iconTree, {\n            shouldDirty: true,\n          });\n        }\n      }}\n    >\n      <IconButton\n        className=\"text-muted icon-sm\"\n        variant=\"outline\"\n        size=\"md\"\n        {...buttonProps}\n      >\n        {Icon ? <Icon /> : <EditIcon />}\n      </IconButton>\n      <IconPickerDialog />\n    </DialogTrigger>\n  );\n}\n\nfunction DestinationSelector({prefixName}: NameProps) {\n  const form = useFormContext<MenuItemConfig>();\n  const currentType = form.watch(prefixName('type') as 'type');\n  const previousType = usePrevious(currentType);\n  const {data} = useValueLists(['menuItemCategories']);\n  const categories = data?.menuItemCategories || [];\n  const selectedCategory = categories.find(c => c.type === currentType);\n  const {trans} = useTrans();\n  const routeItems = useAvailableRoutes();\n\n  // clear \"action\" field when \"type\" field changes\n  useEffect(() => {\n    if (previousType && previousType !== currentType) {\n      form.setValue(prefixName('action') as 'action', '');\n    }\n  }, [currentType, previousType, form, prefixName]);\n\n  return (\n    <Fragment>\n      <FormSelect\n        className=\"mb-20\"\n        name={prefixName('type')}\n        selectionMode=\"single\"\n        label={<Trans message=\"Type\" />}\n      >\n        <Option value=\"link\">\n          <Trans message=\"Custom link\" />\n        </Option>\n        <Option value=\"route\">\n          <Trans message=\"Site page\" />\n        </Option>\n        {categories.map(category => (\n          <Option key={category.type} value={category.type}>\n            {category.name}\n          </Option>\n        ))}\n      </FormSelect>\n      {currentType === 'link' && (\n        <FormTextField\n          className=\"mb-20\"\n          required\n          type=\"url\"\n          name={prefixName('action')}\n          placeholder={trans({message: 'Enter a url...'})}\n          label={<Trans message=\"Url\" />}\n        />\n      )}\n      {currentType === 'route' && (\n        <FormSelect\n          className=\"mb-20\"\n          required\n          items={routeItems}\n          name={prefixName('action')}\n          label={<Trans message=\"Page\" />}\n          searchPlaceholder={trans(message('Search pages'))}\n          showSearchField\n          selectionMode=\"single\"\n        >\n          {item => (\n            <Item value={item.id} key={item.id}>\n              {item.label}\n            </Item>\n          )}\n        </FormSelect>\n      )}\n      {selectedCategory && (\n        <FormSelect\n          className=\"mb-20\"\n          required\n          items={selectedCategory.items}\n          name={prefixName('action')}\n          showSearchField\n          searchPlaceholder={trans(message('Search...'))}\n          selectionMode=\"single\"\n          label={<Trans message={selectedCategory.name} />}\n        >\n          {item => (\n            <Item value={item.action}>\n              <Trans message={item.label} />\n            </Item>\n          )}\n        </FormSelect>\n      )}\n    </Fragment>\n  );\n}\n\nfunction RoleSelector({prefixName}: NameProps) {\n  const {data} = useValueLists(['roles', 'permissions']);\n  const roles = data?.roles || [];\n  const {trans} = useTrans();\n\n  return (\n    <FormChipField\n      className=\"mb-20\"\n      placeholder={trans({message: 'Add role...'})}\n      label={<Trans message=\"Only show if user has role\" />}\n      name={prefixName('roles')}\n      chipSize=\"sm\"\n      suggestions={roles}\n      valueKey=\"id\"\n      displayWith={c => roles.find(r => r.id === c.id)?.name}\n    >\n      {role => (\n        <Item value={role.id} key={role.id} capitalizeFirst>\n          <Trans message={role.name} />\n        </Item>\n      )}\n    </FormChipField>\n  );\n}\n\nfunction PermissionSelector({prefixName}: NameProps) {\n  const {data} = useValueLists(['roles', 'permissions']);\n  const {trans} = useTrans();\n\n  const groupedPermissions = useMemo(() => {\n    return buildPermissionList(data?.permissions || [], [], false);\n  }, [data?.permissions]);\n\n  return (\n    <FormChipField\n      label={<Trans message=\"Only show if user has permissions\" />}\n      placeholder={trans({message: 'Add permission...'})}\n      chipSize=\"sm\"\n      suggestions={groupedPermissions}\n      name={prefixName('permissions')}\n      valueKey=\"name\"\n    >\n      {({groupName, items}) => (\n        <Section label={prettyName(groupName)} key={groupName}>\n          {items.map(permission => (\n            <Item\n              key={permission.name}\n              value={permission.name}\n              description={<Trans message={permission.description} />}\n            >\n              <Trans message={permission.display_name || permission.name} />\n            </Item>\n          ))}\n        </Section>\n      )}\n    </FormChipField>\n  );\n}\n\nfunction TargetSelect({prefixName}: NameProps) {\n  const form = useFormContext<MenuItemConfig>();\n  const watchedType = form.watch(prefixName('type') as 'type');\n\n  // routes and pages can only be \"_self\"\n  if (watchedType !== 'link') {\n    return null;\n  }\n\n  return (\n    <FormSelect\n      className=\"mt-20\"\n      selectionMode=\"single\"\n      name={prefixName('target')}\n      label={<Trans message=\"Open link in\" />}\n    >\n      <Option value=\"_self\">\n        <Trans message=\"Same window\" />\n      </Option>\n      <Option value=\"_blank\">\n        <Trans message=\"New window\" />\n      </Option>\n    </FormSelect>\n  );\n}\n","import {useFieldArray, useFormContext} from 'react-hook-form';\nimport {Fragment, useEffect} from 'react';\nimport {appearanceState, AppearanceValues} from '../../appearance-store';\nimport {Button} from '@common/ui/buttons/button';\nimport {DeleteIcon} from '../../../../icons/material/Delete';\nimport {ConfirmationDialog} from '../../../../ui/overlays/dialog/confirmation-dialog';\nimport {DialogTrigger} from '../../../../ui/overlays/dialog/dialog-trigger';\nimport {Trans} from '../../../../i18n/trans';\nimport {useNavigate} from '../../../../utils/hooks/use-navigate';\nimport {MenuItemForm} from '../../../menus/menu-item-form';\nimport {useParams} from 'react-router-dom';\nimport {MenuItemConfig} from '../../../../core/settings/settings';\n\nexport function MenuItemEditor() {\n  const {menuIndex, menuItemIndex} = useParams();\n  const navigate = useNavigate();\n\n  const {getValues} = useFormContext<AppearanceValues>();\n\n  const formPath = `settings.menus.${menuIndex}.items.${menuItemIndex}`;\n  const item = getValues(formPath as any);\n\n  // go to menu editor, if menu item can't be found\n  useEffect(() => {\n    if (!item) {\n      //navigate(`../`);\n    } else {\n      appearanceState().preview.setHighlight(\n        `[data-menu-item-id=\"${item.id}\"]`\n      );\n    }\n  }, [navigate, item]);\n\n  // only render form when menu and item are available to avoid issues with hook form default values\n  if (!item || menuItemIndex == null) {\n    return null;\n  }\n\n  return <MenuItemEditorSection formPath={formPath} />;\n}\n\ninterface MenuItemEditorSectionProps {\n  formPath: string;\n}\nfunction MenuItemEditorSection({formPath}: MenuItemEditorSectionProps) {\n  return (\n    <Fragment>\n      <MenuItemForm formPathPrefix={formPath} />\n      <div className=\"text-right mt-40\">\n        <DeleteItemTrigger />\n      </div>\n    </Fragment>\n  );\n}\n\nfunction DeleteItemTrigger() {\n  const navigate = useNavigate();\n  const {menuIndex, menuItemIndex} = useParams();\n  const {fields, remove} = useFieldArray<AppearanceValues>({\n    name: `settings.menus.${+menuIndex!}.items`,\n  });\n\n  if (!menuItemIndex) return null;\n\n  const item = fields[+menuItemIndex] as MenuItemConfig;\n\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      onClose={isConfirmed => {\n        if (isConfirmed) {\n          if (menuItemIndex) {\n            remove(+menuItemIndex);\n            navigate(`/admin/appearance/menus/${menuIndex}`);\n          }\n        }\n      }}\n    >\n      <Button\n        variant=\"outline\"\n        color=\"danger\"\n        size=\"xs\"\n        startIcon={<DeleteIcon />}\n      >\n        <Trans message=\"Delete this item\" />\n      </Button>\n      <ConfirmationDialog\n        isDanger\n        title={<Trans message=\"Delete menu item\" />}\n        body={\n          <Trans\n            message=\"Are you sure you want to delete “:name“?\"\n            values={{name: item.label}}\n          />\n        }\n        confirm={<Trans message=\"Delete\" />}\n      />\n    </DialogTrigger>\n  );\n}\n","import {appearanceState, useAppearanceStore} from '../appearance-store';\nimport {FormImageSelector} from '@common/ui/images/image-selector';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport {Fragment, ReactNode} from 'react';\nimport {Settings} from '../../../core/settings/settings';\n\nexport function GeneralSection() {\n  return (\n    <Fragment>\n      <BrandingImageSelector\n        label={<Trans message=\"Favicon\" />}\n        description={\n          <Trans message=\"This will generate different size favicons. Image should be at least 512x512 in size.\" />\n        }\n        type=\"favicon\"\n      />\n      <BrandingImageSelector\n        label={<Trans message=\"Light logo\" />}\n        description={<Trans message=\"Will be used on dark backgrounds.\" />}\n        type=\"logo_light\"\n      />\n      <BrandingImageSelector\n        label={<Trans message=\"Dark logo\" />}\n        description={\n          <Trans message=\"Will be used on light backgrounds. Will default to light logo if left empty.\" />\n        }\n        type=\"logo_dark\"\n      />\n      <BrandingImageSelector\n        label={<Trans message=\"Mobile light logo\" />}\n        description={\n          <Trans message=\"Will be used on light backgrounds on mobile. Will default to desktop logo if left empty.\" />\n        }\n        type=\"logo_light_mobile\"\n      />\n      <BrandingImageSelector\n        label={<Trans message=\"Mobile dark logo\" />}\n        description={\n          <Trans message=\"Will be used on dark backgrounds on mobile. Will default to desktop if left empty.\" />\n        }\n        type=\"logo_dark_mobile\"\n      />\n      <SiteNameTextField />\n      <SiteDescriptionTextArea />\n    </Fragment>\n  );\n}\n\ninterface ImageSelectorProps {\n  label: ReactNode;\n  description: ReactNode;\n  type: keyof Settings['branding'];\n}\nfunction BrandingImageSelector({label, description, type}: ImageSelectorProps) {\n  const defaultValue = useAppearanceStore(\n    s => s.defaults?.settings.branding[type]\n  );\n  return (\n    <FormImageSelector\n      name={`settings.branding.${type}`}\n      className=\"border-b pb-30 mb-30\"\n      label={label}\n      description={description}\n      diskPrefix=\"branding_media\"\n      defaultValue={defaultValue}\n      onChange={() => {\n        appearanceState().preview.setHighlight('[data-logo=\"navbar\"]');\n      }}\n    />\n  );\n}\nfunction SiteNameTextField() {\n  return (\n    <FormTextField\n      name=\"appearance.env.app_name\"\n      required\n      className=\"mt-20\"\n      label={<Trans message=\"Site name\" />}\n    />\n  );\n}\n\nfunction SiteDescriptionTextArea() {\n  return (\n    <FormTextField\n      name=\"settings.branding.site_description\"\n      className=\"mt-20\"\n      inputElementType=\"textarea\"\n      rows={4}\n      label={<Trans message=\"Site description\" />}\n    />\n  );\n}\n","export function randomNumber(min: number = 1, max: number = 10000) {\n  const randomBuffer = new Uint32Array(1);\n\n  window.crypto.getRandomValues(randomBuffer);\n\n  const number = randomBuffer[0] / (0xffffffff + 1);\n\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(number * (max - min + 1)) + min;\n}\n","import {NavLink, useNavigate} from 'react-router-dom';\nimport {Fragment, useEffect} from 'react';\nimport {appearanceState, AppearanceValues} from '../../appearance-store';\nimport {AppearanceButton} from '../../appearance-button';\nimport {Button} from '../../../../ui/buttons/button';\nimport {AddIcon} from '../../../../icons/material/Add';\nimport {randomNumber} from '../../../../utils/string/random-number';\nimport {Trans} from '../../../../i18n/trans';\nimport {useFieldArray} from 'react-hook-form';\nimport {useTrans} from '../../../../i18n/use-trans';\nimport {message} from '../../../../i18n/message';\nimport {useBootstrapData} from '../../../../core/bootstrap-data/bootstrap-data-context';\n\nexport function ThemeList() {\n  const {trans} = useTrans();\n  const navigate = useNavigate();\n  const {\n    data: {themes},\n  } = useBootstrapData();\n  const {fields, append} = useFieldArray<\n    AppearanceValues,\n    'appearance.themes.all',\n    'key'\n  >({\n    name: 'appearance.themes.all',\n    keyName: 'key',\n  });\n\n  useEffect(() => {\n    if (themes.selectedThemeId) {\n      appearanceState().preview.setActiveTheme(themes.selectedThemeId);\n    }\n  }, [themes.selectedThemeId]);\n\n  return (\n    <Fragment>\n      <div className=\"mb-20\">\n        <Button\n          size=\"xs\"\n          variant=\"outline\"\n          color=\"primary\"\n          startIcon={<AddIcon />}\n          onClick={() => {\n            const lightThemeColors =\n              appearanceState().defaults?.appearance.themes.light!;\n            append({\n              id: randomNumber(),\n              name: trans(message('New theme')),\n              values: lightThemeColors,\n            });\n            navigate(`${fields.length + 1}`);\n          }}\n        >\n          <Trans message=\"New theme\" />\n        </Button>\n      </div>\n      {fields.map((field, index) => (\n        <AppearanceButton key={field.key} to={`${index}`} elementType={NavLink}>\n          {field.name}\n        </AppearanceButton>\n      ))}\n    </Fragment>\n  );\n}\n","import React, {MutableRefObject, ReactNode, Suspense, useState} from 'react';\nimport {Dialog} from '../ui/overlays/dialog/dialog';\nimport {DialogHeader} from '../ui/overlays/dialog/dialog-header';\nimport {Trans} from '../i18n/trans';\nimport {DialogBody} from '../ui/overlays/dialog/dialog-body';\nimport {ProgressCircle} from '../ui/progress/progress-circle';\nimport {useDialogContext} from '../ui/overlays/dialog/dialog-context';\nimport {DialogFooter} from '../ui/overlays/dialog/dialog-footer';\nimport {Button} from '../ui/buttons/button';\nimport type ReactAce from 'react-ace';\n\nconst AceEditor = React.lazy(() => import('./ace-editor'));\n\ninterface TextEditorSourcecodeDialogProps {\n  defaultValue: string;\n  mode?: 'css' | 'html' | 'php_laravel_blade';\n  title: ReactNode;\n  onSave?: (value?: string) => void;\n  isSaving?: boolean;\n  footerStartAction?: ReactNode;\n  beautify?: boolean;\n  editorRef?: MutableRefObject<ReactAce | null>;\n}\nexport function AceDialog({\n  defaultValue,\n  mode = 'html',\n  title,\n  onSave,\n  isSaving,\n  footerStartAction,\n  beautify,\n  editorRef,\n}: TextEditorSourcecodeDialogProps) {\n  const [value, setValue] = useState(defaultValue);\n  const [isValid, setIsValid] = useState<boolean>(true);\n\n  return (\n    <Dialog size=\"fullscreen\" className=\"h-full w-full\">\n      <DialogHeader>{title}</DialogHeader>\n      <DialogBody className=\"relative flex-auto\" padding=\"p-0\">\n        <Suspense\n          fallback={\n            <div className=\"flex h-400 w-full items-center justify-center\">\n              <ProgressCircle\n                aria-label=\"Loading editor...\"\n                isIndeterminate\n                size=\"md\"\n              />\n            </div>\n          }\n        >\n          <AceEditor\n            beautify={beautify}\n            mode={mode}\n            onChange={newValue => setValue(newValue)}\n            defaultValue={value || ''}\n            onIsValidChange={setIsValid}\n            editorRef={editorRef}\n          />\n        </Suspense>\n      </DialogBody>\n      <Footer\n        disabled={!isValid || isSaving}\n        value={value}\n        onSave={onSave}\n        startAction={footerStartAction}\n      />\n    </Dialog>\n  );\n}\n\ninterface FooterProps {\n  disabled: boolean | undefined;\n  value?: string;\n  onSave?: (value?: string) => void;\n  startAction?: ReactNode;\n}\nfunction Footer({disabled, value, onSave, startAction}: FooterProps) {\n  const {close} = useDialogContext();\n  return (\n    <DialogFooter dividerTop startAction={startAction}>\n      <Button onClick={() => close()}>\n        <Trans message=\"Cancel\" />\n      </Button>\n      <Button\n        disabled={disabled}\n        variant=\"flat\"\n        color=\"primary\"\n        onClick={() => {\n          if (onSave) {\n            onSave(value);\n          } else {\n            close(value);\n          }\n        }}\n      >\n        <Trans message=\"Save\" />\n      </Button>\n    </DialogFooter>\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\n\nexport function useSeoTags(name: string | string[]) {\n  return useQuery({\n    queryKey: ['admin', 'seo-tags', name],\n    queryFn: () => fetchTags(name),\n  });\n}\n\nfunction fetchTags(name: string | string[]) {\n  return apiClient\n    .get<\n      Record<\n        string,\n        {\n          custom: string | null;\n          original: string;\n        }\n      >\n    >(`admin/appearance/seo-tags/${name}`)\n    .then(response => response.data);\n}\n","import {useMutation, useQueryClient} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\n\ninterface Response extends BackendResponse {}\n\nexport function useUpdateSeoTags(name: string) {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: (payload: {tags: string}) => updateTags(name, payload.tags),\n    onSuccess: async () => {\n      await queryClient.invalidateQueries({\n        queryKey: ['admin', 'seo-tags', name],\n      });\n      toast(message('Updated SEO tags'));\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction updateTags(name: string, tags: string): Promise<Response> {\n  return apiClient\n    .put(`admin/appearance/seo-tags/${name}`, {tags})\n    .then(r => r.data);\n}\n","import {Fragment, useRef} from 'react';\nimport {Trans} from '@common/i18n/trans';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {AppearanceButton} from '@common/admin/appearance/appearance-button';\nimport {AceDialog} from '@common/ace-editor/ace-dialog';\nimport mergedAppearanceConfig from '@common/admin/appearance/config/merged-appearance-config';\nimport {SeoSettingsSectionConfig} from '@common/admin/appearance/types/appearance-editor-config';\nimport {MessageDescriptor} from '@common/i18n/message-descriptor';\nimport {useSeoTags} from '@common/admin/appearance/sections/seo/use-seo-tags';\nimport {useUpdateSeoTags} from '@common/admin/appearance/sections/seo/use-update-seo-tags';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {FullPageLoader} from '@common/ui/progress/full-page-loader';\nimport {Button} from '@common/ui/buttons/button';\nimport type ReactAce from 'react-ace';\n\nconst pages =\n  (\n    mergedAppearanceConfig.sections['seo-settings']\n      .config as SeoSettingsSectionConfig\n  )?.pages || [];\n\nconst names = pages.map(page => page.key);\n\nexport function SeoSection() {\n  const {isLoading} = useSeoTags(names);\n\n  if (isLoading) {\n    return <FullPageLoader />;\n  }\n\n  return (\n    <Fragment>\n      {pages.map(page => (\n        <TagEditorTrigger key={page.key} label={page.label} name={page.key} />\n      ))}\n    </Fragment>\n  );\n}\n\ninterface TagEditorTriggerProps {\n  label: MessageDescriptor;\n  name: string;\n}\nfunction TagEditorTrigger({label, name}: TagEditorTriggerProps) {\n  const {data, isLoading} = useSeoTags(names);\n\n  return (\n    <DialogTrigger type=\"modal\">\n      <AppearanceButton disabled={isLoading}>\n        <Trans {...label} />\n      </AppearanceButton>\n      {data ? <TagsEditorDialog name={name} value={data[name]} /> : null}\n    </DialogTrigger>\n  );\n}\n\ninterface TagsEditorDialogProps {\n  name: string;\n  value: {custom: string | null; original: string};\n}\nfunction TagsEditorDialog({name, value}: TagsEditorDialogProps) {\n  const {close} = useDialogContext();\n  const updateTags = useUpdateSeoTags(name);\n  const editorRef = useRef<ReactAce | null>(null);\n\n  const resetButton = (\n    <Button\n      variant=\"outline\"\n      color=\"primary\"\n      onClick={() => {\n        if (editorRef.current) {\n          editorRef.current.editor.setValue(value.original);\n        }\n      }}\n    >\n      <Trans message=\"Reset to original\" />\n    </Button>\n  );\n\n  return (\n    <AceDialog\n      mode=\"php_laravel_blade\"\n      title={<Trans message=\"Edit SEO meta tags\" />}\n      footerStartAction={resetButton}\n      editorRef={editorRef}\n      defaultValue={value.custom || value.original}\n      isSaving={updateTags.isPending}\n      beautify={false}\n      onSave={newValue => {\n        if (newValue != null) {\n          updateTags.mutate(\n            {tags: newValue},\n            {\n              onSuccess: () => close(),\n            },\n          );\n        }\n      }}\n    />\n  );\n}\n","import {AppearanceButton} from '@common/admin/appearance/appearance-button';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {Trans} from '@common/i18n/trans';\nimport {useFormContext} from 'react-hook-form';\nimport {\n  appearanceState,\n  AppearanceValues,\n} from '@common/admin/appearance/appearance-store';\nimport {AceDialog} from '@common/ace-editor/ace-dialog';\nimport {Fragment} from 'react';\n\nexport function CustomCodeSection() {\n  return (\n    <Fragment>\n      <CustomCodeDialogTrigger mode=\"css\" />\n      <CustomCodeDialogTrigger mode=\"html\" />\n    </Fragment>\n  );\n}\n\ninterface CustomCodeDialogTriggerProps {\n  mode: 'html' | 'css';\n}\nfunction CustomCodeDialogTrigger({mode}: CustomCodeDialogTriggerProps) {\n  const {getValues} = useFormContext<AppearanceValues>();\n  const {setValue} = useFormContext<AppearanceValues>();\n\n  const title =\n    mode === 'html' ? (\n      <Trans message=\"Custom HTML & JavaScript\" />\n    ) : (\n      <Trans message=\"Custom CSS\" />\n    );\n\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      onClose={newValue => {\n        if (newValue != null) {\n          setValue(`appearance.custom_code.${mode}`, newValue, {\n            shouldDirty: true,\n          });\n          appearanceState().preview.setCustomCode(mode, newValue);\n        }\n      }}\n    >\n      <AppearanceButton>{title}</AppearanceButton>\n      <AceDialog\n        title={title}\n        defaultValue={getValues(`appearance.custom_code.${mode}`) || ''}\n        mode={mode}\n      />\n    </DialogTrigger>\n  );\n}\n","export default \"__VITE_ASSET__8acde003__\"","import {\n  BackendFilter,\n  FilterControlType,\n  FilterOperator,\n} from '../../datatable/filters/backend-filter';\nimport {message} from '../../i18n/message';\nimport {USER_MODEL} from '../../auth/user';\nimport {SiteConfigContextValue} from '@common/core/settings/site-config-context';\nimport {\n  createdAtFilter,\n  updatedAtFilter,\n} from '@common/datatable/filters/timestamp-filters';\n\nexport const CustomPageDatatableFilters = (\n  config: SiteConfigContextValue\n): BackendFilter[] => {\n  const dynamicFilters: BackendFilter[] =\n    config.customPages.types.length > 1\n      ? [\n          {\n            control: {\n              type: FilterControlType.Select,\n              defaultValue: 'default',\n              options: config.customPages.types.map(type => ({\n                value: type.type,\n                label: type.label,\n                key: type.type,\n              })),\n            },\n\n            key: 'type',\n            label: message('Type'),\n            description: message('Type of the page'),\n            defaultOperator: FilterOperator.eq,\n          },\n        ]\n      : [];\n\n  return [\n    {\n      key: 'user_id',\n      label: message('User'),\n      description: message('User page was created by'),\n      defaultOperator: FilterOperator.eq,\n      control: {\n        type: FilterControlType.SelectModel,\n        model: USER_MODEL,\n      },\n    },\n    ...dynamicFilters,\n    createdAtFilter({\n      description: message('Date page was created'),\n    }),\n    updatedAtFilter({\n      description: message('Date page was last updated'),\n    }),\n  ];\n};\n","import {ColumnConfig} from '@common/datatable/column-config';\nimport {CustomPage} from '@common/admin/custom-pages/custom-page';\nimport {Trans} from '@common/i18n/trans';\nimport {Link} from 'react-router-dom';\nimport {LinkStyle} from '@common/ui/buttons/external-link';\nimport {NameWithAvatar} from '@common/datatable/column-templates/name-with-avatar';\nimport {FormattedDate} from '@common/i18n/formatted-date';\nimport React from 'react';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {EditIcon} from '@common/icons/material/Edit';\n\nexport const CustomPageDatatableColumns: ColumnConfig<CustomPage>[] = [\n  {\n    key: 'slug',\n    allowsSorting: true,\n    width: 'flex-2 min-w-200',\n    visibleInMode: 'all',\n    header: () => <Trans message=\"Slug\" />,\n    body: page => (\n      <Link target=\"_blank\" to={`/pages/${page.slug}`} className={LinkStyle}>\n        {page.slug}\n      </Link>\n    ),\n  },\n  {\n    key: 'user_id',\n    allowsSorting: true,\n    width: 'flex-2 min-w-140',\n    header: () => <Trans message=\"Owner\" />,\n    body: page =>\n      page.user && (\n        <NameWithAvatar\n          image={page.user.avatar}\n          label={page.user.display_name}\n          description={page.user.email}\n        />\n      ),\n  },\n  {\n    key: 'type',\n    maxWidth: 'max-w-100',\n    header: () => <Trans message=\"Type\" />,\n    body: page => <Trans message={page.type} />,\n  },\n  {\n    key: 'updated_at',\n    allowsSorting: true,\n    width: 'w-100',\n    header: () => <Trans message=\"Last updated\" />,\n    body: page => <FormattedDate date={page.updated_at} />,\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    hideHeader: true,\n    align: 'end',\n    width: 'w-84 flex-shrink-0',\n    visibleInMode: 'all',\n    body: page => (\n      <IconButton\n        size=\"md\"\n        className=\"text-muted\"\n        elementType={Link}\n        to={`${page.id}/edit`}\n      >\n        <EditIcon />\n      </IconButton>\n    ),\n  },\n];\n","import React, {useContext, useMemo} from 'react';\nimport {Link} from 'react-router-dom';\nimport {DataTablePage} from '../../datatable/page/data-table-page';\nimport {Trans} from '../../i18n/trans';\nimport {DataTableEmptyStateMessage} from '../../datatable/page/data-table-emty-state-message';\nimport articlesSvg from './articles.svg';\nimport {DataTableAddItemButton} from '../../datatable/data-table-add-item-button';\nimport {CustomPageDatatableFilters} from './custom-page-datatable-filters';\nimport {DeleteSelectedItemsAction} from '../../datatable/page/delete-selected-items-action';\nimport {CustomPageDatatableColumns} from '@common/admin/custom-pages/custom-page-datatable-columns';\nimport {SiteConfigContext} from '@common/core/settings/site-config-context';\n\nexport function CustomPageDatablePage() {\n  const config = useContext(SiteConfigContext);\n  const filters = useMemo(() => {\n    return CustomPageDatatableFilters(config);\n  }, [config]);\n\n  return (\n    <DataTablePage\n      endpoint=\"custom-pages\"\n      title={<Trans message=\"Custom pages\" />}\n      filters={filters}\n      columns={CustomPageDatatableColumns}\n      queryParams={{with: 'user'}}\n      actions={<Actions />}\n      selectedActions={<DeleteSelectedItemsAction />}\n      emptyStateMessage={\n        <DataTableEmptyStateMessage\n          image={articlesSvg}\n          title={<Trans message=\"No pages have been created yet\" />}\n          filteringTitle={<Trans message=\"No matching pages\" />}\n        />\n      }\n    />\n  );\n}\n\nfunction Actions() {\n  return (\n    <DataTableAddItemButton elementType={Link} to=\"new\">\n      <Trans message=\"New page\" />\n    </DataTableAddItemButton>\n  );\n}\n","import {SettingsNavItem} from '@common/admin/settings/settings-nav-config';\nimport {message} from '@common/i18n/message';\n\nexport const AppSettingsNavConfig: SettingsNavItem[] = [\n  {label: message('Search'), to: 'search'},\n  {label: message('Incoming email'), to: 'incoming-email'},\n  {label: message('Help center'), to: 'hc'},\n  {label: message('Envato'), to: 'envato'},\n];\n","import {AppSettingsNavConfig} from '@app/admin/settings/app-settings-nav-config';\r\nimport {message} from '../../i18n/message';\r\nimport {MessageDescriptor} from '../../i18n/message-descriptor';\r\nimport {To} from 'react-router-dom';\r\nimport {getBootstrapData} from '@common/core/bootstrap-data/use-backend-bootstrap-data';\r\n\r\nexport interface SettingsNavItem {\r\n  label: MessageDescriptor;\r\n  to: To;\r\n}\r\n\r\nconst filteredSettingsNavConfig: (SettingsNavItem | false)[] = [\r\n  {label: message('General'), to: 'general'},\r\n  {label: message('Hubstaff'), to: 'hubstaff'},\r\n  ...AppSettingsNavConfig,\r\n  getBootstrapData().settings.billing.integrated && {\r\n    label: message('Subscriptions'),\r\n    to: 'subscriptions',\r\n  },\r\n  {label: message('Localization'), to: 'localization'},\r\n  {\r\n    label: message('Authentication'),\r\n    to: 'authentication',\r\n  },\r\n  {label: message('Uploading'), to: 'uploading'},\r\n  {label: message('Outgoing email'), to: 'outgoing-email'},\r\n  {label: message('Cache'), to: 'cache'},\r\n  {label: message('Analytics'), to: 'analytics'},\r\n  {label: message('Logging'), to: 'logging'},\r\n  {label: message('Queue'), to: 'queue'},\r\n  {label: message('Recaptcha'), to: 'recaptcha'},\r\n  {label: message('GDPR'), to: 'gdpr'},\r\n  {\r\n    label: message('Menus'),\r\n    to: '/admin/appearance/menus',\r\n  },\r\n  {\r\n    label: message('Seo'),\r\n    to: '/admin/appearance/seo-settings',\r\n  },\r\n  {\r\n    label: message('Themes'),\r\n    to: '/admin/appearance/themes',\r\n  },\r\n].filter(Boolean);\r\n\r\nexport const SettingsNavConfig = filteredSettingsNavConfig as SettingsNavItem[];\r\n","import clsx from 'clsx';\nimport {NavLink, Outlet, useLocation, useNavigate} from 'react-router-dom';\nimport {SettingsNavConfig} from './settings-nav-config';\nimport {useIsMobileMediaQuery} from '../../utils/hooks/is-mobile-media-query';\nimport {Option, Select} from '../../ui/forms/select/select';\nimport {Trans} from '../../i18n/trans';\nimport {StaticPageTitle} from '../../seo/static-page-title';\n\ninterface Props {\n  className?: string;\n}\nexport function SettingsLayout({className}: Props) {\n  const isMobile = useIsMobileMediaQuery();\n  return (\n    <div\n      className={clsx(\n        className,\n        'container mx-auto min-h-full items-start gap-30 p-24 md:flex',\n      )}\n    >\n      <StaticPageTitle>\n        <Trans message=\"Settings\" />\n      </StaticPageTitle>\n      {isMobile ? <MobileNav /> : <DesktopNav />}\n      <div className=\"relative max-w-500 flex-auto md:px-30\">\n        <Outlet />\n      </div>\n    </div>\n  );\n}\n\nfunction MobileNav() {\n  const {pathname} = useLocation();\n  const navigate = useNavigate();\n  const value = pathname.split('/').pop();\n\n  return (\n    <Select\n      minWidth=\"min-w-none\"\n      className=\"mb-24 w-full bg-paper\"\n      selectionMode=\"single\"\n      selectedValue={value}\n      onSelectionChange={newPage => {\n        navigate(newPage as string);\n      }}\n    >\n      {SettingsNavConfig.map(item => (\n        <Option key={item.to as string} value={item.to}>\n          <Trans {...item.label} />\n        </Option>\n      ))}\n    </Select>\n  );\n}\n\nfunction DesktopNav() {\n  return (\n    <div className=\"sticky top-24 w-240 flex-shrink-0\">\n      {SettingsNavConfig.map(item => (\n        <NavLink\n          key={item.to as string}\n          to={item.to}\n          className={({isActive}) =>\n            clsx(\n              'mb-8 block whitespace-nowrap rounded-button p-14 text-sm transition-bg-color',\n              isActive\n                ? 'bg-primary/6 font-semibold text-primary'\n                : 'hover:bg-hover',\n            )\n          }\n        >\n          <Trans {...item.label} />\n        </NavLink>\n      ))}\n    </div>\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {AdminSettings} from '../admin-settings';\nimport {apiClient} from '@common/http/query-client';\n\nexport interface FetchAdminSettingsResponse\n  extends BackendResponse,\n    AdminSettings {}\n\nexport function useAdminSettings() {\n  return useQuery({\n    queryKey: ['fetchAdminSettings'],\n    queryFn: () => fetchAdminSettings(),\n    // prevent automatic re-fetching so diffing with previous settings work properly\n    staleTime: Infinity,\n  });\n}\n\nfunction fetchAdminSettings(): Promise<FetchAdminSettingsResponse> {\n  return apiClient.get('settings').then(response => response.data);\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {BackendResponse} from '../../http/backend-response/backend-response';\nimport {toast} from '../../ui/toast/toast';\nimport {message} from '../../i18n/message';\nimport {apiClient} from '../../http/query-client';\nimport {showHttpErrorToast} from '../../utils/http/show-http-error-toast';\n\ninterface Response extends BackendResponse {}\n\nfunction GenerateSitemap(): Promise<Response> {\n  return apiClient.post('sitemap/generate').then(r => r.data);\n}\n\nexport function useGenerateSitemap() {\n  return useMutation({\n    mutationFn: () => GenerateSitemap(),\n    onSuccess: () => {\n      toast(message('Sitemap generated'));\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {UseFormReturn} from 'react-hook-form';\nimport {diff} from 'deep-object-diff';\nimport dot from 'dot-object';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {toast} from '@common/ui/toast/toast';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {AdminSettings} from '@common/admin/settings/admin-settings';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {useAdminSettings} from '@common/admin/settings/requests/use-admin-settings';\nimport {message} from '@common/i18n/message';\n\ninterface Response extends BackendResponse {}\n\nexport interface AdminSettingsWithFiles {\n  files?: Record<string, File>;\n  client?: Partial<AdminSettings['client']>;\n  server?: Partial<AdminSettings['server']>;\n}\n\nexport function useUpdateAdminSettings(\n  form: UseFormReturn<AdminSettingsWithFiles>,\n) {\n  const {data: original} = useAdminSettings();\n\n  return useMutation({\n    mutationFn: (props: AdminSettingsWithFiles) => {\n      //need to convert these to json, otherwise only single key from object would be sent due to diffing\n      if (props.client?.cookie_notice?.button) {\n        props.client.cookie_notice.button = JSON.stringify(\n          props.client.cookie_notice.button,\n        ) as any;\n      }\n      if (props.client?.registration?.policies) {\n        props.client.registration.policies = JSON.stringify(\n          props.client.registration.policies,\n        ) as any;\n      }\n      if ((props.client as any)?.artistPage?.tabs) {\n        (props.client as any).artistPage.tabs = JSON.stringify(\n          (props.client as any).artistPage.tabs,\n        ) as any;\n      }\n      if ((props.client as any)?.title_page?.sections) {\n        (props.client as any).title_page.sections = JSON.stringify(\n          (props.client as any).title_page.sections,\n        ) as any;\n      }\n      if ((props.client as any)?.incoming_email) {\n        (props.client as any).incoming_email = JSON.stringify(\n          (props.client as any).incoming_email,\n        ) as any;\n      }\n\n      const client = props.client ? diff(original!.client, props.client) : null;\n      const server = props.server ? diff(original!.server, props.server) : null;\n      return updateAdminSettings({\n        client,\n        server,\n        files: props.files,\n      } as AdminSettings);\n    },\n    onSuccess: () => {\n      toast(message('Settings updated'), {\n        position: 'bottom-right',\n      });\n      queryClient.invalidateQueries({queryKey: ['fetchAdminSettings']});\n    },\n    onError: r => onFormQueryError(r, form),\n  });\n}\n\nfunction updateAdminSettings({\n  client,\n  server,\n  files,\n}: AdminSettingsWithFiles): Promise<Response> {\n  const formData = new FormData();\n  if (client) {\n    formData.set('client', JSON.stringify(dot.dot(client)));\n  }\n  if (server) {\n    formData.set('server', JSON.stringify(dot.dot(server)));\n  }\n  Object.entries(files || {}).forEach(([key, file]) => {\n    formData.set(key, file);\n  });\n  return apiClient\n    .post('settings', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    })\n    .then(r => r.data);\n}\n","import {FieldErrors, useForm} from 'react-hook-form';\nimport {Fragment, ReactNode} from 'react';\nimport {\n  AdminSettingsWithFiles,\n  useUpdateAdminSettings,\n} from './requests/update-admin-settings';\nimport {AdminSettings} from './admin-settings';\nimport {useAdminSettings} from './requests/use-admin-settings';\nimport {Form} from '../../ui/forms/form';\nimport {Button} from '../../ui/buttons/button';\nimport {ProgressCircle} from '../../ui/progress/progress-circle';\nimport {ProgressBar} from '../../ui/progress/progress-bar';\nimport {Trans} from '../../i18n/trans';\n\ninterface Props {\n  title: ReactNode;\n  description: ReactNode;\n  children: ReactNode;\n  transformValues?: (values: AdminSettingsWithFiles) => AdminSettingsWithFiles;\n}\nexport function SettingsPanel({\n  title,\n  description,\n  children,\n  transformValues,\n}: Props) {\n  const {data} = useAdminSettings();\n\n  return (\n    <section>\n      <div className=\"mb-40\">\n        <h2 className=\"mb-4 text-xl\">{title}</h2>\n        <div className=\"text-sm text-muted\">{description}</div>\n      </div>\n      {data ? (\n        <FormWrapper defaultValues={data} transformValues={transformValues}>\n          {children}\n        </FormWrapper>\n      ) : (\n        <ProgressCircle isIndeterminate aria-label=\"Loading settings...\" />\n      )}\n    </section>\n  );\n}\n\ninterface FormWrapperProps {\n  children: ReactNode;\n  defaultValues: AdminSettings;\n  transformValues?: (values: AdminSettingsWithFiles) => AdminSettingsWithFiles;\n}\nfunction FormWrapper({\n  children,\n  defaultValues,\n  transformValues,\n}: FormWrapperProps) {\n  const form = useForm<AdminSettingsWithFiles>({defaultValues});\n  const updateSettings = useUpdateAdminSettings(form);\n  return (\n    <Fragment>\n      <Form\n        form={form}\n        onBeforeSubmit={() => {\n          // clear group errors, because hook form won't automatically\n          // clear errors that are not bound to a specific form field\n          const errors = form.formState.errors as FieldErrors<object>;\n          const keys = Object.keys(errors).filter(key => {\n            return key.endsWith('_group');\n          });\n          form.clearErrors(keys as any);\n        }}\n        onSubmit={value => {\n          value = transformValues ? transformValues(value) : value;\n          updateSettings.mutate(value);\n        }}\n      >\n        {children}\n        <div className=\"mt-40\">\n          <Button\n            type=\"submit\"\n            variant=\"flat\"\n            color=\"primary\"\n            disabled={updateSettings.isPending}\n          >\n            <Trans message=\"Update\" />\n          </Button>\n        </div>\n      </Form>\n      {updateSettings.isPending && (\n        <ProgressBar\n          size=\"xs\"\n          className=\"absolute -bottom-14 left-30 w-full\"\n          isIndeterminate\n          aria-label=\"Saving settings...\"\n        />\n      )}\n    </Fragment>\n  );\n}\n","export function SettingsSeparator() {\n  return <div className=\"h-1 bg-divider my-30\" />;\n}\n","import clsx from 'clsx';\nimport {LinkIcon} from '../../icons/material/Link';\nimport {ExternalLink} from '../../ui/buttons/external-link';\nimport {Trans} from '../../i18n/trans';\nimport {useSettings} from '../../core/settings/use-settings';\n\ninterface LearnMoreLinkProps {\n  link: string;\n  className?: string;\n}\nexport function LearnMoreLink({link, className}: LearnMoreLinkProps) {\n  const {site} = useSettings();\n  if (site.hide_docs_button) {\n    return null;\n  }\n  return (\n    <div className={clsx('flex items-center gap-8', className)}>\n      <LinkIcon size=\"sm\" />\n      <ExternalLink href={link}>\n        <Trans message=\"Learn more\" />\n      </ExternalLink>\n    </div>\n  );\n}\n","import {useAdminSettings} from '../requests/use-admin-settings';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {FormSelect, Option} from '../../../ui/forms/select/select';\nimport {FormSwitch} from '@common/ui/forms/toggle/switch';\nimport {Button} from '@common/ui/buttons/button';\nimport {useGenerateSitemap} from '../generate-sitemap';\nimport {ExternalLink} from '@common/ui/buttons/external-link';\nimport {SettingsPanel} from '../settings-panel';\nimport {SettingsSeparator} from '../settings-separator';\nimport {LearnMoreLink} from '../learn-more-link';\nimport {Trans} from '@common/i18n/trans';\nimport {Fragment, useContext} from 'react';\nimport {SiteConfigContext} from '@common/core/settings/site-config-context';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport {useBootstrapData} from '@common/core/bootstrap-data/bootstrap-data-context';\nimport {useValueLists} from '@common/http/value-lists';\nimport {useFormContext} from 'react-hook-form';\nimport {AdminSettingsWithFiles} from '@common/admin/settings/requests/update-admin-settings';\n\nexport function GeneralSettings() {\n  return (\n    <SettingsPanel\n      title={<Trans message=\"General\" />}\n      description={\n        <Trans message=\"Configure site url, homepage, theme and other general settings.\" />\n      }\n    >\n      <SiteUrlSection />\n      <SettingsSeparator />\n      <HomepageSection />\n      <SettingsSeparator />\n      <ThemeSection />\n      <SettingsSeparator />\n      <SitemapSection />\n    </SettingsPanel>\n  );\n}\n\nfunction SiteUrlSection() {\n  const {data} = useAdminSettings();\n\n  if (!data) return null;\n\n  let append = null;\n  const server = data!.server;\n  const isInvalid = server.newAppUrl && server.newAppUrl !== server.app_url;\n  if (isInvalid) {\n    append = (\n      <div className=\"mt-20 text-sm text-danger\">\n        <Trans\n          values={{\n            baseUrl: server.app_url,\n            currentUrl: server.newAppUrl,\n            b: chunks => <b>{chunks}</b>,\n          }}\n          message=\"Base site url is set as <b>:baseUrl</b> in configuration, but current url is <b>:currentUrl</b>. It is recommended to set the primary url you want to use in configuration file and then redirect all other url versions to this primary version via cpanel or .htaccess file.\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <Fragment>\n      <FormTextField\n        invalid={!!isInvalid}\n        name=\"server.app_url\"\n        label={<Trans message=\"Primary site url\" />}\n        description={\n          <LearnMoreLink link=\"https://support.vebto.com/help-center/articles/35/primary-site-url\" />\n        }\n      />\n      {append}\n    </Fragment>\n  );\n}\n\nfunction HomepageSection() {\n  const {watch} = useFormContext<AdminSettingsWithFiles>();\n  const {homepage} = useContext(SiteConfigContext);\n  const {data} = useValueLists(['menuItemCategories']);\n  const selectedType = watch('client.homepage.type');\n\n  return (\n    <div>\n      <FormSelect\n        name=\"client.homepage.type\"\n        selectionMode=\"single\"\n        label={<Trans message=\"Site home page\" />}\n        description={\n          <Trans message=\"Which page should be used as site homepage.\" />\n        }\n      >\n        {homepage.options.map(option => (\n          <Option key={option.value} value={option.value}>\n            <Trans {...option.label} />\n          </Option>\n        ))}\n        {data?.menuItemCategories?.map(category => (\n          <Option key={category.type} value={category.type}>\n            {category.name}\n          </Option>\n        ))}\n      </FormSelect>\n      {data?.menuItemCategories?.map(category => {\n        return selectedType === category.type ? (\n          <FormSelect\n            className=\"mt-24\"\n            name=\"client.homepage.value\"\n            key={category.name}\n            selectionMode=\"single\"\n            label={\n              <Trans message=\"Homepage :name\" values={{name: category.name}} />\n            }\n          >\n            {category.items.map(item => (\n              <Option key={item.label} value={item.model_id}>\n                {item.label}\n              </Option>\n            ))}\n          </FormSelect>\n        ) : null;\n      })}\n    </div>\n  );\n}\n\nfunction ThemeSection() {\n  const {\n    data: {themes},\n  } = useBootstrapData();\n  return (\n    <Fragment>\n      <FormSelect\n        className=\"mb-20\"\n        name=\"client.themes.default_id\"\n        selectionMode=\"single\"\n        label={<Trans message=\"Default site theme\" />}\n        description={\n          <Trans message=\"Which theme to use for users that have not chosen a theme manually.\" />\n        }\n      >\n        <Option value={0}>\n          <Trans message=\"System\" />\n        </Option>\n        {themes.all.map(theme => (\n          <Option key={theme.id} value={theme.id}>\n            {theme.name}\n          </Option>\n        ))}\n      </FormSelect>\n      <FormSwitch\n        name=\"client.themes.user_change\"\n        description={\n          <Trans message=\"Allow users to manually change site theme.\" />\n        }\n      >\n        <Trans message=\"Allow theme change\" />\n      </FormSwitch>\n    </Fragment>\n  );\n}\n\nfunction SitemapSection() {\n  const generateSitemap = useGenerateSitemap();\n  const {base_url} = useSettings();\n\n  const url = `${base_url}/storage/sitemaps/sitemap-index.xml`;\n  const link = <ExternalLink href={url}>{url}</ExternalLink>;\n\n  return (\n    <>\n      <Button\n        variant=\"outline\"\n        size=\"xs\"\n        color=\"primary\"\n        disabled={generateSitemap.isPending}\n        onClick={() => {\n          generateSitemap.mutate();\n        }}\n      >\n        <Trans message=\"Generate sitemap\" />\n      </Button>\n      <div className=\"mt-14 text-sm text-muted\">\n        <Trans\n          message=\"Once generated, sitemap url will be: :url\"\n          values={{\n            url: link,\n          }}\n        />\n      </div>\n    </>\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\r\nimport {apiClient} from '@common/http/query-client';\r\nimport { BackendResponse } from '@common/http/backend-response/backend-response';\r\n\r\nexport interface CreateHubstaffTokenPayload {\r\n  refresh_token: string;\r\n  access_token: string;\r\n  expires_in: number;\r\n}\r\n\r\ninterface ResponseTokenExpired extends BackendResponse {\r\n  expired_token: number\r\n}\r\n\r\nexport const saveToken = async (form : CreateHubstaffTokenPayload) => {\r\n  const data = {\r\n    refresh_token: form.refresh_token,\r\n    expired_token: form.expires_in,\r\n    access_token: form.access_token\r\n  }\r\n  return apiClient.post('hubstaff-token', data).then(r => r.data);\r\n}\r\n\r\nexport function useGetTokenExpired() {\r\n  return useQuery({\r\n    queryKey: ['hubstaff-token'],\r\n    queryFn: () => fetchTokenExpired(),\r\n  });\r\n}\r\n\r\nfunction fetchTokenExpired() {\r\n  return apiClient\r\n    .get<ResponseTokenExpired>(`hubstaff-token`)\r\n    .then(response => response.data)\r\n}","import {toast} from '@common/ui/toast/toast';\r\nimport {message} from '@common/i18n/message';\r\nimport {saveToken } from './save-token';\r\nimport {Button} from '@common/ui/buttons/button';\r\nimport {useState} from 'react';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {LearnMoreLink} from '../../learn-more-link';\r\n\r\ntype CustomError = {\r\n  error_description: string;\r\n};\r\n\r\nexport function HubstaffTokenForm() {\r\n  const [refreshToken, setRefreshToken] = useState('');\r\n  const [status, setStatus] = useState(false);\r\n  const {trans} = useTrans();\r\n\r\n  const exchangeRefreshTokenForAccessToken = async (refreshToken: string) => {\r\n    const tokenEndpoint = 'https://account.hubstaff.com/access_tokens';\r\n\r\n    const requestBody = new URLSearchParams();\r\n    requestBody.append('grant_type', 'refresh_token');\r\n    requestBody.append('refresh_token', refreshToken);\r\n\r\n    try {\r\n      const response = await fetch(tokenEndpoint, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n        body: requestBody\r\n      });\r\n\r\n      const responseData = await response.json();\r\n      setRefreshToken('');\r\n      return responseData;\r\n    } catch (error) {\r\n      const err = error as CustomError;\r\n      toast.danger(\r\n        trans(\r\n          message(err?.error_description),\r\n        ),\r\n      );\r\n    }\r\n  };\r\n\r\n  const obtenerTokenDeAcceso = async () => {\r\n    setStatus(true);\r\n    try {\r\n      const accessToken = await exchangeRefreshTokenForAccessToken(refreshToken);\r\n      await saveToken(accessToken);\r\n      toast.positive(\r\n        trans(\r\n          message(\"Access Token Saved!\"),\r\n        ),\r\n      );\r\n      setStatus(false);\r\n      setRefreshToken('');\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      setRefreshToken('');\r\n      toast.danger(\r\n        trans(\r\n          message(\"Failed to save Access Token!\"),\r\n        ),\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"mb-20 text-sm\">\r\n        <label className=\"block first-letter:capitalize text-left whitespace-nowrap text-sm mb-4\" id=\"refresh_token\" htmlFor=\"refresh_token\">Refresh Token</label>\r\n        <div className=\"isolate relative\">\r\n          <input \r\n            id=\"refresh_token\"\r\n            name=\"refresh_token\" \r\n            required \r\n            aria-labelledby=\"refresh_token\" \r\n            aria-describedby=\"refresh_token\" \r\n            className=\"block text-left relative w-full appearance-none transition-shadow text bg-transparent rounded-input border-divider border focus:ring focus:ring-primary/focus focus:border-primary/60 focus:outline-none shadow-sm text-sm h-42 pl-12 pr-12\"\r\n            onChange={e => setRefreshToken(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"text-muted pt-10 text-xs\" id=\"refresh_token\">{`The refresh token will generate an Access Token that will be used to make requests to Hubstaff. In case it doesn't work, generate another one!`}</div>\r\n        <div className='text-danger pt-10 text-xs'><b>*Do not generate tokens too frequently!</b></div>\r\n        <div className='flex flex-wrap items-center gap-6 pt-10 text-xs'><b>*How to generate refresh tokens in Hubstaff</b> <LearnMoreLink link=\"https://www.notion.so/Refresh-Tokens-Hubstaff-a10dbf93cf9e4fc69fe451bc5da87aa9\" /></div>\r\n      </div>\r\n      \r\n      <Button\r\n        disabled={status || !refreshToken}\r\n        variant=\"flat\"\r\n        color=\"primary\"\r\n        onClick={obtenerTokenDeAcceso}\r\n      >\r\n        <Trans message=\"Generate Access Token\" />\r\n      </Button>\r\n    </>\r\n  );\r\n}\r\n","import { HubstaffTokenForm } from \"./hubstaff-token/hubstaff-token-form\"\r\n\r\nexport function HubstaffSettings() {\r\n  return (\r\n    <section>\r\n      <div className=\"mb-40\">\r\n        <h2 className=\"mb-4 text-xl\">Hubstaff</h2>\r\n        <div className=\"text-sm text-muted\">Configure Hubstaff settings</div>\r\n      </div>\r\n      <HubstaffTokenForm />\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default HubstaffSettings","import {createSvgIcon} from '../../../../icons/create-svg-icon';\n\nexport const ColorIcon = createSvgIcon(\n  <path\n    stroke=\"#E0E0E0\"\n    d=\"M24,44c-7.168,0-13-5.816-13-12.971C11,24,24,4,24,4s13,20,13,27.029C37,38.184,31.168,44,24,44z\"\n  />\n);\n","import {parseColor} from '@react-stately/color';\n\nexport function colorToThemeValue(color: string): string {\n  return parseColor(color)\n    .toString('rgb')\n    .replace('rgb(', '')\n    .replace(')', '')\n    .replace(/, ?/g, ' ');\n}\n","import {parseColor} from '@react-stately/color';\n\nexport function themeValueToHex(value: string): string {\n  try {\n    return parseColor(`rgb(${value.split(' ').join(',')})`).toString('hex');\n  } catch (e) {\n    return value;\n  }\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const TuneIcon = createSvgIcon(\n  <path d=\"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z\" />\n, 'TuneOutlined');\n","import {useForm, useFormContext} from 'react-hook-form';\nimport {useEffect} from 'react';\nimport {TuneIcon} from '../../../../icons/material/Tune';\nimport {Button} from '../../../../ui/buttons/button';\nimport {CssTheme} from '../../../../ui/themes/css-theme';\nimport {FormTextField} from '../../../../ui/forms/input-field/text-field/text-field';\nimport {FormSwitch} from '../../../../ui/forms/toggle/switch';\nimport {AppearanceValues} from '../../appearance-store';\nimport {DialogTrigger} from '../../../../ui/overlays/dialog/dialog-trigger';\nimport {DialogFooter} from '../../../../ui/overlays/dialog/dialog-footer';\nimport {useDialogContext} from '../../../../ui/overlays/dialog/dialog-context';\nimport {Dialog} from '../../../../ui/overlays/dialog/dialog';\nimport {DialogHeader} from '../../../../ui/overlays/dialog/dialog-header';\nimport {DialogBody} from '../../../../ui/overlays/dialog/dialog-body';\nimport {Trans} from '../../../../i18n/trans';\nimport {Form} from '../../../../ui/forms/form';\nimport {useParams} from 'react-router-dom';\n\nexport function ThemeSettingsDialogTrigger() {\n  const {getValues, setValue} = useFormContext<AppearanceValues>();\n  const {themeIndex} = useParams();\n  const theme = getValues(`appearance.themes.all.${+themeIndex!}`);\n\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      onClose={(value?: CssTheme) => {\n        if (!value) return;\n\n        getValues('appearance.themes.all').forEach((currentTheme, index) => {\n          // update changed theme\n          if (currentTheme.id === value.id) {\n            setValue(`appearance.themes.all.${index}`, value, {\n              shouldDirty: true,\n            });\n            return;\n          }\n\n          // unset \"default_light\" and \"default_dark\" on other themes\n          if (value.default_light) {\n            setValue(\n              `appearance.themes.all.${index}`,\n              {...currentTheme, default_light: false},\n              {shouldDirty: true}\n            );\n            return;\n          }\n          if (value.default_dark) {\n            setValue(\n              `appearance.themes.all.${index}`,\n              {...currentTheme, default_dark: false},\n              {shouldDirty: true}\n            );\n            return;\n          }\n        });\n      }}\n    >\n      <Button\n        size=\"xs\"\n        variant=\"outline\"\n        color=\"primary\"\n        startIcon={<TuneIcon />}\n      >\n        <Trans message=\"Settings\" />\n      </Button>\n      <SettingsDialog theme={theme} />\n    </DialogTrigger>\n  );\n}\n\ninterface SettingsDialogProps {\n  theme: CssTheme;\n}\nfunction SettingsDialog({theme}: SettingsDialogProps) {\n  const form = useForm<CssTheme>({defaultValues: theme});\n  const {close, formId} = useDialogContext();\n\n  useEffect(() => {\n    const subscription = form.watch((value, {name}) => {\n      // theme can only be set as either light or dark default\n      if (name === 'default_light' && value.default_light) {\n        form.setValue('default_dark', false);\n      }\n      if (name === 'default_dark' && value.default_dark) {\n        form.setValue('default_light', false);\n      }\n    });\n    return () => subscription.unsubscribe();\n  }, [form]);\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Update settings\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          form={form}\n          id={formId}\n          onSubmit={values => {\n            close(values);\n          }}\n        >\n          <FormTextField\n            name=\"name\"\n            label={<Trans message=\"Name\" />}\n            className=\"mb-30\"\n            autoFocus\n          />\n          <FormSwitch\n            name=\"is_dark\"\n            className=\"mb-20 pb-20 border-b\"\n            description={\n              <Trans message=\"Whether this theme has light text on dark background.\" />\n            }\n          >\n            <Trans message=\"Dark theme\" />\n          </FormSwitch>\n          <FormSwitch\n            name=\"default_light\"\n            className=\"mb-30\"\n            description={\n              <Trans message=\"When light mode is selected, this theme will be used.\" />\n            }\n          >\n            <Trans message=\"Default for light mode\" />\n          </FormSwitch>\n          <FormSwitch\n            name=\"default_dark\"\n            description={\n              <Trans message=\"When dark mode is selected, this theme will be used.\" />\n            }\n          >\n            <Trans message=\"Default for dark mode\" />\n          </FormSwitch>\n        </Form>\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={!form.formState.isDirty}\n        >\n          <Trans message=\"Save\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const RestartAltIcon = createSvgIcon(\n  <path d=\"M6 13c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91zm14 0c0-4.42-3.58-8-8-8-.06 0-.12.01-.18.01l1.09-1.09L11.5 2.5 8 6l3.5 3.5 1.41-1.41-1.08-1.08c.06 0 .12-.01.17-.01 3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93z\" />\n, 'RestartAltOutlined');\n","import {Fragment, useState} from 'react';\nimport {DeleteIcon} from '../../../../icons/material/Delete';\nimport {ConfirmationDialog} from '../../../../ui/overlays/dialog/confirmation-dialog';\nimport {IconButton} from '../../../../ui/buttons/icon-button';\nimport {MoreVertIcon} from '../../../../icons/material/MoreVert';\nimport {RestartAltIcon} from '../../../../icons/material/RestartAlt';\nimport {appearanceState, AppearanceValues} from '../../appearance-store';\nimport {toast} from '../../../../ui/toast/toast';\nimport {\n  Menu,\n  MenuItem,\n  MenuTrigger,\n} from '../../../../ui/navigation/menu/menu-trigger';\nimport {DialogTrigger} from '../../../../ui/overlays/dialog/dialog-trigger';\nimport {message} from '../../../../i18n/message';\nimport {Trans} from '../../../../i18n/trans';\nimport {useNavigate} from '../../../../utils/hooks/use-navigate';\nimport {useFieldArray, useFormContext} from 'react-hook-form';\nimport {useParams} from 'react-router-dom';\n\nexport function ThemeMoreOptionsButton() {\n  const navigate = useNavigate();\n  const {themeIndex} = useParams();\n  const [confirmDialogOpen, setConfirmDialogOpen] = useState(false);\n  const {setValue, getValues} = useFormContext<AppearanceValues>();\n  const {fields, remove} = useFieldArray<AppearanceValues>({\n    name: 'appearance.themes.all',\n  });\n\n  const deleteTheme = () => {\n    if (fields.length <= 1) {\n      toast.danger(message('At least one theme is required'));\n      return;\n    }\n    if (themeIndex) {\n      navigate('/admin/appearance/themes');\n      remove(+themeIndex);\n      setValue('appearance.themes.selectedThemeId', null);\n    }\n  };\n\n  return (\n    <Fragment>\n      <MenuTrigger\n        onItemSelected={key => {\n          if (key === 'delete') {\n            setConfirmDialogOpen(true);\n          } else if (key === 'reset') {\n            const path =\n              `appearance.themes.all.${+themeIndex!}` as 'appearance.themes.all.0';\n            const defaultColors = getValues(`${path}.is_dark`)\n              ? appearanceState().defaults!.appearance.themes.dark\n              : appearanceState().defaults!.appearance.themes.light;\n\n            Object.entries(defaultColors).forEach(([colorName, themeValue]) => {\n              appearanceState().preview.setThemeValue(colorName, themeValue);\n            });\n            appearanceState().preview.setThemeFont(null);\n\n            setValue(`${path}.values`, defaultColors, {\n              shouldDirty: true,\n            });\n            setValue(`${path}.font`, undefined, {\n              shouldDirty: true,\n            });\n          }\n        }}\n      >\n        <IconButton size=\"md\" className=\"text-muted\">\n          <MoreVertIcon />\n        </IconButton>\n        <Menu>\n          <MenuItem value=\"reset\" startIcon={<RestartAltIcon />}>\n            <Trans message=\"Reset colors\" />\n          </MenuItem>\n          <MenuItem value=\"delete\" startIcon={<DeleteIcon />}>\n            <Trans message=\"Delete\" />\n          </MenuItem>\n        </Menu>\n      </MenuTrigger>\n      <DialogTrigger\n        type=\"modal\"\n        isOpen={confirmDialogOpen}\n        onClose={isConfirmed => {\n          if (isConfirmed) {\n            deleteTheme();\n          }\n          setConfirmDialogOpen(false);\n        }}\n      >\n        <ConfirmationDialog\n          isDanger\n          title={<Trans message=\"Delete theme\" />}\n          body={<Trans message=\"Are you sure you want to delete this theme?\" />}\n          confirm={<Trans message=\"Delete\" />}\n        />\n      </DialogTrigger>\n    </Fragment>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport {ButtonBase} from '../buttons/button-base';\n\ntype Props = {\n  onChange?: (e: string) => void;\n  value?: string;\n  colors: string[];\n};\nexport function ColorSwatch({onChange, value, colors}: Props) {\n  const presetButtons = colors.map(color => {\n    const isSelected = value === color;\n    return (\n      <ButtonBase\n        key={color}\n        onClick={() => {\n          onChange?.(color);\n        }}\n        className={clsx(\n          'relative block flex-shrink-0 w-26 h-26 border rounded',\n          isSelected && 'shadow-md'\n        )}\n        style={{backgroundColor: color}}\n      >\n        {isSelected && (\n          <span className=\"absolute inset-0 m-auto rounded-full w-8 h-8 bg-white\" />\n        )}\n      </ButtonBase>\n    );\n  });\n\n  return <div className=\"flex flex-wrap gap-6\">{presetButtons}</div>;\n}\n","import {message} from '@common/i18n/message';\nimport {MessageDescriptor} from '@common/i18n/message-descriptor';\n\nexport const ColorPresets: {\n  color: string;\n  name: MessageDescriptor;\n  foreground?: string;\n}[] = [\n  {\n    color: 'rgb(255, 255, 255)',\n    name: message('White'),\n  },\n  {\n    color: 'rgb(239,245,245)',\n    name: message('Solitude'),\n  },\n  {\n    color: 'rgb(245,213,174)',\n    name: message('Wheat'),\n  },\n  {\n    color: 'rgb(253,227,167)',\n    name: message('Cape Honey'),\n  },\n  {\n    color: 'rgb(242,222,186)',\n    name: message('Milk punch'),\n  },\n  {\n    color: 'rgb(97,118,75)',\n    name: message('Dingy'),\n    foreground: 'rgb(255, 255, 255)',\n  },\n  {\n    color: 'rgb(4, 147, 114)',\n    name: message('Aquamarine'),\n    foreground: 'rgb(255, 255, 255)',\n  },\n  {\n    color: 'rgb(222,245,229)',\n    name: message('Cosmic Latte'),\n  },\n  {\n    color: 'rgb(233,119,119)',\n    name: message('Geraldine'),\n    foreground: 'rgb(90,14,14)',\n  },\n  {\n    color: 'rgb(247,164,164)',\n    name: message('Sundown'),\n  },\n  {\n    color: 'rgb(30,139,195)',\n    name: message('Pelorous'),\n    foreground: 'rgb(255, 255, 255)',\n  },\n  {\n    color: 'rgb(142,68,173)',\n    name: message('Deep Lilac'),\n    foreground: 'rgb(255, 255, 255)',\n  },\n  {\n    color: 'rgb(108,74,182)',\n    name: message('Blue marguerite'),\n    foreground: 'rgb(255, 255, 255)',\n  },\n  {\n    color: 'rgb(139,126,116)',\n    name: message('Americano'),\n    foreground: 'rgb(255, 255, 255)',\n  },\n  {\n    color: 'rgb(0,0,0)',\n    name: message('Black'),\n    foreground: 'rgb(255, 255, 255)',\n  },\n  {\n    color: 'rgb(64,66,88)',\n    name: message('Blue zodiac'),\n    foreground: 'rgb(255, 255, 255)',\n  },\n  {\n    color: 'rgb(101,100,124)',\n    name: message('Comet'),\n    foreground: 'rgb(255, 255, 255)',\n  },\n];\n","import {HexColorInput, HexColorPicker} from 'react-colorful';\nimport React, {useState} from 'react';\nimport {parseColor} from '@react-stately/color';\nimport {ColorSwatch} from './color-swatch';\nimport {getInputFieldClassNames} from '../forms/input-field/get-input-field-class-names';\nimport {ColorPresets} from '@common/ui/color-picker/color-presets';\n\nconst DefaultPresets = ColorPresets.map(({color}) => color).slice(0, 14);\n\ntype Props = {\n  defaultValue?: string;\n  onChange?: (e: string) => void;\n  colorPresets?: string[];\n  showInput?: boolean;\n};\nexport function ColorPicker({\n  defaultValue,\n  onChange,\n  colorPresets,\n  showInput,\n}: Props) {\n  const [color, setColor] = useState<string | undefined>(defaultValue);\n\n  const presets: string[] = colorPresets || DefaultPresets;\n\n  const style = getInputFieldClassNames({size: 'sm'});\n\n  return (\n    <div>\n      <HexColorPicker\n        className=\"!w-auto\"\n        color={color}\n        onChange={newColor => {\n          onChange?.(newColor);\n          setColor(newColor);\n        }}\n      />\n      <div className=\"py-20 px-12\">\n        {presets && (\n          <ColorSwatch\n            colors={presets}\n            onChange={newColor => {\n              if (newColor) {\n                const hex = parseColor(newColor).toString('hex');\n                onChange?.(hex);\n                setColor(hex);\n              }\n            }}\n            value={color}\n          />\n        )}\n        {showInput && (\n          <div className=\"pt-20\">\n            <HexColorInput\n              autoComplete=\"off\"\n              role=\"textbox\"\n              autoCorrect=\"off\"\n              spellCheck=\"false\"\n              required\n              aria-label=\"Hex color\"\n              prefixed\n              className={style.input}\n              color={color}\n              onChange={newColor => {\n                onChange?.(newColor);\n                setColor(newColor);\n              }}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import {useState} from 'react';\nimport {ColorPicker} from './color-picker';\nimport {DialogFooter} from '../overlays/dialog/dialog-footer';\nimport {Button} from '../buttons/button';\nimport {useDialogContext} from '../overlays/dialog/dialog-context';\nimport {Dialog} from '../overlays/dialog/dialog';\nimport {Trans} from '../../i18n/trans';\n\ninterface ColorPickerDialogProps {\n  defaultValue?: string;\n  onChange?: (color: string) => void;\n  hideFooter?: boolean;\n  showInput?: boolean;\n}\nexport function ColorPickerDialog({\n  defaultValue,\n  onChange,\n  hideFooter = false,\n  showInput = true,\n}: ColorPickerDialogProps) {\n  const {close} = useDialogContext();\n  const [value, setValue] = useState(defaultValue || '');\n  // todo: remove this once pixie and bedrive are refactored to use dialogTrigger currentValue (use \"currentValue\" for defaultValue as well)\n  //const initialValue = useRef(defaultValue);\n\n  return (\n    <Dialog size=\"2xs\">\n      <ColorPicker\n        showInput={showInput}\n        defaultValue={value}\n        onChange={newValue => {\n          setValue(newValue);\n          onChange?.(newValue);\n        }}\n      />\n      {!hideFooter && (\n        <DialogFooter dividerTop>\n          <Button\n            variant=\"text\"\n            size=\"xs\"\n            onClick={() => {\n              close();\n            }}\n          >\n            <Trans message=\"Cancel\" />\n          </Button>\n          <Button\n            variant=\"flat\"\n            color=\"primary\"\n            size=\"xs\"\n            onClick={() => {\n              close(value);\n            }}\n          >\n            <Trans message=\"Apply\" />\n          </Button>\n        </DialogFooter>\n      )}\n    </Dialog>\n  );\n}\n","import {message} from '@common/i18n/message';\nimport {useParams} from 'react-router-dom';\nimport {useFormContext} from 'react-hook-form';\nimport {AppearanceValues} from '@common/admin/appearance/appearance-store';\nimport {Menu, MenuTrigger} from '@common/ui/navigation/menu/menu-trigger';\nimport {AppearanceButton} from '@common/admin/appearance/appearance-button';\nimport {ColorIcon} from '@common/admin/appearance/sections/themes/color-icon';\nimport clsx from 'clsx';\nimport {Trans} from '@common/i18n/trans';\nimport {Item} from '@common/ui/forms/listbox/item';\n\nconst navbarColorMap = [\n  {\n    label: message('Accent'),\n    value: 'primary',\n    bgColor: 'bg-primary',\n    previewBgColor: 'text-primary',\n  },\n  {\n    label: message('Background'),\n    value: 'bg',\n    bgColor: 'bg-background',\n    previewBgColor: 'text-background',\n  },\n  {\n    label: message('Background alt'),\n    value: 'bg-alt',\n    bgColor: 'bg-alt',\n    previewBgColor: 'text-background-alt',\n  },\n  {\n    label: message('Transparent'),\n    value: 'transparent',\n    bgColor: 'bg-transparent',\n    previewBgColor: 'text-transparent',\n  },\n];\n\nexport function NavbarColorPicker() {\n  const {themeIndex} = useParams();\n  const {watch, setValue} = useFormContext<AppearanceValues>();\n  const key =\n    `appearance.themes.all.${themeIndex!}.values.--be-navbar-color` as 'appearance.themes.all.1.values.--be-navbar-color';\n  const selectedValue = watch(key);\n  const previewColor = navbarColorMap.find(({value}) => value === selectedValue)\n    ?.previewBgColor;\n  return (\n    <MenuTrigger\n      placement=\"right\"\n      selectionMode=\"single\"\n      selectedValue={selectedValue}\n      onSelectionChange={value => {\n        setValue(key, value as string, {shouldDirty: true});\n      }}\n    >\n      <AppearanceButton\n        startIcon={\n          <ColorIcon\n            viewBox=\"0 0 48 48\"\n            className={clsx('icon-lg', previewColor)}\n          />\n        }\n      >\n        <Trans message=\"Navbar\" />\n      </AppearanceButton>\n      <Menu>\n        {navbarColorMap.map(({label, value, bgColor}) => (\n          <Item\n            key={value}\n            value={value}\n            startIcon={\n              <div className={clsx('h-20 w-20 rounded border', bgColor)} />\n            }\n          >\n            <Trans {...label} />\n          </Item>\n        ))}\n      </Menu>\n    </MenuTrigger>\n  );\n}\n","import {Link, useNavigate, useParams} from 'react-router-dom';\nimport {Fragment, ReactNode, useEffect, useState} from 'react';\nimport {\n  appearanceState,\n  AppearanceValues,\n} from '@common/admin/appearance/appearance-store';\nimport {AppearanceButton} from '@common/admin/appearance/appearance-button';\nimport {ColorIcon} from '@common/admin/appearance/sections/themes/color-icon';\nimport {CssTheme} from '@common/ui/themes/css-theme';\nimport {colorToThemeValue} from '@common/ui/themes/utils/color-to-theme-value';\nimport {themeValueToHex} from '@common/ui/themes/utils/theme-value-to-hex';\nimport {ThemeSettingsDialogTrigger} from '@common/admin/appearance/sections/themes/theme-settings-dialog-trigger';\nimport {ThemeMoreOptionsButton} from '@common/admin/appearance/sections/themes/theme-more-options-button';\nimport {ColorPickerDialog} from '@common/ui/color-picker/color-picker-dialog';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {useFormContext} from 'react-hook-form';\nimport {Trans} from '@common/i18n/trans';\nimport {NavbarColorPicker} from '@common/admin/appearance/sections/themes/navbar-color-picker';\nimport {message} from '@common/i18n/message';\n\nconst colorList = [\n  {\n    label: message('Background'),\n    key: '--be-background',\n  },\n  {\n    label: message('Background alt'),\n    key: '--be-background-alt',\n  },\n  {\n    label: message('Foreground'),\n    key: '--be-foreground-base',\n  },\n  {\n    label: message('Accent light'),\n    key: '--be-primary-light',\n  },\n  {\n    label: message('Accent'),\n    key: '--be-primary',\n  },\n  {\n    label: message('Accent dark'),\n    key: '--be-primary-dark',\n  },\n  {\n    label: message('Text on accent'),\n    key: '--be-on-primary',\n  },\n  {\n    label: message('Chip'),\n    key: '--be-background-chip',\n  },\n];\n\nexport function ThemeEditor() {\n  const navigate = useNavigate();\n  const {themeIndex} = useParams();\n  const {getValues, watch} = useFormContext<AppearanceValues>();\n\n  const theme = getValues(`appearance.themes.all.${+themeIndex!}`);\n  const selectedFont = watch(\n    `appearance.themes.all.${+themeIndex!}.font.family`,\n  );\n\n  // go to theme list, if theme can't be found\n  useEffect(() => {\n    if (!theme) {\n      navigate('/admin/appearance/themes');\n    }\n  }, [navigate, theme]);\n\n  // select theme in preview on initial render\n  useEffect(() => {\n    if (theme?.id) {\n      appearanceState().preview.setActiveTheme(theme.id);\n    }\n  }, [theme?.id]);\n\n  if (!theme) return null;\n\n  return (\n    <Fragment>\n      <div className=\"mb-20 flex items-center justify-between gap-10\">\n        <ThemeSettingsDialogTrigger />\n        <ThemeMoreOptionsButton />\n      </div>\n      <div>\n        <AppearanceButton\n          elementType={Link}\n          to=\"font\"\n          description={selectedFont ? selectedFont : <Trans message=\"System\" />}\n        >\n          <Trans message=\"Font\" />\n        </AppearanceButton>\n        <AppearanceButton elementType={Link} to=\"radius\">\n          <Trans message=\"Rounding\" />\n        </AppearanceButton>\n        <div className=\"mb-6 mt-22 text-sm font-semibold\">\n          <Trans message=\"Colors\" />\n        </div>\n        <NavbarColorPicker />\n        {colorList.map(color => (\n          <ColorPickerTrigger\n            key={color.key}\n            colorName={color.key}\n            label={<Trans {...color.label} />}\n            initialThemeValue={theme.values[color.key]}\n            theme={theme}\n          />\n        ))}\n      </div>\n    </Fragment>\n  );\n}\n\ninterface ColorPickerTriggerProps {\n  label: ReactNode;\n  theme: CssTheme;\n  colorName: string;\n  initialThemeValue: string;\n}\nfunction ColorPickerTrigger({\n  label,\n  theme,\n  colorName,\n  initialThemeValue,\n}: ColorPickerTriggerProps) {\n  const {setValue} = useFormContext<AppearanceValues>();\n  const {themeIndex} = useParams();\n  const [selectedThemeValue, setSelectedThemeValue] =\n    useState<string>(initialThemeValue);\n\n  // set color as css variable in preview and on button preview, but not in appearance values\n  // this way color change can be canceled when color picker is closed and applied explicitly via apply button\n  const selectThemeValue = (themeValue: string) => {\n    setSelectedThemeValue(themeValue);\n    appearanceState().preview.setThemeValue(colorName, themeValue);\n  };\n\n  useEffect(() => {\n    // need to update the color here so changes via \"reset colors\" button are reflected\n    setSelectedThemeValue(initialThemeValue);\n  }, [initialThemeValue]);\n\n  const initialThemeValueHex = themeValueToHex(initialThemeValue);\n\n  return (\n    <DialogTrigger\n      currentValue={initialThemeValueHex}\n      type=\"popover\"\n      placement=\"right\"\n      offset={10}\n      onClose={newColor => {\n        if (newColor && newColor !== initialThemeValueHex) {\n          setValue(\n            `appearance.themes.all.${+themeIndex!}.values.${colorName}`,\n            selectedThemeValue,\n            {shouldDirty: true},\n          );\n          setValue('appearance.themes.selectedThemeId', theme.id);\n        } else {\n          // reset to initial value, if apply button was not clicked\n          selectThemeValue(initialThemeValue);\n        }\n      }}\n    >\n      <AppearanceButton\n        className=\"capitalize\"\n        startIcon={\n          <ColorIcon\n            viewBox=\"0 0 48 48\"\n            className=\"icon-lg\"\n            style={{fill: `rgb(${selectedThemeValue})`}}\n          />\n        }\n      >\n        {label}\n      </AppearanceButton>\n      <ColorPickerDialog\n        defaultValue={initialThemeValueHex}\n        onChange={color => {\n          selectThemeValue(colorToThemeValue(color));\n        }}\n      />\n    </DialogTrigger>\n  );\n}\n","import {ReactNode, useEffect, useRef} from 'react';\nimport {useFormContext} from 'react-hook-form';\nimport clsx from 'clsx';\n\ninterface Props {\n  children: (isInvalid: boolean) => ReactNode;\n  name: string;\n  separatorBottom?: boolean;\n  separatorTop?: boolean;\n}\nexport function SettingsErrorGroup({\n  children,\n  name,\n  separatorBottom = true,\n  separatorTop = true,\n}: Props) {\n  const {\n    formState: {errors},\n  } = useFormContext<Record<string, string>>();\n\n  const ref = useRef<HTMLDivElement>(null);\n  const error = errors[name];\n\n  useEffect(() => {\n    if (error) {\n      ref.current?.scrollIntoView({behavior: 'smooth'});\n    }\n  }, [error]);\n\n  return (\n    <div\n      className={clsx(\n        separatorBottom && 'border-b mb-20 pb-20',\n        separatorTop && 'border-t mt-20 pt-20',\n        error && 'border-y-error'\n      )}\n      ref={ref}\n    >\n      {children(!!error)}\n      {error && (\n        <div\n          className=\"text-danger text-sm mt-20\"\n          dangerouslySetInnerHTML={{__html: error.message!}}\n        />\n      )}\n    </div>\n  );\n}\n","import {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {apiClient} from '@common/http/query-client';\nimport {useQuery} from '@tanstack/react-query';\n\ninterface Response extends BackendResponse {\n  models: {model: string; name: string}[];\n}\n\nexport function useSearchModels() {\n  return useQuery({\n    queryKey: ['search-models'],\n    queryFn: () => fetchModels(),\n  });\n}\n\nfunction fetchModels(): Promise<Response> {\n  return apiClient.get('admin/search/models').then(response => response.data);\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\nimport {toast} from '@common/ui/toast/toast';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {message} from '@common/i18n/message';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\n\ninterface Payload {\n  model: string;\n  driver: string;\n}\n\nexport function useImportSearchModels() {\n  const {trans} = useTrans();\n  return useMutation({\n    mutationFn: (payload: Payload) => importModels(payload),\n    onSuccess: () => {\n      toast(trans(message('Imported search models')));\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction importModels(payload: Payload): Promise<Response> {\n  return apiClient.post('admin/search/import', payload).then(r => r.data);\n}\n","import {FormSelect, Select} from '@common/ui/forms/select/select';\nimport {SettingsPanel} from '../../settings-panel';\nimport {Trans} from '@common/i18n/trans';\nimport {useFormContext} from 'react-hook-form';\nimport {AdminSettingsWithFiles} from '@common/admin/settings/requests/update-admin-settings';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {SectionHelper} from '@common/ui/section-helper';\nimport {SettingsErrorGroup} from '@common/admin/settings/settings-error-group';\nimport {Fragment, useState} from 'react';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {useSearchModels} from '@common/admin/settings/pages/search-settings/requests/use-search-models';\nimport {Button} from '@common/ui/buttons/button';\nimport {useImportSearchModels} from '@common/admin/settings/pages/search-settings/requests/use-import-search-models';\n\nexport function SearchSettings() {\n  return (\n    <SettingsPanel\n      title={<Trans message=\"Search\" />}\n      description={\n        <Trans message=\"Configure search method used on the site as well as related 3rd party integrations.\" />\n      }\n    >\n      <SearchMethodSelect />\n      <ImportRecordsPanel />\n    </SettingsPanel>\n  );\n}\n\nfunction SearchMethodSelect() {\n  const {watch} = useFormContext<AdminSettingsWithFiles>();\n  const selectedMethod = watch('server.scout_driver');\n\n  return (\n    <SettingsErrorGroup name=\"search_group\" separatorBottom={false}>\n      {isInvalid => (\n        <Fragment>\n          <FormSelect\n            invalid={isInvalid}\n            name=\"server.scout_driver\"\n            selectionMode=\"single\"\n            label={<Trans message=\"Search method\" />}\n            description={\n              <Trans message=\"Which method should be used for search related functionality across the site.\" />\n            }\n          >\n            <Item value=\"mysql\">Mysql</Item>\n            <Item value=\"meilisearch\">Meilisearch</Item>\n            <Item value=\"tntsearch\">TNTSearch</Item>\n            <Item value=\"Matchish\\ScoutElasticSearch\\Engines\\ElasticSearchEngine\">\n              Elasticsearch\n            </Item>\n            <Item value=\"algolia\">Algolia</Item>\n          </FormSelect>\n          {selectedMethod === 'mysql' && <MysqlFields />}\n          {selectedMethod === 'meilisearch' && <MeilisearchFields />}\n          {selectedMethod === 'algolia' && <AlgoliaFields />}\n          {selectedMethod ===\n            'Matchish\\\\ScoutElasticSearch\\\\Engines\\\\ElasticSearchEngine' && (\n            <ElasticsearchField />\n          )}\n        </Fragment>\n      )}\n    </SettingsErrorGroup>\n  );\n}\n\nfunction MysqlFields() {\n  const {clearErrors} = useFormContext<AdminSettingsWithFiles>();\n  return (\n    <FormSelect\n      className=\"mt-24\"\n      name=\"server.scout_mysql_mode\"\n      selectionMode=\"single\"\n      label={<Trans message=\"MySQL mode\" />}\n      onSelectionChange={() => {\n        clearErrors();\n      }}\n    >\n      <Item value=\"basic\">\n        <Trans message=\"Basic\" />\n      </Item>\n      <Item value=\"extended\">\n        <Trans message=\"Extended\" />\n      </Item>\n      <Item value=\"fulltext\">\n        <Trans message=\"Fulltext\" />\n      </Item>\n    </FormSelect>\n  );\n}\n\nfunction MeilisearchFields() {\n  return (\n    <SectionHelper\n      className=\"mt-24\"\n      color=\"warning\"\n      title={<Trans message=\"Important!\" />}\n      description={\n        <Trans\n          message=\"<a>Meilisearch</a> needs to be installed and running for this method to work.\"\n          values={{\n            a: parts => (\n              <a\n                href=\"https://www.meilisearch.com\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                {parts}\n              </a>\n            ),\n          }}\n        />\n      }\n    />\n  );\n}\n\nfunction ElasticsearchField() {\n  return (\n    <SectionHelper\n      className=\"mt-24\"\n      color=\"warning\"\n      title={<Trans message=\"Important!\" />}\n      description={\n        <Trans\n          message=\"<a>Elasticsearch</a> needs to be installed and running for this method to work.\"\n          values={{\n            a: parts => (\n              <a href=\"https://www.elastic.co\" target=\"_blank\" rel=\"noreferrer\">\n                {parts}\n              </a>\n            ),\n          }}\n        />\n      }\n    />\n  );\n}\n\nfunction AlgoliaFields() {\n  return (\n    <Fragment>\n      <FormTextField\n        className=\"mt-24\"\n        name=\"server.algolia_app_id\"\n        label={<Trans message=\"Algolia app ID\" />}\n        required\n      />\n      <FormTextField\n        className=\"mt-24\"\n        name=\"server.algolia_secret\"\n        label={<Trans message=\"Algolia app secret\" />}\n        required\n      />\n    </Fragment>\n  );\n}\n\nfunction ImportRecordsPanel() {\n  const {getValues} = useFormContext<AdminSettingsWithFiles>();\n  const {data} = useSearchModels();\n  const importModels = useImportSearchModels();\n  const [selectedModel, setSelectedModel] = useState('*');\n  return (\n    <SectionHelper\n      className=\"mt-34\"\n      color=\"neutral\"\n      title={<Trans message=\"Import records\" />}\n      description={\n        <span>\n          <Trans message=\"Whenever a new search method is enabled, records that already exist in database need to be imported into the index. All records created after search method is enabled will be imported automatically.\" />\n          <br />\n          <br />\n          <Trans message=\"Depending on number of records in database, importing could take some time. Don't close this window while it is in progress.\" />\n        </span>\n      }\n      actions={\n        <div className=\"mt-10 border-t pt-14\">\n          <Select\n            selectionMode=\"single\"\n            label={<Trans message=\"What to import?\" />}\n            selectedValue={selectedModel}\n            onSelectionChange={newValue => {\n              setSelectedModel(newValue as string);\n            }}\n          >\n            <Item value=\"*\">\n              <Trans message=\"Everything\" />\n            </Item>\n            {data?.models.map(item => (\n              <Item value={item.model} key={item.model}>\n                <Trans message={item.name} />\n              </Item>\n            ))}\n          </Select>\n          <Button\n            variant=\"flat\"\n            color=\"primary\"\n            className=\"mb-8 mt-24\"\n            disabled={importModels.isPending}\n            onClick={() => {\n              importModels.mutate({\n                model: selectedModel,\n                driver: getValues('server.scout_driver')!,\n              });\n            }}\n          >\n            <Trans message=\"Import now\" />\n          </Button>\n        </div>\n      }\n    />\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\nimport {toast} from '@common/ui/toast/toast';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {message} from '@common/i18n/message';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\n\nexport function useImportEnvatoItems() {\n  const {trans} = useTrans();\n  return useMutation({\n    mutationFn: () => importItems(),\n    onSuccess: () => {\n      toast(trans(message('Envato items imported')));\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction importItems(): Promise<Response> {\n  return apiClient.post('envato/items/import').then(r => r.data);\n}\n","import {FormSwitch} from '@common/ui/forms/toggle/switch';\nimport {Trans} from '@common/i18n/trans';\nimport {SettingsPanel} from '@common/admin/settings/settings-panel';\nimport {SectionHelper} from '@common/ui/section-helper';\nimport {Button} from '@common/ui/buttons/button';\nimport {useImportEnvatoItems} from '@app/admin/settings/envato-settings/use-import-envato-items';\n\nexport function EnvatoSettings() {\n  return (\n    <SettingsPanel\n      title={<Trans message=\"Envato\" />}\n      description={\n        <Trans message=\"Manage envato integration related configuration or disable it completely.\" />\n      }\n    >\n      <FormSwitch\n        name=\"client.envato.enable\"\n        className=\"mb-24\"\n        description={\n          <Trans message=\"Enable envato integration (social login, purchase code validation, sales reports and more).\" />\n        }\n      >\n        <Trans message=\"Envato integration\" />\n      </FormSwitch>\n      <FormSwitch\n        name=\"client.envato.require_purchase_code\"\n        className=\"mb-24\"\n        description={\n          <Trans\n            message=\"Require users to enter a valid purchase code in order to register and submit support requests.\n      Envato social login will also check for purchase code automatically when this is enabled.\"\n          />\n        }\n      >\n        <Trans message=\"Envato purchase code\" />\n      </FormSwitch>\n      <FormSwitch\n        name=\"client.envato.active_support\"\n        className=\"mb-24\"\n        description={\n          <Trans message=\"Require users to have active support for item on envato in order to be able to create tickets.\" />\n        }\n      >\n        <Trans message=\"Envato active support\" />\n      </FormSwitch>\n      <FormSwitch\n        name=\"client.envato.filter_search\"\n        className=\"mb-24\"\n        description={\n          <Trans message=\"Users will only be able to find articles for items that they have purchased.\" />\n        }\n      >\n        <Trans message=\"Filter help center search\" />\n      </FormSwitch>\n      <ImportItemsPanel />\n    </SettingsPanel>\n  );\n}\n\nfunction ImportItemsPanel() {\n  const importItems = useImportEnvatoItems();\n  return (\n    <SectionHelper\n      className=\"mt-34\"\n      color=\"neutral\"\n      title={<Trans message=\"Import envato items\" />}\n      description={\n        <Trans\n          message=\"This will automatically import all your envato items for use as categories in new ticket and\n      ticket list pages.\"\n        />\n      }\n      actions={\n        <div className=\"mt-10 border-t pt-14\">\n          <Button\n            variant=\"flat\"\n            color=\"primary\"\n            disabled={importItems.isPending}\n            size=\"xs\"\n            onClick={() => {\n              importItems.mutate();\n            }}\n          >\n            <Trans message=\"Import now\" />\n          </Button>\n        </div>\n      }\n    />\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\nimport {toast} from '@common/ui/toast/toast';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {message} from '@common/i18n/message';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\nimport {UploadedFile} from '@common/uploads/uploaded-file';\n\ninterface Payload {\n  file: UploadedFile;\n}\n\nexport function useImportHcDataFromZip() {\n  const {trans} = useTrans();\n  return useMutation({\n    mutationFn: (payload: Payload) => importData(payload),\n    onSuccess: () => {\n      toast(trans(message('Help center data imported')));\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction importData(payload: Payload): Promise<Response> {\n  const formData = new FormData();\n  formData.append('file', payload.file.native);\n  return apiClient.post('hc/actions/import', formData).then(r => r.data);\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const StyleIcon = createSvgIcon(\n  [<path d=\"m2.53 19.65 1.34.56v-9.03l-2.43 5.86c-.41 1.02.08 2.19 1.09 2.61zm19.5-3.7L17.07 3.98c-.31-.75-1.04-1.21-1.81-1.23-.26 0-.53.04-.79.15L7.1 5.95c-.75.31-1.21 1.03-1.23 1.8-.01.27.04.54.15.8l4.96 11.97c.31.76 1.05 1.22 1.83 1.23.26 0 .52-.05.77-.15l7.36-3.05c1.02-.42 1.51-1.59 1.09-2.6zm-9.2 3.8L7.87 7.79l7.35-3.04h.01l4.95 11.95-7.35 3.05z\" key=\"0\" />,<circle cx=\"11\" cy=\"9\" r=\"1\" key=\"1\" />,<path d=\"M5.88 19.75c0 1.1.9 2 2 2h1.45l-3.45-8.34v6.34z\" key=\"2\" />,]\n, 'StyleOutlined');\n","import {FormSwitch} from '@common/ui/forms/toggle/switch';\nimport {Trans} from '@common/i18n/trans';\nimport {SettingsPanel} from '@common/admin/settings/settings-panel';\nimport {SectionHelper} from '@common/ui/section-helper';\nimport {Button} from '@common/ui/buttons/button';\nimport {FormSelect} from '@common/ui/forms/select/select';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {openUploadWindow} from '@common/uploads/utils/open-upload-window';\nimport {useImportHcDataFromZip} from '@app/admin/settings/hc-settings/use-import-hc-data-from-zip';\nimport {Menu, MenuTrigger} from '@common/ui/navigation/menu/menu-trigger';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport {downloadFileFromUrl} from '@common/uploads/utils/download-file-from-url';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {ConfirmationDialog} from '@common/ui/overlays/dialog/confirmation-dialog';\nimport {Link} from 'react-router-dom';\nimport {LinkStyle} from '@common/ui/buttons/external-link';\nimport {StyleIcon} from '@common/icons/material/Style';\n\nexport function HcSettings() {\n  return (\n    <SettingsPanel\n      title={<Trans message=\"Help center\" />}\n      description={\n        <div>\n          <Trans message=\"Configure help center settings and import/export help center data.\" />\n          <div className=\"mt-14 flex items-center gap-8\">\n            <StyleIcon size=\"sm\" className=\"text-primary\" />\n            <Link\n              to=\"/admin/appearance/landing-page\"\n              className={LinkStyle}\n              target=\"_blank\"\n            >\n              <Trans message=\"Edit help center appearance\" />\n            </Link>\n          </div>\n        </div>\n      }\n    >\n      <FormSelect\n        label={<Trans message=\"Default article order\" />}\n        name=\"client.articles.default_order\"\n        className=\"mb-24\"\n        selectionMode=\"single\"\n        description={\n          <Trans message=\"In what way should help center articles be ordered by default.\" />\n        }\n      >\n        <Item value=\"position|desc\">\n          <Trans message=\"Position\" />\n        </Item>\n        <Item value=\"views|desc\">\n          <Trans message=\"Most viewed first\" />\n        </Item>\n        <Item value=\"was_helpful|desc\">\n          <Trans message=\"Most helpful first\" />\n        </Item>\n        <Item value=\"created_at|desc\">\n          <Trans message=\"Newest first\" />\n        </Item>\n        <Item value=\"title|asc\">\n          <Trans message=\"A to Z\" />\n        </Item>\n      </FormSelect>\n      <FormSwitch\n        name=\"client.article.hide_new_ticket_link\"\n        className=\"mb-24\"\n        description={\n          <Trans\n            message={`Whether \"Submit a Request\" link on article pages should be hidden.`}\n          />\n        }\n      >\n        <Trans message=\"Hide new ticket link\" />\n      </FormSwitch>\n      <FormSelect\n        label={<Trans message=\"Default after reply action\" />}\n        name=\"client.replies.after_reply_action\"\n        selectionMode=\"single\"\n      >\n        <Item value=\"stay_on_page\">\n          <Trans message=\"Stay on page\" />\n        </Item>\n        <Item value=\"next_active_ticket\">\n          <Trans message=\"Open next active ticket\" />\n        </Item>\n        <Item value=\"back_to_folder\">\n          <Trans message=\"Go back to ticket list\" />\n        </Item>\n      </FormSelect>\n      <FormSwitch\n        name=\"client.mail.simplified_threading\"\n        className=\"mt-24\"\n        description={\n          <Trans message=\"Removes full ticket thread from email respones, unless it's the initial agent response.\" />\n        }\n      >\n        <Trans message=\"Simplified threading\" />\n      </FormSwitch>\n      <HcDataPanel />\n    </SettingsPanel>\n  );\n}\n\nfunction HcDataPanel() {\n  return (\n    <SectionHelper\n      className=\"mt-34\"\n      color=\"neutral\"\n      title={<Trans message=\"Help center data\" />}\n      description={\n        <Trans message=\"Import and export help center data (articles, categories, images, tags) in a .zip file for backup or migration.\" />\n      }\n      actions={\n        <div className=\"mt-10 border-t pt-14\">\n          <ImportButton />\n          <ExportButton />\n        </div>\n      }\n    />\n  );\n}\n\nfunction ImportButton() {\n  const importData = useImportHcDataFromZip();\n  return (\n    <DialogTrigger type=\"modal\">\n      <Button variant=\"flat\" color=\"primary\" size=\"xs\" className=\"mr-10\">\n        <Trans message=\"Import\" />\n      </Button>\n      {({close}) => (\n        <ConfirmationDialog\n          isDanger\n          title={<Trans message=\"Import help center data\" />}\n          body={\n            <div>\n              <Trans message=\"Are you sure you want to import help center data?\" />\n              <div className=\"mt-8 font-bold\">\n                <Trans message=\"This will erase all existing articles and categories.\" />\n              </div>\n            </div>\n          }\n          confirm={<Trans message=\"Import\" />}\n          isLoading={importData.isPending}\n          onConfirm={async () => {\n            const files = await openUploadWindow({\n              extensions: ['zip'],\n            });\n            importData.mutate({file: files[0]}, {onSuccess: () => close()});\n          }}\n        />\n      )}\n    </DialogTrigger>\n  );\n}\n\nfunction ExportButton() {\n  const {base_url} = useSettings();\n  const exportData = (format: 'html' | 'json') => {\n    const url = `${base_url}/api/v1/hc/actions/export?format=${format}`;\n    downloadFileFromUrl(url, 'hc-export.json');\n  };\n\n  return (\n    <MenuTrigger\n      onItemSelected={value => {\n        exportData(value as 'html' | 'json');\n      }}\n    >\n      <Button variant=\"flat\" color=\"primary\" size=\"xs\">\n        <Trans message=\"Export\" />\n      </Button>\n      <Menu>\n        <Item value=\"html\">\n          <Trans message=\"HTML (Offline docs)\" />\n        </Item>\n        <Item value=\"json\">\n          <Trans message=\"JSON\" />\n        </Item>\n      </Menu>\n    </MenuTrigger>\n  );\n}\n","import {useForm} from 'react-hook-form';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {Trans} from '@common/i18n/trans';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {Form} from '@common/ui/forms/form';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport React from 'react';\n\nimport {ImapConnectionCredentials} from '@app/admin/settings/incoming-email/imap-connection-credentials';\nimport {FormSwitch} from '@common/ui/forms/toggle/switch';\nimport {nanoid} from 'nanoid';\n\ninterface Props {\n  connection?: ImapConnectionCredentials;\n}\n\nexport function CrupdateImapConnectionDialog({connection}: Props) {\n  const form = useForm<ImapConnectionCredentials>({\n    defaultValues: connection\n      ? connection\n      : {\n          id: nanoid(6).toLowerCase(),\n          createTickets: true,\n          createReplies: true,\n        },\n  });\n  const {formId, close} = useDialogContext();\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        {connection ? (\n          <Trans message=\"Edit connection\" />\n        ) : (\n          <Trans message=\"New connection\" />\n        )}\n      </DialogHeader>\n      <DialogBody>\n        <Form form={form} id={formId} onSubmit={values => close(values)}>\n          <FormTextField\n            autoFocus\n            required\n            name=\"name\"\n            label={<Trans message=\"Name\" />}\n            className=\"mb-14\"\n          />\n          <FormTextField\n            required\n            name=\"host\"\n            placeholder=\"imap.gmail.com\"\n            label={<Trans message=\"Host\" />}\n            className=\"mb-14\"\n          />\n          <FormTextField\n            required\n            name=\"username\"\n            placeholder=\"username@gmail.com\"\n            type=\"email\"\n            label={<Trans message=\"Username\" />}\n            className=\"mb-14\"\n          />\n          <FormTextField\n            required\n            type=\"password\"\n            name=\"password\"\n            label={<Trans message=\"Password\" />}\n            className=\"mb-14\"\n          />\n          <FormTextField\n            name=\"port\"\n            type=\"number\"\n            label={<Trans message=\"Port\" />}\n            placeholder=\"993\"\n            className=\"mb-14\"\n          />\n          <FormTextField\n            name=\"folder\"\n            label={<Trans message=\"Folder\" />}\n            className=\"mb-14\"\n            description={\n              <Trans message=\"From which folder emails should be imported. Leave empty to import all emails in the inbox.\" />\n            }\n          />\n          <FormSwitch\n            name=\"createTickets\"\n            className=\"mb-14 mt-28\"\n            description={\n              <Trans message=\"Create new tickets from emails received via this connection.\" />\n            }\n          >\n            <Trans message=\"Create new tickets\" />\n          </FormSwitch>\n          <FormSwitch\n            name=\"createReplies\"\n            description={\n              <Trans message=\"If email is in reply to existing ticket, create a new reply.\" />\n            }\n          >\n            <Trans message=\"Create replies\" />\n          </FormSwitch>\n        </Form>\n      </DialogBody>\n      <DialogFooter>\n        <Button onClick={() => close()}>\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button type=\"submit\" form={formId} variant=\"flat\" color=\"primary\">\n          <Trans message=\"Save\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {createSvgIcon} from '../../../../icons/create-svg-icon';\n\nexport const GmailIcon = createSvgIcon(\n  [\n    <path\n      key=\"0\"\n      fill=\"#4caf50\"\n      d=\"M45,16.2l-5,2.75l-5,4.75L35,40h7c1.657,0,3-1.343,3-3V16.2z\"\n    />,\n    <path\n      key=\"1\"\n      fill=\"#1e88e5\"\n      d=\"M3,16.2l3.614,1.71L13,23.7V40H6c-1.657,0-3-1.343-3-3V16.2z\"\n    />,\n    <polygon\n      key=\"2\"\n      fill=\"#e53935\"\n      points=\"35,11.2 24,19.45 13,11.2 12,17 13,23.7 24,31.95 35,23.7 36,17\"\n    />,\n    <path\n      key=\"3\"\n      fill=\"#c62828\"\n      d=\"M3,12.298V16.2l10,7.5V11.2L9.876,8.859C9.132,8.301,8.228,8,7.298,8h0C4.924,8,3,9.924,3,12.298z\"\n    />,\n    <path\n      key=\"4\"\n      fill=\"#fbc02d\"\n      d=\"M45,12.298V16.2l-10,7.5V11.2l3.124-2.341C38.868,8.301,39.772,8,40.702,8h0 C43.076,8,45,9.924,45,12.298z\"\n    />,\n  ],\n  'Gmail',\n  '0 0 48 48'\n);\n","import {useFormContext} from 'react-hook-form';\nimport {AdminSettings} from '../../admin-settings';\nimport {useSocialLogin} from '../../../../auth/requests/use-social-login';\nimport {toast} from '../../../../ui/toast/toast';\nimport {message} from '../../../../i18n/message';\nimport {Button} from '../../../../ui/buttons/button';\nimport {GmailIcon} from './gmail-icon';\nimport {Trans} from '../../../../i18n/trans';\nimport {Fragment} from 'react';\n\nexport function ConnectGmailPanel() {\n  const {watch, setValue} = useFormContext<AdminSettings>();\n  const {connectSocial} = useSocialLogin();\n  const connectedEmail = watch('server.connectedGmailAccount');\n\n  const handleGmailConnect = async () => {\n    const e = await connectSocial('secure/settings/mail/gmail/connect');\n    if (e?.status === 'SUCCESS') {\n      const email = (e.callbackData as any).profile.email;\n      setValue('server.connectedGmailAccount', email);\n      toast(message('Connected gmail account: :email', {values: {email}}));\n    }\n  };\n\n  const connectButton = (\n    <Button\n      variant=\"outline\"\n      color=\"primary\"\n      startIcon={<GmailIcon />}\n      onClick={() => {\n        handleGmailConnect();\n      }}\n    >\n      <Trans message=\"Connect gmail account\" />\n    </Button>\n  );\n\n  const reconnectPanel = (\n    <div className=\"flex items-center gap-14 rounded border bg-alt px-14 py-6 text-sm\">\n      <GmailIcon size=\"lg\" />\n      {connectedEmail}\n      <Button\n        variant=\"text\"\n        color=\"primary\"\n        className=\"ml-auto\"\n        onClick={() => {\n          handleGmailConnect();\n        }}\n      >\n        <Trans message=\"Reconnect\" />\n      </Button>\n    </div>\n  );\n\n  return (\n    <Fragment>\n      <div className=\"mb-6 text-sm\">\n        <Trans message=\"Gmail account\" />\n      </div>\n      {connectedEmail ? reconnectPanel : connectButton}\n    </Fragment>\n  );\n}\n","import {useFormContext} from 'react-hook-form';\nimport {SettingsPanel} from '@common/admin/settings/settings-panel';\nimport {FormSwitch} from '@common/ui/forms/toggle/switch';\nimport {AdminSettings} from '@common/admin/settings/admin-settings';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {SettingsErrorGroup} from '@common/admin/settings/settings-error-group';\nimport {Trans} from '@common/i18n/trans';\nimport {Fragment} from 'react';\nimport {Link} from 'react-router-dom';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport {SettingsSeparator} from '@common/admin/settings/settings-separator';\nimport {Button} from '@common/ui/buttons/button';\n\nexport function AuthenticationSettings() {\n  return (\n    <SettingsPanel\n      title={<Trans message=\"Authentication\" />}\n      description={\n        <Trans message=\"Configure registration, social login and related 3rd party integrations.\" />\n      }\n    >\n      <EmailConfirmationSection />\n      <FormSwitch\n        className=\"mb-24\"\n        name=\"client.registration.disable\"\n        description={\n          <Trans message=\"All registration related functionality (including social login) will be disabled.\" />\n        }\n      >\n        <Trans message=\"Disable registration\" />\n      </FormSwitch>\n      <FormSwitch\n        className=\"mb-24\"\n        name=\"client.single_device_login\"\n        description={\n          <Trans message=\"Only allow one device to be logged into user account at the same time.\" />\n        }\n      >\n        <Trans message=\"Single device login\" />\n      </FormSwitch>\n      <FormSwitch\n        name=\"client.social.compact_buttons\"\n        description={\n          <Trans message=\"Use compact design for social login buttons.\" />\n        }\n      >\n        <Trans message=\"Compact buttons\" />\n      </FormSwitch>\n      <EnvatoSection />\n      <GoogleSection />\n      <FacebookSection />\n      <TwitterSection />\n      <SettingsSeparator />\n      <FormTextField\n        inputElementType=\"textarea\"\n        rows={3}\n        className=\"mt-24\"\n        name=\"client.auth.domain_blacklist\"\n        label={<Trans message=\"Domain blacklist\" />}\n        description={\n          <Trans message=\"Comma separated list of domains. Users will not be able to register or login using any email adress from specified domains.\" />\n        }\n      />\n    </SettingsPanel>\n  );\n}\n\nexport function MailNotSetupWarning() {\n  const {watch} = useFormContext<AdminSettings>();\n  const mailSetup = watch('server.mail_setup');\n  if (mailSetup) return null;\n\n  return (\n    <p className=\"mt-10 rounded-panel border p-10 text-sm text-danger\">\n      <Trans\n        message=\"Outgoing mail method needs to be setup before enabling this setting. <a>Fix now</a>\"\n        values={{\n          a: text => (\n            <Button\n              elementType={Link}\n              variant=\"outline\"\n              size=\"xs\"\n              display=\"flex\"\n              className=\"mt-10 max-w-max\"\n              to=\"/admin/settings/outgoing-email\"\n            >\n              {text}\n            </Button>\n          ),\n        }}\n      />\n    </p>\n  );\n}\n\nfunction EmailConfirmationSection() {\n  return (\n    <FormSwitch\n      className=\"mb-30\"\n      name=\"client.require_email_confirmation\"\n      description={\n        <Fragment>\n          <Trans message=\"Require newly registered users to validate their email address before being able to login.\" />\n          <MailNotSetupWarning />\n        </Fragment>\n      }\n    >\n      <Trans message=\"Require email confirmation\" />\n    </FormSwitch>\n  );\n}\n\nfunction EnvatoSection() {\n  const {watch} = useFormContext<AdminSettings>();\n  const settings = useSettings();\n  const envatoLoginEnabled = watch('client.social.envato.enable');\n\n  if (!(settings as any).envato?.enable) return null;\n\n  return (\n    <SettingsErrorGroup separatorBottom={false} name=\"envato_group\">\n      {isInvalid => (\n        <>\n          <FormSwitch\n            invalid={isInvalid}\n            name=\"client.social.envato.enable\"\n            description={\n              <Trans message=\"Enable logging into the site via envato.\" />\n            }\n          >\n            <Trans message=\"Envato login\" />\n          </FormSwitch>\n          {!!envatoLoginEnabled && (\n            <>\n              <FormTextField\n                invalid={isInvalid}\n                className=\"mt-30\"\n                name=\"server.envato_id\"\n                label={<Trans message=\"Envato ID\" />}\n                required\n              />\n              <FormTextField\n                invalid={isInvalid}\n                className=\"mt-30\"\n                name=\"server.envato_secret\"\n                label={<Trans message=\"Envato secret\" />}\n                required\n              />\n              <FormTextField\n                invalid={isInvalid}\n                className=\"mt-30\"\n                name=\"server.envato_personal_token\"\n                label={<Trans message=\"Envato personal token\" />}\n                required\n              />\n            </>\n          )}\n        </>\n      )}\n    </SettingsErrorGroup>\n  );\n}\n\nfunction GoogleSection() {\n  const {watch} = useFormContext<AdminSettings>();\n  const googleLoginEnabled = watch('client.social.google.enable');\n\n  return (\n    <SettingsErrorGroup name=\"google_group\">\n      {isInvalid => (\n        <>\n          <FormSwitch\n            invalid={isInvalid}\n            name=\"client.social.google.enable\"\n            description={\n              <Trans message=\"Enable logging into the site via google.\" />\n            }\n          >\n            <Trans message=\"Google login\" />\n          </FormSwitch>\n          {!!googleLoginEnabled && (\n            <>\n              <FormTextField\n                invalid={isInvalid}\n                className=\"mt-30\"\n                name=\"server.google_id\"\n                label={<Trans message=\"Google client ID\" />}\n                required\n              />\n              <FormTextField\n                className=\"mt-30\"\n                name=\"server.google_secret\"\n                label={<Trans message=\"Google client secret\" />}\n                required\n              />\n            </>\n          )}\n        </>\n      )}\n    </SettingsErrorGroup>\n  );\n}\n\nfunction FacebookSection() {\n  const {watch} = useFormContext<AdminSettings>();\n  const facebookLoginEnabled = watch('client.social.facebook.enable');\n\n  return (\n    <SettingsErrorGroup name=\"facebook_group\" separatorTop={false}>\n      {isInvalid => (\n        <>\n          <FormSwitch\n            invalid={isInvalid}\n            name=\"client.social.facebook.enable\"\n            description={\n              <Trans message=\"Enable logging into the site via facebook.\" />\n            }\n          >\n            <Trans message=\"Facebook login\" />\n          </FormSwitch>\n          {!!facebookLoginEnabled && (\n            <>\n              <FormTextField\n                invalid={isInvalid}\n                className=\"mt-30\"\n                name=\"server.facebook_id\"\n                label={<Trans message=\"Facebook app ID\" />}\n                required\n              />\n              <FormTextField\n                invalid={isInvalid}\n                className=\"mt-30\"\n                name=\"server.facebook_secret\"\n                label={<Trans message=\"Facebook app secret\" />}\n                required\n              />\n            </>\n          )}\n        </>\n      )}\n    </SettingsErrorGroup>\n  );\n}\n\nfunction TwitterSection() {\n  const {watch} = useFormContext<AdminSettings>();\n  const twitterLoginEnabled = watch('client.social.twitter.enable');\n\n  return (\n    <SettingsErrorGroup\n      name=\"twitter_group\"\n      separatorTop={false}\n      separatorBottom={false}\n    >\n      {isInvalid => (\n        <>\n          <FormSwitch\n            invalid={isInvalid}\n            name=\"client.social.twitter.enable\"\n            description={\n              <Trans message=\"Enable logging into the site via twitter.\" />\n            }\n          >\n            <Trans message=\"Twitter login\" />\n          </FormSwitch>\n          {!!twitterLoginEnabled && (\n            <>\n              <FormTextField\n                invalid={isInvalid}\n                className=\"mt-30\"\n                name=\"server.twitter_id\"\n                label={<Trans message=\"Twitter ID\" />}\n                required\n              />\n              <FormTextField\n                invalid={isInvalid}\n                className=\"mt-30\"\n                name=\"server.twitter_secret\"\n                label={<Trans message=\"Twitter secret\" />}\n                required\n              />\n            </>\n          )}\n        </>\n      )}\n    </SettingsErrorGroup>\n  );\n}\n","import {SettingsPanel} from '@common/admin/settings/settings-panel';\nimport {Trans} from '@common/i18n/trans';\nimport {Accordion, AccordionItem} from '@common/ui/accordion/accordion';\nimport {useFieldArray, useFormContext} from 'react-hook-form';\nimport React, {Fragment} from 'react';\nimport {AdminSettingsWithFiles} from '@common/admin/settings/requests/update-admin-settings';\nimport {AddIcon} from '@common/icons/material/Add';\nimport {Button} from '@common/ui/buttons/button';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {CrupdateImapConnectionDialog} from '@app/admin/settings/incoming-email/crupdate-imap-connection-dialog';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {DeleteIcon} from '@common/icons/material/Delete';\nimport {SettingsIcon} from '@common/icons/material/Settings';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {FormSwitch} from '@common/ui/forms/toggle/switch';\nimport {useLocalStorage} from '@common/utils/hooks/local-storage';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {ConnectGmailPanel} from '@common/admin/settings/pages/mail-settings/connect-gmail-panel';\nimport {SettingsErrorGroup} from '@common/admin/settings/settings-error-group';\nimport clsx from 'clsx';\nimport {LearnMoreLink} from '@common/admin/settings/learn-more-link';\nimport {MailNotSetupWarning} from '@common/admin/settings/pages/authentication-settings';\nimport {removeEmptyValuesFromObject} from '@common/utils/objects/remove-empty-values-from-object';\nimport {InfoDialogTrigger} from '@common/ui/overlays/dialog/info-dialog-trigger/info-dialog-trigger';\n\nconst clearEmptyValues = (values: AdminSettingsWithFiles) => {\n  if (values.client?.incoming_email) {\n    removeEmptyValuesFromObject(values.client.incoming_email, {\n      copy: false,\n      arrays: true,\n      deep: true,\n    });\n  }\n  if (\n    values.client?.incoming_email &&\n    Object.keys(values.client.incoming_email).length === 0\n  ) {\n    delete values.client.incoming_email;\n  }\n  return values;\n};\n\nexport function IncomingEmailSettings() {\n  const {\n    branding: {site_name},\n  } = useSettings();\n  const [expandedValues, setExpandedValues] = useLocalStorage(\n    'incoming-email-settings-expanded',\n    [0, 1, 2],\n  );\n  return (\n    <SettingsPanel\n      title={<Trans message=\"Incoming email\" />}\n      transformValues={clearEmptyValues}\n      description={\n        <Fragment>\n          <Trans\n            message=\"Configure different handlers for turning incoming emails into tickets and replies. You can enable multiple handlers at the same time.\"\n            values={{site: site_name}}\n          />\n          <LearnMoreLink\n            className=\"mt-6 text-sm\"\n            link=\"https://support.vebto.com/hc/articles/42/44/155/incoming-emails\"\n          />\n        </Fragment>\n      }\n    >\n      <FormSwitch\n        name=\"client.tickets.create_from_emails\"\n        className=\"mb-24\"\n        description={\n          <Trans message=\"If email can't be matched to existing ticket, create a new ticket from it.\" />\n        }\n      >\n        <Trans message=\"New ticket from emails\" />\n      </FormSwitch>\n      <FormSwitch\n        name=\"client.replies.create_from_emails\"\n        className=\"mb-24\"\n        description={\n          <Trans message=\"If email can be matched to existing ticket, create a new reply for that ticket from the email.\" />\n        }\n      >\n        <Trans message=\"Replies from emails\" />\n      </FormSwitch>\n      <FormSwitch\n        name=\"client.tickets.send_ticket_created_notification\"\n        className=\"mb-24\"\n        description={\n          <Trans message=\"Send a notification to customer via email informing them that their ticket has been received.\" />\n        }\n      >\n        <Trans message=\"Ticket received notification\" />\n      </FormSwitch>\n      <TicketRejectedNotification />\n      <SendRepliesSwitch />\n      <FormTextField\n        name=\"server.openai_api_key\"\n        className=\"mb-24\"\n        label={<Trans message=\"OpenAI API key\" />}\n        labelSuffix={\n          <InfoDialogTrigger\n            body={\n              <Trans\n                message=\"OpenAI API key is used to extract only relevant content from raw email. It will remove previous emails quoted by clients like gmail or outlook as well as signatures added by iPhone and other devices. :br This can be done by BeDesk without the API key, but it will be more consistent when using AI.\"\n                values={{\n                  br: (\n                    <Fragment>\n                      <br />\n                      <br />\n                    </Fragment>\n                  ),\n                }}\n              />\n            }\n          />\n        }\n        labelSuffixPosition=\"inline\"\n      />\n      <Accordion\n        variant=\"outline\"\n        mode=\"multiple\"\n        expandedValues={expandedValues}\n        onExpandedChange={values => setExpandedValues(values as number[])}\n      >\n        <AccordionItem label={<Trans message=\"IMAP\" />}>\n          <ImapPanel />\n        </AccordionItem>\n        <AccordionItem label={<Trans message=\"Pipe\" />}>\n          <PipePanel />\n        </AccordionItem>\n        <AccordionItem label={<Trans message=\"Rest API\" />}>\n          <ApiPanel />\n        </AccordionItem>\n        <AccordionItem label={<Trans message=\"Gmail API\" />}>\n          <GmailPanel />\n        </AccordionItem>\n        <AccordionItem label={<Trans message=\"Mailgun\" />}>\n          <MailgunPanel />\n        </AccordionItem>\n      </Accordion>\n    </SettingsPanel>\n  );\n}\n\nfunction ApiPanel() {\n  const {\n    base_url,\n    branding: {site_name},\n  } = useSettings();\n  return (\n    <div>\n      <FormSwitch name=\"client.incoming_email.api.enabled\">\n        <Trans message=\"Enabled\" />\n      </FormSwitch>\n      <p className=\"mt-10 text-xs text-muted\">\n        <Trans\n          message=\"Send emails to :siteName from a 3rd party application or a different website using REST API.\"\n          values={{siteName: site_name}}\n        />\n      </p>\n      <LearnMoreLink\n        className=\"mt-12 text-sm\"\n        link={`${base_url}/api-docs#Tickets-incomingEmail`}\n      />\n    </div>\n  );\n}\n\nfunction MailgunPanel() {\n  const {\n    branding: {site_name},\n  } = useSettings();\n  return (\n    <div>\n      <FormSwitch name=\"client.incoming_email.mailgun.enabled\">\n        <Trans message=\"Enabled\" />\n      </FormSwitch>\n      <p className=\"mt-10 text-xs text-muted\">\n        <Trans\n          message=\"Send emails to :siteName using Mailgun inbound routes functionality.\"\n          values={{siteName: site_name}}\n        />\n      </p>\n      <FormTextField\n        size=\"sm\"\n        className=\"mt-20\"\n        name=\"server.mailgun_secret\"\n        label={<Trans message=\"Mailgun API key\" />}\n      />\n      <FormSwitch\n        className=\"mt-14\"\n        name=\"client.incoming_email.mailgun.verify\"\n        description={\n          <Trans message=\"Verify that incoming request is really from mailgun. It's highly recommended to have this on, unless you are not able to receive emails from mailgun otherwise.\" />\n        }\n      >\n        <Trans message=\"Verify\" />\n      </FormSwitch>\n      <LearnMoreLink\n        className=\"mt-12 text-sm\"\n        link=\"https://support.vebto.com/hc/articles/42/44/155/incoming-emails#mailgun\"\n      />\n    </div>\n  );\n}\n\nfunction GmailPanel() {\n  const {\n    branding: {site_name},\n  } = useSettings();\n  const {watch} = useFormContext<AdminSettingsWithFiles>();\n  const isEnabled = watch('client.incoming_email.gmail.enabled');\n  return (\n    <SettingsErrorGroup\n      name=\"gmail_group\"\n      separatorBottom={false}\n      separatorTop={false}\n    >\n      {isInvalid => (\n        <Fragment>\n          <FormSwitch\n            name=\"client.incoming_email.gmail.enabled\"\n            invalid={isInvalid}\n          >\n            <Trans message=\"Enabled\" />\n          </FormSwitch>\n          <p className=\"mt-10 text-xs text-muted\">\n            <Trans\n              message=\"Connect your existing gmail acocunt using gmail API.\"\n              values={{siteName: site_name}}\n            />\n          </p>\n          <FormTextField\n            invalid={isInvalid}\n            name=\"client.incoming_email.gmail.topicName\"\n            minLength={10}\n            required={isEnabled}\n            label={<Trans message=\"Gmail topic name\" />}\n            description={<Trans message=\"Google cloud Pub/Sub topic name.\" />}\n            className=\"my-20\"\n            size=\"sm\"\n          />\n          <ConnectGmailPanel />\n        </Fragment>\n      )}\n    </SettingsErrorGroup>\n  );\n}\n\nfunction PipePanel() {\n  const {\n    branding: {site_name},\n  } = useSettings();\n  return (\n    <div>\n      <FormSwitch name=\"client.incoming_email.pipe.enabled\">\n        <Trans message=\"Enabled\" />\n      </FormSwitch>\n      <p className=\"mt-10 text-xs text-muted\">\n        <Trans\n          message=\"Pipe emails to :siteName from cpanel or another control panel used by your hosting provider.\"\n          values={{siteName: site_name}}\n        />\n      </p>\n      <LearnMoreLink\n        className=\"mt-12 text-sm\"\n        link=\"https://support.vebto.com/hc/articles/42/44/155/incoming-emails#piping\"\n      />\n    </div>\n  );\n}\n\nfunction ImapPanel() {\n  const {\n    branding: {site_name},\n  } = useSettings();\n  const {fields, append, remove, update} = useFieldArray<\n    AdminSettingsWithFiles,\n    'client.incoming_email.imap.connections',\n    'key'\n  >({\n    name: 'client.incoming_email.imap.connections',\n    keyName: 'key',\n  });\n\n  return (\n    <SettingsErrorGroup\n      name=\"imap_group\"\n      separatorBottom={false}\n      separatorTop={false}\n    >\n      {isInvalid => (\n        <Fragment>\n          <p className=\"mb-10 text-xs text-muted\">\n            <Trans\n              message=\"Connect your existing email accounts to :siteName using IMAP.\"\n              values={{siteName: site_name}}\n            />\n          </p>\n          <div className=\"mb-20 space-y-14\">\n            {fields.map((field, index) => (\n              <div\n                className={clsx(\n                  'flex items-center',\n                  isInvalid && 'text-danger',\n                )}\n                key={field.key}\n              >\n                <div className=\"mr-auto\">\n                  <div>{field.name}</div>\n                  <div className=\"text-xs text-muted\">{field.username}</div>\n                </div>\n                <DialogTrigger\n                  type=\"modal\"\n                  onClose={updatedConnection => {\n                    if (updatedConnection) {\n                      update(index, updatedConnection);\n                    }\n                  }}\n                >\n                  <Tooltip label={<Trans message=\"Edit\" />}>\n                    <IconButton size=\"sm\" className=\"text-muted\">\n                      <SettingsIcon />\n                    </IconButton>\n                  </Tooltip>\n                  <CrupdateImapConnectionDialog connection={field} />\n                </DialogTrigger>\n                <Tooltip label={<Trans message=\"Delete\" />}>\n                  <IconButton\n                    size=\"sm\"\n                    className=\"text-muted\"\n                    onClick={() => remove(index)}\n                  >\n                    <DeleteIcon />\n                  </IconButton>\n                </Tooltip>\n              </div>\n            ))}\n          </div>\n          <DialogTrigger\n            type=\"modal\"\n            onClose={connection => {\n              if (connection) {\n                append(connection);\n              }\n            }}\n          >\n            <Button\n              variant=\"outline\"\n              color=\"primary\"\n              startIcon={<AddIcon />}\n              size=\"xs\"\n            >\n              <Trans message=\"Add connection\" />\n            </Button>\n            <CrupdateImapConnectionDialog />\n          </DialogTrigger>\n          <LearnMoreLink\n            className=\"mt-20 text-sm\"\n            link=\"https://support.vebto.com/hc/articles/42/44/155/incoming-emails#imap\"\n          />\n        </Fragment>\n      )}\n    </SettingsErrorGroup>\n  );\n}\n\nfunction TicketRejectedNotification() {\n  const {watch} = useFormContext<AdminSettingsWithFiles>();\n  if (watch('client.tickets.create_from_emails')) return null;\n  return (\n    <FormSwitch\n      name=\"client.tickets.send_ticket_rejected_notification\"\n      className=\"mb-24\"\n      description={\n        <Trans message=\"Send a notification to customer, if their ticket has not been created, because ticket creation via email is disabled.\" />\n      }\n    >\n      <Trans message=\"Ticket rejected notification\" />\n    </FormSwitch>\n  );\n}\n\nfunction SendRepliesSwitch() {\n  const {watch} = useFormContext<AdminSettingsWithFiles>();\n  return (\n    <FormSwitch\n      name=\"client.replies.send_email\"\n      className=\"mb-24\"\n      disabled={!watch('server.mail_setup')}\n      description={\n        <Fragment>\n          <Trans message=\"When agent replies to ticket, send email to customer who created the ticket.\" />\n          <MailNotSetupWarning />\n        </Fragment>\n      }\n    >\n      <Trans message=\"Send replies via email\" />\n    </FormSwitch>\n  );\n}\n","import {RouteObject} from 'react-router-dom';\nimport {SearchSettings} from '@common/admin/settings/pages/search-settings/search-settings';\nimport {EnvatoSettings} from '@app/admin/settings/envato-settings/envato-settings';\nimport {HcSettings} from '@app/admin/settings/hc-settings/hc-settings';\nimport {IncomingEmailSettings} from '@app/admin/settings/incoming-email/incoming-email-settings';\n\nexport const AppSettingsRoutes: RouteObject[] = [\n  {\n    path: 'search',\n    element: <SearchSettings />,\n  },\n  {\n    path: 'envato',\n    element: <EnvatoSettings />,\n  },\n  {\n    path: 'hc',\n    element: <HcSettings />,\n  },\n  {\n    path: 'incoming-email',\n    element: <IncomingEmailSettings />,\n  },\n];\n","import {useController} from 'react-hook-form';\nimport React, {useMemo} from 'react';\nimport {mergeProps} from '@react-aria/utils';\nimport {\n  ChipField,\n  ChipValue,\n} from '../../ui/forms/input-field/chip-field/chip-field';\nimport {FormChipFieldProps} from '../../ui/forms/input-field/chip-field/form-chip-field';\n\nexport function JsonChipField({children, ...props}: FormChipFieldProps<any>) {\n  const {\n    field: {onChange, onBlur, value = [], ref},\n    fieldState: {invalid, error},\n  } = useController({\n    name: props.name,\n  });\n\n  const arrayValue = useMemo(() => {\n    const mixedValue = value as string | string[];\n    return typeof mixedValue === 'string' ? JSON.parse(mixedValue) : mixedValue;\n  }, [value]);\n\n  const formProps: Partial<FormChipFieldProps<ChipValue>> = {\n    onChange: newValue => {\n      const jsonValue = JSON.stringify(newValue.map(chip => chip.name));\n      onChange(jsonValue);\n    },\n    onBlur,\n    value: arrayValue,\n    invalid,\n    errorMessage: error?.message,\n  };\n\n  return <ChipField ref={ref} {...mergeProps(formProps, props)} />;\n}\n","import React, {\n  Children,\n  cloneElement,\n  ComponentPropsWithoutRef,\n  isValidElement,\n  ReactElement,\n  ReactNode,\n  useContext,\n  useRef,\n  useState,\n} from 'react';\nimport clsx from 'clsx';\nimport {useLayoutEffect} from '@react-aria/utils';\nimport {getFocusableTreeWalker} from '@react-aria/focus';\nimport {TabContext} from './tabs-context';\n\nexport interface TabPanelsProps {\n  children: ReactNode;\n  className?: string;\n}\nexport function TabPanels({children, className}: TabPanelsProps) {\n  const {selectedTab, isLazy} = useContext(TabContext);\n\n  // filter out falsy values, in case of conditional rendering\n  const panelArray = Children.toArray(children).filter(p => !!p);\n\n  let rendered: ReactNode;\n  if (isLazy) {\n    const el = panelArray[selectedTab] as ReactElement;\n    rendered = isValidElement(el)\n      ? cloneElement<TabPanelProps>(panelArray[selectedTab] as ReactElement, {\n          index: selectedTab,\n        })\n      : null;\n  } else {\n    rendered = panelArray.map((panel, index) => {\n      if (isValidElement<TabPanelsProps>(panel)) {\n        const isSelected = index === selectedTab;\n        return cloneElement<TabPanelProps>(panel, {\n          index,\n          'aria-hidden': !isSelected,\n          className: !isSelected\n            ? clsx(panel.props.className, 'hidden')\n            : panel.props.className,\n        });\n      }\n      return null;\n    });\n  }\n\n  return <div className={className}>{rendered}</div>;\n}\n\ninterface TabPanelProps extends ComponentPropsWithoutRef<'div'> {\n  className?: string;\n  children: ReactNode;\n  index?: number;\n}\nexport function TabPanel({\n  className,\n  children,\n  index,\n  ...domProps\n}: TabPanelProps) {\n  const {id} = useContext(TabContext);\n\n  const [tabIndex, setTabIndex] = useState<number | undefined>(0);\n  const ref = useRef<HTMLDivElement>(null);\n\n  // The tabpanel should have tabIndex=0 when there are no tabbable elements within it.\n  // Otherwise, tabbing from the focused tab should go directly to the first tabbable element\n  // within the tabpanel.\n  useLayoutEffect(() => {\n    if (ref?.current) {\n      const update = () => {\n        // Detect if there are any tabbable elements and update the tabIndex accordingly.\n        const walker = getFocusableTreeWalker(ref.current!, {tabbable: true});\n        setTabIndex(walker.nextNode() ? undefined : 0);\n      };\n\n      update();\n\n      // Update when new elements are inserted, or the tabIndex/disabled attribute updates.\n      const observer = new MutationObserver(update);\n      observer.observe(ref.current, {\n        subtree: true,\n        childList: true,\n        attributes: true,\n        attributeFilter: ['tabIndex', 'disabled'],\n      });\n\n      return () => {\n        observer.disconnect();\n      };\n    }\n  }, [ref]);\n\n  return (\n    <div\n      tabIndex={tabIndex}\n      ref={ref}\n      id={`${id}-${index}-tabpanel`}\n      aria-labelledby={`${id}-${index}-tab`}\n      className={clsx(className, 'focus-visible:outline-primary-light')}\n      role=\"tabpanel\"\n      {...domProps}\n    >\n      {children}\n    </div>\n  );\n}\n","import {useFormContext} from 'react-hook-form';\nimport {SettingsPanel} from '../settings-panel';\nimport {FormSwitch} from '../../../ui/forms/toggle/switch';\nimport {SettingsSeparator} from '../settings-separator';\nimport {LearnMoreLink} from '../learn-more-link';\nimport {AdminSettings} from '../admin-settings';\nimport {FormTextField} from '../../../ui/forms/input-field/text-field/text-field';\nimport {SettingsErrorGroup} from '../settings-error-group';\nimport {JsonChipField} from '../json-chip-field';\nimport {Tabs} from '../../../ui/tabs/tabs';\nimport {TabList} from '../../../ui/tabs/tab-list';\nimport {Tab} from '../../../ui/tabs/tab';\nimport {TabPanel, TabPanels} from '../../../ui/tabs/tab-panels';\nimport {Trans} from '../../../i18n/trans';\nimport {useTrans} from '../../../i18n/use-trans';\nimport {Fragment} from 'react';\n\nexport function SubscriptionSettings() {\n  const {trans} = useTrans();\n  return (\n    <SettingsPanel\n      title={<Trans message=\"Subscriptions\" />}\n      description={\n        <Trans message=\"Configure gateway integration, accepted cards, invoices and other related settings.\" />\n      }\n    >\n      <Tabs>\n        <TabList>\n          <Tab>\n            <Trans message=\"General\" />\n          </Tab>\n          <Tab>\n            <Trans message=\"Invoices\" />\n          </Tab>\n        </TabList>\n        <TabPanels className=\"pt-30\">\n          <TabPanel>\n            <FormSwitch\n              name=\"client.billing.enable\"\n              description={\n                <Trans message=\"Enable or disable all subscription related functionality across the site.\" />\n              }\n            >\n              <Trans message=\"Enable subscriptions\" />\n            </FormSwitch>\n            <SettingsSeparator />\n            <PaypalSection />\n            <StripeSection />\n            <SettingsSeparator />\n            <JsonChipField\n              label={<Trans message=\"Accepted cards\" />}\n              name=\"client.billing.accepted_cards\"\n              placeholder={trans({message: 'Add new card...'})}\n            />\n          </TabPanel>\n          <TabPanel>\n            <FormTextField\n              inputElementType=\"textarea\"\n              rows={5}\n              label={<Trans message=\"Invoice address\" />}\n              name=\"client.billing.invoice.address\"\n              className=\"mb-30\"\n            />\n            <FormTextField\n              inputElementType=\"textarea\"\n              rows={5}\n              label={<Trans message=\"Invoice notes\" />}\n              description={\n                <Trans message=\"Default notes to show under `notes` section of user invoice. Optional.\" />\n              }\n              name=\"client.billing.invoice.notes\"\n            />\n          </TabPanel>\n        </TabPanels>\n      </Tabs>\n    </SettingsPanel>\n  );\n}\n\nfunction PaypalSection() {\n  const {watch} = useFormContext<AdminSettings>();\n  const paypalIsEnabled = watch('client.billing.paypal.enable');\n  return (\n    <div className=\"mb-30\">\n      <FormSwitch\n        name=\"client.billing.paypal.enable\"\n        description={\n          <div>\n            <Trans message=\"Enable PayPal payment gateway integration.\" />\n            <LearnMoreLink\n              className=\"mt-6\"\n              link=\"https://support.vebto.com/help-center/articles/147/configuring-paypal\"\n            />\n          </div>\n        }\n      >\n        <Trans message=\"PayPal gateway\" />\n      </FormSwitch>\n      {paypalIsEnabled ? (\n        <SettingsErrorGroup name=\"paypal_group\">\n          {isInvalid => (\n            <Fragment>\n              <FormTextField\n                name=\"server.paypal_client_id\"\n                label={<Trans message=\"PayPal Client ID\" />}\n                required\n                invalid={isInvalid}\n                className=\"mb-20\"\n              />\n              <FormTextField\n                name=\"server.paypal_secret\"\n                label={<Trans message=\"PayPal Secret\" />}\n                required\n                invalid={isInvalid}\n                className=\"mb-20\"\n              />\n              <FormTextField\n                name=\"server.paypal_webhook_id\"\n                label={<Trans message=\"PayPal Webhook ID\" />}\n                required\n                invalid={isInvalid}\n                className=\"mb-20\"\n              />\n              <FormSwitch\n                name=\"client.billing.paypal_test_mode\"\n                invalid={isInvalid}\n                description={\n                  <div>\n                    <Trans message=\"Allows testing PayPal payments with sandbox accounts.\" />\n                  </div>\n                }\n              >\n                <Trans message=\"PayPal test mode\" />\n              </FormSwitch>\n            </Fragment>\n          )}\n        </SettingsErrorGroup>\n      ) : null}\n    </div>\n  );\n}\n\nfunction StripeSection() {\n  const {watch} = useFormContext<AdminSettings>();\n  const stripeEnabled = watch('client.billing.stripe.enable');\n  return (\n    <Fragment>\n      <FormSwitch\n        name=\"client.billing.stripe.enable\"\n        description={\n          <div>\n            <Trans message=\"Enable Stripe payment gateway integration.\" />\n            <LearnMoreLink\n              className=\"mt-6\"\n              link=\"https://support.vebto.com/help-center/articles/148/configuring-stripe\"\n            />\n          </div>\n        }\n      >\n        <Trans message=\"Stripe gateway\" />\n      </FormSwitch>\n      {stripeEnabled ? (\n        <SettingsErrorGroup name=\"stripe_group\" separatorBottom={false}>\n          {isInvalid => (\n            <Fragment>\n              <FormTextField\n                name=\"server.stripe_key\"\n                label={<Trans message=\"Stripe publishable key\" />}\n                required\n                className=\"mb-20\"\n                invalid={isInvalid}\n              />\n              <FormTextField\n                name=\"server.stripe_secret\"\n                label={<Trans message=\"Stripe secret key\" />}\n                required\n                className=\"mb-20\"\n                invalid={isInvalid}\n              />\n              <FormTextField\n                name=\"server.stripe_webhook_secret\"\n                label={<Trans message=\"Stripe webhook signing secret\" />}\n                className=\"mb-20\"\n                invalid={isInvalid}\n              />\n            </Fragment>\n          )}\n        </SettingsErrorGroup>\n      ) : null}\n    </Fragment>\n  );\n}\n","import {FormSelect, Option} from '../../../ui/forms/select/select';\nimport {SettingsPanel} from '../settings-panel';\nimport {useValueLists} from '../../../http/value-lists';\nimport {Section} from '../../../ui/forms/listbox/section';\nimport {FormRadio} from '../../../ui/forms/radio-group/radio';\nimport {FormRadioGroup} from '../../../ui/forms/radio-group/radio-group';\nimport {DateFormatPresets, FormattedDate} from '../../../i18n/formatted-date';\nimport {FormSwitch} from '../../../ui/forms/toggle/switch';\nimport {Trans} from '../../../i18n/trans';\nimport {useCurrentDateTime} from '../../../i18n/use-current-date-time';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {message} from '@common/i18n/message';\n\nexport function LocalizationSettings() {\n  const {data} = useValueLists(['timezones', 'localizations']);\n  const today = useCurrentDateTime();\n  const {trans} = useTrans();\n  return (\n    <SettingsPanel\n      title={<Trans message=\"Localization\" />}\n      description={\n        <Trans message=\"Configure global date, time and language settings.\" />\n      }\n    >\n      <FormSelect\n        className=\"mb-30\"\n        required\n        name=\"client.dates.default_timezone\"\n        showSearchField\n        selectionMode=\"single\"\n        label={<Trans message=\"Default timezone\" />}\n        searchPlaceholder={trans(message('Search timezones'))}\n        description={\n          <Trans message=\"Which timezone should be selected by default for new users and guests.\" />\n        }\n      >\n        <Option key=\"auto\" value=\"auto\">\n          <Trans message=\"Auto\" />\n        </Option>\n        {Object.entries(data?.timezones || {}).map(([groupName, timezones]) => (\n          <Section key={groupName} label={groupName}>\n            {timezones.map(timezone => (\n              <Option key={timezone.value} value={timezone.value}>\n                {timezone.text}\n              </Option>\n            ))}\n          </Section>\n        ))}\n      </FormSelect>\n      <FormSelect\n        name=\"client.locale.default\"\n        className=\"mb-30\"\n        selectionMode=\"single\"\n        label={<Trans message=\"Default language\" />}\n        description={\n          <Trans message=\"Which localization should be selected by default for new users and guests.\" />\n        }\n      >\n        <Option key=\"auto\" value=\"auto\">\n          <Trans message=\"Auto\" />\n        </Option>\n        {(data?.localizations || []).map(locale => (\n          <Option key={locale.language} value={locale.language} capitalizeFirst>\n            {locale.name}\n          </Option>\n        ))}\n      </FormSelect>\n      <FormRadioGroup\n        required\n        className=\"mb-30\"\n        size=\"sm\"\n        name=\"client.dates.format\"\n        orientation=\"vertical\"\n        label={<Trans message=\"Date verbosity\" />}\n        description={\n          <Trans message=\"Default verbosity for all dates displayed across the site. Month/day order and separators will be adjusted automatically, based on user's locale.\" />\n        }\n      >\n        <FormRadio key=\"auto\" value=\"auto\">\n          <Trans message=\"Auto\" />\n        </FormRadio>\n        {Object.entries(DateFormatPresets).map(([format, options]) => (\n          <FormRadio key={format} value={format}>\n            <FormattedDate date={today} options={options} />\n          </FormRadio>\n        ))}\n      </FormRadioGroup>\n      <FormSwitch\n        name=\"client.i18n.enable\"\n        description={\n          <Trans message=\"If disabled, site will always be shown in default language and user will not be able to change their locale.\" />\n        }\n      >\n        <Trans message=\"Enable translations\" />\n      </FormSwitch>\n    </SettingsPanel>\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {apiClient} from '@common/http/query-client';\n\nexport interface FetchMaxServerUploadSizeResponse extends BackendResponse {\n  maxSize: string;\n}\n\nfunction fetchMaxServerUploadSize(): Promise<FetchMaxServerUploadSizeResponse> {\n  return apiClient\n    .get('uploads/server-max-file-size')\n    .then(response => response.data);\n}\n\nexport function useMaxServerUploadSize() {\n  return useQuery({\n    queryKey: ['MaxServerUploadSize'],\n    queryFn: () => fetchMaxServerUploadSize(),\n  });\n}\n","export const spaceUnits = ['B', 'KB', 'MB', 'GB', 'TB', 'PB'];\n","export type SpaceUnit = 'KB' | 'MB' | 'GB' | 'TB' | 'PB';\n\nexport function convertToBytes(value: number, unit: SpaceUnit): number {\n  if (value == null) return 0;\n  switch (unit) {\n    case 'KB':\n      return value * 1024;\n    case 'MB':\n      return value * 1024 ** 2;\n    case 'GB':\n      return value * 1024 ** 3;\n    case 'TB':\n      return value * 1024 ** 4;\n    case 'PB':\n      return value * 1024 ** 5;\n    default:\n      return value;\n  }\n}\n","import {useController} from 'react-hook-form';\nimport {mergeProps} from '@react-aria/utils';\nimport React, {useEffect, useState} from 'react';\nimport memoize from 'nano-memoize';\nimport {\n  FormTextFieldProps,\n  TextField,\n  TextFieldProps,\n} from './text-field/text-field';\nimport {prettyBytes} from '../../../uploads/utils/pretty-bytes';\nimport {Option, Select} from '../select/select';\nimport {spaceUnits} from '../../../uploads/utils/space-units';\nimport {\n  convertToBytes,\n  SpaceUnit,\n} from '../../../uploads/utils/convert-to-bytes';\n\n// 99TB\nconst MaxValue = 108851651149824;\n\nexport const FormFileSizeField = React.forwardRef<\n  HTMLDivElement,\n  FormTextFieldProps\n>(({name, ...props}, ref) => {\n  const {\n    field: {\n      onChange: setByteValue,\n      onBlur,\n      value: byteValue = '',\n      ref: inputRef,\n    },\n    fieldState: {invalid, error},\n  } = useController({\n    name,\n  });\n\n  const [liveValue, setLiveValue] = useState<number | string>('');\n  const [unit, setUnit] = useState<SpaceUnit | string>('MB');\n\n  useEffect(() => {\n    if (byteValue == null || byteValue === '') {\n      setLiveValue('');\n      return;\n    }\n    const {amount, unit: newUnit} = fromBytes({\n      bytes: Math.min(byteValue, MaxValue),\n    });\n    setUnit(newUnit || 'MB');\n    setLiveValue(Number.isNaN(amount) ? '' : amount);\n  }, [byteValue, unit]);\n\n  const formProps: TextFieldProps = {\n    onChange: e => {\n      const value = parseInt(e.target.value);\n      if (Number.isNaN(value)) {\n        setByteValue(value);\n      } else {\n        const newBytes = convertToBytes(\n          parseInt(e.target.value),\n          unit as SpaceUnit\n        );\n        setByteValue(newBytes);\n      }\n    },\n    onBlur,\n    value: liveValue,\n    invalid,\n    errorMessage: error?.message,\n    inputRef,\n  };\n\n  const unitSelect = (\n    <Select\n      minWidth=\"min-w-80\"\n      selectionMode=\"single\"\n      selectedValue={unit}\n      disabled={!byteValue}\n      onSelectionChange={newUnit => {\n        const newBytes = convertToBytes(\n          (liveValue || 0) as number,\n          newUnit as SpaceUnit\n        );\n        setByteValue(newBytes);\n      }}\n    >\n      {spaceUnits.slice(0, 5).map(u => (\n        <Option value={u} key={u}>\n          {u === 'B' ? 'Bytes' : u}\n        </Option>\n      ))}\n    </Select>\n  );\n\n  return (\n    <TextField\n      {...mergeProps(formProps, props)}\n      type=\"number\"\n      ref={ref}\n      endAppend={unitSelect}\n    />\n  );\n});\n\nconst fromBytes = memoize(\n  ({bytes}: {bytes: number}): {amount: number | string; unit: SpaceUnit} => {\n    const pretty = prettyBytes(bytes);\n    if (!pretty) return {amount: '', unit: 'MB'};\n    let amount = parseInt(pretty.split(' ')[0]);\n    // get rid of any punctuation\n    amount = Math.round(amount);\n    return {amount, unit: pretty.split(' ')[1] as SpaceUnit};\n  }\n);\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient} from '../../../../http/query-client';\nimport {useTrans} from '../../../../i18n/use-trans';\nimport {BackendResponse} from '../../../../http/backend-response/backend-response';\nimport {showHttpErrorToast} from '../../../../utils/http/show-http-error-toast';\nimport {message} from '../../../../i18n/message';\nimport {toast} from '../../../../ui/toast/toast';\n\ninterface Response extends BackendResponse {}\n\nexport function useUploadS3Cors() {\n  const {trans} = useTrans();\n  return useMutation({\n    mutationFn: () => uploadCors(),\n    onSuccess: () => {\n      toast(trans(message('CORS file updated')));\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction uploadCors(): Promise<Response> {\n  return apiClient.post('s3/cors/upload').then(r => r.data);\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient} from '../../../../../http/query-client';\nimport {BackendResponse} from '../../../../../http/backend-response/backend-response';\nimport {showHttpErrorToast} from '../../../../../utils/http/show-http-error-toast';\n\ninterface Response extends BackendResponse {\n  refreshToken: string;\n}\n\ninterface Payload {\n  app_key: string;\n  app_secret: string;\n  access_code: string;\n}\n\nexport function useGenerateDropboxRefreshToken() {\n  return useMutation({\n    mutationFn: (props: Payload) => generateToken(props),\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction generateToken(payload: Payload): Promise<Response> {\n  return apiClient\n    .post('settings/uploading/dropbox-refresh-token', payload)\n    .then(r => r.data);\n}\n","import {Fragment} from 'react';\nimport {FormTextField} from '../../../../../ui/forms/input-field/text-field/text-field';\nimport {Trans} from '../../../../../i18n/trans';\nimport {CredentialFormProps} from '../uploading-settings';\nimport {Button} from '../../../../../ui/buttons/button';\nimport {Dialog} from '../../../../../ui/overlays/dialog/dialog';\nimport {DialogHeader} from '../../../../../ui/overlays/dialog/dialog-header';\nimport {DialogBody} from '../../../../../ui/overlays/dialog/dialog-body';\nimport {useForm, useFormContext} from 'react-hook-form';\nimport {Form} from '../../../../../ui/forms/form';\nimport {DialogTrigger} from '../../../../../ui/overlays/dialog/dialog-trigger';\nimport {AdminSettings} from '../../../admin-settings';\nimport {DialogFooter} from '../../../../../ui/overlays/dialog/dialog-footer';\nimport {useDialogContext} from '../../../../../ui/overlays/dialog/dialog-context';\nimport {useGenerateDropboxRefreshToken} from './use-generate-dropbox-refresh-token';\n\nexport function DropboxForm({isInvalid}: CredentialFormProps) {\n  const {watch, setValue} = useFormContext<AdminSettings>();\n  const appKey = watch('server.storage_dropbox_app_key');\n  const appSecret = watch('server.storage_dropbox_app_secret');\n\n  return (\n    <Fragment>\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-20\"\n        name=\"server.storage_dropbox_app_key\"\n        label={<Trans message=\"Dropbox application key\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-20\"\n        name=\"server.storage_dropbox_app_secret\"\n        label={<Trans message=\"Dropbox application secret\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-20\"\n        name=\"server.storage_dropbox_refresh_token\"\n        label={<Trans message=\"Dropbox refresh token\" />}\n        required\n      />\n      <DialogTrigger\n        type=\"modal\"\n        onClose={refreshToken => {\n          if (refreshToken) {\n            setValue('server.storage_dropbox_refresh_token', refreshToken);\n          }\n        }}\n      >\n        <Button\n          variant=\"outline\"\n          color=\"primary\"\n          size=\"xs\"\n          disabled={!appKey || !appSecret}\n        >\n          <Trans message=\"Get dropbox refresh token\" />\n        </Button>\n        <DropboxRefreshTokenDialog appKey={appKey!} appSecret={appSecret!} />\n      </DialogTrigger>\n    </Fragment>\n  );\n}\n\ninterface DropboxRefreshTokenDialogProps {\n  appKey: string;\n  appSecret: string;\n}\nfunction DropboxRefreshTokenDialog({\n  appKey,\n  appSecret,\n}: DropboxRefreshTokenDialogProps) {\n  const form = useForm<{accessCode: string}>();\n  const {formId, close} = useDialogContext();\n  const generateRefreshToken = useGenerateDropboxRefreshToken();\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Connected dropbox account\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          id={formId}\n          form={form}\n          onSubmit={data => {\n            generateRefreshToken.mutate(\n              {\n                app_key: appKey,\n                app_secret: appSecret,\n                access_code: data.accessCode,\n              },\n              {\n                onSuccess: response => {\n                  close(response.refreshToken);\n                },\n              },\n            );\n          }}\n        >\n          <div className=\"mb-20 pb-20 border-b\">\n            <div className=\"text-muted text-sm mb-10\">\n              <Trans message=\"Click the 'get access code' button to get dropbox access code, then paste it into the field below.\" />\n            </div>\n            <Button\n              variant=\"outline\"\n              color=\"primary\"\n              size=\"xs\"\n              elementType=\"a\"\n              target=\"_blank\"\n              href={`https://www.dropbox.com/oauth2/authorize?client_id=${appKey}&token_access_type=offline&response_type=code`}\n            >\n              <Trans message=\"Get access code\" />\n            </Button>\n          </div>\n          <FormTextField\n            name=\"accessCode\"\n            label={<Trans message=\"Dropbox access code\" />}\n            required\n          />\n        </Form>\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          form={formId}\n          type=\"submit\"\n          disabled={!appKey || !appSecret || generateRefreshToken.isPending}\n        >\n          <Trans message=\"Connect\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {useFormContext} from 'react-hook-form';\nimport {SettingsPanel} from '../../settings-panel';\nimport {FormSelect, Option} from '../../../../ui/forms/select/select';\nimport {AdminSettings} from '../../admin-settings';\nimport {SettingsErrorGroup} from '../../settings-error-group';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {FormSwitch} from '@common/ui/forms/toggle/switch';\nimport {FormRadioGroup} from '@common/ui/forms/radio-group/radio-group';\nimport {FormRadio} from '@common/ui/forms/radio-group/radio';\nimport {SectionHelper} from '@common/ui/section-helper';\nimport {useMaxServerUploadSize} from './max-server-upload-size';\nimport {SettingsSeparator} from '../../settings-separator';\nimport {JsonChipField} from '../../json-chip-field';\nimport {FormFileSizeField} from '@common/ui/forms/input-field/file-size-field';\nimport {Trans} from '@common/i18n/trans';\nimport {Fragment} from 'react';\nimport {useUploadS3Cors} from './use-upload-s3-cors';\nimport {Button} from '@common/ui/buttons/button';\nimport {DropboxForm} from './dropbox-form/dropbox-form';\nimport {useAdminSettings} from '../../requests/use-admin-settings';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {message} from '@common/i18n/message';\n\nexport function UploadingSettings() {\n  const {trans} = useTrans();\n  return (\n    <SettingsPanel\n      title={<Trans message=\"Uploading\" />}\n      description={\n        <Trans message=\"Configure size and type of files that users are able to upload. This will affect all uploads across the site.\" />\n      }\n    >\n      <PrivateUploadSection />\n      <PublicUploadSection />\n      <CredentialsSection />\n      <SettingsErrorGroup name=\"static_delivery_group\">\n        {isInvalid => (\n          <FormRadioGroup\n            invalid={isInvalid}\n            size=\"sm\"\n            name=\"server.static_file_delivery\"\n            orientation=\"vertical\"\n            label={<Trans message=\"File delivery optimization\" />}\n            description={\n              <Trans message=\"Both X-Sendfile and X-Accel need to be enabled on the server first. When enabled, it will reduce server memory and CPU usage when previewing or downloading files, especially for large files.\" />\n            }\n          >\n            <FormRadio value=\"\">\n              <Trans message=\"None\" />\n            </FormRadio>\n            <FormRadio value=\"xsendfile\">\n              <Trans message=\"X-Sendfile (Apache)\" />\n            </FormRadio>\n            <FormRadio value=\"xaccel\">\n              <Trans message=\"X-Accel (Nginx)\" />\n            </FormRadio>\n          </FormRadioGroup>\n        )}\n      </SettingsErrorGroup>\n      <FormFileSizeField\n        className=\"mb-30\"\n        name=\"client.uploads.chunk_size\"\n        min={1}\n        label={<Trans message=\"Chunk size\" />}\n        placeholder=\"Infinity\"\n        description={\n          <Trans message=\"Size (in bytes) for each file chunk. It should only be changed if there is a maximum upload size on your server or proxy (for example cloudflare). If chunk size is larger then limit on the server, uploads will fail.\" />\n        }\n      />\n      <MaxUploadSizeSection />\n      <SettingsSeparator />\n      <FormFileSizeField\n        min={1}\n        name=\"client.uploads.max_size\"\n        className=\"mb-30\"\n        label={<Trans message=\"Maximum file size\" />}\n        description={\n          <Trans message=\"Maximum size (in bytes) for a single file user can upload.\" />\n        }\n      />\n      <FormFileSizeField\n        min={1}\n        name=\"client.uploads.available_space\"\n        className=\"mb-30\"\n        label={<Trans message=\"Available space\" />}\n        description={\n          <Trans message=\"Disk space (in bytes) each user uploads are allowed to take up. This can be overridden per user.\" />\n        }\n      />\n      <JsonChipField\n        name=\"client.uploads.allowed_extensions\"\n        className=\"mb-30\"\n        label={<Trans message=\"Allowed extensions\" />}\n        placeholder={trans(message('Add extension...'))}\n        description={\n          <Trans message=\"List of allowed file types (jpg, mp3, pdf etc.). Leave empty to allow all file types.\" />\n        }\n      />\n      <JsonChipField\n        name=\"client.uploads.blocked_extensions\"\n        label={<Trans message=\"Blocked extensions\" />}\n        placeholder={trans(message('Add extension...'))}\n        description={\n          <Trans message=\"Prevent uploading of these file types, even if they are allowed above.\" />\n        }\n      />\n    </SettingsPanel>\n  );\n}\n\nfunction MaxUploadSizeSection() {\n  const {data} = useMaxServerUploadSize();\n  return (\n    <SectionHelper\n      color=\"warning\"\n      description={\n        <Trans\n          message=\"Maximum upload size on your server currently is set to <b>:size</b>\"\n          values={{size: data?.maxSize, b: chunks => <b>{chunks}</b>}}\n        />\n      }\n    />\n  );\n}\n\nfunction PrivateUploadSection() {\n  const {watch, clearErrors} = useFormContext<AdminSettings>();\n  const isEnabled = watch('server.uploads_disk_driver');\n\n  if (!isEnabled) return null;\n\n  return (\n    <FormSelect\n      className=\"mb-30\"\n      selectionMode=\"single\"\n      name=\"server.uploads_disk_driver\"\n      label={<Trans message=\"User Uploads Storage Method\" />}\n      description={\n        <Trans message=\"Where should user private file uploads be stored.\" />\n      }\n      onSelectionChange={() => {\n        clearErrors();\n      }}\n    >\n      <Option value=\"local\">\n        <Trans message=\"Local Disk (Default)\" />\n      </Option>\n      <Option value=\"ftp\">FTP</Option>\n      <Option value=\"digitalocean_s3\">DigitalOcean Spaces</Option>\n      <Option value=\"backblaze_s3\">Backblaze</Option>\n      <Option value=\"s3\">Amazon S3 (Or compatible service)</Option>\n      <Option value=\"dropbox\">Dropbox</Option>\n      <Option value=\"rackspace\">Rackspace</Option>\n    </FormSelect>\n  );\n}\n\nfunction PublicUploadSection() {\n  const {watch, clearErrors} = useFormContext<AdminSettings>();\n  const isEnabled = watch('server.public_disk_driver');\n\n  if (!isEnabled) return null;\n\n  return (\n    <FormSelect\n      label={<Trans message=\"Public Uploads Storage Method\" />}\n      selectionMode=\"single\"\n      name=\"server.public_disk_driver\"\n      description={\n        <Trans message=\"Where should user public uploads (like avatars) be stored.\" />\n      }\n      onSelectionChange={() => {\n        clearErrors();\n      }}\n    >\n      <Option value=\"local\">\n        <Trans message=\"Local Disk (Default)\" />\n      </Option>\n      <Option value=\"s3\">Amazon S3</Option>\n      <Option value=\"ftp\">FTP</Option>\n      <Option value=\"digitalocean_s3\">DigitalOcean Spaces</Option>\n      <Option value=\"backblaze_s3\">Backblaze</Option>\n    </FormSelect>\n  );\n}\n\nfunction CredentialsSection() {\n  const {watch} = useFormContext<AdminSettings>();\n  const drives = [\n    watch('server.uploads_disk_driver'),\n    watch('server.public_disk_driver'),\n  ];\n\n  if (drives[0] === 'local' && drives[1] === 'local') {\n    return null;\n  }\n\n  return (\n    <SettingsErrorGroup separatorBottom={false} name=\"storage_group\">\n      {isInvalid => {\n        if (drives.includes('s3')) {\n          return <S3Form isInvalid={isInvalid} />;\n        }\n        if (drives.includes('ftp')) {\n          return <FtpForm isInvalid={isInvalid} />;\n        }\n        if (drives.includes('dropbox')) {\n          return <DropboxForm isInvalid={isInvalid} />;\n        }\n        if (drives.includes('digitalocean_s3')) {\n          return <DigitalOceanForm isInvalid={isInvalid} />;\n        }\n        if (drives.includes('backblaze_s3')) {\n          return <BackblazeForm isInvalid={isInvalid} />;\n        }\n      }}\n    </SettingsErrorGroup>\n  );\n}\n\nexport interface CredentialFormProps {\n  isInvalid: boolean;\n}\nfunction S3Form({isInvalid}: CredentialFormProps) {\n  return (\n    <Fragment>\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.storage_s3_key\"\n        label={<Trans message=\"Amazon S3 key\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.storage_s3_secret\"\n        label={<Trans message=\"Amazon S3 secret\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.storage_s3_region\"\n        label={<Trans message=\"Amazon S3 region\" />}\n        pattern=\"[a-z1-9\\-]+\"\n        placeholder=\"us-east-1\"\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.storage_s3_bucket\"\n        label={<Trans message=\"Amazon S3 bucket\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        name=\"server.storage_s3_endpoint\"\n        label={<Trans message=\"Amazon S3 endpoint\" />}\n        description={\n          <Trans message=\"Only change endpoint if you are using another S3 compatible storage service.\" />\n        }\n      />\n      <S3DirectUploadField invalid={isInvalid} />\n    </Fragment>\n  );\n}\n\nfunction DigitalOceanForm({isInvalid}: CredentialFormProps) {\n  return (\n    <Fragment>\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.storage_digitalocean_key\"\n        label={<Trans message=\"DigitalOcean key\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.storage_digitalocean_secret\"\n        label={<Trans message=\"DigitalOcean secret\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.storage_digitalocean_region\"\n        label={<Trans message=\"DigitalOcean region\" />}\n        pattern=\"[a-z0-9\\-]+\"\n        placeholder=\"us-east-1\"\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.storage_digitalocean_bucket\"\n        label={<Trans message=\"DigitalOcean bucket\" />}\n        required\n      />\n      <S3DirectUploadField invalid={isInvalid} />\n    </Fragment>\n  );\n}\n\nfunction BackblazeForm({isInvalid}: CredentialFormProps) {\n  return (\n    <Fragment>\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.storage_backblaze_key\"\n        label={<Trans message=\"Backblaze KeyID\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.storage_backblaze_secret\"\n        label={<Trans message=\"Backblaze applicationKey\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.storage_backblaze_region\"\n        label={<Trans message=\"Backblaze Region\" />}\n        pattern=\"[a-z0-9\\-]+\"\n        placeholder=\"us-west-002\"\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.storage_backblaze_bucket\"\n        label={<Trans message=\"Backblaze bucket name\" />}\n        required\n      />\n      <S3DirectUploadField invalid={isInvalid} />\n    </Fragment>\n  );\n}\n\ninterface S3DirectUploadFieldProps {\n  invalid: boolean;\n}\nfunction S3DirectUploadField({invalid}: S3DirectUploadFieldProps) {\n  const uploadCors = useUploadS3Cors();\n  const {data: defaultSettings} = useAdminSettings();\n\n  const s3DriverEnabled =\n    defaultSettings?.server.uploads_disk_driver?.endsWith('s3') ||\n    defaultSettings?.server.public_disk_driver?.endsWith('s3');\n\n  return (\n    <Fragment>\n      <FormSwitch\n        className=\"mt-30\"\n        invalid={invalid}\n        name=\"client.uploads.s3_direct_upload\"\n        description={\n          <div>\n            <p>\n              <Trans message=\"Upload files directly from the browser to s3 without going through the server. It will save on server bandwidth and should result in faster upload times. This should be enabled, unless storage provider does not support multipart uploads.\" />\n            </p>\n            <p className=\"mt-10\">\n              <Trans message=\"If s3 provider is not configured to allow uploads from browser, this can be done automatically via CORS button below, when valid credentials are saved.\" />\n            </p>\n          </div>\n        }\n      >\n        <Trans message=\"Direct upload\" />\n      </FormSwitch>\n      <Button\n        variant=\"flat\"\n        color=\"primary\"\n        size=\"xs\"\n        className=\"mt-20\"\n        onClick={() => {\n          uploadCors.mutate();\n        }}\n        disabled={!s3DriverEnabled || uploadCors.isPending}\n      >\n        <Trans message=\"Configure CORS\" />\n      </Button>\n    </Fragment>\n  );\n}\n\nfunction FtpForm({isInvalid}: CredentialFormProps) {\n  return (\n    <>\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.storage_ftp_host\"\n        label={<Trans message=\"FTP hostname\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.storage_ftp_username\"\n        label={<Trans message=\"FTP username\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.storage_ftp_password\"\n        label={<Trans message=\"FTP password\" />}\n        type=\"password\"\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.storage_ftp_root\"\n        label={<Trans message=\"FTP directory\" />}\n        placeholder=\"/\"\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.storage_ftp_port\"\n        label={<Trans message=\"FTP port\" />}\n        type=\"number\"\n        min={0}\n        placeholder=\"21\"\n      />\n      <FormSwitch\n        invalid={isInvalid}\n        name=\"server.storage_ftp_passive\"\n        className=\"mb-30\"\n      >\n        <Trans message=\"Passive\" />\n      </FormSwitch>\n      <FormSwitch invalid={isInvalid} name=\"server.storage_ftp_ssl\">\n        <Trans message=\"SSL\" />\n      </FormSwitch>\n    </>\n  );\n}\n","import {Fragment} from 'react';\nimport {FormTextField} from '../../../../ui/forms/input-field/text-field/text-field';\nimport {Trans} from '../../../../i18n/trans';\n\nexport interface MailgunCredentialsProps {\n  isInvalid: boolean;\n}\nexport function MailgunCredentials({isInvalid}: MailgunCredentialsProps) {\n  return (\n    <Fragment>\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.mailgun_domain\"\n        label={<Trans message=\"Mailgun domain\" />}\n        description={\n          <Trans message=\"Usually the domain of your site (site.com)\" />\n        }\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.mailgun_secret\"\n        label={<Trans message=\"Mailgun API key\" />}\n        description={<Trans message=\"Should start with `key-`\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        name=\"server.mailgun_endpoint\"\n        label={<Trans message=\"Mailgun endpoint\" />}\n        description={\n          <Trans message=\"Can be left empty, if your mailgun account is in the US region.\" />\n        }\n        placeholder=\"api.eu.mailgun.net\"\n      />\n    </Fragment>\n  );\n}\n","import {FormTextField} from '../../../../ui/forms/input-field/text-field/text-field';\nimport {Trans} from '../../../../i18n/trans';\n\nexport interface SmtpCredentialsProps {\n  isInvalid: boolean;\n}\nexport function SmtpCredentials({isInvalid}: SmtpCredentialsProps) {\n  return (\n    <>\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.mail_host\"\n        label={<Trans message=\"SMTP host\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.mail_username\"\n        label={<Trans message=\"SMTP username\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        type=\"password\"\n        name=\"server.mail_password\"\n        label={<Trans message=\"SMTP password\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        type=\"number\"\n        name=\"server.mail_port\"\n        label={<Trans message=\"SMTP port\" />}\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.mail_encryption\"\n        label={<Trans message=\"SMTP encryption\" />}\n      />\n    </>\n  );\n}\n","import {FormTextField} from '../../../../ui/forms/input-field/text-field/text-field';\nimport {Trans} from '../../../../i18n/trans';\nimport {Fragment} from 'react';\n\nexport interface SesCredentialsProps {\n  isInvalid: boolean;\n}\nexport function SesCredentials({isInvalid}: SesCredentialsProps) {\n  return (\n    <Fragment>\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.ses_key\"\n        label={<Trans message=\"SES key\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.ses_secret\"\n        label={<Trans message=\"SES secret\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        name=\"server.ses_region\"\n        label={<Trans message=\"SES region\" />}\n        placeholder=\"us-east-1\"\n        required\n      />\n    </Fragment>\n  );\n}\n","import {FormTextField} from '../../../../ui/forms/input-field/text-field/text-field';\nimport {Trans} from '../../../../i18n/trans';\n\nexport interface PostmarkCredentialsProps {\n  isInvalid: boolean;\n}\nexport function PostmarkCredentials({isInvalid}: PostmarkCredentialsProps) {\n  return (\n    <FormTextField\n      invalid={isInvalid}\n      name=\"server.postmark_token\"\n      label={<Trans message=\"Postmark token\" />}\n      required\n    />\n  );\n}\n","import {useFormContext} from 'react-hook-form';\nimport {AdminSettings} from '../../admin-settings';\nimport {ComponentType, Fragment} from 'react';\nimport {MailgunCredentials} from './mailgun-credentials';\nimport {SmtpCredentials} from './smtp-credentials';\nimport {SesCredentials} from './ses-credentials';\nimport {PostmarkCredentials} from './postmark-credentials';\nimport {ConnectGmailPanel} from './connect-gmail-panel';\nimport {SettingsErrorGroup} from '../../settings-error-group';\nimport {FormSelect, Option} from '../../../../ui/forms/select/select';\nimport {Trans} from '../../../../i18n/trans';\nimport {LearnMoreLink} from '../../learn-more-link';\n\nexport function OutgoingMailGroup() {\n  const {watch, clearErrors} = useFormContext<AdminSettings>();\n\n  const selectedDriver = watch('server.mail_driver');\n  const credentialForms: ComponentType<{isInvalid: boolean}>[] = [];\n\n  if (selectedDriver === 'mailgun') {\n    credentialForms.push(MailgunCredentials);\n  }\n  if (selectedDriver === 'smtp') {\n    credentialForms.push(SmtpCredentials);\n  }\n  if (selectedDriver === 'ses') {\n    credentialForms.push(SesCredentials);\n  }\n  if (selectedDriver === 'postmark') {\n    credentialForms.push(PostmarkCredentials);\n  }\n  if (selectedDriver === 'gmailApi') {\n    credentialForms.push(ConnectGmailPanel);\n  }\n\n  return (\n    <SettingsErrorGroup\n      separatorTop={false}\n      separatorBottom={false}\n      name=\"mail_group\"\n    >\n      {isInvalid => (\n        <Fragment>\n          <FormSelect\n            onSelectionChange={() => {\n              clearErrors();\n            }}\n            invalid={isInvalid}\n            selectionMode=\"single\"\n            name=\"server.mail_driver\"\n            label={<Trans message=\"Outgoing mail method\" />}\n            description={\n              <div>\n                <Trans message=\"Which method should be used for sending outgoing application emails (like registration confirmation)\" />\n                <LearnMoreLink\n                  className=\"mt-8\"\n                  link=\"https://support.vebto.com/help-center/articles/42/44/155/incoming-emails\"\n                />\n              </div>\n            }\n          >\n            <Option value=\"mailgun\">Mailgun</Option>\n            <Option value=\"gmailApi\">Gmail Api</Option>\n            <Option value=\"smtp\">SMTP</Option>\n            <Option value=\"postmark\">Postmark</Option>\n            <Option value=\"ses\">Ses (Amazon Simple Email Service)</Option>\n            <Option value=\"sendmail\">SendMail</Option>\n            <Option value=\"log\">Log (Email will be saved to error log)</Option>\n          </FormSelect>\n          {credentialForms.length ? (\n            <div className=\"mt-30\">\n              {credentialForms.map((CredentialsForm, index) => (\n                <CredentialsForm key={index} isInvalid={isInvalid} />\n              ))}\n            </div>\n          ) : null}\n        </Fragment>\n      )}\n    </SettingsErrorGroup>\n  );\n}\n","import {SettingsPanel} from '../../settings-panel';\nimport {FormTextField} from '../../../../ui/forms/input-field/text-field/text-field';\nimport {ExternalLink} from '../../../../ui/buttons/external-link';\nimport {SectionHelper} from '../../../../ui/section-helper';\nimport {SettingsSeparator} from '../../settings-separator';\nimport {Trans} from '../../../../i18n/trans';\nimport {OutgoingMailGroup} from './outgoing-mail-group';\nimport {useSettings} from '../../../../core/settings/use-settings';\n\nexport function OutgoingEmailSettings() {\n  return (\n    <SettingsPanel\n      title={<Trans message=\"Outgoing email settings\" />}\n      description={\n        <Trans message=\"Change outgoing email handlers, email credentials and other related settings.\" />\n      }\n    >\n      <FormTextField\n        id=\"outgoing-emails\"\n        className=\"mb-30\"\n        type=\"email\"\n        name=\"server.mail_from_address\"\n        label={<Trans message=\"From address\" />}\n        description={\n          <Trans message=\"All outgoing application emails will be sent from this email address.\" />\n        }\n        required\n      />\n      <ContactAddressSection />\n      <FormTextField\n        className=\"mb-30\"\n        name=\"server.mail_from_name\"\n        label={<Trans message=\"From name\" />}\n        description={\n          <Trans message=\"All outgoing application emails will be sent using this name.\" />\n        }\n        required\n      />\n      <SectionHelper\n        color=\"warning\"\n        description={\n          <Trans message=\"Your selected mail method must be authorized to send emails using this address and name.\" />\n        }\n      />\n      <SettingsSeparator />\n      <OutgoingMailGroup />\n    </SettingsPanel>\n  );\n}\n\nfunction ContactAddressSection() {\n  const {base_url} = useSettings();\n  const contactPageUrl = `${base_url}/contact`;\n  const link = (\n    <ExternalLink href={contactPageUrl}>{contactPageUrl}</ExternalLink>\n  );\n  return (\n    <FormTextField\n      className=\"mb-30\"\n      type=\"email\"\n      name=\"client.mail.contact_page_address\"\n      label={<Trans message=\"Contact page address\" />}\n      description={\n        <Trans\n          values={{\n            contactPageUrl: link,\n          }}\n          message=\"Where emails from :contactPageUrl page should be sent to.\"\n        />\n      }\n    />\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {toast} from '../../../../ui/toast/toast';\nimport {BackendResponse} from '../../../../http/backend-response/backend-response';\nimport {message} from '../../../../i18n/message';\nimport {apiClient} from '../../../../http/query-client';\nimport {showHttpErrorToast} from '../../../../utils/http/show-http-error-toast';\n\ninterface Response extends BackendResponse {}\n\nfunction clearCache(): Promise<Response> {\n  return apiClient.post('cache/flush').then(r => r.data);\n}\n\nexport function useClearCache() {\n  return useMutation({\n    mutationFn: () => clearCache(),\n    onSuccess: () => {\n      toast(message('Cache cleared'));\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n","import {useFormContext} from 'react-hook-form';\nimport {ComponentType} from 'react';\nimport {SettingsPanel} from '../../settings-panel';\nimport {FormSelect, Option} from '../../../../ui/forms/select/select';\nimport {SettingsErrorGroup} from '../../settings-error-group';\nimport {FormTextField} from '../../../../ui/forms/input-field/text-field/text-field';\nimport {AdminSettings} from '../../admin-settings';\nimport {useClearCache} from './clear-cache';\nimport {Button} from '../../../../ui/buttons/button';\nimport {SectionHelper} from '../../../../ui/section-helper';\nimport {Trans} from '../../../../i18n/trans';\n\nexport function CacheSettings() {\n  const clearCache = useClearCache();\n  return (\n    <SettingsPanel\n      title={<Trans message=\"Cache settings\" />}\n      description={\n        <Trans message=\"Select cache provider and manually clear cache.\" />\n      }\n    >\n      <CacheSelect />\n      <Button\n        type=\"button\"\n        variant=\"outline\"\n        size=\"xs\"\n        color=\"primary\"\n        disabled={clearCache.isPending}\n        onClick={() => {\n          clearCache.mutate();\n        }}\n      >\n        <Trans message=\"Clear cache\" />\n      </Button>\n      <SectionHelper\n        color=\"warning\"\n        className=\"mt-30\"\n        description={\n          <Trans\n            message={\n              '\"File\" is the best option for most cases and should not be changed, unless you are familiar with another cache method and have it set up on the server already.'\n            }\n          />\n        }\n      />\n    </SettingsPanel>\n  );\n}\n\nfunction CacheSelect() {\n  const {watch, clearErrors} = useFormContext<AdminSettings>();\n  const cacheDriver = watch('server.cache_driver');\n\n  let CredentialSection: ComponentType<CredentialProps> | null = null;\n  if (cacheDriver === 'memcached') {\n    CredentialSection = MemcachedCredentials;\n  }\n\n  return (\n    <SettingsErrorGroup separatorTop={false} name=\"cache_group\">\n      {isInvalid => {\n        return (\n          <>\n            <FormSelect\n              invalid={isInvalid}\n              onSelectionChange={() => {\n                clearErrors();\n              }}\n              selectionMode=\"single\"\n              name=\"server.cache_driver\"\n              label={<Trans message=\"Cache method\" />}\n              description={\n                <Trans message=\"Which method should be used for storing and retrieving cached items.\" />\n              }\n            >\n              <Option value=\"file\">\n                <Trans message=\"File (Default)\" />\n              </Option>\n              <Option value=\"array\">\n                <Trans message=\"None\" />\n              </Option>\n              <Option value=\"apc\">APC</Option>\n              <Option value=\"memcached\">Memcached</Option>\n              <Option value=\"redis\">Redis</Option>\n            </FormSelect>\n            {CredentialSection && (\n              <div className=\"mt-30\">\n                <CredentialSection isInvalid={isInvalid} />\n              </div>\n            )}\n          </>\n        );\n      }}\n    </SettingsErrorGroup>\n  );\n}\n\ninterface CredentialProps {\n  isInvalid: boolean;\n}\nfunction MemcachedCredentials({isInvalid}: CredentialProps) {\n  return (\n    <>\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.memcached_host\"\n        label={<Trans message=\"Memcached host\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        type=\"number\"\n        name=\"server.memcached_port\"\n        label={<Trans message=\"Memcached port\" />}\n        required\n      />\n    </>\n  );\n}\n","import {useFormContext} from 'react-hook-form';\nimport {SettingsPanel} from '@common/admin/settings/settings-panel';\nimport {SettingsErrorGroup} from '@common/admin/settings/settings-error-group';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {SectionHelper} from '@common/ui/section-helper';\nimport {ExternalLink} from '@common/ui/buttons/external-link';\nimport {Trans} from '@common/i18n/trans';\n\nexport function LoggingSettings() {\n  return (\n    <SettingsPanel\n      title={<Trans message=\"Error logging\" />}\n      description={\n        <Trans message=\"Configure site error logging and related 3rd party integrations.\" />\n      }\n    >\n      <SentrySection />\n      <SectionHelper\n        className=\"mt-30\"\n        color=\"positive\"\n        description={\n          <Trans\n            values={{\n              a: parts => (\n                <ExternalLink href=\"https://sentry.io\">{parts}</ExternalLink>\n              ),\n            }}\n            message=\"<a>Sentry</a> integration provides real-time error tracking and helps identify and fix issues when site is in production.\"\n          />\n        }\n      />\n    </SettingsPanel>\n  );\n}\n\nfunction SentrySection() {\n  const {clearErrors} = useFormContext();\n  return (\n    <SettingsErrorGroup\n      separatorTop={false}\n      separatorBottom={false}\n      name=\"logging_group\"\n    >\n      {isInvalid => {\n        return (\n          <FormTextField\n            onChange={() => {\n              clearErrors();\n            }}\n            invalid={isInvalid}\n            name=\"server.sentry_dsn\"\n            type=\"url\"\n            minLength={30}\n            label={<Trans message=\"Sentry DSN\" />}\n          />\n        );\n      }}\n    </SettingsErrorGroup>\n  );\n}\n","import {useFormContext} from 'react-hook-form';\nimport {ComponentType} from 'react';\nimport {SettingsPanel} from '../settings-panel';\nimport {SettingsErrorGroup} from '../settings-error-group';\nimport {SectionHelper} from '../../../ui/section-helper';\nimport {AdminSettings} from '../admin-settings';\nimport {FormSelect, Option} from '../../../ui/forms/select/select';\nimport {FormTextField} from '../../../ui/forms/input-field/text-field/text-field';\nimport {Trans} from '../../../i18n/trans';\n\nexport function QueueSettings() {\n  return (\n    <SettingsPanel\n      title={<Trans message=\"Queue\" />}\n      description={\n        <Trans message=\"Select active queue method and enter related 3rd party API keys.\" />\n      }\n    >\n      <SectionHelper\n        color=\"positive\"\n        className=\"mb-30\"\n        description={\n          <Trans message=\"Queues allow to defer time consuming tasks, such as sending an email, until a later time. Deferring these tasks can speed up web requests to the application.\" />\n        }\n      />\n      <SectionHelper\n        color=\"warning\"\n        className=\"mb-30\"\n        description={\n          <Trans message=\"All methods except sync require additional setup, which should be performed before changing the queue method. Consult documentation for more information.\" />\n        }\n      />\n      <DriverSection />\n    </SettingsPanel>\n  );\n}\n\nfunction DriverSection() {\n  const {watch, clearErrors} = useFormContext<AdminSettings>();\n  const queueDriver = watch('server.queue_driver');\n\n  let CredentialSection: ComponentType<CredentialProps> | null = null;\n  if (queueDriver === 'sqs') {\n    CredentialSection = SqsCredentials;\n  }\n  return (\n    <SettingsErrorGroup\n      separatorTop={false}\n      separatorBottom={false}\n      name=\"queue_group\"\n    >\n      {isInvalid => {\n        return (\n          <>\n            <FormSelect\n              invalid={isInvalid}\n              onSelectionChange={() => {\n                clearErrors();\n              }}\n              selectionMode=\"single\"\n              name=\"server.queue_driver\"\n              label={<Trans message=\"Queue method\" />}\n              required\n            >\n              <Option value=\"sync\">\n                <Trans message=\"Sync (Default)\" />\n              </Option>\n              <Option value=\"beanstalkd\">Beanstalkd</Option>\n              <Option value=\"database\">\n                <Trans message=\"Database\" />\n              </Option>\n              <Option value=\"sqs\">\n                <Trans message=\"SQS (Amazon simple queue service)\" />\n              </Option>\n              <Option value=\"redis\">Redis</Option>\n            </FormSelect>\n            {CredentialSection && (\n              <div className=\"mt-30\">\n                <CredentialSection isInvalid={isInvalid} />\n              </div>\n            )}\n          </>\n        );\n      }}\n    </SettingsErrorGroup>\n  );\n}\n\ninterface CredentialProps {\n  isInvalid: boolean;\n}\nfunction SqsCredentials({isInvalid}: CredentialProps) {\n  return (\n    <>\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.sqs_queue_key\"\n        label={<Trans message=\"SQS queue key\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.sqs_queue_secret\"\n        label={<Trans message=\"SQS queue secret\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.sqs_queue_prefix\"\n        label={<Trans message=\"SQS queue prefix\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.sqs_queue_name\"\n        label={<Trans message=\"SQS queue name\" />}\n        required\n      />\n      <FormTextField\n        invalid={isInvalid}\n        className=\"mb-30\"\n        name=\"server.sqs_queue_region\"\n        label={<Trans message=\"SQS queue region\" />}\n        required\n      />\n    </>\n  );\n}\n","import {useFormContext} from 'react-hook-form';\nimport {useContext} from 'react';\nimport {SettingsPanel} from '../settings-panel';\nimport {SettingsErrorGroup} from '../settings-error-group';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {FormSwitch} from '@common/ui/forms/toggle/switch';\nimport {SiteConfigContext} from '@common/core/settings/site-config-context';\nimport {Trans} from '@common/i18n/trans';\n\nexport function RecaptchaSettings() {\n  const {settings} = useContext(SiteConfigContext);\n  return (\n    <SettingsPanel\n      title={<Trans message=\"Recaptcha\" />}\n      description={\n        <Trans message=\"Configure google recaptcha integration and credentials.\" />\n      }\n    >\n      {settings?.showRecaptchaLinkSwitch && (\n        <FormSwitch\n          className=\"mb-30\"\n          name=\"client.recaptcha.enable.link_creation\"\n          description={\n            <Trans message=\"Enable recaptcha integration when creating links from homepage or user dashboard.\" />\n          }\n        >\n          <Trans message=\"Link creation\" />\n        </FormSwitch>\n      )}\n      <FormSwitch\n        className=\"mb-30\"\n        name=\"client.recaptcha.enable.contact\"\n        description={\n          <Trans\n            message={'Enable recaptcha integration for \"contact us\" page.'}\n          />\n        }\n      >\n        <Trans message=\"Contact page\" />\n      </FormSwitch>\n      <FormSwitch\n        className=\"mb-30\"\n        name=\"client.recaptcha.enable.register\"\n        description={\n          <Trans message=\"Enable recaptcha integration for registration page.\" />\n        }\n      >\n        <Trans message=\"Registration page\" />\n      </FormSwitch>\n      <RecaptchaSection />\n    </SettingsPanel>\n  );\n}\n\nfunction RecaptchaSection() {\n  const {clearErrors} = useFormContext();\n  return (\n    <SettingsErrorGroup\n      separatorTop={false}\n      separatorBottom={false}\n      name=\"recaptcha_group\"\n    >\n      {isInvalid => {\n        return (\n          <>\n            <FormTextField\n              className=\"mb-30\"\n              onChange={() => {\n                clearErrors();\n              }}\n              invalid={isInvalid}\n              name=\"client.recaptcha.site_key\"\n              label={<Trans message=\"Recaptcha v3 site key\" />}\n            />\n            <FormTextField\n              onChange={() => {\n                clearErrors();\n              }}\n              invalid={isInvalid}\n              name=\"client.recaptcha.secret_key\"\n              label={<Trans message=\"Recaptcha v3 secret key\" />}\n            />\n          </>\n        );\n      }}\n    </SettingsErrorGroup>\n  );\n}\n","import React, {ChangeEventHandler} from 'react';\nimport {mergeProps, useObjectRef} from '@react-aria/utils';\nimport {useController} from 'react-hook-form';\nimport clsx from 'clsx';\nimport {BaseFieldProps} from './base-field-props';\nimport {useField} from './use-field';\nimport {getInputFieldClassNames} from './get-input-field-class-names';\nimport {Field} from './field';\nimport {TextFieldProps} from './text-field/text-field';\n\nexport interface FileFieldProps\n  extends Omit<BaseFieldProps, 'type'> {\n  onChange?: ChangeEventHandler<'input'>;\n  accept?: string;\n}\nexport const FileField = React.forwardRef<HTMLInputElement, FileFieldProps>(\n  (props, ref) => {\n    const inputRef = useObjectRef(ref);\n\n    const {fieldProps, inputProps} = useField({...props, focusRef: inputRef});\n\n    const inputFieldClassNames = getInputFieldClassNames(props);\n\n    return (\n      <Field ref={ref} fieldClassNames={inputFieldClassNames} {...fieldProps}>\n        <input\n          type=\"file\"\n          ref={inputRef}\n          {...inputProps as any}\n          className={clsx(\n            inputFieldClassNames.input,\n            'py-8',\n            'file:bg-primary file:text-on-primary file:border-none file:rounded file:text-sm file:font-semibold file:px-10 file:h-24 file:mr-10'\n          )}\n        />\n      </Field>\n    );\n  }\n);\n\nexport interface FormFileFieldProps extends FileFieldProps {\n  name: string;\n}\nexport function FormFileField({name, ...props}: FormFileFieldProps) {\n  const {\n    field: {onChange, onBlur, ref},\n    fieldState: {invalid, error},\n  } = useController({\n    name,\n  });\n\n  const [value, setValue] = React.useState('');\n\n  const formProps: TextFieldProps = {\n    onChange: e => {\n      onChange(e.target.files?.[0]);\n      setValue(e.target.value);\n    },\n    onBlur,\n    value,\n    invalid,\n    errorMessage: error?.message,\n  };\n\n  return <FileField ref={ref} {...mergeProps(formProps, props)} />;\n}\n","import {useFormContext} from 'react-hook-form';\nimport {SettingsPanel} from '../settings-panel';\nimport {SettingsErrorGroup} from '../settings-error-group';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {FormFileField} from '@common/ui/forms/input-field/file-field';\nimport {Trans} from '@common/i18n/trans';\nimport {Fragment} from 'react';\n\nexport function ReportsSettings() {\n  return (\n    <SettingsPanel\n      title={<Trans message=\"Analytics\" />}\n      description={\n        <Trans message=\"Configure google analytics integration and credentials.\" />\n      }\n    >\n      <AnalyticsSection />\n    </SettingsPanel>\n  );\n}\n\nfunction AnalyticsSection() {\n  const {clearErrors} = useFormContext();\n  return (\n    <SettingsErrorGroup\n      separatorTop={false}\n      separatorBottom={false}\n      name=\"analytics_group\"\n    >\n      {isInvalid => (\n        <Fragment>\n          <FormFileField\n            className=\"mb-30\"\n            onChange={() => {\n              clearErrors();\n            }}\n            invalid={isInvalid}\n            name=\"files.certificate\"\n            accept=\".json\"\n            label={<Trans message=\"Google service account key file (.json)\" />}\n          />\n          <FormTextField\n            className=\"mb-30\"\n            onChange={() => {\n              clearErrors();\n            }}\n            invalid={isInvalid}\n            name=\"server.analytics_property_id\"\n            type=\"number\"\n            label={<Trans message=\"Google analytics property ID\" />}\n          />\n          <FormTextField\n            className=\"mb-30\"\n            onChange={() => {\n              clearErrors();\n            }}\n            invalid={isInvalid}\n            name=\"client.analytics.tracking_code\"\n            placeholder=\"G-******\"\n            min=\"1\"\n            max=\"20\"\n            description={\n              <Trans message=\"Google analytics measurement ID only, not the whole javascript snippet.\" />\n            }\n            label={<Trans message=\"Google tag manager measurement ID\" />}\n          />\n          <FormTextField\n            name=\"client.analytics.gchart_api_key\"\n            label={<Trans message=\"Google maps javascript API key\" />}\n            description={\n              <Trans message=\"Only required in order to show world geochart on integrated analytics pages.\" />\n            }\n          />\n        </Fragment>\n      )}\n    </SettingsErrorGroup>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {UseFormReturn} from 'react-hook-form';\nimport {User} from '@common/auth/user';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {toast} from '@common/ui/toast/toast';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {message} from '@common/i18n/message';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\n\ninterface Response extends BackendResponse {\n  user: User;\n}\n\nexport interface UpdateUserPayload\n  extends Omit<Partial<User>, 'email_verified_at'> {\n  email_verified_at?: boolean;\n  id: number;\n}\n\nexport function useUpdateUser(form: UseFormReturn<UpdateUserPayload>) {\n  const navigate = useNavigate();\n  return useMutation({\n    mutationFn: (props: UpdateUserPayload) => updateUser(props),\n    onSuccess: (response, props) => {\n      toast(message('User updated'));\n      queryClient.invalidateQueries({queryKey: ['users']});\n      navigate('/admin/users');\n    },\n    onError: r => onFormQueryError(r, form),\n  });\n}\n\nfunction updateUser({id, ...other}: UpdateUserPayload): Promise<Response> {\n  if (other.roles) {\n    other.roles = other.roles.map(r => r.id) as any;\n  }\n  return apiClient.put(`users/${id}`, other).then(r => r.data);\n}\n","import {useCallback, useRef, useState} from 'react';\n\nexport function useStickySentinel() {\n  const [isSticky, setIsSticky] = useState(false);\n\n  const observerRef = useRef<IntersectionObserver>();\n\n  const sentinelRef = useCallback((sentinel: HTMLDivElement | null) => {\n    if (sentinel) {\n      const observer = new IntersectionObserver(\n        ([e]) => setIsSticky(e.intersectionRatio < 1),\n        {threshold: [1]}\n      );\n      observerRef.current = observer;\n      observer.observe(sentinel);\n    } else if (observerRef.current) {\n      observerRef.current?.disconnect();\n    }\n  }, []);\n\n  return {isSticky, sentinelRef};\n}\n","import {FieldValues, SubmitHandler, UseFormReturn} from 'react-hook-form';\nimport clsx from 'clsx';\nimport React, {ReactNode} from 'react';\nimport {useStickySentinel} from '../utils/hooks/sticky-sentinel';\nimport {Form} from '../ui/forms/form';\nimport {Button} from '../ui/buttons/button';\nimport {Trans} from '../i18n/trans';\n\ninterface Props<T extends FieldValues> {\n  onSubmit: SubmitHandler<T>;\n  form: UseFormReturn<T>;\n  title: ReactNode;\n  subTitle?: ReactNode;\n  isLoading: boolean;\n  children: ReactNode;\n  actions?: ReactNode;\n  backButton?: ReactNode;\n  disableSaveWhenNotDirty?: boolean;\n  wrapInContainer?: boolean;\n}\nexport function CrupdateResourceLayout<T extends FieldValues>({\n  onSubmit,\n  form,\n  title,\n  subTitle,\n  children,\n  actions,\n  backButton,\n  isLoading = false,\n  disableSaveWhenNotDirty = false,\n  wrapInContainer = true,\n}: Props<T>) {\n  const {isSticky, sentinelRef} = useStickySentinel();\n  const isDirty = !disableSaveWhenNotDirty\n    ? true\n    : Object.keys(form.formState.dirtyFields).length;\n\n  return (\n    <Form\n      onSubmit={onSubmit}\n      onBeforeSubmit={() => form.clearErrors()}\n      form={form}\n    >\n      <div ref={sentinelRef} />\n      <div\n        className={clsx(\n          'sticky top-0 z-10 my-12 transition-shadow md:my-24',\n          isSticky && 'bg-paper shadow'\n        )}\n      >\n        <div\n          className={clsx(\n            'flex items-center gap-24 py-14 md:items-start',\n            wrapInContainer && 'container mx-auto px-24'\n          )}\n        >\n          {backButton}\n          <div className=\"overflow-hidden overflow-ellipsis md:mr-64\">\n            <h1 className=\"overflow-hidden overflow-ellipsis whitespace-nowrap text-xl md:text-3xl\">\n              {title}\n            </h1>\n            {subTitle && <div className=\"mt-4\">{subTitle}</div>}\n          </div>\n          <div className=\"mr-auto\"></div>\n          {actions}\n          <Button\n            variant=\"flat\"\n            color=\"primary\"\n            type=\"submit\"\n            disabled={isLoading || !isDirty}\n          >\n            <Trans message=\"Save\" />\n          </Button>\n        </div>\n      </div>\n      <div\n        className={\n          wrapInContainer ? 'container mx-auto px-24 pb-24' : undefined\n        }\n      >\n        <div className=\"rounded\">{children}</div>\n      </div>\n    </Form>\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\r\nimport {apiClient} from '@common/http/query-client';\r\nimport {PaginatedBackendResponse} from '@common/http/backend-response/pagination-response';\r\n\r\nimport { TeamTypes } from '@common/admin/teams/teams-index-page';\r\n\r\ninterface Response extends PaginatedBackendResponse<TeamTypes> {}\r\n\r\nexport function useTeams() {\r\n  return useQuery({\r\n    queryKey: ['new-teams'],\r\n    queryFn: () => fetchTeams(),\r\n  });\r\n}\r\n\r\nfunction fetchTeams() {\r\n  return apiClient\r\n    .get<Response>(`teams`, {\r\n      params: {\r\n        perPage: 25,\r\n        with: '',\r\n        orderBy: 'name',\r\n        orderDir: 'asc',\r\n        filterByPurchases: false,\r\n        paginate: 'simple',\r\n      },\r\n    })\r\n    .then(response => response.data);\r\n}\r\n","import {FieldValues, SubmitHandler, UseFormReturn} from 'react-hook-form';\r\nimport clsx from 'clsx';\r\nimport {ReactNode} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {useValueLists} from '../../http/value-lists';\r\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\r\nimport { FormSelect, Option } from '@common/ui/forms/select/select';\r\nimport {FormSwitch} from '../../ui/forms/toggle/switch';\r\nimport {Select} from '@common/ui/forms/select/select';\r\nimport {FormFileSizeField} from '../../ui/forms/input-field/file-size-field';\r\nimport {LinkStyle} from '../../ui/buttons/external-link';\r\nimport {FormPermissionSelector} from '../../auth/ui/permission-selector';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {FormChipField} from '../../ui/forms/input-field/chip-field/form-chip-field';\r\nimport {Item} from '../../ui/forms/listbox/item';\r\nimport {CrupdateResourceLayout} from '../crupdate-resource-layout';\r\nimport {useSettings} from '../../core/settings/use-settings';\r\nimport {useTeams} from './requests/use-teams';\r\n\r\ninterface Props<T extends FieldValues> {\r\n  onSubmit: SubmitHandler<T>;\r\n  form: UseFormReturn<T>;\r\n  title: ReactNode;\r\n  subTitle?: ReactNode;\r\n  isLoading: boolean;\r\n  avatarManager: ReactNode;\r\n  resendEmailButton?: ReactNode;\r\n  children?: ReactNode;\r\n}\r\nexport function CrupdateUserForm<T extends FieldValues>({\r\n  onSubmit,\r\n  form,\r\n  title,\r\n  subTitle,\r\n  isLoading,\r\n  avatarManager,\r\n  resendEmailButton,\r\n  children,\r\n}: Props<T>) {\r\n  const {require_email_confirmation} = useSettings();\r\n  const {data: valueLists} = useValueLists(['roles', 'permissions']);\r\n  const teams = useTeams();\r\n\r\n  return (\r\n    <CrupdateResourceLayout\r\n      onSubmit={onSubmit}\r\n      form={form}\r\n      title={title}\r\n      subTitle={subTitle}\r\n      isLoading={isLoading}\r\n    >\r\n      <div className=\"mb-40 flex items-start gap-40 md:gap-80\">\r\n        {avatarManager}\r\n        <div className=\"flex-auto\">\r\n          {children}\r\n          <FormTextField\r\n            className=\"mb-30\"\r\n            name=\"first_name\"\r\n            label={<Trans message=\"First name\" />}\r\n          />\r\n          <FormTextField\r\n            name=\"last_name\"\r\n            label={<Trans message=\"Last name\" />}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mb-30 border-b border-t pb-30 pt-30\">\r\n        <FormSwitch\r\n          className={clsx(resendEmailButton && 'mb-30')}\r\n          disabled={!require_email_confirmation}\r\n          name=\"email_verified_at\"\r\n          description={\r\n            <Trans message=\"Whether email address has been confirmed. User will not be able to login until address is confirmed, unless confirmation is disabled from settings page.\" />\r\n          }\r\n        >\r\n          <Trans message=\"Email confirmed\" />\r\n        </FormSwitch>\r\n        {resendEmailButton}\r\n      </div>\r\n      <FormFileSizeField\r\n        className=\"mb-30\"\r\n        name=\"available_space\"\r\n        label={<Trans message=\"Allowed storage space\" />}\r\n        description={\r\n          <Trans\r\n            values={{\r\n              a: parts => (\r\n                <Link\r\n                  className={LinkStyle}\r\n                  target=\"_blank\"\r\n                  to=\"/admin/settings/uploading\"\r\n                >\r\n                  {parts}\r\n                </Link>\r\n              ),\r\n            }}\r\n            message=\"Total storage space all user uploads are allowed to take up. If left empty, this value will be inherited from any roles or subscriptions user has, or from 'Available space' setting in <a>Uploading</a> settings page.\"\r\n          />\r\n        }\r\n      />\r\n      <FormChipField\r\n        className=\"mb-30\"\r\n        name=\"roles\"\r\n        label={<Trans message=\"Roles\" />}\r\n        suggestions={valueLists?.roles}\r\n      >\r\n        {chip => (\r\n          <Item key={chip.id} value={chip.id}>\r\n            {chip.name}\r\n          </Item>\r\n        )}\r\n      </FormChipField>\r\n      {teams && (\r\n        <FormSelect\r\n          name=\"team_id\"\r\n          selectionMode=\"single\"\r\n          label={<Trans message=\"Team\" />}\r\n        >\r\n          {teams?.data?.pagination.data.map(option => (\r\n            <Option key={option.id} value={option.id}>\r\n              {option.display_name}\r\n            </Option>\r\n          ))}\r\n        </FormSelect>\r\n      )}\r\n      <div className=\"mt-30 border-t pt-30\">\r\n        <div className=\"mb-10 text-sm\">\r\n          <Trans message=\"Permissions\" />\r\n        </div>\r\n        <FormPermissionSelector name=\"permissions\" />\r\n      </div>\r\n    </CrupdateResourceLayout>\r\n  );\r\n}\r\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const ReportIcon = createSvgIcon(\n  [<path d=\"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM19 14.9 14.9 19H9.1L5 14.9V9.1L9.1 5h5.8L19 9.1v5.8z\" key=\"0\" />,<circle cx=\"12\" cy=\"16\" r=\"1\" key=\"1\" />,<path d=\"M11 7h2v7h-2z\" key=\"2\" />,]\n, 'ReportOutlined');\n","import {useForm} from 'react-hook-form';\r\nimport {useParams} from 'react-router-dom';\r\nimport React, {useEffect} from 'react';\r\nimport {useUser} from '../../auth/ui/use-user';\r\nimport {UpdateUserPayload, useUpdateUser} from './requests/update-user';\r\nimport {Button} from '../../ui/buttons/button';\r\nimport {useResendVerificationEmail} from '../../auth/requests/use-resend-verification-email';\r\nimport {useUploadAvatar} from '../../auth/ui/account-settings/avatar/upload-avatar';\r\nimport {useRemoveAvatar} from '../../auth/ui/account-settings/avatar/remove-avatar';\r\nimport {CrupdateUserForm} from './crupdate-user-form';\r\nimport {User} from '../../auth/user';\r\nimport {Trans} from '../../i18n/trans';\r\nimport {FullPageLoader} from '../../ui/progress/full-page-loader';\r\nimport {useSettings} from '../../core/settings/use-settings';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {FileUploadProvider} from '@common/uploads/uploader/file-upload-provider';\r\nimport {FormImageSelector} from '@common/ui/images/image-selector';\r\nimport {queryClient} from '@common/http/query-client';\r\nimport {ReportIcon} from '@common/icons/material/Report';\r\n\r\nexport function UpdateUserPage() {\r\n  const form = useForm<UpdateUserPayload>();\r\n  const {require_email_confirmation} = useSettings();\r\n  const {userId} = useParams();\r\n  const updateUser = useUpdateUser(form);\r\n  const resendConfirmationEmail = useResendVerificationEmail();\r\n  const {data, isLoading} = useUser(userId!, {\r\n    with: ['subscriptions', 'roles', 'permissions', 'bans'],\r\n  });\r\n  const banReason = data?.user.bans?.[0]?.comment;\r\n\r\n  useEffect(() => {\r\n    if (data?.user && !form.getValues().id) {\r\n      form.reset({\r\n        first_name: data.user.first_name,\r\n        last_name: data.user.last_name,\r\n        roles: data.user.roles,\r\n        permissions: data.user.permissions,\r\n        id: data.user.id,\r\n        email_verified_at: Boolean(data.user.email_verified_at),\r\n        available_space: data.user.available_space,\r\n        avatar: data.user.avatar,\r\n        team_id: data.user.team_id,\r\n      });\r\n    }\r\n  }, [data?.user, form]);\r\n\r\n  if (isLoading) {\r\n    return <FullPageLoader />;\r\n  }\r\n\r\n  const resendEmailButton = (\r\n    <Button\r\n      size=\"xs\"\r\n      variant=\"outline\"\r\n      color=\"primary\"\r\n      disabled={\r\n        !require_email_confirmation ||\r\n        resendConfirmationEmail.isPending ||\r\n        data?.user?.email_verified_at != null\r\n      }\r\n      onClick={() => {\r\n        resendConfirmationEmail.mutate({email: data!.user.email});\r\n      }}\r\n    >\r\n      <Trans message=\"Resend email\" />\r\n    </Button>\r\n  );\r\n\r\n  return (\r\n    <CrupdateUserForm\r\n      onSubmit={newValues => {\r\n        updateUser.mutate(newValues);\r\n      }}\r\n      form={form}\r\n      title={\r\n        <Trans values={{email: data?.user.email}} message=\"Edit “:email“\" />\r\n      }\r\n      subTitle={\r\n        banReason && (\r\n          <div className=\"flex items-center gap-4 text-sm text-danger\">\r\n            <ReportIcon />\r\n            <div>\r\n              <Trans\r\n                message=\"Suspended: :reason\"\r\n                values={{reason: banReason}}\r\n              />\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n      isLoading={updateUser.isPending}\r\n      avatarManager={\r\n        <AvatarSection\r\n          user={data!.user}\r\n          onChange={() => {\r\n            queryClient.invalidateQueries({queryKey: ['users']});\r\n          }}\r\n        />\r\n      }\r\n      resendEmailButton={resendEmailButton}\r\n    >\r\n      <FormTextField\r\n        className=\"mb-30\"\r\n        name=\"password\"\r\n        type=\"password\"\r\n        label={<Trans message=\"New password\" />}\r\n      />\r\n    </CrupdateUserForm>\r\n  );\r\n}\r\n\r\ninterface AvatarSectionProps {\r\n  user: User;\r\n  onChange: () => void;\r\n}\r\nfunction AvatarSection({user, onChange}: AvatarSectionProps) {\r\n  const uploadAvatar = useUploadAvatar({user});\r\n  const removeAvatar = useRemoveAvatar({user});\r\n  return (\r\n    <FileUploadProvider>\r\n      <FormImageSelector\r\n        name=\"avatar\"\r\n        diskPrefix=\"avatars\"\r\n        variant=\"avatar\"\r\n        stretchPreview\r\n        label={<Trans message=\"Profile image\" />}\r\n        previewSize=\"w-90 h-90\"\r\n        showRemoveButton\r\n        onChange={url => {\r\n          if (url) {\r\n            uploadAvatar.mutate({url});\r\n          } else {\r\n            removeAvatar.mutate();\r\n          }\r\n          onChange();\r\n        }}\r\n      />\r\n    </FileUploadProvider>\r\n  );\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\nimport {UseFormReturn} from 'react-hook-form';\nimport {User} from '../../../auth/user';\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\nimport {toast} from '../../../ui/toast/toast';\nimport {apiClient, queryClient} from '../../../http/query-client';\nimport {DatatableDataQueryKey} from '../../../datatable/requests/paginated-resources';\nimport {onFormQueryError} from '../../../errors/on-form-query-error';\nimport {message} from '../../../i18n/message';\nimport {useNavigate} from '../../../utils/hooks/use-navigate';\n\ninterface Response extends BackendResponse {\n  user: User;\n}\n\nexport interface CreateUserPayload\n  extends Omit<Partial<User>, 'email_verified_at'> {\n  email_verified_at?: boolean;\n}\n\nexport function useCreateUser(form: UseFormReturn<CreateUserPayload>) {\n  const navigate = useNavigate();\n  return useMutation({\n    mutationFn: (props: CreateUserPayload) => createUser(props),\n    onSuccess: () => {\n      toast(message('User created'));\n      queryClient.invalidateQueries({queryKey: DatatableDataQueryKey('users')});\n      navigate('/admin/users');\n    },\n    onError: r => onFormQueryError(r, form),\n  });\n}\n\nfunction createUser(payload: CreateUserPayload): Promise<Response> {\n  if (payload.roles) {\n    payload.roles = payload.roles.map(r => r.id) as any;\n  }\n  return apiClient.post('users', payload).then(r => r.data);\n}\n","import {useForm} from 'react-hook-form';\nimport React from 'react';\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\nimport {CreateUserPayload, useCreateUser} from './requests/create-user';\nimport {CrupdateUserForm} from './crupdate-user-form';\nimport {FileUploadProvider} from '../../uploads/uploader/file-upload-provider';\nimport {Trans} from '../../i18n/trans';\nimport {FormImageSelector} from '@common/ui/images/image-selector';\n\nexport function CreateUserPage() {\n  const form = useForm<CreateUserPayload>();\n  const createUser = useCreateUser(form);\n\n  const avatarManager = (\n    <FileUploadProvider>\n      <FormImageSelector\n        name=\"avatar\"\n        diskPrefix=\"avatars\"\n        variant=\"avatar\"\n        stretchPreview\n        label={<Trans message=\"Profile image\" />}\n        previewSize=\"w-90 h-90\"\n        showRemoveButton\n      />\n    </FileUploadProvider>\n  );\n\n  return (\n    <CrupdateUserForm\n      onSubmit={newValues => {\n        createUser.mutate(newValues);\n      }}\n      form={form}\n      title={<Trans message=\"Add new user\" />}\n      isLoading={createUser.isPending}\n      avatarManager={avatarManager}\n    >\n      <FormTextField\n        className=\"mb-30\"\n        name=\"email\"\n        type=\"email\"\n        label={<Trans message=\"Email\" />}\n      />\n      <FormTextField\n        className=\"mb-30\"\n        name=\"password\"\n        type=\"password\"\n        label={<Trans message=\"Password\" />}\n      />\n    </CrupdateUserForm>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const TranslateIcon = createSvgIcon(\n  <path d=\"m12.87 15.07-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7 1.62-4.33L19.12 17h-3.24z\" />\n, 'TranslateOutlined');\n","import {useQuery} from '@tanstack/react-query';\nimport {BackendResponse} from '../../http/backend-response/backend-response';\nimport {Localization} from '../../i18n/localization';\nimport {apiClient} from '../../http/query-client';\n\nexport interface FetchLocaleWithLinesResponse extends BackendResponse {\n  localization: Localization;\n}\n\nexport const getLocalWithLinesQueryKey = (localeId?: number | string) => {\n  const key: (string | number)[] = ['getLocaleWithLines'];\n  if (localeId != null) {\n    key.push(localeId);\n  }\n  return key;\n};\n\nexport function useLocaleWithLines(localeId: number | string) {\n  return useQuery({\n    queryKey: getLocalWithLinesQueryKey(localeId),\n    queryFn: () => fetchLocaleWithLines(localeId),\n    staleTime: Infinity,\n  });\n}\n\nfunction fetchLocaleWithLines(\n  localeId: number | string,\n): Promise<FetchLocaleWithLinesResponse> {\n  return apiClient\n    .get(`localizations/${localeId}`)\n    .then(response => response.data);\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {UseFormReturn} from 'react-hook-form';\nimport {toast} from '../../ui/toast/toast';\nimport {BackendResponse} from '../../http/backend-response/backend-response';\nimport {apiClient, queryClient} from '../../http/query-client';\nimport {message} from '../../i18n/message';\nimport {DatatableDataQueryKey} from '../../datatable/requests/paginated-resources';\nimport {Localization} from '../../i18n/localization';\nimport {onFormQueryError} from '../../errors/on-form-query-error';\nimport {showHttpErrorToast} from '../../utils/http/show-http-error-toast';\nimport {getLocalWithLinesQueryKey} from './use-locale-with-lines';\n\ninterface Response extends BackendResponse {\n  localization: Localization;\n}\n\nfunction UpdateLocalization({\n  id,\n  ...other\n}: Partial<Localization>): Promise<Response> {\n  return apiClient.put(`localizations/${id}`, other).then(r => r.data);\n}\n\nexport function useUpdateLocalization(\n  form?: UseFormReturn<Partial<Localization>>,\n) {\n  return useMutation({\n    mutationFn: (props: Partial<Localization>) => UpdateLocalization(props),\n    onSuccess: () => {\n      toast(message('Localization updated'));\n      queryClient.invalidateQueries({\n        queryKey: DatatableDataQueryKey('localizations'),\n      });\n      queryClient.invalidateQueries({queryKey: getLocalWithLinesQueryKey()});\n    },\n    onError: r => (form ? onFormQueryError(r, form) : showHttpErrorToast(r)),\n  });\n}\n","import {useForm} from 'react-hook-form';\nimport {Dialog} from '../../ui/overlays/dialog/dialog';\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\nimport {Trans} from '../../i18n/trans';\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\nimport {Form} from '../../ui/forms/form';\nimport {Localization} from '../../i18n/localization';\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\nimport {useValueLists} from '../../http/value-lists';\nimport {FormSelect, Option} from '../../ui/forms/select/select';\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\nimport {Button} from '../../ui/buttons/button';\nimport {useUpdateLocalization} from './update-localization';\nimport {message} from '@common/i18n/message';\nimport {useTrans} from '@common/i18n/use-trans';\n\ninterface UpdateLocalizationDialogProps {\n  localization: Localization;\n}\nexport function UpdateLocalizationDialog({\n  localization,\n}: UpdateLocalizationDialogProps) {\n  const {trans} = useTrans();\n  const {formId, close} = useDialogContext();\n  const form = useForm<Partial<Localization>>({\n    defaultValues: {\n      id: localization.id,\n      name: localization.name,\n      language: localization.language,\n    },\n  });\n\n  const {data} = useValueLists(['languages']);\n  const languages = data?.languages || [];\n\n  const updateLocalization = useUpdateLocalization(form);\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Update localization\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          form={form}\n          id={formId}\n          onSubmit={values => {\n            updateLocalization.mutate(values, {onSuccess: close});\n          }}\n        >\n          <FormTextField\n            name=\"name\"\n            label={<Trans message=\"Name\" />}\n            className=\"mb-30\"\n            required\n          />\n          <FormSelect\n            required\n            name=\"language\"\n            label={<Trans message=\"Language\" />}\n            selectionMode=\"single\"\n            showSearchField\n            searchPlaceholder={trans(message('Search languages'))}\n          >\n            {languages.map(language => (\n              <Option value={language.code} key={language.code}>\n                {language.name}\n              </Option>\n            ))}\n          </FormSelect>\n        </Form>\n      </DialogBody>\n      <DialogFooter>\n        <Button onClick={close}>\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={updateLocalization.isPending}\n        >\n          <Trans message=\"Save\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {useMutation, useQueryClient} from '@tanstack/react-query';\nimport {UseFormReturn} from 'react-hook-form';\nimport {toast} from '../../ui/toast/toast';\nimport {BackendResponse} from '../../http/backend-response/backend-response';\nimport {apiClient} from '../../http/query-client';\nimport {message} from '../../i18n/message';\nimport {DatatableDataQueryKey} from '../../datatable/requests/paginated-resources';\nimport {onFormQueryError} from '../../errors/on-form-query-error';\nimport {Localization} from '../../i18n/localization';\n\ninterface Response extends BackendResponse {\n  localization: Localization;\n}\n\nexport interface CreateLocalizationPayload {\n  name: string;\n  language: string;\n}\n\nfunction createLocalization(\n  payload: CreateLocalizationPayload,\n): Promise<Response> {\n  return apiClient.post(`localizations`, payload).then(r => r.data);\n}\n\nexport function useCreateLocalization(\n  form: UseFormReturn<CreateLocalizationPayload>,\n) {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: (props: CreateLocalizationPayload) => createLocalization(props),\n    onSuccess: () => {\n      toast(message('Localization created'));\n      queryClient.invalidateQueries({\n        queryKey: DatatableDataQueryKey('localizations'),\n      });\n    },\n    onError: r => onFormQueryError(r, form),\n  });\n}\n","import {useForm} from 'react-hook-form';\nimport {Dialog} from '../../ui/overlays/dialog/dialog';\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\nimport {Trans} from '../../i18n/trans';\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\nimport {Form} from '../../ui/forms/form';\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\nimport {useValueLists} from '../../http/value-lists';\nimport {FormSelect, Option} from '../../ui/forms/select/select';\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\nimport {Button} from '../../ui/buttons/button';\nimport {\n  CreateLocalizationPayload,\n  useCreateLocalization,\n} from './create-localization';\nimport {message} from '@common/i18n/message';\nimport {useTrans} from '@common/i18n/use-trans';\n\nexport function CreateLocationDialog() {\n  const {trans} = useTrans();\n  const {formId, close} = useDialogContext();\n  const form = useForm<CreateLocalizationPayload>({\n    defaultValues: {\n      language: 'en',\n    },\n  });\n\n  const {data} = useValueLists(['languages']);\n  const languages = data?.languages || [];\n\n  const createLocalization = useCreateLocalization(form);\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Create localization\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          form={form}\n          id={formId}\n          onSubmit={values => {\n            createLocalization.mutate(values, {onSuccess: close});\n          }}\n        >\n          <FormTextField\n            autoFocus\n            name=\"name\"\n            label={<Trans message=\"Name\" />}\n            className=\"mb-30\"\n            required\n          />\n          <FormSelect\n            required\n            name=\"language\"\n            label={<Trans message=\"Language\" />}\n            selectionMode=\"single\"\n            showSearchField\n            searchPlaceholder={trans(message('Search languages'))}\n          >\n            {languages.map(language => (\n              <Option value={language.code} key={language.code}>\n                {language.name}\n              </Option>\n            ))}\n          </FormSelect>\n        </Form>\n      </DialogBody>\n      <DialogFooter>\n        <Button onClick={close}>\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={createLocalization.isPending}\n        >\n          <Trans message=\"Save\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","export default \"__VITE_ASSET__5bb85b7d__\"","import React, {Fragment} from 'react';\nimport {Link} from 'react-router-dom';\nimport {DataTablePage} from '../../datatable/page/data-table-page';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {EditIcon} from '../../icons/material/Edit';\nimport {FormattedDate} from '../../i18n/formatted-date';\nimport {ColumnConfig} from '../../datatable/column-config';\nimport {Trans} from '../../i18n/trans';\nimport {Localization} from '../../i18n/localization';\nimport {TranslateIcon} from '../../icons/material/Translate';\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\nimport {UpdateLocalizationDialog} from './update-localization-dialog';\nimport {Tooltip} from '../../ui/tooltip/tooltip';\nimport {CreateLocationDialog} from './create-localization-dialog';\nimport {DataTableEmptyStateMessage} from '../../datatable/page/data-table-emty-state-message';\nimport aroundTheWorldSvg from './around-the-world.svg';\nimport {DataTableAddItemButton} from '../../datatable/data-table-add-item-button';\nimport {DeleteSelectedItemsAction} from '../../datatable/page/delete-selected-items-action';\n\nconst columnConfig: ColumnConfig<Localization>[] = [\n  {\n    key: 'name',\n    allowsSorting: true,\n    sortingKey: 'name',\n    visibleInMode: 'all',\n    width: 'flex-3 min-w-200',\n    header: () => <Trans message=\"Name\" />,\n    body: locale => locale.name,\n  },\n  {\n    key: 'language',\n    allowsSorting: true,\n    sortingKey: 'language',\n    header: () => <Trans message=\"Language code\" />,\n    body: locale => locale.language,\n  },\n  {\n    key: 'updatedAt',\n    allowsSorting: true,\n    width: 'w-100',\n    header: () => <Trans message=\"Last updated\" />,\n    body: locale => <FormattedDate date={locale.updated_at} />,\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    hideHeader: true,\n    align: 'end',\n    width: 'w-84 flex-shrink-0',\n    visibleInMode: 'all',\n    body: locale => {\n      return (\n        <div className=\"text-muted\">\n          <Link to={`${locale.id}/translate`}>\n            <Tooltip label={<Trans message=\"Translate\" />}>\n              <IconButton size=\"md\">\n                <TranslateIcon />\n              </IconButton>\n            </Tooltip>\n          </Link>\n          <DialogTrigger type=\"modal\">\n            <Tooltip label={<Trans message=\"Edit\" />}>\n              <IconButton>\n                <EditIcon />\n              </IconButton>\n            </Tooltip>\n            <UpdateLocalizationDialog localization={locale} />\n          </DialogTrigger>\n        </div>\n      );\n    },\n  },\n];\n\nexport function LocalizationIndex() {\n  return (\n    <DataTablePage\n      endpoint=\"localizations\"\n      title={<Trans message=\"Localizations\" />}\n      columns={columnConfig}\n      actions={<Actions />}\n      selectedActions={<DeleteSelectedItemsAction />}\n      emptyStateMessage={\n        <DataTableEmptyStateMessage\n          image={aroundTheWorldSvg}\n          title={<Trans message=\"No localizations have been created yet\" />}\n          filteringTitle={<Trans message=\"No matching localizations\" />}\n        />\n      }\n    />\n  );\n}\n\nfunction Actions() {\n  return (\n    <Fragment>\n      <DialogTrigger type=\"modal\">\n        <DataTableAddItemButton>\n          <Trans message=\"Add new localization\" />\n        </DataTableAddItemButton>\n        <CreateLocationDialog />\n      </DialogTrigger>\n    </Fragment>\n  );\n}\n","import {useForm} from 'react-hook-form';\nimport {Dialog} from '../../ui/overlays/dialog/dialog';\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\nimport {Trans} from '../../i18n/trans';\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\nimport {Form} from '../../ui/forms/form';\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\nimport {Button} from '../../ui/buttons/button';\nimport {SectionHelper} from '../../ui/section-helper';\n\ninterface FormValue {\n  key: string;\n  value: string;\n}\n\nexport function NewTranslationDialog() {\n  const {formId, close} = useDialogContext();\n  const form = useForm<FormValue>();\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Add translation\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          form={form}\n          id={formId}\n          onSubmit={values => {\n            close(values);\n          }}\n        >\n          <SectionHelper\n            className=\"mb-30\"\n            title={\n              <Trans message=\"Add a new translation, if it does not exist already.\" />\n            }\n            description={\n              <Trans message=\"This should only need to be done for things like custom menu items.\" />\n            }\n          />\n          <FormTextField\n            inputElementType=\"textarea\"\n            rows={2}\n            autoFocus\n            name=\"key\"\n            label={<Trans message=\"Translation key\" />}\n            className=\"mb-30\"\n            required\n          />\n          <FormTextField\n            inputElementType=\"textarea\"\n            rows={2}\n            name=\"value\"\n            label={<Trans message=\"Translation value\" />}\n            required\n          />\n        </Form>\n      </DialogBody>\n      <DialogFooter>\n        <Button onClick={close}>\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button variant=\"flat\" color=\"primary\" type=\"submit\" form={formId}>\n          <Trans message=\"Add\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import React, {useMemo, useRef, useState} from 'react';\nimport {useParams} from 'react-router-dom';\nimport {useLocaleWithLines} from './use-locale-with-lines';\nimport {Trans} from '../../i18n/trans';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {Button} from '../../ui/buttons/button';\nimport {Breadcrumb} from '../../ui/breadcrumbs/breadcrumb';\nimport {BreadcrumbItem} from '../../ui/breadcrumbs/breadcrumb-item';\nimport {TextField} from '../../ui/forms/input-field/text-field/text-field';\nimport {useTrans} from '../../i18n/use-trans';\nimport {SearchIcon} from '../../icons/material/Search';\nimport {CloseIcon} from '../../icons/material/Close';\nimport {AddIcon} from '../../icons/material/Add';\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\nimport {NewTranslationDialog} from './new-translation-dialog';\nimport {useUpdateLocalization} from './update-localization';\nimport {Localization} from '../../i18n/localization';\nimport {FullPageLoader} from '../../ui/progress/full-page-loader';\nimport {useIsMobileMediaQuery} from '../../utils/hooks/is-mobile-media-query';\nimport {useVirtualizer} from '@tanstack/react-virtual';\nimport {useNavigate} from '../../utils/hooks/use-navigate';\n\ntype Lines = Record<string, string>;\n\nexport function TranslationManagementPage() {\n  const {localeId} = useParams();\n\n  const {data, isLoading} = useLocaleWithLines(localeId!);\n  const localization = data?.localization;\n\n  if (isLoading || !localization) {\n    return <FullPageLoader />;\n  }\n\n  return <Form localization={localization} />;\n}\n\ninterface FormProps {\n  localization: Localization;\n}\nfunction Form({localization}: FormProps) {\n  const [lines, setLines] = useState<Lines>(localization.lines || {});\n\n  const navigate = useNavigate();\n  const updateLocalization = useUpdateLocalization();\n  const [searchQuery, setSearchQuery] = useState<string>('');\n\n  return (\n    <form\n      className=\"p-14 md:p-24 flex flex-col h-full\"\n      onSubmit={e => {\n        e.preventDefault();\n        updateLocalization.mutate(\n          {id: localization.id, lines},\n          {\n            onSuccess: () => {\n              navigate('/admin/localizations');\n            },\n          },\n        );\n      }}\n    >\n      <Header\n        localization={localization}\n        setLines={setLines}\n        lines={lines}\n        searchQuery={searchQuery}\n        setSearchQuery={setSearchQuery}\n        isLoading={updateLocalization.isPending}\n      />\n      <LinesList lines={lines} setLines={setLines} searchQuery={searchQuery} />\n    </form>\n  );\n}\n\ninterface HeaderProps {\n  localization: Localization;\n  lines: Lines;\n  setLines: (lines: Lines) => void;\n  searchQuery: string;\n  setSearchQuery: (value: string) => void;\n  isLoading: boolean;\n}\nfunction Header({\n  localization,\n  searchQuery,\n  setSearchQuery,\n  isLoading,\n  lines,\n  setLines,\n}: HeaderProps) {\n  const navigate = useNavigate();\n  const isMobile = useIsMobileMediaQuery();\n  const {trans} = useTrans();\n\n  return (\n    <div className=\"flex-shrink-0\">\n      <Breadcrumb size=\"lg\" className=\"mb-16\">\n        <BreadcrumbItem\n          onSelected={() => {\n            navigate('/admin/localizations');\n          }}\n        >\n          <Trans message=\"Localizations\" />\n        </BreadcrumbItem>\n        <BreadcrumbItem>\n          <Trans\n            message=\":locale translations\"\n            values={{locale: localization.name}}\n          />\n        </BreadcrumbItem>\n      </Breadcrumb>\n      <div className=\"mb-24 flex items-center gap-32 md:gap-12\">\n        <div className=\"max-w-440 flex-auto\">\n          <TextField\n            value={searchQuery}\n            onChange={e => setSearchQuery(e.target.value)}\n            startAdornment={<SearchIcon />}\n            placeholder={trans({message: 'Type to search...'})}\n          />\n        </div>\n        <DialogTrigger\n          type=\"modal\"\n          onClose={newTranslation => {\n            if (newTranslation) {\n              const newLines = {...lines};\n              newLines[newTranslation.key] = newTranslation.value;\n              setLines(newLines);\n            }\n          }}\n        >\n          {!isMobile && (\n            <Button\n              className=\"ml-auto\"\n              variant=\"outline\"\n              color=\"primary\"\n              startIcon={<AddIcon />}\n            >\n              <Trans message=\"Add new\" />\n            </Button>\n          )}\n          <NewTranslationDialog />\n        </DialogTrigger>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          disabled={isLoading}\n        >\n          {isMobile ? (\n            <Trans message=\"Save\" />\n          ) : (\n            <Trans message=\"Save translations\" />\n          )}\n        </Button>\n      </div>\n    </div>\n  );\n}\n\ninterface LinesListProps {\n  searchQuery?: string;\n  lines: Lines;\n  setLines: (lines: Lines) => void;\n}\nfunction LinesList({searchQuery, lines, setLines}: LinesListProps) {\n  const filteredLines = useMemo(() => {\n    return Object.entries(lines).filter(([id, translation]) => {\n      const lowerCaseQuery = searchQuery?.toLowerCase();\n      return (\n        !lowerCaseQuery ||\n        id?.toLowerCase().includes(lowerCaseQuery) ||\n        translation?.toLowerCase().includes(lowerCaseQuery)\n      );\n    });\n  }, [lines, searchQuery]);\n\n  const ref = useRef<HTMLDivElement>(null);\n  const rowVirtualizer = useVirtualizer({\n    count: filteredLines.length,\n    getScrollElement: () => ref.current,\n    estimateSize: () => 123,\n  });\n\n  return (\n    <div className=\"flex-auto overflow-y-auto\" ref={ref}>\n      <div\n        className=\"relative w-full\"\n        style={{\n          height: `${rowVirtualizer.getTotalSize()}px`,\n        }}\n      >\n        {rowVirtualizer.getVirtualItems().map(virtualItem => {\n          const [id, translation] = filteredLines[virtualItem.index];\n          return (\n            <div\n              key={id}\n              className=\"w-full absolute top-0 left-0\"\n              style={{\n                height: `${virtualItem.size}px`,\n                transform: `translateY(${virtualItem.start}px)`,\n              }}\n            >\n              <div className=\"rounded border mb-10 md:mr-10\">\n                <div className=\"flex items-center gap-24 justify-between px-10 py-2 border-b\">\n                  <label\n                    className=\"text-xs font-semibold flex-auto\"\n                    htmlFor={id}\n                  >\n                    {id}\n                  </label>\n                  <IconButton\n                    size=\"xs\"\n                    className=\"text-muted\"\n                    onClick={() => {\n                      const newLines = {...lines};\n                      delete newLines[id];\n                      setLines(newLines);\n                    }}\n                  >\n                    <CloseIcon />\n                  </IconButton>\n                </div>\n                <div>\n                  <textarea\n                    id={id}\n                    name={id}\n                    defaultValue={translation}\n                    className=\"w-full bg-inherit block rounded resize-none outline-none focus-visible:ring-2 p-10 text-sm\"\n                    rows={2}\n                    onChange={e => {\n                      const newLines = {...lines};\n                      newLines[id] = e.target.value;\n                      setLines(newLines);\n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport {useDialogContext} from './dialog-context';\nimport {Dialog} from './dialog';\nimport {DialogBody} from './dialog-body';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {CloseIcon} from '@common/icons/material/Close';\nimport {KeyboardArrowLeftIcon} from '@common/icons/material/KeyboardArrowLeft';\nimport {KeyboardArrowRightIcon} from '@common/icons/material/KeyboardArrowRight';\nimport {useControlledState} from '@react-stately/utils';\n\ninterface Props {\n  image?: string;\n  images?: string[];\n  activeIndex?: number;\n  onActiveIndexChange?: (index: number) => void;\n  defaultActiveIndex?: number;\n}\nexport function ImageZoomDialog(props: Props) {\n  const {close} = useDialogContext();\n  const {image, images} = props;\n  const [activeIndex, setActiveIndex] = useControlledState(\n    props.activeIndex,\n    props.defaultActiveIndex,\n    props.onActiveIndexChange,\n  );\n  const src = image || images?.[activeIndex];\n\n  return (\n    <Dialog size=\"fullscreenTakeover\" background=\"bg-black/80\">\n      <DialogBody padding=\"p-0\" className=\"h-full w-full\">\n        <IconButton\n          size=\"lg\"\n          color=\"paper\"\n          className=\"absolute right-0 top-0 z-20 text-white\"\n          onClick={() => {\n            close();\n          }}\n        >\n          <CloseIcon />\n        </IconButton>\n        <div className=\"relative flex h-full w-full items-center justify-center p-40\">\n          {images?.length ? (\n            <IconButton\n              size=\"lg\"\n              color=\"white\"\n              variant=\"flat\"\n              className=\"absolute bottom-0 left-20 top-0 my-auto\"\n              disabled={activeIndex < 1}\n              onClick={() => {\n                setActiveIndex(activeIndex - 1);\n              }}\n            >\n              <KeyboardArrowLeftIcon />\n            </IconButton>\n          ) : null}\n          <img\n            src={src}\n            alt=\"\"\n            className=\"max-h-full w-auto object-contain shadow\"\n          />\n          {images?.length ? (\n            <IconButton\n              size=\"lg\"\n              color=\"white\"\n              variant=\"flat\"\n              className=\"absolute bottom-0 right-20 top-0 my-auto\"\n              disabled={activeIndex + 1 === images?.length}\n              onClick={() => {\n                setActiveIndex(activeIndex + 1);\n              }}\n            >\n              <KeyboardArrowRightIcon />\n            </IconButton>\n          ) : null}\n        </div>\n      </DialogBody>\n    </Dialog>\n  );\n}\n","import {useContext} from 'react';\nimport {\n  AdConfig,\n  SiteConfigContext,\n} from '../../core/settings/site-config-context';\nimport {Form} from '../../ui/forms/form';\nimport {useForm} from 'react-hook-form';\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\nimport {Trans} from '../../i18n/trans';\nimport {Button} from '../../ui/buttons/button';\nimport {FormSwitch} from '../../ui/forms/toggle/switch';\nimport {useAdminSettings} from '../settings/requests/use-admin-settings';\nimport {ProgressCircle} from '../../ui/progress/progress-circle';\nimport {Settings} from '../../core/settings/settings';\nimport {\n  AdminSettingsWithFiles,\n  useUpdateAdminSettings,\n} from '../settings/requests/update-admin-settings';\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\nimport {ImageZoomDialog} from '../../ui/overlays/dialog/image-zoom-dialog';\nimport {StaticPageTitle} from '../../seo/static-page-title';\n\nexport function AdsPage() {\n  const query = useAdminSettings();\n\n  return (\n    <div className=\"container mx-auto p-12 md:p-24\">\n      <StaticPageTitle>\n        <Trans message=\"Ads\" />\n      </StaticPageTitle>\n      <h1 className=\"mb-20 text-2xl font-light md:mb-40 md:text-3xl\">\n        <Trans message=\"Predefined Ad slots\" />\n      </h1>\n      {query.isLoading ? (\n        <ProgressCircle isIndeterminate />\n      ) : (\n        <AdsForm defaultValues={query.data?.client.ads || {}} />\n      )}\n    </div>\n  );\n}\n\ninterface AdsFormProps {\n  defaultValues: Settings['ads'];\n}\nfunction AdsForm({defaultValues}: AdsFormProps) {\n  const {\n    admin: {ads},\n  } = useContext(SiteConfigContext);\n\n  const form = useForm<AdminSettingsWithFiles>({\n    defaultValues: {client: {ads: defaultValues}},\n  });\n  const updateSettings = useUpdateAdminSettings(form);\n\n  return (\n    <Form\n      form={form}\n      onSubmit={value => {\n        updateSettings.mutate(value);\n      }}\n    >\n      {ads.map(ad => {\n        return <AdSection key={ad.slot} adConfig={ad} />;\n      })}\n      <FormSwitch\n        name=\"client.ads.disable\"\n        className=\"mb-30\"\n        description={\n          <Trans message=\"Disable all add related functionality across the site.\" />\n        }\n      >\n        <Trans message=\"Disable ads\" />\n      </FormSwitch>\n      <Button\n        type=\"submit\"\n        variant=\"flat\"\n        color=\"primary\"\n        disabled={updateSettings.isPending}\n      >\n        <Trans message=\"Save\" />\n      </Button>\n    </Form>\n  );\n}\n\ninterface AdSectionProps {\n  adConfig: AdConfig;\n}\nfunction AdSection({adConfig}: AdSectionProps) {\n  return (\n    <div className=\"flex items-center gap-24\">\n      <FormTextField\n        className=\"mb-30 flex-auto\"\n        name={`client.${adConfig.slot}`}\n        inputElementType=\"textarea\"\n        rows={8}\n        label={<Trans {...adConfig.description} />}\n      />\n      <DialogTrigger type=\"modal\">\n        <button\n          type=\"button\"\n          className=\"cursor-zoom-in overflow-hidden rounded outline-none transition hover:scale-105 focus-visible:ring max-md:hidden\"\n        >\n          <img\n            src={adConfig.image}\n            className=\"h-[186px] w-auto border\"\n            alt=\"Ad slot example\"\n          />\n        </button>\n        <ImageZoomDialog image={adConfig.image} />\n      </DialogTrigger>\n    </div>\n  );\n}\n","import {NavLink} from 'react-router-dom';\nimport {AppearanceButton} from './appearance-button';\nimport {useAppearanceStore} from './appearance-store';\nimport {Trans} from '../../i18n/trans';\nimport {Fragment, useMemo} from 'react';\n\nexport function SectionList() {\n  const sections = useAppearanceStore(s => s.config?.sections);\n  const sortedSection = useMemo(() => {\n    if (!sections) return [];\n    return Object.entries(sections || [])\n      .map(([key, value]) => {\n        return {\n          ...value,\n          key,\n        };\n      })\n      .sort((a, b) => (a?.position || 1) - (b?.position || 1));\n  }, [sections]);\n\n  return (\n    <Fragment>\n      {sortedSection.map(section => {\n        return (\n          <AppearanceButton\n            key={section.key}\n            to={section.key}\n            elementType={NavLink}\n          >\n            <Trans {...section.label} />\n          </AppearanceButton>\n        );\n      })}\n    </Fragment>\n  );\n}\n","import {\n  BackendFilter,\n  FilterControlType,\n  FilterOperator,\n} from '../../datatable/filters/backend-filter';\nimport {message} from '../../i18n/message';\nimport {\n  createdAtFilter,\n  updatedAtFilter,\n} from '@common/datatable/filters/timestamp-filters';\n\nexport const RoleIndexPageFilters: BackendFilter[] = [\n  {\n    key: 'type',\n    label: message('Type'),\n    description: message('Type of the role'),\n    defaultOperator: FilterOperator.ne,\n    control: {\n      type: FilterControlType.Select,\n      defaultValue: '01',\n      options: [\n        {\n          key: '01',\n          label: message('Sitewide'),\n          value: 'sitewide',\n        },\n        {\n          key: '02',\n          label: message('Workspace'),\n          value: 'workspace',\n        },\n      ],\n    },\n  },\n  createdAtFilter({\n    description: message('Date role was created'),\n  }),\n  updatedAtFilter({\n    description: message('Date role was last updated'),\n  }),\n];\n","import React, {Fragment} from 'react';\nimport {Link} from 'react-router-dom';\nimport {DataTablePage} from '../../datatable/page/data-table-page';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {EditIcon} from '../../icons/material/Edit';\nimport {FormattedDate} from '../../i18n/formatted-date';\nimport {ColumnConfig} from '../../datatable/column-config';\nimport {Trans} from '../../i18n/trans';\nimport {Role} from '../../auth/role';\nimport teamSvg from './team.svg';\nimport {DeleteSelectedItemsAction} from '../../datatable/page/delete-selected-items-action';\nimport {DataTableEmptyStateMessage} from '../../datatable/page/data-table-emty-state-message';\nimport {RoleIndexPageFilters} from './role-index-page-filters';\nimport {DataTableExportCsvButton} from '../../datatable/csv-export/data-table-export-csv-button';\nimport {DataTableAddItemButton} from '../../datatable/data-table-add-item-button';\n\nconst columnConfig: ColumnConfig<Role>[] = [\n  {\n    key: 'name',\n    allowsSorting: true,\n    visibleInMode: 'all',\n    header: () => <Trans message=\"Role\" />,\n    body: role => (\n      <div>\n        <div>\n          <Trans message={role.name} />\n        </div>\n        <div className=\"text-muted text-xs overflow-x-hidden overflow-ellipsis\">\n          {role.description ? <Trans message={role.description} /> : undefined}\n        </div>\n      </div>\n    ),\n  },\n  {\n    key: 'type',\n    maxWidth: 'max-w-100',\n    allowsSorting: true,\n    header: () => <Trans message=\"Type\" />,\n    body: role => <Trans message={role.type} />,\n  },\n  {\n    key: 'updated_at',\n    maxWidth: 'max-w-100',\n    allowsSorting: true,\n    header: () => <Trans message=\"Last updated\" />,\n    body: role => <FormattedDate date={role.updated_at} />,\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    hideHeader: true,\n    visibleInMode: 'all',\n    align: 'end',\n    width: 'w-42 flex-shrink-0',\n    body: role => {\n      return (\n        <Link to={`${role.id}/edit`}>\n          <IconButton size=\"md\" className=\"text-muted\">\n            <EditIcon />\n          </IconButton>\n        </Link>\n      );\n    },\n  },\n];\n\nexport function RolesIndexPage() {\n  return (\n    <DataTablePage\n      endpoint=\"roles\"\n      title={<Trans message=\"Roles\" />}\n      columns={columnConfig}\n      filters={RoleIndexPageFilters}\n      actions={<Actions />}\n      selectedActions={<DeleteSelectedItemsAction />}\n      emptyStateMessage={\n        <DataTableEmptyStateMessage\n          image={teamSvg}\n          title={<Trans message=\"No roles have been created yet\" />}\n          filteringTitle={<Trans message=\"No matching roles\" />}\n        />\n      }\n    />\n  );\n}\n\nfunction Actions() {\n  return (\n    <Fragment>\n      <DataTableExportCsvButton endpoint=\"roles/csv/export\" />\n      <DataTableAddItemButton elementType={Link} to=\"new\">\n        <Trans message=\"Add new role\" />\n      </DataTableAddItemButton>\n    </Fragment>\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {apiClient} from '@common/http/query-client';\nimport {Role} from '@common/auth/role';\nimport {useParams} from 'react-router-dom';\n\nconst Endpoint = (id: number | string) => `roles/${id}`;\n\nexport interface FetchRoleResponse extends BackendResponse {\n  role: Role;\n}\n\nexport function useRole() {\n  const {roleId} = useParams();\n  return useQuery({\n    queryKey: [Endpoint(roleId!)],\n    queryFn: () => fetchRole(roleId!),\n  });\n}\n\nfunction fetchRole(roleId: number | string): Promise<FetchRoleResponse> {\n  return apiClient.get(Endpoint(roleId)).then(response => response.data);\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '../../../http/query-client';\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\nimport {toast} from '../../../ui/toast/toast';\nimport {Role} from '../../../auth/role';\nimport {useTrans} from '../../../i18n/use-trans';\nimport {message} from '../../../i18n/message';\nimport {DatatableDataQueryKey} from '../../../datatable/requests/paginated-resources';\nimport {showHttpErrorToast} from '../../../utils/http/show-http-error-toast';\nimport {useNavigate} from '../../../utils/hooks/use-navigate';\n\ninterface Response extends BackendResponse {\n  role: Role;\n}\n\ninterface Payload extends Partial<Role> {\n  id: number;\n}\n\nconst Endpoint = (id: number) => `roles/${id}`;\n\nexport function useUpdateRole() {\n  const {trans} = useTrans();\n  const navigate = useNavigate();\n  return useMutation({\n    mutationFn: (payload: Payload) => updateRole(payload),\n    onSuccess: response => {\n      toast(trans(message('Role updated')));\n      queryClient.invalidateQueries({queryKey: [Endpoint(response.role.id)]});\n      queryClient.invalidateQueries({queryKey: DatatableDataQueryKey('roles')});\n      navigate('/admin/roles');\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction updateRole({id, ...payload}: Payload): Promise<Response> {\n  return apiClient.put(Endpoint(id), payload).then(r => r.data);\n}\n","import {Role} from '../../../auth/role';\nimport {useTrans} from '../../../i18n/use-trans';\nimport {useFormContext} from 'react-hook-form';\nimport {FormTextField} from '../../../ui/forms/input-field/text-field/text-field';\nimport {Trans} from '../../../i18n/trans';\nimport {message} from '../../../i18n/message';\nimport {FormSelect} from '../../../ui/forms/select/select';\nimport {Item} from '../../../ui/forms/listbox/item';\nimport {FormSwitch} from '../../../ui/forms/toggle/switch';\nimport {FormPermissionSelector} from '../../../auth/ui/permission-selector';\nimport {useSettings} from '../../../core/settings/use-settings';\n\ninterface CrupdateRolePageSettingsPanelProps {\n  isInternal?: boolean;\n}\nexport function CrupdateRolePageSettingsPanel({\n  isInternal = false,\n}: CrupdateRolePageSettingsPanelProps) {\n  const {trans} = useTrans();\n  const {workspaces} = useSettings();\n  const {watch} = useFormContext<Role>();\n  const watchedType = watch('type');\n\n  return (\n    <>\n      <FormTextField\n        label={<Trans message=\"Name\" />}\n        name=\"name\"\n        className=\"mb-20\"\n        required\n      />\n      <FormTextField\n        label={<Trans message=\"Description\" />}\n        name=\"description\"\n        inputElementType=\"textarea\"\n        placeholder={trans(message('Role description...'))}\n        rows={4}\n        className=\"mb-20\"\n      />\n      {workspaces.integrated && (\n        <FormSelect\n          label={<Trans message=\"Type\" />}\n          name=\"type\"\n          selectionMode=\"single\"\n          className=\"mb-20\"\n          description={\n            <Trans message=\"Whether this role will be assigned to users globally on the site or only within workspaces.\" />\n          }\n        >\n          <Item value=\"sitewide\">\n            <Trans message=\"Sitewide\" />\n          </Item>\n          <Item value=\"workspace\">\n            <Trans message=\"Workspace\" />\n          </Item>\n        </FormSelect>\n      )}\n      {!isInternal && (\n        <>\n          <FormSwitch\n            name=\"default\"\n            className=\"mb-20\"\n            description={\n              <Trans message=\"Assign this role to new users automatically.\" />\n            }\n          >\n            <Trans message=\"Default\" />\n          </FormSwitch>\n          {watchedType === 'sitewide' && (\n            <FormSwitch\n              name=\"guests\"\n              description={\n                <Trans message=\"Assign this role to guests (not logged in users).\" />\n              }\n            >\n              <Trans message=\"Guests\" />\n            </FormSwitch>\n          )}\n        </>\n      )}\n      <h2 className=\"mb-10 mt-30 text-lg\">\n        <Trans message=\"Permissions\" />\n      </h2>\n      <FormPermissionSelector\n        name=\"permissions\"\n        valueListKey={\n          watchedType === 'sitewide' ? 'permissions' : 'workspacePermissions'\n        }\n      />\n    </>\n  );\n}\n","import {Dialog} from '../ui/overlays/dialog/dialog';\nimport {DialogHeader} from '../ui/overlays/dialog/dialog-header';\nimport {Trans} from '../i18n/trans';\nimport {DialogBody} from '../ui/overlays/dialog/dialog-body';\nimport {TextField} from '../ui/forms/input-field/text-field/text-field';\nimport {SearchIcon} from '../icons/material/Search';\nimport {useState} from 'react';\nimport {useTrans} from '../i18n/use-trans';\nimport {message} from '../i18n/message';\nimport {Avatar} from '../ui/images/avatar';\nimport {NormalizedModel} from '../datatable/filters/normalized-model';\nimport {IllustratedMessage} from '../ui/images/illustrated-message';\nimport {SvgImage} from '../ui/images/svg-image/svg-image';\nimport teamSvg from '../admin/roles/team.svg';\nimport {useDialogContext} from '../ui/overlays/dialog/dialog-context';\nimport {useNormalizedModels} from './queries/use-normalized-models';\n\ninterface SelectUserDialogProps {\n  onUserSelected: (user: NormalizedModel) => void;\n}\n\nexport function SelectUserDialog({onUserSelected}: SelectUserDialogProps) {\n  const {close} = useDialogContext();\n  const [searchTerm, setSearchTerm] = useState<string>('');\n  const {trans} = useTrans();\n  const query = useNormalizedModels('normalized-models/user', {\n    query: searchTerm,\n    perPage: 14,\n  });\n  const users = query.data?.results || [];\n\n  const emptyStateMessage = (\n    <IllustratedMessage\n      className=\"pt-20\"\n      size=\"sm\"\n      title={<Trans message=\"No matching users\" />}\n      description={<Trans message=\"Try another search query\" />}\n      image={<SvgImage src={teamSvg} />}\n    />\n  );\n\n  const selectUser = (user: NormalizedModel) => {\n    close();\n    onUserSelected(user);\n  };\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Select a user\" />\n      </DialogHeader>\n      <DialogBody>\n        <TextField\n          autoFocus\n          className=\"mb-20\"\n          startAdornment={<SearchIcon />}\n          placeholder={trans(message('Search for user by name or email'))}\n          value={searchTerm}\n          onChange={e => {\n            setSearchTerm(e.target.value);\n          }}\n        />\n        {!query.isLoading && !users.length && emptyStateMessage}\n        <div className=\"grid grid-cols-2 gap-x-10\">\n          {users.map(user => (\n            <UserListItem\n              key={user.id}\n              user={user}\n              onUserSelected={selectUser}\n            />\n          ))}\n        </div>\n      </DialogBody>\n    </Dialog>\n  );\n}\n\ninterface UserListItemProps {\n  user: NormalizedModel;\n  onUserSelected: (user: NormalizedModel) => void;\n}\nfunction UserListItem({user, onUserSelected}: UserListItemProps) {\n  return (\n    <div\n      key={user.id}\n      className=\"flex items-center gap-10 rounded p-10 outline-none ring-offset-4 hover:bg-hover focus-visible:ring\"\n      role=\"button\"\n      tabIndex={0}\n      onClick={() => {\n        onUserSelected(user);\n      }}\n      onKeyDown={e => {\n        if (e.key === 'Enter' || e.key === ' ') {\n          e.preventDefault();\n          onUserSelected(user);\n        }\n      }}\n    >\n      <Avatar src={user.image} />\n      <div className=\"overflow-hidden\">\n        <div className=\"overflow-hidden text-ellipsis\">{user.name}</div>\n        <div className=\"overflow-hidden text-ellipsis text-muted\">\n          {user.description}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient} from '../../../http/query-client';\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\nimport {toast} from '../../../ui/toast/toast';\nimport {message} from '../../../i18n/message';\nimport {Role} from '../../../auth/role';\nimport {showHttpErrorToast} from '../../../utils/http/show-http-error-toast';\n\ninterface Response extends BackendResponse {}\n\ninterface Payload {\n  userIds: number[];\n}\n\nexport function useRemoveUsersFromRole(role: Role) {\n  return useMutation({\n    mutationFn: ({userIds}: Payload) =>\n      removeUsersFromRole({userIds, roleId: role.id}),\n    onSuccess: (response, payload) => {\n      toast(\n        message('Removed [one 1 user|other :count users] from “{role}“', {\n          values: {count: payload.userIds.length, role: role.name},\n        }),\n      );\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction removeUsersFromRole({\n  roleId,\n  userIds,\n}: Payload & {roleId: number}): Promise<Response> {\n  return apiClient\n    .post(`roles/${roleId}/remove-users`, {userIds})\n    .then(r => r.data);\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient} from '../../../http/query-client';\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\nimport {toast} from '../../../ui/toast/toast';\nimport {message} from '../../../i18n/message';\nimport {Role} from '../../../auth/role';\nimport {showHttpErrorToast} from '../../../utils/http/show-http-error-toast';\n\ninterface Response extends BackendResponse {}\n\ninterface Payload {\n  userIds: number[];\n}\n\nexport function useAddUsersToRole(role: Role) {\n  return useMutation({\n    mutationFn: ({userIds}: Payload) =>\n      addUsersToRole({userIds, roleId: role.id}),\n    onSuccess: (response, payload) => {\n      toast(\n        message('Assigned [one 1 user|other :count users] to {role}', {\n          values: {count: payload.userIds.length, role: role.name},\n        }),\n      );\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction addUsersToRole({\n  roleId,\n  userIds,\n}: Payload & {roleId: number}): Promise<Response> {\n  return apiClient\n    .post(`roles/${roleId}/add-users`, {userIds})\n    .then(r => r.data);\n}\n","import {Role} from '../../../auth/role';\nimport {ColumnConfig} from '../../../datatable/column-config';\nimport {User} from '../../../auth/user';\nimport {Trans} from '../../../i18n/trans';\nimport {NameWithAvatar} from '../../../datatable/column-templates/name-with-avatar';\nimport {FormattedDate} from '../../../i18n/formatted-date';\nimport React from 'react';\nimport teamSvg from '../team.svg';\nimport {DialogTrigger} from '../../../ui/overlays/dialog/dialog-trigger';\nimport {Button} from '../../../ui/buttons/button';\nimport {SelectUserDialog} from '../../../users/select-user-dialog';\nimport {queryClient} from '../../../http/query-client';\nimport {DatatableDataQueryKey} from '../../../datatable/requests/paginated-resources';\nimport {DataTableEmptyStateMessage} from '../../../datatable/page/data-table-emty-state-message';\nimport {useDataTable} from '../../../datatable/page/data-table-context';\nimport {ConfirmationDialog} from '../../../ui/overlays/dialog/confirmation-dialog';\nimport {useRemoveUsersFromRole} from '../requests/use-remove-users-from-role';\nimport {useAddUsersToRole} from '../requests/use-add-users-to-role';\nimport {DataTable} from '../../../datatable/data-table';\nimport {useIsMobileMediaQuery} from '../../../utils/hooks/is-mobile-media-query';\n\nconst userColumn: ColumnConfig<User> = {\n  key: 'name',\n  allowsSorting: true,\n  sortingKey: 'email',\n  header: () => <Trans message=\"User\" />,\n  body: user => (\n    <NameWithAvatar\n      image={user.avatar}\n      label={user.display_name}\n      description={user.email}\n    />\n  ),\n  width: 'col-w-3',\n};\n\nconst desktopColumns: ColumnConfig<User>[] = [\n  userColumn,\n  {\n    key: 'first_name',\n    allowsSorting: true,\n    header: () => <Trans message=\"First name\" />,\n    body: user => user.first_name,\n  },\n  {\n    key: 'last_name',\n    allowsSorting: true,\n    header: () => <Trans message=\"Last name\" />,\n    body: user => user.last_name,\n  },\n  {\n    key: 'created_at',\n    allowsSorting: true,\n    header: () => <Trans message=\"Assigned at\" />,\n    body: user => <FormattedDate date={user.created_at} />,\n  },\n];\n\nconst mobileColumns: ColumnConfig<User>[] = [userColumn];\n\ninterface CrupdateRolePageUsersPanelProps {\n  role: Role;\n}\nexport function EditRolePageUsersPanel({\n  role,\n}: CrupdateRolePageUsersPanelProps) {\n  const isMobile = useIsMobileMediaQuery();\n\n  if (role.guests || role.type === 'workspace') {\n    return (\n      <div className=\"pt-30 pb-10\">\n        <DataTableEmptyStateMessage\n          image={teamSvg}\n          title={<Trans message=\"Users can't be assigned to this role\" />}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <DataTable\n      endpoint=\"users\"\n      columns={isMobile ? mobileColumns : desktopColumns}\n      queryParams={{roleId: `${role.id}`}}\n      actions={<AssignUserAction role={role} />}\n      selectedActions={<RemoveUsersAction role={role} />}\n      emptyStateMessage={\n        <DataTableEmptyStateMessage\n          image={teamSvg}\n          title={\n            <Trans message=\"No users have been assigned to this role yet\" />\n          }\n          filteringTitle={<Trans message=\"No matching users\" />}\n        />\n      }\n    />\n  );\n}\n\ninterface AssignUserActionProps {\n  role: Role;\n}\nfunction AssignUserAction({role}: AssignUserActionProps) {\n  const addUsers = useAddUsersToRole(role);\n  return (\n    <DialogTrigger type=\"modal\">\n      <Button variant=\"flat\" color=\"primary\" disabled={addUsers.isPending}>\n        <Trans message=\"Assign user\" />\n      </Button>\n      <SelectUserDialog\n        onUserSelected={user => {\n          addUsers.mutate(\n            {userIds: [user.id as number]},\n            {\n              onSuccess: () => {\n                queryClient.invalidateQueries({\n                  queryKey: DatatableDataQueryKey('users', {\n                    roleId: `${role.id}`,\n                  }),\n                });\n              },\n            },\n          );\n        }}\n      />\n    </DialogTrigger>\n  );\n}\n\ntype RemoveUsersActionProps = {\n  role: Role;\n};\nexport function RemoveUsersAction({role}: RemoveUsersActionProps) {\n  const removeUsers = useRemoveUsersFromRole(role);\n  const {selectedRows} = useDataTable();\n\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      onClose={isConfirmed => {\n        if (isConfirmed) {\n          removeUsers.mutate(\n            {userIds: selectedRows as number[]},\n            {\n              onSuccess: () => {\n                queryClient.invalidateQueries({\n                  queryKey: DatatableDataQueryKey('users', {\n                    roleId: `${role.id}`,\n                  }),\n                });\n              },\n            },\n          );\n        }\n      }}\n    >\n      <Button variant=\"flat\" color=\"danger\" disabled={removeUsers.isPending}>\n        <Trans message=\"Remove users\" />\n      </Button>\n      <ConfirmationDialog\n        title={\n          <Trans\n            message=\"Remove [one 1 user|other :count users] from “:name“ role?\"\n            values={{count: selectedRows.length, name: role.name}}\n          />\n        }\n        body={<Trans message=\"This will permanently remove the users.\" />}\n        confirm={<Trans message=\"Remove\" />}\n        isDanger\n      />\n    </DialogTrigger>\n  );\n}\n","import {useRole} from '../requests/use-role';\nimport {FullPageLoader} from '../../../ui/progress/full-page-loader';\nimport {Role} from '../../../auth/role';\nimport {Trans} from '../../../i18n/trans';\nimport {useForm} from 'react-hook-form';\nimport {Tabs} from '../../../ui/tabs/tabs';\nimport {Tab} from '../../../ui/tabs/tab';\nimport {TabList} from '../../../ui/tabs/tab-list';\nimport {TabPanel, TabPanels} from '../../../ui/tabs/tab-panels';\nimport {useUpdateRole} from '../requests/use-update-role';\nimport {CrupdateResourceLayout} from '../../crupdate-resource-layout';\nimport {CrupdateRolePageSettingsPanel} from './crupdate-role-settings-panel';\nimport {EditRolePageUsersPanel} from './edit-role-page-users-panel';\n\nexport function EditRolePage() {\n  const query = useRole();\n\n  if (query.status !== 'success') {\n    return <FullPageLoader />;\n  }\n\n  return <PageContent role={query.data.role} />;\n}\n\ninterface PageContentProps {\n  role: Role;\n}\nfunction PageContent({role}: PageContentProps) {\n  const form = useForm<Role>({defaultValues: role});\n  const updateRole = useUpdateRole();\n\n  return (\n    <CrupdateResourceLayout\n      form={form}\n      onSubmit={values => {\n        updateRole.mutate(values);\n      }}\n      title={<Trans message=\"Edit “:name“ role\" values={{name: role.name}} />}\n      isLoading={updateRole.isPending}\n    >\n      <Tabs isLazy>\n        <TabList>\n          <Tab>\n            <Trans message=\"Settings\" />\n          </Tab>\n          <Tab>\n            <Trans message=\"Users\" />\n          </Tab>\n        </TabList>\n        <TabPanels className=\"pt-20\">\n          <TabPanel>\n            <CrupdateRolePageSettingsPanel isInternal={role.internal} />\n          </TabPanel>\n          <TabPanel>\n            <EditRolePageUsersPanel role={role} />\n          </TabPanel>\n        </TabPanels>\n      </Tabs>\n    </CrupdateResourceLayout>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '../../../http/query-client';\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\nimport {toast} from '../../../ui/toast/toast';\nimport {Role} from '../../../auth/role';\nimport {useTrans} from '../../../i18n/use-trans';\nimport {message} from '../../../i18n/message';\nimport {DatatableDataQueryKey} from '../../../datatable/requests/paginated-resources';\nimport {onFormQueryError} from '../../../errors/on-form-query-error';\nimport {UseFormReturn} from 'react-hook-form';\n\ninterface Response extends BackendResponse {\n  role: Role;\n}\n\nexport interface CreateRolePayload extends Partial<Role> {}\n\nconst Endpoint = 'roles';\n\nexport function useCreateRole(form: UseFormReturn<CreateRolePayload>) {\n  const {trans} = useTrans();\n  return useMutation({\n    mutationFn: (payload: CreateRolePayload) => createRole(payload),\n    onSuccess: () => {\n      toast(trans(message('Created new role')));\n      queryClient.invalidateQueries({queryKey: DatatableDataQueryKey('roles')});\n    },\n    onError: r => onFormQueryError(r, form),\n  });\n}\n\nfunction createRole({id, ...payload}: CreateRolePayload): Promise<Response> {\n  return apiClient.post(Endpoint, payload).then(r => r.data);\n}\n","import {useForm} from 'react-hook-form';\nimport {CrupdateResourceLayout} from '../../crupdate-resource-layout';\nimport {Trans} from '../../../i18n/trans';\nimport {CrupdateRolePageSettingsPanel} from './crupdate-role-settings-panel';\nimport {CreateRolePayload, useCreateRole} from '../requests/user-create-role';\nimport {useNavigate} from '../../../utils/hooks/use-navigate';\n\nexport function CreateRolePage() {\n  const form = useForm<CreateRolePayload>({defaultValues: {type: 'sitewide'}});\n  const createRole = useCreateRole(form);\n  const navigate = useNavigate();\n\n  return (\n    <CrupdateResourceLayout\n      form={form}\n      onSubmit={values => {\n        createRole.mutate(values, {\n          onSuccess: response => {\n            navigate(`/admin/roles/${response.role.id}/edit`);\n          },\n        });\n      }}\n      title={<Trans message=\"Add new role\" />}\n      isLoading={createRole.isPending}\n    >\n      <CrupdateRolePageSettingsPanel />\n    </CrupdateResourceLayout>\n  );\n}\n","import {\n  BackendFilter,\n  FilterControlType,\n  FilterOperator,\n} from '../../datatable/filters/backend-filter';\nimport {message} from '../../i18n/message';\nimport {TagType} from '../../core/settings/site-config-context';\nimport {\n  createdAtFilter,\n  updatedAtFilter,\n} from '@common/datatable/filters/timestamp-filters';\n\nexport const TagIndexPageFilters = (types: TagType[]): BackendFilter[] => {\n  return [\n    {\n      key: 'type',\n      label: message('Type'),\n      description: message('Type of the tag'),\n      defaultOperator: FilterOperator.ne,\n      control: {\n        type: FilterControlType.Select,\n        defaultValue: types[0].name,\n        options: types.map(type => ({\n          key: type.name,\n          label: message(type.name),\n          value: type.name,\n        })),\n      },\n    },\n    createdAtFilter({\n      description: message('Date tag was created'),\n    }),\n    updatedAtFilter({\n      description: message('Date tag was last updated'),\n    }),\n  ];\n};\n","export default \"__VITE_ASSET__8de61ea9__\"","import {Tag} from '../../tags/tag';\nimport {UseFormReturn} from 'react-hook-form';\nimport {Form} from '../../ui/forms/form';\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\nimport {FormSelect} from '../../ui/forms/select/select';\nimport {Trans} from '../../i18n/trans';\nimport {Item} from '../../ui/forms/listbox/item';\nimport {useContext} from 'react';\nimport {SiteConfigContext} from '../../core/settings/site-config-context';\n\ninterface CrupdateTagFormProps {\n  onSubmit: (values: Partial<Tag>) => void;\n  formId: string;\n  form: UseFormReturn<Partial<Tag>>;\n}\nexport function CrupdateTagForm({\n  form,\n  onSubmit,\n  formId,\n}: CrupdateTagFormProps) {\n  const {\n    tags: {types},\n  } = useContext(SiteConfigContext);\n  const watchedType = form.watch('type');\n  const isSystem = !!types.find(t => t.name === watchedType && t.system);\n\n  return (\n    <Form id={formId} form={form} onSubmit={onSubmit}>\n      <FormTextField\n        name=\"name\"\n        label={<Trans message=\"Name\" />}\n        description={<Trans message=\"Unique tag identifier.\" />}\n        className=\"mb-20\"\n        required\n        autoFocus\n      />\n      <FormTextField\n        name=\"display_name\"\n        label={<Trans message=\"Display name\" />}\n        description={<Trans message=\"User friendly tag name.\" />}\n        className=\"mb-20\"\n      />\n      <FormSelect\n        label={<Trans message=\"Type\" />}\n        name=\"type\"\n        selectionMode=\"single\"\n        disabled={isSystem}\n      >\n        {types\n          .filter(t => !t.system)\n          .map(type => (\n            <Item key={type.name} value={type.name}>\n              <Trans message={type.name} />\n            </Item>\n          ))}\n      </FormSelect>\n    </Form>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {Tag} from '@common/tags/tag';\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {UseFormReturn} from 'react-hook-form';\nimport {slugifyString} from '@common/utils/string/slugify-string';\n\ninterface Response extends BackendResponse {\n  tag: Tag;\n}\n\ninterface Payload extends Partial<Tag> {}\n\nexport function useCreateNewTag(form: UseFormReturn<Payload>) {\n  const {trans} = useTrans();\n  return useMutation({\n    mutationFn: (props: Payload) => createNewTag(props),\n    onSuccess: () => {\n      toast(trans(message('Tag created')));\n      queryClient.invalidateQueries({queryKey: DatatableDataQueryKey('tags')});\n    },\n    onError: err => onFormQueryError(err, form),\n  });\n}\n\nfunction createNewTag(payload: Payload): Promise<Response> {\n  payload.name = slugifyString(payload.name!);\n  return apiClient.post('tags', payload).then(r => r.data);\n}\n","import {Dialog} from '../../ui/overlays/dialog/dialog';\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\nimport {Trans} from '../../i18n/trans';\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\nimport {CrupdateTagForm} from './crupdate-tag-form';\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\nimport {Button} from '../../ui/buttons/button';\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\nimport {useCreateNewTag} from './requests/use-create-new-tag';\nimport {useContext} from 'react';\nimport {SiteConfigContext} from '../../core/settings/site-config-context';\nimport {useForm} from 'react-hook-form';\nimport {Tag} from '../../tags/tag';\n\nexport function CreateTagDialog() {\n  const {close, formId} = useDialogContext();\n  const {\n    tags: {types},\n  } = useContext(SiteConfigContext);\n  const form = useForm<Partial<Tag>>({\n    defaultValues: {\n      type: types[0].name,\n    },\n  });\n  const createNewTag = useCreateNewTag(form);\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Add new tag\" />\n      </DialogHeader>\n      <DialogBody>\n        <CrupdateTagForm\n          formId={formId}\n          form={form}\n          onSubmit={values => {\n            createNewTag.mutate(values, {\n              onSuccess: () => {\n                close();\n              },\n            });\n          }}\n        />\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          form={formId}\n          disabled={createNewTag.isPending}\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n        >\n          <Trans message=\"Save\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {Tag} from '@common/tags/tag';\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {UseFormReturn} from 'react-hook-form';\nimport {slugifyString} from '@common/utils/string/slugify-string';\n\ninterface Response extends BackendResponse {\n  tag: Tag;\n}\n\nexport interface UpdateTagPayload extends Partial<Tag> {\n  id: number;\n}\n\nexport function useUpdateTag(form: UseFormReturn<UpdateTagPayload>) {\n  const {trans} = useTrans();\n  return useMutation({\n    mutationFn: (props: UpdateTagPayload) => updateTag(props),\n    onSuccess: () => {\n      toast(trans(message('Tag updated')));\n      queryClient.invalidateQueries({queryKey: DatatableDataQueryKey('tags')});\n    },\n    onError: err => onFormQueryError(err, form),\n  });\n}\n\nfunction updateTag({id, ...payload}: UpdateTagPayload): Promise<Response> {\n  if (payload.name) {\n    payload.name = slugifyString(payload.name!);\n  }\n  return apiClient.put(`tags/${id}`, payload).then(r => r.data);\n}\n","import {Dialog} from '../../ui/overlays/dialog/dialog';\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\nimport {Trans} from '../../i18n/trans';\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\nimport {CrupdateTagForm} from './crupdate-tag-form';\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\nimport {Button} from '../../ui/buttons/button';\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\nimport {useForm} from 'react-hook-form';\nimport {Tag} from '../../tags/tag';\nimport {UpdateTagPayload, useUpdateTag} from './requests/use-update-tag';\n\ninterface UpdateTagDialogProps {\n  tag: Tag;\n}\nexport function UpdateTagDialog({tag}: UpdateTagDialogProps) {\n  const {close, formId} = useDialogContext();\n  const form = useForm<UpdateTagPayload>({\n    defaultValues: {\n      id: tag.id,\n      name: tag.name,\n      display_name: tag.display_name,\n      type: tag.type,\n    },\n  });\n  const updateTag = useUpdateTag(form);\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Update “:name“ tag\" values={{name: tag.name}} />\n      </DialogHeader>\n      <DialogBody>\n        <CrupdateTagForm\n          formId={formId}\n          form={form as any}\n          onSubmit={values => {\n            updateTag.mutate(values as UpdateTagPayload, {\n              onSuccess: () => {\n                close();\n              },\n            });\n          }}\n        />\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          form={formId}\n          disabled={updateTag.isPending}\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n        >\n          <Trans message=\"Save\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import React, {useContext, useMemo} from 'react';\nimport {DataTablePage} from '../../datatable/page/data-table-page';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {EditIcon} from '../../icons/material/Edit';\nimport {FormattedDate} from '../../i18n/formatted-date';\nimport {ColumnConfig} from '../../datatable/column-config';\nimport {Trans} from '../../i18n/trans';\nimport {DeleteSelectedItemsAction} from '../../datatable/page/delete-selected-items-action';\nimport {DataTableEmptyStateMessage} from '../../datatable/page/data-table-emty-state-message';\nimport {Tag} from '../../tags/tag';\nimport {SiteConfigContext} from '../../core/settings/site-config-context';\nimport {TagIndexPageFilters} from './tag-index-page-filters';\nimport softwareEngineerSvg from './software-engineer.svg';\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\nimport {CreateTagDialog} from './create-tag-dialog';\nimport {UpdateTagDialog} from './update-tag-dialog';\nimport {DataTableAddItemButton} from '../../datatable/data-table-add-item-button';\n\nconst columnConfig: ColumnConfig<Tag>[] = [\n  {\n    key: 'name',\n    allowsSorting: true,\n    visibleInMode: 'all',\n    width: 'flex-3 min-w-200',\n    header: () => <Trans message=\"Name\" />,\n    body: tag => tag.name,\n  },\n  {\n    key: 'type',\n    allowsSorting: true,\n    header: () => <Trans message=\"Type\" />,\n    body: tag => tag.type,\n  },\n  {\n    key: 'display_name',\n    allowsSorting: true,\n    header: () => <Trans message=\"Display name\" />,\n    body: tag => tag.display_name,\n  },\n  {\n    key: 'updated_at',\n    allowsSorting: true,\n    width: 'w-100',\n    header: () => <Trans message=\"Last updated\" />,\n    body: tag => <FormattedDate date={tag.updated_at} />,\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    hideHeader: true,\n    align: 'end',\n    width: 'w-42 flex-shrink-0',\n    visibleInMode: 'all',\n    body: tag => {\n      return (\n        <DialogTrigger type=\"modal\">\n          <IconButton size=\"md\" className=\"text-muted\">\n            <EditIcon />\n          </IconButton>\n          <UpdateTagDialog tag={tag} />\n        </DialogTrigger>\n      );\n    },\n  },\n];\n\nexport function TagIndexPage() {\n  const {tags} = useContext(SiteConfigContext);\n  const filters = useMemo(() => {\n    return TagIndexPageFilters(tags.types);\n  }, [tags.types]);\n\n  return (\n    <DataTablePage\n      endpoint=\"tags\"\n      title={<Trans message=\"Tags\" />}\n      columns={columnConfig}\n      filters={filters}\n      actions={<Actions />}\n      selectedActions={<DeleteSelectedItemsAction />}\n      emptyStateMessage={\n        <DataTableEmptyStateMessage\n          image={softwareEngineerSvg}\n          title={<Trans message=\"No tags have been created yet\" />}\n          filteringTitle={<Trans message=\"No matching tags\" />}\n        />\n      }\n    />\n  );\n}\n\nfunction Actions() {\n  return (\n    <>\n      <DialogTrigger type=\"modal\">\n        <DataTableAddItemButton>\n          <Trans message=\"Add new tag\" />\n        </DataTableAddItemButton>\n        <CreateTagDialog />\n      </DialogTrigger>\n    </>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const VisibilityIcon = createSvgIcon(\n  <path d=\"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z\" />\n, 'VisibilityOutlined');\n","export default \"__VITE_ASSET__31048831__\"","import {\n  BackendFilter,\n  FilterControlType,\n  FilterOperator,\n  FilterSelectControl,\n} from '../../datatable/filters/backend-filter';\nimport {message} from '../../i18n/message';\nimport {USER_MODEL} from '../../auth/user';\nimport {\n  createdAtFilter,\n  updatedAtFilter,\n} from '@common/datatable/filters/timestamp-filters';\n\nexport const FILE_ENTRY_TYPE_FILTER: BackendFilter<FilterSelectControl> = {\n  key: 'type',\n  label: message('Type'),\n  description: message('Type of the file'),\n  defaultOperator: FilterOperator.eq,\n  control: {\n    type: FilterControlType.Select,\n    defaultValue: '05',\n    options: [\n      {key: '02', label: message('Text'), value: 'text'},\n      {\n        key: '03',\n        label: message('Audio'),\n        value: 'audio',\n      },\n      {\n        key: '04',\n        label: message('Video'),\n        value: 'video',\n      },\n      {\n        key: '05',\n        label: message('Image'),\n        value: 'image',\n      },\n      {key: '06', label: message('PDF'), value: 'pdf'},\n      {\n        key: '07',\n        label: message('Spreadsheet'),\n        value: 'spreadsheet',\n      },\n      {\n        key: '08',\n        label: message('Word Document'),\n        value: 'word',\n      },\n      {\n        key: '09',\n        label: message('Photoshop'),\n        value: 'photoshop',\n      },\n      {\n        key: '10',\n        label: message('Archive'),\n        value: 'archive',\n      },\n      {\n        key: '11',\n        label: message('Folder'),\n        value: 'folder',\n      },\n    ],\n  },\n};\n\nexport const FILE_ENTRY_INDEX_FILTERS: BackendFilter[] = [\n  FILE_ENTRY_TYPE_FILTER,\n  {\n    key: 'public',\n    label: message('Visibility'),\n    description: message('Whether file is publicly accessible'),\n    defaultOperator: FilterOperator.eq,\n    control: {\n      type: FilterControlType.Select,\n      defaultValue: '01',\n      options: [\n        {key: '01', label: message('Private'), value: false},\n        {key: '02', label: message('Public'), value: true},\n      ],\n    },\n  },\n  createdAtFilter({\n    description: message('Date file was uploaded'),\n  }),\n  updatedAtFilter({\n    description: message('Date file was last changed'),\n  }),\n  {\n    key: 'owner_id',\n    label: message('Uploader'),\n    description: message('User that this file was uploaded by'),\n    defaultOperator: FilterOperator.eq,\n    control: {\n      type: FilterControlType.SelectModel,\n      model: USER_MODEL,\n    },\n  },\n];\n","import React, {Fragment} from 'react';\nimport {DataTablePage} from '../../datatable/page/data-table-page';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {FormattedDate} from '../../i18n/formatted-date';\nimport {ColumnConfig} from '../../datatable/column-config';\nimport {Trans} from '../../i18n/trans';\nimport {DeleteSelectedItemsAction} from '../../datatable/page/delete-selected-items-action';\nimport {DataTableEmptyStateMessage} from '../../datatable/page/data-table-emty-state-message';\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\nimport {FileEntry} from '../../uploads/file-entry';\nimport {NameWithAvatar} from '../../datatable/column-templates/name-with-avatar';\nimport {User} from '../../auth/user';\nimport {CheckIcon} from '../../icons/material/Check';\nimport {CloseIcon} from '../../icons/material/Close';\nimport {FormattedBytes} from '../../uploads/formatted-bytes';\nimport {VisibilityIcon} from '../../icons/material/Visibility';\nimport uploadSvg from './upload.svg';\nimport {FilePreviewDialog} from '../../uploads/preview/file-preview-dialog';\nimport {FILE_ENTRY_INDEX_FILTERS} from './file-entry-index-filters';\nimport {FileTypeIcon} from '../../uploads/file-type-icon/file-type-icon';\n\nconst columnConfig: ColumnConfig<FileEntry>[] = [\n  {\n    key: 'name',\n    allowsSorting: true,\n    visibleInMode: 'all',\n    width: 'flex-3 min-w-200',\n    header: () => <Trans message=\"Name\" />,\n    body: entry => (\n      <Fragment>\n        <div className=\"overflow-x-hidden overflow-ellipsis\">{entry.name}</div>\n        <div className=\"text-muted text-xs overflow-x-hidden overflow-ellipsis\">\n          {entry.file_name}\n        </div>\n      </Fragment>\n    ),\n  },\n  {\n    key: 'owner_id',\n    allowsSorting: true,\n    width: 'flex-3 min-w-200',\n    header: () => <Trans message=\"Uploader\" />,\n    body: entry => {\n      const user = entry.users?.[0] as User;\n      if (!user) return null;\n      return (\n        <NameWithAvatar\n          image={user.avatar}\n          label={user.display_name}\n          description={user.email}\n        />\n      );\n    },\n  },\n  {\n    key: 'type',\n    width: 'w-100 flex-shrink-0',\n    allowsSorting: true,\n    header: () => <Trans message=\"Type\" />,\n    body: entry => (\n      <div className=\"flex items-center gap-12\">\n        <FileTypeIcon type={entry.type} className=\"w-24 h-24 overflow-hidden\" />\n        <div className=\"capitalize\">{entry.type}</div>\n      </div>\n    ),\n  },\n  {\n    key: 'public',\n    allowsSorting: true,\n    width: 'w-60 flex-shrink-0',\n    header: () => <Trans message=\"Public\" />,\n    body: entry =>\n      entry.public ? (\n        <CheckIcon className=\"icon-md text-positive\" />\n      ) : (\n        <CloseIcon className=\"icon-md text-danger\" />\n      ),\n  },\n  {\n    key: 'file_size',\n    allowsSorting: true,\n    maxWidth: 'max-w-100',\n    header: () => <Trans message=\"File size\" />,\n    body: entry => <FormattedBytes bytes={entry.file_size} />,\n  },\n  {\n    key: 'updated_at',\n    allowsSorting: true,\n    width: 'w-100',\n    header: () => <Trans message=\"Last updated\" />,\n    body: entry => <FormattedDate date={entry.updated_at} />,\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    hideHeader: true,\n    align: 'end',\n    width: 'w-42 flex-shrink-0',\n    visibleInMode: 'all',\n    body: entry => {\n      return (\n        <DialogTrigger type=\"modal\">\n          <IconButton size=\"md\" className=\"text-muted\">\n            <VisibilityIcon />\n          </IconButton>\n          <FilePreviewDialog entries={[entry]} />\n        </DialogTrigger>\n      );\n    },\n  },\n];\n\nexport function FileEntryIndexPage() {\n  return (\n    <DataTablePage\n      endpoint=\"file-entries\"\n      title={<Trans message=\"Uploaded files and folders\" />}\n      columns={columnConfig}\n      filters={FILE_ENTRY_INDEX_FILTERS}\n      selectedActions={<DeleteSelectedItemsAction />}\n      emptyStateMessage={\n        <DataTableEmptyStateMessage\n          image={uploadSvg}\n          title={<Trans message=\"Nothing has been uploaded yet\" />}\n          filteringTitle={<Trans message=\"No matching files or folders\" />}\n        />\n      }\n    />\n  );\n}\n","import {\n  BackendFilter,\n  FilterControlType,\n  FilterOperator,\n} from '../../datatable/filters/backend-filter';\nimport {message} from '../../i18n/message';\nimport {\n  createdAtFilter,\n  timestampFilter,\n  updatedAtFilter,\n} from '../../datatable/filters/timestamp-filters';\n\nexport const SubscriptionIndexPageFilters: BackendFilter[] = [\n  {\n    key: 'ends_at',\n    label: message('Status'),\n    description: message('Whether subscription is active or cancelled'),\n    defaultOperator: FilterOperator.eq,\n    control: {\n      type: FilterControlType.Select,\n      defaultValue: 'active',\n      options: [\n        {\n          key: 'active',\n          label: message('Active'),\n          value: {value: null, operator: FilterOperator.eq},\n        },\n        {\n          key: 'cancelled',\n          label: message('Cancelled'),\n          value: {value: null, operator: FilterOperator.ne},\n        },\n      ],\n    },\n  },\n  {\n    control: {\n      type: FilterControlType.Select,\n      defaultValue: 'stripe',\n      options: [\n        {\n          key: 'stripe',\n          label: message('Stripe'),\n          value: 'stripe',\n        },\n        {\n          key: 'paypal',\n          label: message('PayPal'),\n          value: 'paypal',\n        },\n        {\n          key: 'none',\n          label: message('None'),\n          value: 'none',\n        },\n      ],\n    },\n    key: 'gateway_name',\n    label: message('Gateway'),\n    description: message(\n      'With which payment provider was subscription created'\n    ),\n    defaultOperator: FilterOperator.eq,\n  },\n  timestampFilter({\n    key: 'renews_at',\n    label: message('Renew date'),\n    description: message('Date subscription will renew'),\n  }),\n  createdAtFilter({\n    description: message('Date subscription was created'),\n  }),\n  updatedAtFilter({\n    description: message('Date subscription was last updated'),\n  }),\n];\n","export default \"__VITE_ASSET__2e46d67b__\"","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '../../../http/query-client';\nimport {useTrans} from '../../../i18n/use-trans';\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\nimport {toast} from '../../../ui/toast/toast';\nimport {message} from '../../../i18n/message';\nimport {DatatableDataQueryKey} from '../../../datatable/requests/paginated-resources';\nimport {onFormQueryError} from '../../../errors/on-form-query-error';\nimport {UseFormReturn} from 'react-hook-form';\nimport {Subscription} from '../../../billing/subscription';\n\ninterface Response extends BackendResponse {\n  subscription: Subscription;\n}\n\nexport interface UpdateSubscriptionPayload extends Partial<Subscription> {\n  id: number;\n}\n\nexport function useUpdateSubscription(\n  form: UseFormReturn<UpdateSubscriptionPayload>,\n) {\n  const {trans} = useTrans();\n  return useMutation({\n    mutationFn: (props: UpdateSubscriptionPayload) => updateSubscription(props),\n    onSuccess: () => {\n      toast(trans(message('Subscription updated')));\n      queryClient.invalidateQueries({\n        queryKey: DatatableDataQueryKey('billing/subscriptions'),\n      });\n    },\n    onError: err => onFormQueryError(err, form),\n  });\n}\n\nfunction updateSubscription({\n  id,\n  ...payload\n}: UpdateSubscriptionPayload): Promise<Response> {\n  return apiClient\n    .put(`billing/subscriptions/${id}`, payload)\n    .then(r => r.data);\n}\n","import {UseFormReturn} from 'react-hook-form';\nimport {Form} from '../../ui/forms/form';\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\nimport {FormSelect} from '../../ui/forms/select/select';\nimport {Trans} from '../../i18n/trans';\nimport {Item} from '../../ui/forms/listbox/item';\nimport {Subscription} from '../../billing/subscription';\nimport {FormDatePicker} from '../../ui/forms/input-field/date/date-picker/date-picker';\nimport {useProducts} from '../../billing/pricing-table/use-products';\nimport {FormattedPrice} from '../../i18n/formatted-price';\nimport {FormNormalizedModelField} from '../../ui/forms/normalized-model-field';\n\ninterface CrupdateSubscriptionForm {\n  onSubmit: (values: Partial<Subscription>) => void;\n  formId: string;\n  form: UseFormReturn<Partial<Subscription>>;\n}\nexport function CrupdateSubscriptionForm({\n  form,\n  onSubmit,\n  formId,\n}: CrupdateSubscriptionForm) {\n  const query = useProducts();\n  // @ts-ignore\n  const watchedProductId = form.watch('product_id');\n  const selectedProduct = query.data?.products.find(\n    p => p.id === watchedProductId,\n  );\n\n  return (\n    <Form id={formId} form={form} onSubmit={onSubmit}>\n      <FormNormalizedModelField\n        name=\"user_id\"\n        className=\"mb-20\"\n        endpoint=\"normalized-models/user\"\n        label={<Trans message=\"User\" />}\n      />\n      <FormSelect\n        name=\"product_id\"\n        selectionMode=\"single\"\n        className=\"mb-20\"\n        label={<Trans message=\"Plan\" />}\n      >\n        {query.data?.products\n          .filter(p => !p.free)\n          .map(product => (\n            <Item key={product.id} value={product.id}>\n              <Trans message={product.name} />\n            </Item>\n          ))}\n      </FormSelect>\n      {!selectedProduct?.free && (\n        <FormSelect\n          name=\"price_id\"\n          selectionMode=\"single\"\n          className=\"mb-20\"\n          label={<Trans message=\"Price\" />}\n        >\n          {selectedProduct?.prices.map(price => (\n            <Item key={price.id} value={price.id}>\n              <FormattedPrice price={price} />\n            </Item>\n          ))}\n        </FormSelect>\n      )}\n      <FormTextField\n        inputElementType=\"textarea\"\n        rows={3}\n        name=\"description\"\n        label={<Trans message=\"Description\" />}\n        className=\"mb-20\"\n      />\n      <FormDatePicker\n        className=\"mb-20\"\n        name=\"renews_at\"\n        granularity=\"day\"\n        label={<Trans message=\"Renews at\" />}\n        description={\n          <Trans message=\"This will only change local records. User will continue to be billed on their original cycle on the payment gateway.\" />\n        }\n      />\n      <FormDatePicker\n        className=\"mb-20\"\n        name=\"ends_at\"\n        granularity=\"day\"\n        label={<Trans message=\"Ends at\" />}\n        description={\n          <Trans message=\"This will only change local records. User will continue to be billed on their original cycle on the payment gateway.\" />\n        }\n      />\n    </Form>\n  );\n}\n","import {Dialog} from '../../ui/overlays/dialog/dialog';\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\nimport {Trans} from '../../i18n/trans';\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\nimport {Button} from '../../ui/buttons/button';\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\nimport {useForm} from 'react-hook-form';\nimport {Subscription} from '../../billing/subscription';\nimport {\n  UpdateSubscriptionPayload,\n  useUpdateSubscription,\n} from './requests/use-update-subscription';\nimport {CrupdateSubscriptionForm} from './crupdate-subscription-form';\n\ninterface UpdateSubscriptionDialogProps {\n  subscription: Subscription;\n}\nexport function UpdateSubscriptionDialog({\n  subscription,\n}: UpdateSubscriptionDialogProps) {\n  const {close, formId} = useDialogContext();\n  const form = useForm<UpdateSubscriptionPayload>({\n    defaultValues: {\n      id: subscription.id,\n      product_id: subscription.product_id,\n      price_id: subscription.price_id,\n      description: subscription.description,\n      renews_at: subscription.renews_at,\n      ends_at: subscription.ends_at,\n      user_id: subscription.user_id,\n    },\n  });\n  const updateSubscription = useUpdateSubscription(form);\n\n  return (\n    <Dialog size=\"md\">\n      <DialogHeader>\n        <Trans message=\"Update subscription\" />\n      </DialogHeader>\n      <DialogBody>\n        <CrupdateSubscriptionForm\n          formId={formId}\n          form={form as any}\n          onSubmit={values => {\n            updateSubscription.mutate(values as UpdateSubscriptionPayload, {\n              onSuccess: () => {\n                close();\n              },\n            });\n          }}\n        />\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          form={formId}\n          disabled={updateSubscription.isPending}\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n        >\n          <Trans message=\"Save\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '../../../http/query-client';\nimport {useTrans} from '../../../i18n/use-trans';\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\nimport {toast} from '../../../ui/toast/toast';\nimport {message} from '../../../i18n/message';\nimport {Tag} from '../../../tags/tag';\nimport {DatatableDataQueryKey} from '../../../datatable/requests/paginated-resources';\nimport {onFormQueryError} from '../../../errors/on-form-query-error';\nimport {UseFormReturn} from 'react-hook-form';\nimport {Subscription} from '../../../billing/subscription';\n\nconst endpoint = 'billing/subscriptions';\n\ninterface Response extends BackendResponse {\n  tag: Tag;\n}\n\ninterface Payload extends Partial<Subscription> {}\n\nexport function useCreateSubscription(form: UseFormReturn<Payload>) {\n  const {trans} = useTrans();\n  return useMutation({\n    mutationFn: (props: Payload) => createNewSubscription(props),\n    onSuccess: () => {\n      toast(trans(message('Subscription created')));\n      queryClient.invalidateQueries({\n        queryKey: DatatableDataQueryKey(endpoint),\n      });\n    },\n    onError: err => onFormQueryError(err, form),\n  });\n}\n\nfunction createNewSubscription(payload: Payload): Promise<Response> {\n  return apiClient.post(endpoint, payload).then(r => r.data);\n}\n","import {Dialog} from '../../ui/overlays/dialog/dialog';\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\nimport {Trans} from '../../i18n/trans';\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\nimport {Button} from '../../ui/buttons/button';\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\nimport {useForm} from 'react-hook-form';\nimport {useCreateSubscription} from './requests/use-create-subscription';\nimport {Subscription} from '../../billing/subscription';\nimport {CrupdateSubscriptionForm} from './crupdate-subscription-form';\n\nexport function CreateSubscriptionDialog() {\n  const {close, formId} = useDialogContext();\n  const form = useForm<Partial<Subscription>>({});\n  const createSubscription = useCreateSubscription(form);\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Add new subscription\" />\n      </DialogHeader>\n      <DialogBody>\n        <CrupdateSubscriptionForm\n          formId={formId}\n          form={form}\n          onSubmit={values => {\n            createSubscription.mutate(values, {\n              onSuccess: () => {\n                close();\n              },\n            });\n          }}\n        />\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          form={formId}\n          disabled={createSubscription.isPending}\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n        >\n          <Trans message=\"Save\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const PauseIcon = createSvgIcon(\n  <path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\" />\n, 'PauseOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const PlayArrowIcon = createSvgIcon(\n  <path d=\"M10 8.64 15.27 12 10 15.36V8.64M8 5v14l11-7L8 5z\" />\n, 'PlayArrowOutlined');\n","import React, {Fragment} from 'react';\nimport {DataTablePage} from '../../datatable/page/data-table-page';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {EditIcon} from '../../icons/material/Edit';\nimport {ColumnConfig} from '../../datatable/column-config';\nimport {Trans} from '../../i18n/trans';\nimport {DeleteSelectedItemsAction} from '../../datatable/page/delete-selected-items-action';\nimport {DataTableEmptyStateMessage} from '../../datatable/page/data-table-emty-state-message';\nimport {SubscriptionIndexPageFilters} from './subscription-index-page-filters';\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\nimport {DataTableAddItemButton} from '../../datatable/data-table-add-item-button';\nimport subscriptionsSvg from './subscriptions.svg';\nimport {NameWithAvatar} from '../../datatable/column-templates/name-with-avatar';\nimport {Subscription} from '../../billing/subscription';\nimport {CloseIcon} from '../../icons/material/Close';\nimport {FormattedDate} from '../../i18n/formatted-date';\nimport {UpdateSubscriptionDialog} from './update-subscription-dialog';\nimport {CreateSubscriptionDialog} from './create-subscription-dialog';\nimport {useCancelSubscription} from '../../billing/billing-page/requests/use-cancel-subscription';\nimport {PauseIcon} from '../../icons/material/Pause';\nimport {queryClient} from '../../http/query-client';\nimport {DatatableDataQueryKey} from '../../datatable/requests/paginated-resources';\nimport {Tooltip} from '../../ui/tooltip/tooltip';\nimport {useResumeSubscription} from '../../billing/billing-page/requests/use-resume-subscription';\nimport {PlayArrowIcon} from '../../icons/material/PlayArrow';\nimport {ConfirmationDialog} from '../../ui/overlays/dialog/confirmation-dialog';\nimport {Chip} from '../../ui/forms/input-field/chip-field/chip';\n\nconst endpoint = 'billing/subscriptions';\n\nconst columnConfig: ColumnConfig<Subscription>[] = [\n  {\n    key: 'user_id',\n    allowsSorting: true,\n    width: 'flex-3 min-w-200',\n    visibleInMode: 'all',\n    header: () => <Trans message=\"Customer\" />,\n    body: subscription =>\n      subscription.user && (\n        <NameWithAvatar\n          image={subscription.user.avatar}\n          label={subscription.user.display_name}\n          description={subscription.user.email}\n        />\n      ),\n  },\n  {\n    key: 'status',\n    width: 'w-100 flex-shrink-0',\n    header: () => <Trans message=\"Status\" />,\n    body: subscription => {\n      if (subscription.valid) {\n        return (\n          <Chip size=\"xs\" color=\"positive\" radius=\"rounded\" className=\"w-max\">\n            <Trans message=\"Active\" />\n          </Chip>\n        );\n      }\n      return (\n        <Chip size=\"xs\" radius=\"rounded\" className=\"w-max\">\n          <Trans message=\"Cancelled\" />\n        </Chip>\n      );\n    },\n  },\n  {\n    key: 'product_id',\n    allowsSorting: true,\n    header: () => <Trans message=\"Plan\" />,\n    body: subscription => subscription.product?.name,\n  },\n  {\n    key: 'gateway_name',\n    allowsSorting: true,\n    header: () => <Trans message=\"Gateway\" />,\n    body: subscription => (\n      <span className=\"capitalize\">{subscription.gateway_name}</span>\n    ),\n  },\n  {\n    key: 'renews_at',\n    allowsSorting: true,\n    header: () => <Trans message=\"Renews at\" />,\n    body: subscription => <FormattedDate date={subscription.renews_at} />,\n  },\n  {\n    key: 'ends_at',\n    allowsSorting: true,\n    header: () => <Trans message=\"Ends at\" />,\n    body: subscription => <FormattedDate date={subscription.ends_at} />,\n  },\n  {\n    key: 'created_at',\n    allowsSorting: true,\n    header: () => <Trans message=\"Created at\" />,\n    body: subscription => <FormattedDate date={subscription.created_at} />,\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    hideHeader: true,\n    align: 'end',\n    visibleInMode: 'all',\n    width: 'w-128 flex-shrink-0',\n    body: subscription => {\n      return <SubscriptionActions subscription={subscription} />;\n    },\n  },\n];\n\nexport function SubscriptionsIndexPage() {\n  return (\n    <DataTablePage\n      endpoint={endpoint}\n      title={<Trans message=\"Subscriptions\" />}\n      columns={columnConfig}\n      filters={SubscriptionIndexPageFilters}\n      actions={<PageActions />}\n      enableSelection={false}\n      selectedActions={<DeleteSelectedItemsAction />}\n      queryParams={{with: 'product'}}\n      emptyStateMessage={\n        <DataTableEmptyStateMessage\n          image={subscriptionsSvg}\n          title={<Trans message=\"No subscriptions have been created yet\" />}\n          filteringTitle={<Trans message=\"No matching subscriptions\" />}\n        />\n      }\n    />\n  );\n}\n\nfunction PageActions() {\n  return (\n    <>\n      <DialogTrigger type=\"modal\">\n        <DataTableAddItemButton>\n          <Trans message=\"Add new subscription\" />\n        </DataTableAddItemButton>\n        <CreateSubscriptionDialog />\n      </DialogTrigger>\n    </>\n  );\n}\n\ninterface SubscriptionActionsProps {\n  subscription: Subscription;\n}\nfunction SubscriptionActions({subscription}: SubscriptionActionsProps) {\n  return (\n    <Fragment>\n      <DialogTrigger type=\"modal\">\n        <IconButton size=\"md\" className=\"text-muted\">\n          <EditIcon />\n        </IconButton>\n        <UpdateSubscriptionDialog subscription={subscription} />\n      </DialogTrigger>\n      {subscription.cancelled ? (\n        <ResumeSubscriptionButton subscription={subscription} />\n      ) : (\n        <SuspendSubscriptionButton subscription={subscription} />\n      )}\n      <CancelSubscriptionButton subscription={subscription} />\n    </Fragment>\n  );\n}\n\nfunction SuspendSubscriptionButton({subscription}: SubscriptionActionsProps) {\n  const cancelSubscription = useCancelSubscription();\n\n  const handleSuspendSubscription = () => {\n    cancelSubscription.mutate(\n      {subscriptionId: subscription.id},\n      {\n        onSuccess: () => {\n          queryClient.invalidateQueries({\n            queryKey: DatatableDataQueryKey(endpoint),\n          });\n        },\n      },\n    );\n  };\n\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      onClose={confirmed => {\n        if (confirmed) {\n          handleSuspendSubscription();\n        }\n      }}\n    >\n      <Tooltip label={<Trans message=\"Cancel subscription\" />}>\n        <IconButton\n          size=\"md\"\n          className=\"text-muted\"\n          disabled={cancelSubscription.isPending}\n        >\n          <PauseIcon />\n        </IconButton>\n      </Tooltip>\n      <ConfirmationDialog\n        title={<Trans message=\"Cancel subscription\" />}\n        body={\n          <div>\n            <Trans message=\"Are you sure you want to cancel this subscription?\" />\n            <div className=\"mt-10 text-sm font-semibold\">\n              <Trans message=\"This will put user on grace period until their next scheduled renewal date. Subscription can be renewed until that date by user or from admin area.\" />\n            </div>\n          </div>\n        }\n        confirm={<Trans message=\"Confirm\" />}\n      />\n    </DialogTrigger>\n  );\n}\n\nfunction ResumeSubscriptionButton({subscription}: SubscriptionActionsProps) {\n  const resumeSubscription = useResumeSubscription();\n  const handleResumeSubscription = () => {\n    resumeSubscription.mutate(\n      {subscriptionId: subscription.id},\n      {\n        onSuccess: () => {\n          queryClient.invalidateQueries({\n            queryKey: DatatableDataQueryKey(endpoint),\n          });\n        },\n      },\n    );\n  };\n\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      onClose={confirmed => {\n        if (confirmed) {\n          handleResumeSubscription();\n        }\n      }}\n    >\n      <Tooltip label={<Trans message=\"Renew subscription\" />}>\n        <IconButton\n          size=\"md\"\n          className=\"text-muted\"\n          onClick={handleResumeSubscription}\n          disabled={resumeSubscription.isPending}\n        >\n          <PlayArrowIcon />\n        </IconButton>\n      </Tooltip>\n      <ConfirmationDialog\n        title={<Trans message=\"Resume subscription\" />}\n        body={\n          <div>\n            <Trans message=\"Are you sure you want to resume this subscription?\" />\n            <div className=\"mt-10 text-sm font-semibold\">\n              <Trans message=\"This will put user on their original plan and billing cycle.\" />\n            </div>\n          </div>\n        }\n        confirm={<Trans message=\"Confirm\" />}\n      />\n    </DialogTrigger>\n  );\n}\n\nfunction CancelSubscriptionButton({subscription}: SubscriptionActionsProps) {\n  const cancelSubscription = useCancelSubscription();\n\n  const handleDeleteSubscription = () => {\n    cancelSubscription.mutate(\n      {subscriptionId: subscription.id, delete: true},\n      {\n        onSuccess: () => {\n          queryClient.invalidateQueries({\n            queryKey: DatatableDataQueryKey(endpoint),\n          });\n        },\n      },\n    );\n  };\n\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      onClose={confirmed => {\n        if (confirmed) {\n          handleDeleteSubscription();\n        }\n      }}\n    >\n      <Tooltip label={<Trans message=\"Delete subscription\" />}>\n        <IconButton\n          size=\"md\"\n          className=\"text-muted\"\n          disabled={cancelSubscription.isPending}\n        >\n          <CloseIcon />\n        </IconButton>\n      </Tooltip>\n      <ConfirmationDialog\n        isDanger\n        title={<Trans message=\"Delete subscription\" />}\n        body={\n          <div>\n            <Trans message=\"Are you sure you want to delete this subscription?\" />\n            <div className=\"mt-10 text-sm font-semibold\">\n              <Trans message=\"This will permanently delete the subscription and immediately cancel it on billing gateway. Subscription will not be renewable anymore.\" />\n            </div>\n          </div>\n        }\n        confirm={<Trans message=\"Confirm\" />}\n      />\n    </DialogTrigger>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const SyncIcon = createSvgIcon(\n  <path d=\"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z\" />\n, 'SyncOutlined');\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient} from '../../../http/query-client';\nimport {useTrans} from '../../../i18n/use-trans';\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\nimport {toast} from '../../../ui/toast/toast';\nimport {message} from '../../../i18n/message';\nimport {showHttpErrorToast} from '../../../utils/http/show-http-error-toast';\n\ninterface Response extends BackendResponse {}\n\nexport function useSyncProducts() {\n  const {trans} = useTrans();\n  return useMutation({\n    mutationFn: () => syncPlans(),\n    onSuccess: () => {\n      toast(trans(message('Plans synced')));\n    },\n    onError: err => showHttpErrorToast(err, message('Could not sync plans')),\n  });\n}\n\nfunction syncPlans(): Promise<Response> {\n  return apiClient.post('billing/products/sync').then(r => r.data);\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '../../../http/query-client';\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\nimport {toast} from '../../../ui/toast/toast';\nimport {useTrans} from '../../../i18n/use-trans';\nimport {message} from '../../../i18n/message';\nimport {DatatableDataQueryKey} from '../../../datatable/requests/paginated-resources';\nimport {showHttpErrorToast} from '../../../utils/http/show-http-error-toast';\n\nconst endpoint = (id: number) => `billing/products/${id}`;\n\ninterface Response extends BackendResponse {}\n\ninterface Payload {\n  productId: number;\n}\n\nexport function useDeleteProduct() {\n  const {trans} = useTrans();\n  return useMutation({\n    mutationFn: (payload: Payload) => updateProduct(payload),\n    onSuccess: () => {\n      toast(trans(message('Plan deleted')));\n      queryClient.invalidateQueries({\n        queryKey: DatatableDataQueryKey('billing/products'),\n      });\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction updateProduct({productId}: Payload): Promise<Response> {\n  return apiClient.delete(endpoint(productId)).then(r => r.data);\n}\n","import {\n  BackendFilter,\n  FilterControlType,\n  FilterOperator,\n} from '../../datatable/filters/backend-filter';\nimport {message} from '../../i18n/message';\nimport {\n  createdAtFilter,\n  updatedAtFilter,\n} from '@common/datatable/filters/timestamp-filters';\n\nexport const PlansIndexPageFilters: BackendFilter[] = [\n  {\n    key: 'subscriptions',\n    label: message('Subscriptions'),\n    description: message('Whether plan has any active subscriptions'),\n    defaultOperator: FilterOperator.eq,\n    control: {\n      type: FilterControlType.Select,\n      defaultValue: '01',\n      options: [\n        {\n          key: '01',\n          label: message('Has active subscriptions'),\n          value: {value: '*', operator: FilterOperator.has},\n        },\n        {\n          key: '02',\n          label: message('Does not have active subscriptions'),\n          value: {value: '*', operator: FilterOperator.doesntHave},\n        },\n      ],\n    },\n  },\n  createdAtFilter({\n    description: message('Date plan was created'),\n  }),\n  updatedAtFilter({\n    description: message('Date plan was last updated'),\n  }),\n];\n","import React, {Fragment} from 'react';\nimport {DataTablePage} from '../../datatable/page/data-table-page';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {EditIcon} from '../../icons/material/Edit';\nimport {FormattedDate} from '../../i18n/formatted-date';\nimport {ColumnConfig} from '../../datatable/column-config';\nimport {Trans} from '../../i18n/trans';\nimport {DataTableEmptyStateMessage} from '../../datatable/page/data-table-emty-state-message';\nimport softwareEngineerSvg from './../tags/software-engineer.svg';\nimport {DataTableAddItemButton} from '../../datatable/data-table-add-item-button';\nimport {Product} from '../../billing/product';\nimport {NameWithAvatar} from '../../datatable/column-templates/name-with-avatar';\nimport {Link} from 'react-router-dom';\nimport {FormattedPrice} from '../../i18n/formatted-price';\nimport {SyncIcon} from '../../icons/material/Sync';\nimport {useSyncProducts} from './requests/use-sync-products';\nimport {Tooltip} from '../../ui/tooltip/tooltip';\nimport {useDeleteProduct} from './requests/use-delete-product';\nimport {DeleteIcon} from '../../icons/material/Delete';\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\nimport {ConfirmationDialog} from '../../ui/overlays/dialog/confirmation-dialog';\nimport {useNavigate} from '../../utils/hooks/use-navigate';\nimport {PlansIndexPageFilters} from './plans-index-page-filters';\n\nconst columnConfig: ColumnConfig<Product>[] = [\n  {\n    key: 'name',\n    allowsSorting: true,\n    visibleInMode: 'all',\n    header: () => <Trans message=\"Name\" />,\n    body: product => {\n      const price = product.prices[0];\n      return (\n        <NameWithAvatar\n          label={product.name}\n          description={\n            product.free ? (\n              <Trans message=\"Free\" />\n            ) : (\n              <FormattedPrice price={price} />\n            )\n          }\n        />\n      );\n    },\n  },\n  {\n    key: 'created_at',\n    allowsSorting: true,\n    maxWidth: 'max-w-100',\n    header: () => <Trans message=\"Created\" />,\n    body: product => <FormattedDate date={product.created_at} />,\n  },\n  {\n    key: 'updated_at',\n    allowsSorting: true,\n    maxWidth: 'max-w-100',\n    header: () => <Trans message=\"Last updated\" />,\n    body: product => <FormattedDate date={product.updated_at} />,\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    visibleInMode: 'all',\n    hideHeader: true,\n    align: 'end',\n    maxWidth: 'max-w-84',\n    body: product => {\n      return (\n        <Fragment>\n          <IconButton\n            size=\"md\"\n            className=\"text-muted\"\n            elementType={Link}\n            to={`/admin/plans/${product.id}/edit`}\n          >\n            <EditIcon />\n          </IconButton>\n          <DeleteProductButton product={product} />\n        </Fragment>\n      );\n    },\n  },\n];\n\nexport function PlansIndexPage() {\n  const navigate = useNavigate();\n  return (\n    <DataTablePage\n      endpoint=\"billing/products\"\n      title={<Trans message=\"Subscription plans\" />}\n      columns={columnConfig}\n      actions={<Actions />}\n      enableSelection={false}\n      filters={PlansIndexPageFilters}\n      onRowAction={item => {\n        navigate(`/admin/plans/${item.id}/edit`);\n      }}\n      emptyStateMessage={\n        <DataTableEmptyStateMessage\n          image={softwareEngineerSvg}\n          title={<Trans message=\"No plans have been created yet\" />}\n          filteringTitle={<Trans message=\"No matching plans\" />}\n        />\n      }\n    />\n  );\n}\n\ninterface DeleteProductButtonProps {\n  product: Product;\n}\nfunction DeleteProductButton({product}: DeleteProductButtonProps) {\n  const deleteProduct = useDeleteProduct();\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      onClose={confirmed => {\n        if (confirmed) {\n          deleteProduct.mutate({productId: product.id});\n        }\n      }}\n    >\n      <Tooltip label={<Trans message=\"Delete plan\" />}>\n        <IconButton\n          size=\"md\"\n          className=\"text-muted\"\n          disabled={deleteProduct.isPending}\n        >\n          <DeleteIcon />\n        </IconButton>\n      </Tooltip>\n      <ConfirmationDialog\n        title={<Trans message=\"Delete plan\" />}\n        body={<Trans message=\"Are you sure you want to delete this plan?\" />}\n        confirm={<Trans message=\"Delete\" />}\n      />\n    </DialogTrigger>\n  );\n}\n\nfunction Actions() {\n  const syncPlans = useSyncProducts();\n  return (\n    <Fragment>\n      <Tooltip label={<Trans message=\"Sync plans with Stripe & PayPal\" />}>\n        <IconButton\n          color=\"primary\"\n          variant=\"outline\"\n          size=\"sm\"\n          disabled={syncPlans.isPending}\n          onClick={() => {\n            syncPlans.mutate();\n          }}\n        >\n          <SyncIcon />\n        </IconButton>\n      </Tooltip>\n      <DataTableAddItemButton elementType={Link} to=\"/admin/plans/new\">\n        <Trans message=\"Add new plan\" />\n      </DataTableAddItemButton>\n    </Fragment>\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {apiClient} from '@common/http/query-client';\nimport {useParams} from 'react-router-dom';\nimport {Product} from '@common/billing/product';\n\nconst Endpoint = (id: number | string) => `billing/products/${id}`;\n\nexport interface FetchRoleResponse extends BackendResponse {\n  product: Product;\n}\n\nexport function useProduct() {\n  const {productId} = useParams();\n  return useQuery({\n    queryKey: [Endpoint(productId!)],\n    queryFn: () => fetchProduct(productId!),\n  });\n}\n\nfunction fetchProduct(productId: number | string): Promise<FetchRoleResponse> {\n  return apiClient.get(Endpoint(productId)).then(response => response.data);\n}\n","import {message} from '../../../i18n/message';\n\nexport const BillingPeriodPresets = [\n  {\n    key: 'day1',\n    label: message('Daily'),\n    interval: 'day',\n    interval_count: 1,\n  },\n  {\n    key: 'week1',\n    label: message('Weekly'),\n    interval: 'week',\n    interval_count: 1,\n  },\n  {\n    key: 'month1',\n    label: message('Monthly'),\n    interval: 'month',\n    interval_count: 1,\n  },\n  {\n    key: 'month3',\n    label: message('Every 3 months'),\n    interval: 'month',\n    interval_count: 3,\n  },\n  {\n    key: 'month6',\n    label: message('Every 6 months'),\n    interval: 'month',\n    interval_count: 6,\n  },\n  {\n    key: 'year1',\n    label: message('Yearly'),\n    interval: 'year',\n    interval_count: 1,\n  },\n  {\n    key: 'custom',\n    label: message('Custom'),\n    interval: null,\n    interval_count: null,\n  },\n];\n","import {useFormContext} from 'react-hook-form';\nimport {Product} from '@common/billing/product';\nimport React, {Fragment, useMemo, useState} from 'react';\nimport {useValueLists} from '@common/http/value-lists';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {FormSelect, Select} from '@common/ui/forms/select/select';\nimport {Price} from '@common/billing/price';\nimport {BillingPeriodPresets} from '@common/admin/plans/crupdate-plan-page/billing-period-presets';\nimport {Button} from '@common/ui/buttons/button';\nimport {message} from '@common/i18n/message';\nimport {useTrans} from '@common/i18n/use-trans';\n\ninterface PriceFormProps {\n  index: number;\n  onRemovePrice: () => void;\n}\nexport function PriceForm({index, onRemovePrice}: PriceFormProps) {\n  const {trans} = useTrans();\n  const query = useValueLists(['currencies']);\n  const currencies = useMemo(() => {\n    return query.data?.currencies ? Object.values(query.data.currencies) : [];\n  }, [query.data]);\n  const {watch, getValues} = useFormContext<Product>();\n  const isNewProduct = !watch('id');\n  const isNewPrice = watch(`prices.${index}.id`) == null;\n  const subscriberCount = watch(`prices.${index}.subscriptions_count`) || 0;\n\n  // select billing period preset based on price \"interval\" and \"interval_count\"\n  const [billingPeriodPreset, setBillingPeriodPreset] = useState(() => {\n    const interval = getValues(`prices.${index}.interval`);\n    const intervalCount = getValues(`prices.${index}.interval_count`);\n    const preset = BillingPeriodPresets.find(\n      p => p.key === `${interval}${intervalCount}`\n    );\n    return preset ? preset.key : 'custom';\n  });\n\n  const allowPriceChanges = isNewProduct || isNewPrice || !subscriberCount;\n\n  return (\n    <Fragment>\n      {!allowPriceChanges && (\n        <p className=\"text-muted text-sm max-w-500 mb-20\">\n          <Trans\n            message=\"This price can't modified or deleted, because it has [one 1 subscriber|other :count subscribers]. You can instead add a new price.\"\n            values={{count: subscriberCount}}\n          />\n        </p>\n      )}\n\n      <FormTextField\n        required\n        disabled={!allowPriceChanges}\n        label={<Trans message=\"Amount\" />}\n        type=\"number\"\n        min={0.1}\n        step={0.01}\n        name={`prices.${index}.amount`}\n        className=\"mb-20\"\n      />\n      <FormSelect\n        required\n        disabled={!allowPriceChanges}\n        label={<Trans message=\"Currency\" />}\n        name={`prices.${index}.currency`}\n        items={currencies}\n        showSearchField\n        searchPlaceholder={trans(message('Search currencies'))}\n        selectionMode=\"single\"\n        className=\"mb-20\"\n      >\n        {item => (\n          <Item\n            value={item.code}\n            key={item.code}\n          >{`${item.code}: ${item.name}`}</Item>\n        )}\n      </FormSelect>\n      <BillingPeriodSelect\n        disabled={!allowPriceChanges}\n        index={index}\n        value={billingPeriodPreset}\n        onValueChange={setBillingPeriodPreset}\n      />\n      {billingPeriodPreset === 'custom' && (\n        <CustomBillingPeriodField disabled={!allowPriceChanges} index={index} />\n      )}\n      <div className=\"text-right\">\n        <Button\n          size=\"xs\"\n          variant=\"outline\"\n          color=\"danger\"\n          disabled={!allowPriceChanges}\n          onClick={() => {\n            onRemovePrice();\n          }}\n        >\n          <Trans message=\"Delete price\" />\n        </Button>\n      </div>\n    </Fragment>\n  );\n}\n\ninterface BillingPeriodSelectProps {\n  index: number;\n  value: string;\n  onValueChange: (value: string) => void;\n  disabled: boolean;\n}\nfunction BillingPeriodSelect({\n  index,\n  value,\n  onValueChange,\n  disabled,\n}: BillingPeriodSelectProps) {\n  const {setValue: setFormValue} = useFormContext<Product>();\n\n  return (\n    <Select\n      label={<Trans message=\"Billing period\" />}\n      disabled={disabled}\n      className=\"mb-20\"\n      selectionMode=\"single\"\n      selectedValue={value}\n      onSelectionChange={value => {\n        onValueChange(value as string);\n        if (value === 'custom') {\n        } else {\n          const preset = BillingPeriodPresets.find(p => p.key === value);\n          if (preset) {\n            setFormValue(\n              `prices.${index}.interval`,\n              preset.interval as Price['interval']\n            );\n            setFormValue(\n              `prices.${index}.interval_count`,\n              preset.interval_count as number\n            );\n          }\n        }\n      }}\n    >\n      {BillingPeriodPresets.map(preset => (\n        <Item key={preset.key} value={preset.key}>\n          <Trans {...preset.label} />\n        </Item>\n      ))}\n    </Select>\n  );\n}\n\ninterface CustomBillingPeriodFieldProps {\n  index: number;\n  disabled: boolean;\n}\nfunction CustomBillingPeriodField({\n  index,\n  disabled,\n}: CustomBillingPeriodFieldProps) {\n  const {watch} = useFormContext<Product>();\n  const interval = watch(`prices.${index}.interval`);\n  let maxIntervalCount: number;\n\n  if (interval === 'day') {\n    maxIntervalCount = 365;\n  } else if (interval === 'week') {\n    maxIntervalCount = 52;\n  } else {\n    maxIntervalCount = 12;\n  }\n\n  return (\n    <div className=\"flex border rounded w-min\">\n      <div className=\"px-18 flex items-center text-sm\">\n        <Trans message=\"Every\" />\n      </div>\n      <FormTextField\n        inputShadow=\"shadow-none\"\n        inputBorder=\"border-none\"\n        className=\"border-l border-r w-80\"\n        name={`prices.${index}.interval_count`}\n        type=\"number\"\n        min={1}\n        max={maxIntervalCount}\n        disabled={disabled}\n        required\n      />\n      <FormSelect\n        inputShadow=\"shadow-none\"\n        inputBorder=\"border-none\"\n        name={`prices.${index}.interval`}\n        selectionMode=\"single\"\n        disabled={disabled}\n      >\n        <Item value=\"day\">\n          <Trans message=\"Days\" />\n        </Item>\n        <Item value=\"week\">\n          <Trans message=\"Weeks\" />\n        </Item>\n        <Item value=\"month\">\n          <Trans message=\"Months\" />\n        </Item>\n      </FormSelect>\n    </div>\n  );\n}\n","import {FormTextField} from '../../../ui/forms/input-field/text-field/text-field';\nimport {Trans} from '../../../i18n/trans';\nimport React, {Fragment, ReactNode} from 'react';\nimport {useFieldArray, useFormContext} from 'react-hook-form';\nimport {Accordion, AccordionItem} from '../../../ui/accordion/accordion';\nimport {FormattedPrice} from '../../../i18n/formatted-price';\nimport {FormPermissionSelector} from '../../../auth/ui/permission-selector';\nimport {PriceForm} from './price-form';\nimport {Button} from '../../../ui/buttons/button';\nimport {AddIcon} from '../../../icons/material/Add';\nimport {IconButton} from '../../../ui/buttons/icon-button';\nimport {CloseIcon} from '../../../icons/material/Close';\nimport {CreateProductPayload} from '../requests/use-create-product';\nimport {FormSwitch} from '../../../ui/forms/toggle/switch';\nimport {FormSelect} from '../../../ui/forms/select/select';\nimport {Item} from '../../../ui/forms/listbox/item';\nimport {FormFileSizeField} from '../../../ui/forms/input-field/file-size-field';\nimport {Link} from 'react-router-dom';\nimport {LinkStyle} from '../../../ui/buttons/external-link';\n\nexport function CrupdatePlanForm() {\n  return (\n    <Fragment>\n      <FormTextField\n        name=\"name\"\n        label={<Trans message=\"Name\" />}\n        className=\"mb-20\"\n        required\n        autoFocus\n      />\n      <FormTextField\n        name=\"description\"\n        label={<Trans message=\"Description\" />}\n        className=\"mb-20\"\n        inputElementType=\"textarea\"\n        rows={4}\n      />\n      <FormSelect\n        name=\"position\"\n        selectionMode=\"single\"\n        label={<Trans message=\"Position in pricing table\" />}\n        className=\"mb-20\"\n      >\n        <Item value={0}>\n          <Trans message=\"First\" />\n        </Item>\n        <Item value={1}>\n          <Trans message=\"Second\" />\n        </Item>\n        <Item value={2}>\n          <Trans message=\"Third\" />\n        </Item>\n        <Item value={3}>\n          <Trans message=\"Fourth\" />\n        </Item>\n        <Item value={4}>\n          <Trans message=\"Fifth\" />\n        </Item>\n      </FormSelect>\n      <FormFileSizeField\n        className=\"mb-30\"\n        name=\"available_space\"\n        label={<Trans message=\"Allowed storage space\" />}\n        description={\n          <Trans\n            values={{\n              a: parts => (\n                <Link\n                  className={LinkStyle}\n                  target=\"_blank\"\n                  to=\"/admin/settings/uploading\"\n                >\n                  {parts}\n                </Link>\n              ),\n            }}\n            message=\"Total storage space all user uploads are allowed to take up.\"\n          />\n        }\n      />\n      <FormSwitch\n        name=\"recommended\"\n        className=\"mb-20\"\n        description={\n          <Trans message=\"Plan will be displayed more prominently on pricing page.\" />\n        }\n      >\n        <Trans message=\"Recommend\" />\n      </FormSwitch>\n      <FormSwitch\n        name=\"hidden\"\n        className=\"mb-20\"\n        description={\n          <Trans message=\"Plan will not be shown on pricing or upgrade pages.\" />\n        }\n      >\n        <Trans message=\"Hidden\" />\n      </FormSwitch>\n      <FormSwitch\n        name=\"free\"\n        className=\"mb-20\"\n        description={\n          <Trans message=\"Will be assigned to all users, if they are not subscribed already.\" />\n        }\n      >\n        <Trans message=\"Free\" />\n      </FormSwitch>\n      <Header>\n        <Trans message=\"Feature list\" />\n      </Header>\n      <FeatureListForm />\n      <PricingListForm />\n      <Header>\n        <Trans message=\"Permissions\" />\n      </Header>\n      <FormPermissionSelector name=\"permissions\" />\n    </Fragment>\n  );\n}\n\ninterface HeaderProps {\n  children: ReactNode;\n}\nfunction Header({children}: HeaderProps) {\n  return <h2 className=\"mt-40 mb-20 text-base font-semibold\">{children}</h2>;\n}\n\nfunction FeatureListForm() {\n  const {fields, append, remove} = useFieldArray<CreateProductPayload>({\n    name: 'feature_list',\n  });\n  return (\n    <div>\n      {fields.map((field, index) => {\n        return (\n          <div key={field.id} className=\"flex gap-10 mb-10\">\n            <FormTextField\n              name={`feature_list.${index}.value`}\n              size=\"sm\"\n              className=\"flex-auto\"\n            />\n            <IconButton\n              size=\"sm\"\n              color=\"primary\"\n              className=\"flex-shrink-0\"\n              onClick={() => {\n                remove(index);\n              }}\n            >\n              <CloseIcon />\n            </IconButton>\n          </div>\n        );\n      })}\n      <Button\n        variant=\"text\"\n        color=\"primary\"\n        startIcon={<AddIcon />}\n        size=\"xs\"\n        onClick={() => {\n          append({value: ''});\n        }}\n      >\n        <Trans message=\"Add another line\" />\n      </Button>\n    </div>\n  );\n}\n\nfunction PricingListForm() {\n  const {\n    watch,\n    formState: {errors},\n  } = useFormContext<CreateProductPayload>();\n  const {fields, append, remove} = useFieldArray<\n    CreateProductPayload,\n    'prices',\n    'key'\n  >({\n    name: 'prices',\n    keyName: 'key',\n  });\n\n  // if plan is marked as free, hide pricing form\n  if (watch('free')) {\n    return null;\n  }\n\n  return (\n    <Fragment>\n      <Header>\n        <Trans message=\"Pricing\" />\n      </Header>\n      {errors.prices?.message && (\n        <div className=\"text-sm text-danger mb-20\">{errors.prices.message}</div>\n      )}\n      <Accordion variant=\"outline\" className=\"mb-10\">\n        {fields.map((field, index) => (\n          <AccordionItem\n            label={<FormattedPrice price={field} />}\n            key={field.key}\n          >\n            <PriceForm\n              index={index}\n              onRemovePrice={() => {\n                remove(index);\n              }}\n            />\n          </AccordionItem>\n        ))}\n      </Accordion>\n      <Button\n        variant=\"text\"\n        color=\"primary\"\n        startIcon={<AddIcon />}\n        size=\"xs\"\n        onClick={() => {\n          append({\n            currency: 'USD',\n            amount: 1,\n            interval_count: 1,\n            interval: 'month',\n          });\n        }}\n      >\n        <Trans message=\"Add another price\" />\n      </Button>\n    </Fragment>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '../../../http/query-client';\nimport {BackendResponse} from '../../../http/backend-response/backend-response';\nimport {toast} from '../../../ui/toast/toast';\nimport {useTrans} from '../../../i18n/use-trans';\nimport {message} from '../../../i18n/message';\nimport {DatatableDataQueryKey} from '../../../datatable/requests/paginated-resources';\nimport {Product} from '../../../billing/product';\nimport {useNavigate} from '../../../utils/hooks/use-navigate';\nimport {CreateProductPayload} from './use-create-product';\nimport {UseFormReturn} from 'react-hook-form';\nimport {onFormQueryError} from '../../../errors/on-form-query-error';\n\ninterface Response extends BackendResponse {\n  product: Product;\n}\n\nexport interface UpdateProductPayload extends CreateProductPayload {\n  id: number;\n}\n\nconst Endpoint = (id: number) => `billing/products/${id}`;\n\nexport function useUpdateProduct(form: UseFormReturn<UpdateProductPayload>) {\n  const {trans} = useTrans();\n  const navigate = useNavigate();\n  return useMutation({\n    mutationFn: (payload: UpdateProductPayload) => updateProduct(payload),\n    onSuccess: response => {\n      toast(trans(message('Plan updated')));\n      queryClient.invalidateQueries({\n        queryKey: [Endpoint(response.product.id)],\n      });\n      queryClient.invalidateQueries({\n        queryKey: DatatableDataQueryKey('billing/products'),\n      });\n      navigate('/admin/plans');\n    },\n    onError: err => onFormQueryError(err, form),\n  });\n}\n\nfunction updateProduct({\n  id,\n  ...payload\n}: UpdateProductPayload): Promise<Response> {\n  const backendPayload = {\n    ...payload,\n    feature_list: payload.feature_list.map(feature => feature.value),\n  };\n  return apiClient.put(Endpoint(id), backendPayload).then(r => r.data);\n}\n","import {FullPageLoader} from '../../../ui/progress/full-page-loader';\nimport {Trans} from '../../../i18n/trans';\nimport {useForm} from 'react-hook-form';\nimport {CrupdateResourceLayout} from '../../crupdate-resource-layout';\nimport {useProduct} from '../requests/use-product';\nimport {Product} from '../../../billing/product';\nimport {CrupdatePlanForm} from './crupdate-plan-form';\nimport {\n  UpdateProductPayload,\n  useUpdateProduct,\n} from '../requests/use-update-product';\n\nexport function EditPlanPage() {\n  const query = useProduct();\n\n  if (query.status !== 'success') {\n    return <FullPageLoader />;\n  }\n\n  return <PageContent product={query.data.product} />;\n}\n\ninterface PageContentProps {\n  product: Product;\n}\nfunction PageContent({product}: PageContentProps) {\n  const form = useForm<UpdateProductPayload>({\n    defaultValues: {\n      ...product,\n      feature_list: product.feature_list.map(f => ({value: f})),\n    },\n  });\n  const updateProduct = useUpdateProduct(form);\n\n  return (\n    <CrupdateResourceLayout\n      form={form}\n      onSubmit={values => {\n        updateProduct.mutate(values);\n      }}\n      title={\n        <Trans message=\"Edit “:name“ plan\" values={{name: product.name}} />\n      }\n      isLoading={updateProduct.isPending}\n    >\n      <CrupdatePlanForm />\n    </CrupdateResourceLayout>\n  );\n}\n","import {Product} from '../../../billing/product';\nimport {useTrans} from '../../../i18n/use-trans';\nimport {useNavigate} from '../../../utils/hooks/use-navigate';\nimport {useMutation} from '@tanstack/react-query';\nimport {toast} from '../../../ui/toast/toast';\nimport {message} from '../../../i18n/message';\nimport {apiClient, queryClient} from '../../../http/query-client';\nimport {DatatableDataQueryKey} from '../../../datatable/requests/paginated-resources';\nimport {Price} from '../../../billing/price';\nimport {onFormQueryError} from '../../../errors/on-form-query-error';\nimport {UseFormReturn} from 'react-hook-form';\n\nconst endpoint = 'billing/products';\n\nexport interface CreateProductPayload\n  extends Omit<Partial<Product>, 'feature_list' | 'prices'> {\n  feature_list: {value: string}[];\n  prices: Omit<Price, 'id'>[];\n}\n\nexport function useCreateProduct(form: UseFormReturn<CreateProductPayload>) {\n  const {trans} = useTrans();\n  const navigate = useNavigate();\n  return useMutation({\n    mutationFn: (payload: CreateProductPayload) => createProduct(payload),\n    onSuccess: () => {\n      toast(trans(message('Plan created')));\n      queryClient.invalidateQueries({queryKey: [endpoint]});\n      queryClient.invalidateQueries({\n        queryKey: DatatableDataQueryKey('billing/products'),\n      });\n      navigate('/admin/plans');\n    },\n    onError: err => onFormQueryError(err, form),\n  });\n}\n\nfunction createProduct(payload: CreateProductPayload): Promise<Response> {\n  const backendPayload = {\n    ...payload,\n    feature_list: payload.feature_list.map(feature => feature.value),\n  };\n  return apiClient.post(endpoint, backendPayload).then(r => r.data);\n}\n","import {useForm} from 'react-hook-form';\nimport {CrupdateResourceLayout} from '../../crupdate-resource-layout';\nimport {Trans} from '../../../i18n/trans';\nimport {CrupdatePlanForm} from './crupdate-plan-form';\nimport {\n  CreateProductPayload,\n  useCreateProduct,\n} from '../requests/use-create-product';\n\nexport function CreatePlanPage() {\n  const form = useForm<CreateProductPayload>({\n    defaultValues: {\n      free: false,\n      recommended: false,\n    },\n  });\n  const createProduct = useCreateProduct(form);\n\n  return (\n    <CrupdateResourceLayout\n      form={form}\n      onSubmit={values => {\n        createProduct.mutate(values);\n      }}\n      title={<Trans message=\"Create new plan\" />}\n      isLoading={createProduct.isPending}\n    >\n      <CrupdatePlanForm />\n    </CrupdateResourceLayout>\n  );\n}\n","import {SettingsPanel} from '../settings-panel';\nimport {SettingsSeparator} from '../settings-separator';\nimport {Trans} from '../../../i18n/trans';\nimport {FormSwitch} from '../../../ui/forms/toggle/switch';\nimport {useFieldArray, useFormContext} from 'react-hook-form';\nimport {AdminSettings} from '../admin-settings';\nimport React, {Fragment} from 'react';\nimport {FormSelect} from '../../../ui/forms/select/select';\nimport {Item} from '../../../ui/forms/listbox/item';\nimport {MenuItemForm} from '../../menus/menu-item-form';\nimport {Button} from '../../../ui/buttons/button';\nimport {AddIcon} from '../../../icons/material/Add';\nimport {DialogTrigger} from '../../../ui/overlays/dialog/dialog-trigger';\nimport {AddMenuItemDialog} from '../../appearance/sections/menus/add-menu-item-dialog';\nimport {Accordion, AccordionItem} from '../../../ui/accordion/accordion';\nimport {IconButton} from '../../../ui/buttons/icon-button';\nimport {CloseIcon} from '../../../icons/material/Close';\n\nexport function GdprSettings() {\n  return (\n    <SettingsPanel\n      title={<Trans message=\"GDPR\" />}\n      description={\n        <Trans message=\"Configure settings related to EU General Data Protection Regulation.\" />\n      }\n    >\n      <CookieNoticeSection />\n      <SettingsSeparator />\n      <RegistrationPoliciesSection />\n    </SettingsPanel>\n  );\n}\n\nfunction CookieNoticeSection() {\n  const {watch} = useFormContext<AdminSettings>();\n  const noticeEnabled = watch('client.cookie_notice.enable');\n\n  return (\n    <div>\n      <FormSwitch\n        name=\"client.cookie_notice.enable\"\n        className=\"mb-20\"\n        description={\n          <Trans message=\"Whether cookie notice should be shown automatically to users from EU until it is accepted.\" />\n        }\n      >\n        <Trans message=\"Enable cookie notice\" />\n      </FormSwitch>\n      {noticeEnabled && (\n        <Fragment>\n          <div className=\"mb-20 border-b pb-6\">\n            <div className=\"mb-20 border-b pb-10 text-sm font-medium\">\n              <Trans message=\"Information button\" />\n            </div>\n            <MenuItemForm\n              hideRoleAndPermissionFields\n              formPathPrefix=\"client.cookie_notice.button\"\n            />\n          </div>\n          <FormSelect\n            name=\"client.cookie_notice.position\"\n            selectionMode=\"single\"\n            label={<Trans message=\"Cookie notice position\" />}\n            className=\"mb-20\"\n          >\n            <Item value=\"top\">\n              <Trans message=\"Top\" />\n            </Item>\n            <Item value=\"bottom\">\n              <Trans message=\"Bottom\" />\n            </Item>\n          </FormSelect>\n        </Fragment>\n      )}\n    </div>\n  );\n}\n\nfunction RegistrationPoliciesSection() {\n  const {fields, append, remove} = useFieldArray<\n    AdminSettings,\n    'client.registration.policies'\n  >({\n    name: 'client.registration.policies',\n  });\n\n  return (\n    <Fragment>\n      <div className=\"mb-6 text-sm\">\n        <Trans message=\"Registration policies\" />\n      </div>\n      <div className=\"text-xs text-muted\">\n        <Trans message=\"Create policies that will be shown on registration page. User will be required to accept them by toggling a checkbox.\" />\n      </div>\n      <Accordion className=\"mt-16\" variant=\"outline\">\n        {fields.map((field, index) => (\n          <AccordionItem\n            key={field.id}\n            label={field.label}\n            chevronPosition=\"left\"\n            endAppend={\n              <IconButton\n                variant=\"text\"\n                color=\"danger\"\n                size=\"sm\"\n                onClick={() => {\n                  remove(index);\n                }}\n              >\n                <CloseIcon />\n              </IconButton>\n            }\n          >\n            <MenuItemForm\n              hideRoleAndPermissionFields\n              formPathPrefix={`client.register_policies.${index}`}\n            />\n          </AccordionItem>\n        ))}\n      </Accordion>\n      <DialogTrigger\n        type=\"modal\"\n        onClose={value => {\n          if (value) {\n            append(value);\n          }\n        }}\n      >\n        <Button\n          className=\"mt-12\"\n          variant=\"link\"\n          color=\"primary\"\n          startIcon={<AddIcon />}\n          size=\"xs\"\n        >\n          <Trans message=\"Add another policy\" />\n        </Button>\n        <AddMenuItemDialog title={<Trans message=\"Add policy\" />} />\n      </DialogTrigger>\n    </Fragment>\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\nimport {PaginationResponse} from '@common/http/backend-response/pagination-response';\nimport {Category, Section} from '@app/help-center/categories/category';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\n\nexport const fetchCategoriesQueryKey = (params: UseCategoriesParams) => [\n  'hc',\n  'categories',\n  'admin',\n  params,\n];\n\nexport interface UseCategoriesResponse extends BackendResponse {\n  pagination: PaginationResponse<Category | Section>;\n  category?: Category;\n}\n\nexport interface UseCategoriesParams {\n  type?: 'section' | 'category';\n  parentId?: number | string;\n  load?: 'sections'[];\n}\n\nexport function useCategories(params: UseCategoriesParams) {\n  return useQuery({\n    queryKey: fetchCategoriesQueryKey(params),\n    queryFn: () => fetchCategories(params),\n  });\n}\n\nfunction fetchCategories(params: UseCategoriesParams) {\n  return apiClient\n    .get<UseCategoriesResponse>(`hc/categories`, {\n      params: {paginate: 'simple', perPage: 30, ...params},\n    })\n    .then(response => response.data);\n}\n","import {useParams} from 'react-router-dom';\nimport {UseCategoriesParams} from '@app/admin/help-center/requests/use-categories';\n\nexport function useHcCategoryManagerParams(): UseCategoriesParams {\n  const {categoryId} = useParams();\n  return categoryId\n    ? {type: 'section', parentId: categoryId}\n    : {type: 'category'};\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {UseFormReturn} from 'react-hook-form';\nimport {Category, Section} from '@app/help-center/categories/category';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\n\ninterface Response extends BackendResponse {\n  category: Category | Section;\n}\n\nexport interface CreateCategoryPayload {\n  name: string;\n  description?: string;\n  image?: string;\n  parent_id?: number;\n  visible_to_role?: number;\n  managed_by_role?: number;\n}\n\nexport function useCreateCategory(form: UseFormReturn<CreateCategoryPayload>) {\n  const {trans} = useTrans();\n  const navigate = useNavigate();\n  return useMutation({\n    mutationFn: (props: CreateCategoryPayload) => createCategory(props),\n    onSuccess: async response => {\n      await queryClient.invalidateQueries({queryKey: ['hc', 'categories']});\n      const part = response.category.is_section ? 'sections' : 'categories';\n      navigate(`/admin/hc/arrange/${part}/${response.category.id}`);\n      toast(\n        trans(\n          response.category.is_section\n            ? message('Category created')\n            : message('Section created'),\n        ),\n      );\n    },\n    onError: err => onFormQueryError(err, form),\n  });\n}\n\nfunction createCategory(payload: CreateCategoryPayload): Promise<Response> {\n  return apiClient.post('hc/categories', payload).then(r => r.data);\n}\n","import {useValueLists} from '@common/http/value-lists';\nimport {Trans} from '@common/i18n/trans';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport React, {ReactNode} from 'react';\nimport {FormSelect} from '@common/ui/forms/select/select';\nimport clsx from 'clsx';\n\ninterface Props {\n  name: string;\n  label: ReactNode;\n  description?: ReactNode;\n  className?: string;\n  defaultItem?: ReactNode;\n}\nexport function RoleSelector({\n  name,\n  label,\n  description,\n  className,\n  defaultItem,\n}: Props) {\n  const {data} = useValueLists(['roles']);\n  const roles = data?.roles || [];\n\n  if (!roles.length) return <div className={clsx(className, 'h-92')} />;\n\n  return (\n    <FormSelect\n      background=\"bg-paper\"\n      label={label}\n      name={name}\n      description={description}\n      className={className}\n      valueClassName=\"first:capitalize\"\n      selectionMode=\"single\"\n    >\n      {defaultItem}\n      {roles.map(role => (\n        <Item value={role.id} key={role.id} capitalizeFirst>\n          <Trans message={role.name} />\n        </Item>\n      ))}\n    </FormSelect>\n  );\n}\n","import {RoleSelector} from '@app/admin/help-center/role-selector';\nimport {Trans} from '@common/i18n/trans';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport React, {ReactNode} from 'react';\n\ninterface Props {\n  className?: string;\n  description?: ReactNode;\n}\nexport function VisibleToField({className, description}: Props) {\n  return (\n    <RoleSelector\n      className={className}\n      name=\"visible_to_role\"\n      label={<Trans message=\"Visible to\" />}\n      description={description}\n      defaultItem={\n        <Item key=\"everyone-default\" value={undefined}>\n          <Trans message=\"Everyone\" />\n        </Item>\n      }\n    />\n  );\n}\n","import {RoleSelector} from '@app/admin/help-center/role-selector';\nimport {Trans} from '@common/i18n/trans';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport React, {ReactNode} from 'react';\n\ninterface Props {\n  className?: string;\n  description?: ReactNode;\n}\nexport function ManagedByField({className, description}: Props) {\n  return (\n    <RoleSelector\n      className={className}\n      name=\"managed_by_role\"\n      label={<Trans message=\"Managed by\" />}\n      description={description}\n      defaultItem={\n        <Item key=\"admins-default\" value={undefined}>\n          <Trans message=\"Admins\" />\n        </Item>\n      }\n    />\n  );\n}\n","import {UseFormReturn} from 'react-hook-form';\nimport {Form} from '@common/ui/forms/form';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport {FormSelect} from '@common/ui/forms/select/select';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {CreateCategoryPayload} from '@app/admin/help-center/requests/use-create-category';\nimport {FormImageSelector} from '@common/ui/images/image-selector';\nimport {useCategories} from '@app/admin/help-center/requests/use-categories';\nimport {FileUploadProvider} from '@common/uploads/uploader/file-upload-provider';\nimport {VisibleToField} from '@app/admin/help-center/visible-to-field';\nimport React from 'react';\nimport {ManagedByField} from '@app/admin/help-center/managed-by-field';\n\ninterface CrupdateTagFormProps {\n  onSubmit: (values: CreateCategoryPayload) => void;\n  formId: string;\n  form: UseFormReturn<CreateCategoryPayload>;\n  hideParentId?: boolean;\n}\nexport function CrupdateCategoryForm({\n  form,\n  onSubmit,\n  formId,\n  hideParentId,\n}: CrupdateTagFormProps) {\n  const {data} = useCategories({type: 'category'});\n  return (\n    <Form id={formId} form={form} onSubmit={onSubmit}>\n      <FormTextField\n        name=\"name\"\n        label={<Trans message=\"Name\" />}\n        className=\"mb-24\"\n        required\n        autoFocus\n      />\n      <FileUploadProvider>\n        <FormImageSelector\n          label={<Trans message=\"Image\" />}\n          name=\"image\"\n          diskPrefix=\"category\"\n          className=\"mb-24\"\n        />\n      </FileUploadProvider>\n      <FormTextField\n        name=\"description\"\n        label={<Trans message=\"Description\" />}\n        inputElementType=\"textarea\"\n        rows={4}\n        className=\"mb-24\"\n      />\n      {hideParentId && (\n        <FormSelect\n          name=\"parent_id\"\n          selectionMode=\"single\"\n          label=\"Parent category\"\n          className=\"mb-24\"\n        >\n          {data?.pagination.data.map(category => (\n            <Item key={category.id} value={category.id}>\n              <Trans message={category.name} />\n            </Item>\n          ))}\n        </FormSelect>\n      )}\n      <VisibleToField\n        className=\"mb-24\"\n        description={\n          <Trans message=\"Control who can see this category in help center\" />\n        }\n      />\n      <ManagedByField\n        description={<Trans message=\"Control who can edit this category\" />}\n      />\n    </Form>\n  );\n}\n","import {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {useForm} from 'react-hook-form';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {Trans} from '@common/i18n/trans';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {\n  CreateCategoryPayload,\n  useCreateCategory,\n} from '@app/admin/help-center/requests/use-create-category';\nimport {CrupdateCategoryForm} from '@app/admin/help-center/crupdate-category-dialog/crupdate-category-form';\n\ninterface Props {\n  parentId?: number | string;\n}\nexport function CreateCategoryDialog({parentId}: Props) {\n  const {close, formId} = useDialogContext();\n  const form = useForm<CreateCategoryPayload>({\n    defaultValues: {\n      parent_id: parentId ? parseInt(parentId as string) : undefined,\n    },\n  });\n  const createCategory = useCreateCategory(form);\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        {parentId ? (\n          <Trans message=\"Add new section\" />\n        ) : (\n          <Trans message=\"Add new category\" />\n        )}\n      </DialogHeader>\n      <DialogBody>\n        <CrupdateCategoryForm\n          hideParentId={!!parentId}\n          formId={formId}\n          form={form}\n          onSubmit={values => {\n            createCategory.mutate(values, {\n              onSuccess: () => close(),\n            });\n          }}\n        />\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          form={formId}\n          disabled={createCategory.isPending}\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n        >\n          <Trans message=\"Create\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {StaticPageTitle} from '@common/seo/static-page-title';\nimport {Trans} from '@common/i18n/trans';\nimport {PageStatus} from '@common/http/page-status';\nimport React, {ReactElement, ReactNode} from 'react';\nimport {UseQueryResult} from '@tanstack/react-query';\n\ninterface Props<T> {\n  actionButton?: ReactNode;\n  query: UseQueryResult<T>;\n  children: (data: T) => ReactElement;\n}\nexport function HcManagerLayout<T>({actionButton, query, children}: Props<T>) {\n  return (\n    <div className=\"p-12 md:p-24\">\n      <div className=\"mb-18\">\n        <StaticPageTitle>\n          <Trans message=\"Help center\" />\n        </StaticPageTitle>\n        <div className=\"items-end justify-between gap-24 md:flex\">\n          <div>\n            <h1 className=\"text-3xl font-light\">\n              <Trans message=\"Help center\" />\n            </h1>\n            <p className=\"mt-2 text-sm text-muted\">\n              <Trans message=\"Arrange help center categories, sections and articles.\" />\n            </p>\n          </div>\n          <div className=\"max-md:mt-12\">{actionButton}</div>\n        </div>\n      </div>\n      <main>\n        {query.data ? (\n          children(query.data)\n        ) : (\n          <PageStatus query={query} loaderClassName=\"absolute inset-0 m-auto\" />\n        )}\n      </main>\n    </div>\n  );\n}\n","import {Breadcrumb} from '@common/ui/breadcrumbs/breadcrumb';\nimport {BreadcrumbItem} from '@common/ui/breadcrumbs/breadcrumb-item';\nimport {Trans} from '@common/i18n/trans';\nimport React from 'react';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\nimport {Category, Section} from '@app/help-center/categories/category';\n\ninterface Props {\n  category?: Category;\n  section?: Section;\n}\nexport function HcManagerBreadcrumb({category, section}: Props) {\n  const navigate = useNavigate();\n  if (!category && !section) return null;\n  return (\n    <Breadcrumb size=\"sm\" className=\"-mx-8\">\n      <BreadcrumbItem onSelected={() => navigate('/admin/hc/arrange')}>\n        <Trans message=\"Categories\" />\n      </BreadcrumbItem>\n      {category && (\n        <BreadcrumbItem\n          className={!section ? 'text-primary' : undefined}\n          onSelected={() =>\n            navigate(`/admin/hc/arrange/categories/${category.id}`)\n          }\n        >\n          <Trans message={category.name} />\n        </BreadcrumbItem>\n      )}\n      {section && (\n        <BreadcrumbItem className=\"text-primary\">\n          <Trans message={section.name} />\n        </BreadcrumbItem>\n      )}\n    </Breadcrumb>\n  );\n}\n","import {Trans} from '@common/i18n/trans';\nimport React, {ReactNode} from 'react';\n\ninterface Props {\n  children: ReactNode;\n}\nexport function HcManagerTitle({children}: Props) {\n  return (\n    <h2 className=\"mb-10 mt-20 text-sm font-semibold text-muted\">{children}</h2>\n  );\n}\n","import {useMediaQuery} from './use-media-query';\n\nexport function useIsTouchDevice() {\n  return useMediaQuery('((pointer: coarse))');\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\nimport {\n  fetchCategoriesQueryKey,\n  UseCategoriesResponse,\n} from '@app/admin/help-center/requests/use-categories';\nimport {moveItemInNewArray} from '@common/utils/array/move-item-in-new-array';\nimport {useHcCategoryManagerParams} from '@app/admin/help-center/requests/use-hc-category-manager-params';\n\ninterface Response extends BackendResponse {}\n\ninterface Payload {\n  parentId?: number;\n  oldIndex: number;\n  newIndex: number;\n}\nexport function useReorderCategories(type?: 'section' | 'category') {\n  const queryKey = fetchCategoriesQueryKey(useHcCategoryManagerParams());\n  return useMutation({\n    mutationFn: (payload: Payload) => {\n      // ids are already moved in \"onMutate\", no need to do it again here\n      const ids = queryClient\n        .getQueryData<UseCategoriesResponse>(queryKey)!\n        .pagination.data.map(c => c.id);\n      return reorder({\n        parentId: payload.parentId,\n        ids,\n      });\n    },\n    onMutate: async ({oldIndex, newIndex}) => {\n      await queryClient.cancelQueries({queryKey});\n      const previousResponse = queryClient.getQueryData(queryKey);\n      queryClient.setQueryData<UseCategoriesResponse>(queryKey, prev => {\n        const newData = {...prev, pagination: {...prev!.pagination}};\n        newData.pagination.data = moveItemInNewArray(\n          newData.pagination.data,\n          oldIndex,\n          newIndex,\n        );\n        return newData;\n      });\n      return {previousResponse};\n    },\n    onSuccess: async () => {\n      await queryClient.invalidateQueries({queryKey: ['hc', 'categories']});\n    },\n    onError: (err, _, context) => {\n      showHttpErrorToast(err);\n      queryClient.setQueryData(queryKey, context?.previousResponse);\n    },\n  });\n}\n\nfunction reorder(payload: {parentId?: number; ids: number[]}) {\n  return apiClient\n    .post<Response>(`hc/categories/reorder`, payload)\n    .then(r => r.data);\n}\n","import {createPortal, flushSync} from 'react-dom';\nimport React, {useImperativeHandle, useRef, useState} from 'react';\nimport {ConnectedDraggable, DragPreviewRenderer} from './use-draggable';\nimport {rootEl} from '@common/core/root-el';\n\nexport interface DragPreviewProps {\n  children: (draggable: ConnectedDraggable) => JSX.Element;\n}\nexport const DragPreview = React.forwardRef<\n  DragPreviewRenderer,\n  DragPreviewProps\n>((props, ref) => {\n  const render = props.children;\n  const [children, setChildren] = useState<JSX.Element | null>(null);\n  const domRef = useRef<HTMLDivElement>(null!);\n\n  useImperativeHandle(\n    ref,\n    () =>\n      (\n        draggable: ConnectedDraggable,\n        callback: (node: HTMLElement) => void,\n      ) => {\n        // This will be called during the onDragStart event by useDrag. We need to render the\n        // preview synchronously before this event returns, so we can call event.dataTransfer.setDragImage.\n        flushSync(() => {\n          setChildren(render(draggable));\n        });\n\n        // Yield back to useDrag to set the drag image.\n        callback(domRef.current);\n\n        // Remove the preview from the DOM after a frame so the browser has time to paint.\n        requestAnimationFrame(() => {\n          setChildren(null);\n        });\n      },\n    [render],\n  );\n\n  if (!children) {\n    return null;\n  }\n\n  // portal preview, in case in needs to be used in <tr> or another element that does not accept div as child\n  return createPortal(\n    <div\n      style={{zIndex: -100, position: 'absolute', top: 0, left: -100000}}\n      ref={domRef}\n    >\n      {children}\n    </div>,\n    rootEl,\n  );\n});\n","import React, {ReactNode, useRef} from 'react';\nimport {\n  DraggableId,\n  DragPreviewRenderer,\n} from '@common/ui/interactions/dnd/use-draggable';\nimport {useIsTouchDevice} from '@common/utils/hooks/is-touch-device';\nimport {useReorderCategories} from '@app/admin/help-center/requests/use-reorder-categories';\nimport {useSortable} from '@common/ui/interactions/dnd/use-sortable';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {DragIndicatorIcon} from '@common/icons/material/DragIndicator';\nimport {\n  Menu,\n  MenuItem,\n  MenuTrigger,\n} from '@common/ui/navigation/menu/menu-trigger';\nimport {MoreVertIcon} from '@common/icons/material/MoreVert';\nimport {Trans} from '@common/i18n/trans';\nimport {DragPreview} from '@common/ui/interactions/dnd/drag-preview';\nimport {createEventHandler} from '@common/utils/dom/create-event-handler';\n\ninterface Props<T extends DraggableId> {\n  item: T;\n  items: T[];\n  onSortEnd: (oldIndex: number, newIndex: number) => void;\n  children: ReactNode;\n  description?: ReactNode;\n  onClick: () => void;\n  onView: () => void;\n  onEdit: () => void;\n  onDelete: () => void;\n}\nexport function HcManagerRow<T extends DraggableId>({\n  item,\n  items,\n  onSortEnd,\n  onClick,\n  onView,\n  onEdit,\n  onDelete,\n  children,\n  description,\n}: Props<T>) {\n  const domRef = useRef<HTMLTableRowElement>(null);\n  const previewRef = useRef<DragPreviewRenderer>(null);\n  const isTouchDevice = useIsTouchDevice();\n  const reorder = useReorderCategories();\n\n  const {sortableProps, dragHandleRef} = useSortable({\n    ref: domRef,\n    disabled: isTouchDevice ?? false,\n    item,\n    items,\n    type: 'hcManagerSort',\n    preview: previewRef,\n    onSortEnd,\n  });\n\n  return (\n    <div\n      className=\"cursor:pointer rounded-panel mb-12 flex items-center gap-6 border p-12 transition-colors hover:border-primary\"\n      onClick={createEventHandler(() => onClick())}\n      ref={domRef}\n      {...sortableProps}\n    >\n      {!isTouchDevice && (\n        <IconButton\n          className=\"text-muted\"\n          ref={dragHandleRef}\n          disabled={reorder.isPending}\n          onClick={e => {\n            e.preventDefault();\n            e.stopPropagation();\n          }}\n        >\n          <DragIndicatorIcon />\n        </IconButton>\n      )}\n      <div>\n        <h3 className=\"text-sm font-semibold\">{children}</h3>\n        {description && <div className=\"text-sm text-muted\">{description}</div>}\n      </div>\n      <MenuTrigger>\n        <IconButton\n          className=\"ml-auto text-muted\"\n          onClick={e => {\n            e.preventDefault();\n            e.stopPropagation();\n          }}\n        >\n          <MoreVertIcon />\n        </IconButton>\n        <Menu>\n          <MenuItem value=\"edit\" onSelected={() => onEdit()}>\n            <Trans message=\"Edit\" />\n          </MenuItem>\n          <MenuItem\n            value=\"sendToTop\"\n            onSelected={() => {\n              onSortEnd(items.indexOf(item), 0);\n              document.documentElement.scrollTop = 0;\n            }}\n          >\n            <Trans message=\"Send to top\" />\n          </MenuItem>\n          <MenuItem value=\"viewInHc\" onSelected={() => onView()}>\n            <Trans message=\"View in help center\" />\n          </MenuItem>\n          <MenuItem value=\"delete\" onSelected={() => onDelete()}>\n            <Trans message=\"Delete\" />\n          </MenuItem>\n        </Menu>\n      </MenuTrigger>\n      <RowDragPreview name={children} ref={previewRef} />\n    </div>\n  );\n}\n\ninterface RowDragPreviewProps {\n  name: ReactNode;\n}\nconst RowDragPreview = React.forwardRef<\n  DragPreviewRenderer,\n  RowDragPreviewProps\n>(({name}, ref) => {\n  return (\n    <DragPreview ref={ref}>\n      {() => <div className=\"rounded bg-chip p-6 text-sm shadow\">{name}</div>}\n    </DragPreview>\n  );\n});\n","import {IllustratedMessage} from '@common/ui/images/illustrated-message';\nimport {ErrorIcon} from '@common/icons/material/Error';\nimport React, {ReactNode} from 'react';\n\ninterface Props {\n  title?: ReactNode;\n  description?: ReactNode;\n}\nexport function HcManagerEmptyMessage({title, description}: Props) {\n  return (\n    <IllustratedMessage\n      className=\"mx-auto mt-40 max-w-450\"\n      image={\n        <div>\n          <ErrorIcon size=\"lg\" />\n        </div>\n      }\n      size=\"sm\"\n      imageHeight=\"h-auto\"\n      imageMargin=\"mb-12\"\n      title={title}\n      description={description}\n    />\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\n\ninterface Response extends BackendResponse {}\n\ninterface Payload {\n  id: number | string;\n}\n\nexport function useDeleteCategory() {\n  return useMutation({\n    mutationFn: (payload: Payload) => deleteCategory(payload),\n    onSuccess: async () => {\n      await queryClient.invalidateQueries({queryKey: ['hc', 'categories']});\n      toast(message('Category deleted'));\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction deleteCategory({id}: Payload) {\n  return apiClient.delete<Response>(`hc/categories/${id}`).then(r => r.data);\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {UseFormReturn} from 'react-hook-form';\nimport {Category, Section} from '@app/help-center/categories/category';\nimport {CreateCategoryPayload} from '@app/admin/help-center/requests/use-create-category';\n\ninterface Response extends BackendResponse {\n  category: Category | Section;\n}\n\ninterface UpdateCategoryPayload extends CreateCategoryPayload {\n  id: number;\n}\n\nexport function useUpdateCategory(form: UseFormReturn<CreateCategoryPayload>) {\n  const {trans} = useTrans();\n  return useMutation({\n    mutationFn: (payload: UpdateCategoryPayload) => updateCategory(payload),\n    onSuccess: async response => {\n      await queryClient.invalidateQueries({queryKey: ['hc', 'categories']});\n      const part = response.category.is_section ? 'sections' : 'categories';\n      toast(\n        trans(\n          response.category.is_section\n            ? message('Category updated')\n            : message('Section updated'),\n        ),\n      );\n    },\n    onError: err => onFormQueryError(err, form),\n  });\n}\n\nfunction updateCategory({\n  id,\n  ...payload\n}: UpdateCategoryPayload): Promise<Response> {\n  return apiClient.put(`hc/categories/${id}`, payload).then(r => r.data);\n}\n","import {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {useForm} from 'react-hook-form';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {Trans} from '@common/i18n/trans';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {CreateCategoryPayload} from '@app/admin/help-center/requests/use-create-category';\nimport {CrupdateCategoryForm} from '@app/admin/help-center/crupdate-category-dialog/crupdate-category-form';\nimport {useUpdateCategory} from '@app/admin/help-center/requests/use-update-category';\nimport {Category, Section} from '@app/help-center/categories/category';\n\ninterface Props {\n  category: Category | Section;\n}\nexport function UpdateCategoryDialog({category}: Props) {\n  const {close, formId} = useDialogContext();\n  const form = useForm<CreateCategoryPayload>({\n    defaultValues: {\n      name: category.name,\n      parent_id: category.is_section ? category.parent_id : undefined,\n      description: category.description,\n      image: category.image,\n      visible_to_role: category.visible_to_role,\n      managed_by_role: category.managed_by_role,\n    },\n  });\n  const updateCategory = useUpdateCategory(form);\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        {category.is_section ? (\n          <Trans message=\"Update section\" />\n        ) : (\n          <Trans message=\"Update category\" />\n        )}\n      </DialogHeader>\n      <DialogBody>\n        <CrupdateCategoryForm\n          hideParentId={category.is_section}\n          formId={formId}\n          form={form}\n          onSubmit={values => {\n            updateCategory.mutate(\n              {...values, id: category.id},\n              {\n                onSuccess: () => close(),\n              },\n            );\n          }}\n        />\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          form={formId}\n          disabled={updateCategory.isPending}\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n        >\n          <Trans message=\"Update\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import React, {Fragment} from 'react';\nimport {\n  useCategories,\n  UseCategoriesResponse,\n} from '@app/admin/help-center/requests/use-categories';\nimport {Trans} from '@common/i18n/trans';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\nimport {Category, Section} from '@app/help-center/categories/category';\nimport {BulletSeparatedItems} from '@common/ui/bullet-seprated-items';\nimport {useHcCategoryManagerParams} from '@app/admin/help-center/requests/use-hc-category-manager-params';\nimport {Button} from '@common/ui/buttons/button';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {CreateCategoryDialog} from '@app/admin/help-center/crupdate-category-dialog/create-category-dialog';\nimport {HcManagerLayout} from '@app/admin/help-center/manager/hc-manager-layout';\nimport {HcManagerBreadcrumb} from '@app/admin/help-center/manager/hc-manager-breadcrumb';\nimport {HcManagerTitle} from '@app/admin/help-center/manager/hc-manager-title';\nimport {HcManagerRow} from '@app/admin/help-center/manager/hc-manager-row';\nimport {getCategoryLink} from '@app/help-center/categories/category-link';\nimport {HcManagerEmptyMessage} from '@app/admin/help-center/manager/hc-manager-empty-message';\nimport {closeDialog, openDialog} from '@common/ui/overlays/store/dialog-store';\nimport {ConfirmationDialog} from '@common/ui/overlays/dialog/confirmation-dialog';\nimport {useDeleteCategory} from '@app/admin/help-center/requests/use-delete-category';\nimport {useReorderCategories} from '@app/admin/help-center/requests/use-reorder-categories';\nimport {UpdateCategoryDialog} from '@app/admin/help-center/crupdate-category-dialog/update-category-dialog';\n\nexport function HcCategoryManager() {\n  const params = useHcCategoryManagerParams();\n  const query = useCategories(params);\n  return (\n    <HcManagerLayout\n      query={query}\n      actionButton={\n        <DialogTrigger type=\"modal\">\n          <Button variant=\"flat\" color=\"primary\" className=\"max-md:mt-12\">\n            {params.type === 'category' ? (\n              <Trans message=\"New category\" />\n            ) : (\n              <Trans message=\"New section\" />\n            )}\n          </Button>\n          <CreateCategoryDialog parentId={params.parentId} />\n        </DialogTrigger>\n      }\n    >\n      {data => <PageContent data={data} />}\n    </HcManagerLayout>\n  );\n}\n\ninterface PageContentProps {\n  data: UseCategoriesResponse;\n}\nfunction PageContent({data}: PageContentProps) {\n  const params = useHcCategoryManagerParams();\n  const categories = data.pagination.data;\n  const count = categories.length;\n  return (\n    <Fragment>\n      <HcManagerBreadcrumb category={data.category} />\n      {count ? (\n        <HcManagerTitle>\n          {params.type === 'category' ? (\n            <Trans message=\"Categories (:count)\" values={{count}} />\n          ) : (\n            <Trans message=\"Sections (:count)\" values={{count}} />\n          )}\n        </HcManagerTitle>\n      ) : null}\n      {categories.map(category => (\n        <CategoryRow category={category} data={data} key={category.id} />\n      ))}\n      {!categories.length && <NoResultsMessage />}\n    </Fragment>\n  );\n}\n\ninterface CategoryRowProps {\n  category: Category | Section;\n  data: UseCategoriesResponse;\n}\nfunction CategoryRow({\n  category,\n  data: {\n    pagination: {data: categories},\n    category: parent,\n  },\n}: CategoryRowProps) {\n  const navigate = useNavigate();\n  const deleteCategory = useDeleteCategory();\n  const reorder = useReorderCategories();\n\n  const goToEditPage = () => {\n    if (category.is_section) {\n      navigate(`/admin/hc/arrange/sections/${category.id}`);\n    } else {\n      navigate(`/admin/hc/arrange/categories/${category.id}`);\n    }\n  };\n\n  return (\n    <HcManagerRow\n      item={category}\n      items={categories}\n      onSortEnd={(oldIndex, newIndex) => {\n        reorder.mutate({oldIndex, newIndex, parentId: parent?.id});\n      }}\n      onClick={() => goToEditPage()}\n      onView={() => navigate(getCategoryLink(category))}\n      onEdit={() => openDialog(UpdateCategoryDialog, {category})}\n      onDelete={() => {\n        openDialog(ConfirmationDialog, {\n          title: <Trans message=\"Delete category\" />,\n          body: (\n            <Trans message=\"Are you sure you want to delete this category?\" />\n          ),\n          confirm: <Trans message=\"Delete\" />,\n          isDanger: true,\n          isLoading: deleteCategory.isPending,\n          onConfirm: () =>\n            deleteCategory.mutate(\n              {id: category.id},\n              {onSuccess: () => closeDialog()},\n            ),\n        });\n      }}\n      description={\n        <BulletSeparatedItems>\n          {category.sections_count ? (\n            <Trans\n              message=\"[one 1 section|other :count sections]\"\n              values={{count: category.sections_count}}\n            />\n          ) : null}\n          <Trans\n            message=\"[one 1 article|other :count articles]\"\n            values={{count: category.articles_count}}\n          />\n        </BulletSeparatedItems>\n      }\n    >\n      {category.name}\n    </HcManagerRow>\n  );\n}\n\nfunction NoResultsMessage() {\n  const {parentId} = useHcCategoryManagerParams();\n  if (parentId) {\n    return (\n      <HcManagerEmptyMessage\n        title={<Trans message=\"This category is empty\" />}\n        description={\n          <Trans message=\"Empty categories aren't visible in the Help Center. You can make them visible by adding a section.\" />\n        }\n      />\n    );\n  }\n  return (\n    <HcManagerEmptyMessage\n      title={<Trans message=\"There are no categories yet\" />}\n    />\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\nimport {PaginationResponse} from '@common/http/backend-response/pagination-response';\nimport {Section} from '@app/help-center/categories/category';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {Article} from '@app/help-center/articles/article';\n\nexport const fetchArticlesQueryKey = (params: UseArticlesParams) => [\n  'hc',\n  'articles',\n  'admin',\n  params,\n];\n\nexport interface UseArticlesResponse extends BackendResponse {\n  pagination: PaginationResponse<Article>;\n  section?: Section;\n}\n\nexport interface UseArticlesParams {\n  sectionId?: number | string;\n  order?: string;\n}\n\nexport function useArticles(params: UseArticlesParams) {\n  return useQuery({\n    queryKey: fetchArticlesQueryKey(params),\n    queryFn: () => fetchArticles(params),\n  });\n}\n\nfunction fetchArticles(params: UseArticlesParams) {\n  return apiClient\n    .get<UseArticlesResponse>(`hc/articles`, {\n      params: {paginate: 'simple', perPage: 30, ...params},\n    })\n    .then(response => response.data);\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\n\ninterface Response extends BackendResponse {}\n\ninterface Payload {\n  ids: (number | string)[];\n}\n\nexport function useDeleteArticles() {\n  return useMutation({\n    mutationFn: (payload: Payload) => deleteArticle(payload),\n    onSuccess: async () => {\n      await Promise.allSettled([\n        queryClient.invalidateQueries({queryKey: ['hc', 'categories']}),\n        queryClient.invalidateQueries({queryKey: ['hc', 'articles']}),\n        queryClient.invalidateQueries({queryKey: ['articles']}),\n      ]);\n      toast(message('Article deleted'));\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction deleteArticle({ids}: Payload) {\n  return apiClient\n    .delete<Response>(`hc/articles/${ids.join(',')}`)\n    .then(r => r.data);\n}\n","import {useParams} from 'react-router-dom';\n\nexport function useHcArticleManagerParams() {\n  const {sectionId} = useParams();\n  return {sectionId, order: 'position|desc'};\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\nimport {moveItemInNewArray} from '@common/utils/array/move-item-in-new-array';\nimport {\n  fetchArticlesQueryKey,\n  UseArticlesResponse,\n} from '@app/admin/help-center/requests/use-articles';\nimport {useHcArticleManagerParams} from '@app/admin/help-center/requests/use-hc-article-manager-params';\n\ninterface Response extends BackendResponse {}\n\ninterface Payload {\n  sectionId: number | string;\n  oldIndex: number;\n  newIndex: number;\n}\nexport function useReorderArticles() {\n  const queryKey = fetchArticlesQueryKey(useHcArticleManagerParams());\n  return useMutation({\n    mutationFn: (payload: Payload) => {\n      // ids are already moved in \"onMutate\", no need to do it again here\n      const ids = queryClient\n        .getQueryData<UseArticlesResponse>(queryKey)!\n        .pagination.data.map(c => c.id);\n      return reorder({\n        sectionId: payload.sectionId,\n        ids,\n      });\n    },\n    onMutate: async ({oldIndex, newIndex}) => {\n      await queryClient.cancelQueries({queryKey});\n      const previousResponse = queryClient.getQueryData(queryKey);\n      queryClient.setQueryData<UseArticlesResponse>(queryKey, prev => {\n        const newData = {...prev, pagination: {...prev!.pagination}};\n        newData.pagination.data = moveItemInNewArray(\n          newData.pagination.data,\n          oldIndex,\n          newIndex,\n        );\n        return newData;\n      });\n      return {previousResponse};\n    },\n    onSuccess: async () => {\n      await queryClient.invalidateQueries({queryKey: ['hc', 'articles']});\n    },\n    onError: (err, _, context) => {\n      showHttpErrorToast(err);\n      queryClient.setQueryData(queryKey, context?.previousResponse);\n    },\n  });\n}\n\nfunction reorder(payload: {sectionId: number | string; ids: number[]}) {\n  return apiClient\n    .post<Response>(\n      `hc/categories/${payload.sectionId}/articles/reorder`,\n      payload,\n    )\n    .then(r => r.data);\n}\n","import React, {Fragment} from 'react';\nimport {Trans} from '@common/i18n/trans';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\nimport {\n  useArticles,\n  UseArticlesResponse,\n} from '@app/admin/help-center/requests/use-articles';\nimport {Link} from 'react-router-dom';\nimport {HcManagerLayout} from '@app/admin/help-center/manager/hc-manager-layout';\nimport {HcManagerBreadcrumb} from '@app/admin/help-center/manager/hc-manager-breadcrumb';\nimport {HcManagerTitle} from '@app/admin/help-center/manager/hc-manager-title';\nimport {HcManagerEmptyMessage} from '@app/admin/help-center/manager/hc-manager-empty-message';\nimport {HcManagerRow} from '@app/admin/help-center/manager/hc-manager-row';\nimport {getArticleLink} from '@app/help-center/articles/article-link';\nimport {closeDialog, openDialog} from '@common/ui/overlays/store/dialog-store';\nimport {ConfirmationDialog} from '@common/ui/overlays/dialog/confirmation-dialog';\nimport {useDeleteArticles} from '@app/admin/help-center/requests/use-delete-articles';\nimport {Button} from '@common/ui/buttons/button';\nimport {useReorderArticles} from '@app/admin/help-center/requests/use-reorder-articles';\nimport {useHcArticleManagerParams} from '@app/admin/help-center/requests/use-hc-article-manager-params';\n\nexport function HcArticleManager() {\n  const query = useArticles(useHcArticleManagerParams());\n  return (\n    <HcManagerLayout\n      query={query}\n      actionButton={\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          elementType={Link}\n          to=\"articles/new\"\n        >\n          <Trans message=\"New article\" />\n        </Button>\n      }\n    >\n      {data => <PageContent data={data} />}\n    </HcManagerLayout>\n  );\n}\n\ninterface PageContentProps {\n  data: UseArticlesResponse;\n}\nfunction PageContent({data}: PageContentProps) {\n  const {sectionId} = useHcArticleManagerParams();\n  const navigate = useNavigate();\n  const deleteArticles = useDeleteArticles();\n  const articles = data.pagination.data;\n  const count = articles.length;\n  const reorder = useReorderArticles();\n  return (\n    <Fragment>\n      <HcManagerBreadcrumb\n        category={data.section?.parent}\n        section={data.section}\n      />\n      {count ? (\n        <HcManagerTitle>\n          <Trans message=\"Articles (:count)\" values={{count}} />\n        </HcManagerTitle>\n      ) : null}\n      {articles.map(article => (\n        <HcManagerRow\n          key={article.id}\n          item={article}\n          items={articles}\n          onSortEnd={(oldIndex, newIndex) => {\n            reorder.mutate({sectionId: sectionId!, oldIndex, newIndex});\n          }}\n          onEdit={() => navigate(`articles/${article.id}/edit`)}\n          onClick={() => navigate(`articles/${article.id}/edit`)}\n          onView={() =>\n            navigate(getArticleLink(article, {section: data.section}))\n          }\n          onDelete={() => {\n            openDialog(ConfirmationDialog, {\n              title: <Trans message=\"Delete article\" />,\n              body: (\n                <Trans message=\"Are you sure you want to delete this article?\" />\n              ),\n              confirm: <Trans message=\"Delete\" />,\n              isDanger: true,\n              isLoading: deleteArticles.isPending,\n              onConfirm: () =>\n                deleteArticles.mutate(\n                  {ids: [article.id]},\n                  {onSuccess: () => closeDialog()},\n                ),\n            });\n          }}\n        >\n          {article.title}\n        </HcManagerRow>\n      ))}\n      {!articles.length && (\n        <HcManagerEmptyMessage\n          title={<Trans message=\"This section is empty\" />}\n          description={\n            <Trans message=\"Empty sections aren't visible in the Help Center. You can make them visible by adding an article.\" />\n          }\n        />\n      )}\n    </Fragment>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {UseFormReturn} from 'react-hook-form';\nimport {Article, ArticleAttachment} from '@app/help-center/articles/article';\nimport {ChipValue} from '@common/ui/forms/input-field/chip-field/chip-field';\n\ninterface Response extends BackendResponse {\n  article: Article;\n}\n\nexport interface CreateArticlePayload {\n  title: string;\n  body: string;\n  slug?: string;\n  draft: boolean;\n  visibility: 'public' | 'private';\n  visible_to_role?: number;\n  author_id?: number;\n  managed_by_role?: number;\n  description?: string;\n  sections?: number[];\n  tags?: ChipValue[];\n  attachments?: ArticleAttachment[];\n}\n\nexport function useCreateArticle(form: UseFormReturn<CreateArticlePayload>) {\n  const {trans} = useTrans();\n  return useMutation({\n    mutationFn: (props: CreateArticlePayload) => createArticle(props),\n    onSuccess: async () => {\n      await Promise.allSettled([\n        queryClient.invalidateQueries({queryKey: ['hc', 'categories']}),\n        queryClient.invalidateQueries({queryKey: ['hc', 'articles']}),\n      ]);\n      toast(trans(message('Article created')));\n    },\n    onError: err => onFormQueryError(err, form),\n  });\n}\n\nexport function articleEditorFormValueToPayload(\n  formValue: Partial<CreateArticlePayload>,\n) {\n  return {\n    ...formValue,\n    attachments: formValue.attachments?.map(a => a.id),\n    tags: formValue.tags?.map(t => t.name),\n  };\n}\n\nfunction createArticle(formValue: CreateArticlePayload): Promise<Response> {\n  return apiClient\n    .post('hc/articles', articleEditorFormValueToPayload(formValue))\n    .then(r => r.data);\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {UseFormReturn} from 'react-hook-form';\nimport {Article} from '@app/help-center/articles/article';\nimport {\n  articleEditorFormValueToPayload,\n  CreateArticlePayload,\n} from '@app/admin/help-center/requests/use-create-article';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\n\ninterface Response extends BackendResponse {\n  article: Article;\n}\n\nexport interface UpdateArticlePayload extends Partial<CreateArticlePayload> {\n  id: number;\n}\n\nexport function useUpdateArticle(form?: UseFormReturn<UpdateArticlePayload>) {\n  return useMutation({\n    mutationFn: (payload: UpdateArticlePayload) => updateArticle(payload),\n    onSuccess: async () => {\n      await Promise.allSettled([\n        queryClient.invalidateQueries({queryKey: ['hc', 'categories']}),\n        queryClient.invalidateQueries({queryKey: ['hc', 'articles']}),\n      ]);\n    },\n    onError: err =>\n      form ? onFormQueryError(err, form) : showHttpErrorToast(err),\n  });\n}\n\nfunction updateArticle({\n  id,\n  ...formValue\n}: UpdateArticlePayload): Promise<Response> {\n  return apiClient\n    .put(`hc/articles/${id}`, articleEditorFormValueToPayload(formValue))\n    .then(r => r.data);\n}\n","import {Article} from '@app/help-center/articles/article';\nimport {useUpdateArticle} from '@app/admin/help-center/requests/use-update-article';\nimport {Button} from '@common/ui/buttons/button';\nimport {Trans} from '@common/i18n/trans';\nimport React from 'react';\n\ninterface Props {\n  article: Article;\n}\nexport function TogglePublishedButton({article}: Props) {\n  const updateArticle = useUpdateArticle();\n  return (\n    <Button\n      variant=\"link\"\n      color=\"primary\"\n      disabled={updateArticle.isPending}\n      onClick={() => {\n        updateArticle.mutate({\n          id: article.id,\n          draft: !article.draft,\n        });\n      }}\n    >\n      {article.draft ? (\n        <Trans message=\"Publish\" />\n      ) : (\n        <Trans message=\"Unpublish\" />\n      )}\n    </Button>\n  );\n}\n","import React, {useState} from 'react';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {useFormContext} from 'react-hook-form';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport clsx from 'clsx';\nimport {EditIcon} from '@common/icons/material/Edit';\nimport {CreateCustomPagePayload} from '@common/admin/custom-pages/requests/use-create-custom-page';\n\nexport function ArticleEditorTitle() {\n  const [editingTitle, setEditingTitle] = useState(false);\n  const {trans} = useTrans();\n  const form = useFormContext<CreateCustomPagePayload>();\n  const watchedTitle = form.watch('title');\n\n  const titlePlaceholder = trans({message: 'Title'});\n\n  if (editingTitle) {\n    return (\n      <FormTextField\n        placeholder={titlePlaceholder}\n        autoFocus\n        className=\"mb-30\"\n        onBlur={() => {\n          setEditingTitle(false);\n        }}\n        name=\"title\"\n        required\n      />\n    );\n  }\n  return (\n    <h1\n      tabIndex={0}\n      onClick={() => {\n        setEditingTitle(true);\n      }}\n      onFocus={() => {\n        setEditingTitle(true);\n      }}\n      className={clsx(\n        'hover:bg-primary/focus rounded cursor-pointer',\n        !watchedTitle && 'text-muted'\n      )}\n    >\n      {watchedTitle || titlePlaceholder}\n      <EditIcon className=\"icon-sm mx-8 mt-8 align-top text-muted\" />\n    </h1>\n  );\n}\n","import React, {Fragment, useEffect, useState} from 'react';\nimport clsx from 'clsx';\nimport {RefCallBack} from 'react-hook-form';\nimport {Button} from './buttons/button';\nimport {LinkIcon} from '../icons/material/Link';\nimport {TextField} from './forms/input-field/text-field/text-field';\nimport {Trans} from '../i18n/trans';\nimport {useSettings} from '../core/settings/use-settings';\nimport {slugifyString} from '@common/utils/string/slugify-string';\n\nexport interface SlugEditorProps {\n  prefix?: string;\n  suffix?: string;\n  host?: string;\n  value?: string | null;\n  placeholder?: string;\n  onChange?: (value: string) => void;\n  className?: string;\n  inputRef?: RefCallBack;\n  onInputBlur?: () => void;\n  showLinkIcon?: boolean;\n  pattern?: string;\n  minLength?: number;\n  maxLength?: number;\n  hideButton?: boolean;\n}\nexport function SlugEditor({\n  host,\n  value: initialValue = '',\n  placeholder,\n  onChange,\n  className,\n  inputRef,\n  onInputBlur,\n  showLinkIcon = true,\n  pattern,\n  minLength,\n  maxLength,\n  hideButton,\n  ...props\n}: SlugEditorProps) {\n  const {base_url} = useSettings();\n  const prefix = props.prefix ? `/${props.prefix}` : '';\n  const suffix = props.suffix ? `/${props.suffix}` : '';\n  const [isEditing, setIsEditing] = useState(false);\n  const [value, setValue] = useState(initialValue);\n  host = host || base_url;\n\n  useEffect(() => {\n    setValue(initialValue);\n  }, [initialValue]);\n\n  const handleSubmit = () => {\n    if (!isEditing) {\n      setIsEditing(true);\n    } else {\n      setIsEditing(false);\n      if (value) {\n        onChange?.(value);\n      }\n    }\n  };\n\n  let preview: string = '';\n  if (value) {\n    preview = value;\n  } else if (placeholder) {\n    preview = slugifyString(placeholder);\n  }\n\n  return (\n    // can't use <form/> here as component might be used inside another form\n    <div className={clsx('flex items-center', className)}>\n      {showLinkIcon && <LinkIcon className=\"icon-md text-muted\" />}\n      <div className=\"text-primary ml-6 mr-14\">\n        {host}\n        {prefix}\n        {!isEditing && preview && (\n          <Fragment>\n            <span>/</span>\n            <span className=\"font-medium\">{preview}</span>\n          </Fragment>\n        )}\n        {!isEditing ? suffix : null}\n      </div>\n      {isEditing && (\n        <TextField\n          pattern={pattern}\n          minLength={minLength}\n          maxLength={maxLength}\n          onKeyDown={e => {\n            if (e.key === 'Enter') {\n              handleSubmit();\n            }\n          }}\n          ref={inputRef}\n          aria-label=\"slug\"\n          autoFocus\n          className=\"mr-14\"\n          size=\"2xs\"\n          value={value as string}\n          onBlur={onInputBlur}\n          onChange={e => {\n            setValue(e.target.value);\n          }}\n        />\n      )}\n      {!hideButton && (\n        <Button\n          type=\"button\"\n          color=\"chip\"\n          variant=\"outline\"\n          size=\"2xs\"\n          onClick={() => {\n            handleSubmit();\n          }}\n        >\n          {isEditing ? <Trans message=\"Save\" /> : <Trans message=\"Edit\" />}\n        </Button>\n      )}\n    </div>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const ArrowBackIcon = createSvgIcon(\n  <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\" />\n, 'ArrowBackOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const UndoIcon = createSvgIcon(\n  <path d=\"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z\" />\n, 'UndoOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const RedoIcon = createSvgIcon(\n  <path d=\"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z\" />\n, 'RedoOutlined');\n","import React from 'react';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {UndoIcon} from '../../icons/material/Undo';\nimport {RedoIcon} from '../../icons/material/Redo';\nimport {MenubarButtonProps} from './menubar-button-props';\n\nexport function HistoryButtons({editor}: MenubarButtonProps) {\n  return (\n    <span>\n      <IconButton\n        size=\"md\"\n        disabled={!editor.can().undo()}\n        onClick={() => {\n          editor.commands.focus();\n          editor.commands.undo();\n        }}\n      >\n        <UndoIcon />\n      </IconButton>\n      <IconButton\n        size=\"md\"\n        disabled={!editor.can().redo()}\n        onClick={() => {\n          editor.commands.focus();\n          editor.commands.redo();\n        }}\n      >\n        <RedoIcon />\n      </IconButton>\n    </span>\n  );\n}\n","import {Button} from '../../ui/buttons/button';\nimport {CodeIcon} from '../../icons/material/Code';\nimport {Trans} from '../../i18n/trans';\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\nimport {AceDialog} from '../../ace-editor/ace-dialog';\nimport {Editor} from '@tiptap/react';\nimport React from 'react';\n\ninterface ModeButtonProps {\n  editor: Editor;\n}\nexport function ModeButton({editor}: ModeButtonProps) {\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      onClose={newValue => {\n        if (newValue != null) {\n          editor?.commands.setContent(newValue);\n        }\n      }}\n    >\n      <Button variant=\"text\" startIcon={<CodeIcon />}>\n        <Trans message=\"Source\" />\n      </Button>\n      <AceDialog\n        title={<Trans message=\"Source code\" />}\n        defaultValue={editor.getHTML()}\n      />\n    </DialogTrigger>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const HorizontalRuleIcon = createSvgIcon(\n  <path fillRule=\"evenodd\" d=\"M4 11h16v2H4z\" />\n, 'HorizontalRuleOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const PriorityHighIcon = createSvgIcon(\n  [<circle cx=\"12\" cy=\"19\" r=\"2\" key=\"0\" />,<path d=\"M10 3h4v12h-4z\" key=\"1\" />,]\n, 'PriorityHighOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const NoteIcon = createSvgIcon(\n  <path d=\"M16 4H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99h16c1.1 0 2-.9 2-2v-8l-6-6zM4 18.01V6h11v5h5v7.01H4z\" />\n, 'NoteOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const SmartDisplayIcon = createSvgIcon(\n  [<path d=\"M9.5 7.5v9l7-4.5z\" key=\"0\" />,<path d=\"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14.01H4V5.99h16v12.02z\" key=\"1\" />,]\n, 'SmartDisplayOutlined');\n","import React, {useState} from 'react';\nimport {useForm} from 'react-hook-form';\nimport clsx from 'clsx';\nimport {HorizontalRuleIcon} from '../../icons/material/HorizontalRule';\nimport {PriorityHighIcon} from '../../icons/material/PriorityHigh';\nimport {WarningIcon} from '../../icons/material/Warning';\nimport {NoteIcon} from '../../icons/material/Note';\nimport {MenubarButtonProps} from './menubar-button-props';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {MoreVertIcon} from '../../icons/material/MoreVert';\nimport {SmartDisplayIcon} from '../../icons/material/SmartDisplay';\nimport {Form} from '../../ui/forms/form';\nimport {FormTextField} from '../../ui/forms/input-field/text-field/text-field';\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\nimport {Button} from '../../ui/buttons/button';\nimport {\n  Menu,\n  MenuItem,\n  MenuTrigger,\n} from '../../ui/navigation/menu/menu-trigger';\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\nimport {Dialog} from '../../ui/overlays/dialog/dialog';\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\nimport {Trans} from '../../i18n/trans';\n\nexport function InsertMenuTrigger({editor, size}: MenubarButtonProps) {\n  const [dialog, setDialog] = useState<'embed' | false>(false);\n  return (\n    <>\n      <MenuTrigger\n        onItemSelected={key => {\n          if (key === 'hr') {\n            editor.commands.focus();\n            editor.commands.setHorizontalRule();\n          } else if (key === 'embed') {\n            setDialog('embed');\n          } else {\n            editor.commands.focus();\n            editor.commands.addInfo({type: key as any});\n          }\n        }}\n      >\n        <IconButton\n          variant=\"text\"\n          size={size}\n          className={clsx('flex-shrink-0')}\n        >\n          <MoreVertIcon />\n        </IconButton>\n        <Menu>\n          <MenuItem value=\"hr\" startIcon={<HorizontalRuleIcon />}>\n            <Trans message=\"Horizontal rule\" />\n          </MenuItem>\n          <MenuItem value=\"embed\" startIcon={<SmartDisplayIcon />}>\n            <Trans message=\"Embed\" />\n          </MenuItem>\n          <MenuItem value=\"important\" startIcon={<PriorityHighIcon />}>\n            <Trans message=\"Important\" />\n          </MenuItem>\n          <MenuItem value=\"warning\" startIcon={<WarningIcon />}>\n            <Trans message=\"Warning\" />\n          </MenuItem>\n          <MenuItem value=\"success\" startIcon={<NoteIcon />}>\n            <Trans message=\"Note\" />\n          </MenuItem>\n        </Menu>\n      </MenuTrigger>\n      <DialogTrigger\n        type=\"modal\"\n        isOpen={!!dialog}\n        onClose={() => {\n          setDialog(false);\n        }}\n      >\n        <EmbedDialog editor={editor} />\n      </DialogTrigger>\n    </>\n  );\n}\n\nfunction EmbedDialog({editor}: MenubarButtonProps) {\n  const previousSrc = editor.getAttributes('embed').src;\n  const form = useForm<{src: string}>({\n    defaultValues: {src: previousSrc},\n  });\n  const {formId, close} = useDialogContext();\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Insert link\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          form={form}\n          id={formId}\n          onSubmit={value => {\n            editor.commands.setEmbed(value);\n            close();\n          }}\n        >\n          <FormTextField\n            name=\"src\"\n            label={<Trans message=\"Embed URL\" />}\n            autoFocus\n            type=\"url\"\n            required\n          />\n        </Form>\n      </DialogBody>\n      <DialogFooter>\n        <Button onClick={close} variant=\"text\">\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          type=\"submit\"\n          form={formId}\n          disabled={!form.formState.isValid}\n          variant=\"flat\"\n          color=\"primary\"\n        >\n          <Trans message=\"Add\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {ReactNode} from 'react';\nimport {isMac} from '@react-aria/utils';\n\ninterface Props {\n  children: ReactNode;\n  modifier?: boolean;\n  separator?: string;\n}\nexport function Keyboard({children, modifier, separator = '+'}: Props) {\n  const modKey = isMac() ? (\n    <span className=\"text-base align-middle\">⌘</span>\n  ) : (\n    'Ctrl'\n  );\n  return (\n    <kbd className=\"text-xs text-muted\">\n      {modifier && (\n        <>\n          {modKey}\n          {separator}\n        </>\n      )}\n      {children}\n    </kbd>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport {Button} from '../../ui/buttons/button';\nimport {KeyboardArrowDownIcon} from '../../icons/material/KeyboardArrowDown';\nimport {Keyboard} from '../../ui/keyboard/keyboard';\nimport {MenubarButtonProps} from './menubar-button-props';\nimport {\n  Menu,\n  MenuItem,\n  MenuTrigger,\n} from '../../ui/navigation/menu/menu-trigger';\nimport {Trans} from '../../i18n/trans';\n\ntype Level = 1 | 2 | 3 | 4;\n\nexport function FormatMenuTrigger({editor, size}: MenubarButtonProps) {\n  return (\n    <MenuTrigger\n      floatingMinWidth=\"w-256\"\n      onItemSelected={key => {\n        editor.commands.focus();\n        if (typeof key === 'string' && key.startsWith('h')) {\n          editor.commands.toggleHeading({\n            level: parseInt(key.replace('h', '')) as Level,\n          });\n        } else if (key === 'code') {\n          editor.commands.toggleCode();\n        } else if (key === 'strike') {\n          editor.commands.toggleStrike();\n        } else if (key === 'super') {\n          editor.commands.toggleSuperscript();\n        } else if (key === 'sub') {\n          editor.commands.toggleSubscript();\n        } else if (key === 'blockquote') {\n          editor.commands.toggleBlockquote();\n        } else if (key === 'paragraph') {\n          editor.commands.setParagraph();\n        }\n      }}\n    >\n      <Button\n        className={clsx('flex-shrink-0')}\n        variant=\"text\"\n        size={size}\n        endIcon={<KeyboardArrowDownIcon />}\n      >\n        <Trans message=\"Format\" />\n      </Button>\n      <Menu>\n        <MenuItem value=\"h1\" endSection={<Keyboard modifier>Alt+1</Keyboard>}>\n          <Trans message=\"Heading :number\" values={{number: 1}} />\n        </MenuItem>\n        <MenuItem value=\"h2\" endSection={<Keyboard modifier>Alt+2</Keyboard>}>\n          <Trans message=\"Heading :number\" values={{number: 2}} />\n        </MenuItem>\n        <MenuItem value=\"h3\" endSection={<Keyboard modifier>Alt+3</Keyboard>}>\n          <Trans message=\"Heading :number\" values={{number: 3}} />\n        </MenuItem>\n        <MenuItem value=\"h4\" endSection={<Keyboard modifier>Alt+4</Keyboard>}>\n          <Trans message=\"Heading :number\" values={{number: 4}} />\n        </MenuItem>\n        <MenuItem value=\"code\" endSection={<Keyboard modifier>E</Keyboard>}>\n          <Trans message=\"Code\" />\n        </MenuItem>\n        <MenuItem\n          value=\"strike\"\n          endSection={<Keyboard modifier>Shift+X</Keyboard>}\n        >\n          <Trans message=\"Strikethrough\" />\n        </MenuItem>\n        <MenuItem\n          value=\"super\"\n          endSection={\n            <Keyboard modifier separator=\" \">\n              .\n            </Keyboard>\n          }\n        >\n          <Trans message=\"Superscript\" />\n        </MenuItem>\n        <MenuItem\n          value=\"sub\"\n          endSection={\n            <Keyboard modifier separator=\" \">\n              ,\n            </Keyboard>\n          }\n        >\n          <Trans message=\"Subscript\" />\n        </MenuItem>\n        <MenuItem\n          value=\"blockquote\"\n          endSection={<Keyboard modifier>Shift+B</Keyboard>}\n        >\n          <Trans message=\"Blockquote\" />\n        </MenuItem>\n        <MenuItem\n          value=\"paragraph\"\n          endSection={<Keyboard modifier>Alt+0</Keyboard>}\n        >\n          <Trans message=\"Paragraph\" />\n        </MenuItem>\n      </Menu>\n    </MenuTrigger>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const FormatColorTextIcon = createSvgIcon(\n  <path d=\"M2 20h20v4H2v-4zm3.49-3h2.42l1.27-3.58h5.65L16.09 17h2.42L13.25 3h-2.5L5.49 17zm4.42-5.61 2.03-5.79h.12l2.03 5.79H9.91z\" />\n, 'FormatColorTextOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const FormatColorFillIcon = createSvgIcon(\n  <path d=\"M16.56 8.94 7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.59-.59 1.54 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12zM5.21 10 10 5.21 14.79 10H5.21zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5zM2 20h20v4H2v-4z\" />\n, 'FormatColorFillOutlined');\n","import React, {Fragment, useState} from 'react';\nimport clsx from 'clsx';\nimport {FormatColorTextIcon} from '../../icons/material/FormatColorText';\nimport {ColorPickerDialog} from '../../ui/color-picker/color-picker-dialog';\nimport {MenubarButtonProps} from './menubar-button-props';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {FormatColorFillIcon} from '../../icons/material/FormatColorFill';\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\n\nexport function ColorButtons({editor, size}: MenubarButtonProps) {\n  const [dialog, setDialog] = useState<'text' | 'bg' | false>(false);\n  const textActive = editor.getAttributes('textStyle').color;\n  const backgroundActive = editor.getAttributes('textStyle').backgroundColor;\n  return (\n    <Fragment>\n      <span className={clsx('flex-shrink-0 whitespace-nowrap')}>\n        <IconButton\n          size={size}\n          color={textActive ? 'primary' : null}\n          onClick={() => {\n            setDialog('text');\n          }}\n        >\n          <FormatColorTextIcon />\n        </IconButton>\n        <IconButton\n          size={size}\n          color={backgroundActive ? 'primary' : null}\n          onClick={() => {\n            setDialog('bg');\n          }}\n        >\n          <FormatColorFillIcon />\n        </IconButton>\n      </span>\n      <DialogTrigger\n        currentValue={dialog === 'text' ? '#000000' : '#FFFFFF'}\n        type=\"modal\"\n        isOpen={!!dialog}\n        onClose={newValue => {\n          if (newValue) {\n            if (dialog === 'text') {\n              editor.commands.setColor(newValue);\n            } else {\n              editor.commands.setBackgroundColor(newValue);\n            }\n          }\n          setDialog(false);\n        }}\n      >\n        <ColorPickerDialog\n          defaultValue={dialog === 'text' ? '#000000' : '#FFFFFF'}\n        />\n      </DialogTrigger>\n    </Fragment>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const FormatAlignLeftIcon = createSvgIcon(\n  <path d=\"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z\" />\n, 'FormatAlignLeftOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const FormatAlignCenterIcon = createSvgIcon(\n  <path d=\"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z\" />\n, 'FormatAlignCenterOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const FormatAlignRightIcon = createSvgIcon(\n  <path d=\"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z\" />\n, 'FormatAlignRightOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const FormatAlignJustifyIcon = createSvgIcon(\n  <path d=\"M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z\" />\n, 'FormatAlignJustifyOutlined');\n","import clsx from 'clsx';\nimport {ComponentType} from 'react';\nimport {FormatAlignLeftIcon} from '../../icons/material/FormatAlignLeft';\nimport {FormatAlignCenterIcon} from '../../icons/material/FormatAlignCenter';\nimport {FormatAlignRightIcon} from '../../icons/material/FormatAlignRight';\nimport {FormatAlignJustifyIcon} from '../../icons/material/FormatAlignJustify';\nimport {MenubarButtonProps} from './menubar-button-props';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {\n  Menu,\n  MenuItem,\n  MenuTrigger,\n} from '../../ui/navigation/menu/menu-trigger';\nimport {Trans} from '../../i18n/trans';\nimport {message} from '../../i18n/message';\n\nconst iconMap = {\n  left: {\n    icon: FormatAlignLeftIcon,\n    label: message('Align left'),\n  },\n  center: {\n    icon: FormatAlignCenterIcon,\n    label: message('Align center'),\n  },\n  right: {\n    icon: FormatAlignRightIcon,\n    label: message('Align right'),\n  },\n  justify: {\n    icon: FormatAlignJustifyIcon,\n    label: message('Justify'),\n  },\n};\n\nexport function AlignButtons({editor, size}: MenubarButtonProps) {\n  const activeKey = (Object.keys(iconMap).find(key => {\n    return editor.isActive({textAlign: key});\n  }) || 'left') as keyof typeof iconMap;\n  const ActiveIcon: ComponentType = activeKey\n    ? iconMap[activeKey].icon\n    : iconMap.left.icon;\n\n  return (\n    <MenuTrigger\n      floatingWidth=\"auto\"\n      selectionMode=\"single\"\n      selectedValue={activeKey}\n      onSelectionChange={key => {\n        editor.commands.focus();\n        editor.commands.setTextAlign(key as string);\n      }}\n    >\n      <IconButton\n        size={size}\n        color={activeKey ? 'primary' : null}\n        className={clsx('flex-shrink-0')}\n      >\n        <ActiveIcon />\n      </IconButton>\n      <Menu>\n        {Object.entries(iconMap).map(([name, config]) => {\n          const Icon = config.icon;\n          return (\n            <MenuItem\n              key={name}\n              value={name}\n              startIcon={<Icon size=\"md\" />}\n              capitalizeFirst\n            >\n              <Trans message={config.label.message} />\n            </MenuItem>\n          );\n        })}\n      </Menu>\n    </MenuTrigger>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const UnfoldMoreIcon = createSvgIcon(\n  <path d=\"M12 5.83 15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z\" />\n, 'UnfoldMoreOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const UnfoldLessIcon = createSvgIcon(\n  <path d=\"M7.41 18.59 8.83 20 12 16.83 15.17 20l1.41-1.41L12 14l-4.59 4.59zm9.18-13.18L15.17 4 12 7.17 8.83 4 7.41 5.41 12 10l4.59-4.59z\" />\n, 'UnfoldLessOutlined');\n","import React, {Fragment, useState} from 'react';\nimport clsx from 'clsx';\nimport {AnimatePresence, m} from 'framer-motion';\nimport {Divider} from '@common/text-editor/menubar/divider';\nimport {FontStyleButtons} from '@common/text-editor/menubar/font-style-buttons';\nimport {ListButtons} from '@common/text-editor/menubar/list-buttons';\nimport {LinkButton} from '@common/text-editor/menubar/link-button';\nimport {ImageButton} from '@common/text-editor/menubar/image-button';\nimport {ClearFormatButton} from '@common/text-editor/menubar/clear-format-button';\nimport {InsertMenuTrigger} from '@common/text-editor/menubar/insert-menu-trigger';\nimport {FormatMenuTrigger} from '@common/text-editor/menubar/format-menu-trigger';\nimport {ColorButtons} from '@common/text-editor/menubar/color-buttons';\nimport {AlignButtons} from '@common/text-editor/menubar/align-buttons';\nimport {IndentButtons} from '@common/text-editor/menubar/indent-buttons';\nimport {CodeBlockMenuTrigger} from '@common/text-editor/menubar/code-block-menu-trigger';\nimport {MenubarButtonProps} from '@common/text-editor/menubar/menubar-button-props';\nimport {useIsMobileMediaQuery} from '@common/utils/hooks/is-mobile-media-query';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {UnfoldMoreIcon} from '@common/icons/material/UnfoldMore';\nimport {UnfoldLessIcon} from '@common/icons/material/UnfoldLess';\n\nconst MenubarRowClassName =\n  'flex items-center px-4 h-42 text-muted border-b overflow-hidden';\n\ninterface Props extends MenubarButtonProps {\n  justify?: string;\n  hideInsertButton?: boolean;\n}\n\nexport function ArticleBodyEditorMenubar({\n  editor,\n  size = 'md',\n  justify = 'justify-center',\n  hideInsertButton = false,\n}: Props) {\n  const isMobile = useIsMobileMediaQuery();\n  const [extendedVisible, setExtendedVisible] = useState(false);\n  return (\n    <div className={clsx(extendedVisible ? 'h-84' : 'h-42')}>\n      <div className={clsx(MenubarRowClassName, justify, 'relative z-20')}>\n        <FormatMenuTrigger editor={editor} size={size} />\n        <Divider />\n        <FontStyleButtons editor={editor} size={size} />\n        <Divider />\n        <AlignButtons editor={editor} size={size} />\n        <IndentButtons editor={editor} size={size} />\n        <Divider />\n        {isMobile ? (\n          <IconButton\n            className=\"flex-shrink-0\"\n            color={extendedVisible ? 'primary' : null}\n            size={size}\n            onClick={() => {\n              setExtendedVisible(!extendedVisible);\n            }}\n          >\n            {extendedVisible ? <UnfoldLessIcon /> : <UnfoldMoreIcon />}\n          </IconButton>\n        ) : (\n          <ExtendedButtons\n            editor={editor}\n            size={size}\n            hideInsertButton={hideInsertButton}\n          />\n        )}\n      </div>\n      <AnimatePresence>\n        {extendedVisible && (\n          <m.div\n            className={clsx(\n              MenubarRowClassName,\n              justify,\n              'absolute flex h-full w-full',\n            )}\n            initial={{y: '-100%'}}\n            animate={{y: 0}}\n            exit={{y: '-100%'}}\n          >\n            <ExtendedButtons editor={editor} size={size} />\n          </m.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n\nfunction ExtendedButtons({editor, size = 'md', hideInsertButton}: Props) {\n  return (\n    <Fragment>\n      <ListButtons editor={editor} size={size} />\n      <Divider />\n      <LinkButton editor={editor} size={size} />\n      <ImageButton editor={editor} size={size} />\n      {!hideInsertButton && <InsertMenuTrigger editor={editor} size={size} />}\n      <Divider />\n      <ColorButtons editor={editor} size={size} />\n      <Divider />\n      <CodeBlockMenuTrigger editor={editor} size={size} />\n      <ClearFormatButton editor={editor} size={size} />\n    </Fragment>\n  );\n}\n","import {SlugEditor, SlugEditorProps} from '@common/ui/slug-editor';\nimport {useController, useFormContext} from 'react-hook-form';\nimport React, {Fragment, ReactNode, useEffect, useRef} from 'react';\nimport clsx from 'clsx';\nimport {useStickySentinel} from '@common/utils/hooks/sticky-sentinel';\nimport {useIsMobileMediaQuery} from '@common/utils/hooks/is-mobile-media-query';\nimport {Button} from '@common/ui/buttons/button';\nimport {Link} from 'react-router-dom';\nimport {ArrowBackIcon} from '@common/icons/material/ArrowBack';\nimport {Trans} from '@common/i18n/trans';\nimport {HistoryButtons} from '@common/text-editor/menubar/history-buttons';\nimport {ModeButton} from '@common/text-editor/menubar/mode-button';\nimport {ArticleBodyEditorMenubar} from './article-body-editor-menubar';\nimport {Editor} from '@tiptap/react';\nimport {CreateCustomPagePayload} from '@common/admin/custom-pages/requests/use-create-custom-page';\n\ninterface StickyHeaderProps {\n  editor: Editor;\n  allowSlugEditing?: boolean;\n  onSave?: (editorContent: string) => void;\n  saveButton?: ReactNode;\n  backLink: string;\n  isLoading?: boolean;\n  slugPrefix?: string;\n}\nexport function ArticleEditorStickyHeader({\n  editor,\n  allowSlugEditing = true,\n  onSave,\n  saveButton,\n  isLoading = false,\n  backLink,\n  slugPrefix = 'pages',\n}: StickyHeaderProps) {\n  const {isSticky, sentinelRef} = useStickySentinel();\n  const isMobile = useIsMobileMediaQuery();\n\n  return (\n    <Fragment>\n      <div ref={sentinelRef} />\n      <div\n        className={clsx(\n          'sticky top-0 z-10 mb-20 bg-paper',\n          isSticky && 'shadow',\n        )}\n      >\n        <div className=\"flex items-center justify-between gap-20 border-b px-20 py-10 text-muted sm:justify-start\">\n          {!isMobile && (\n            <Fragment>\n              <Button\n                variant=\"text\"\n                size=\"sm\"\n                elementType={Link}\n                to={backLink}\n                relative=\"path\"\n                startIcon={<ArrowBackIcon />}\n              >\n                <Trans message=\"Back\" />\n              </Button>\n              <div className=\"mr-auto\">\n                {allowSlugEditing && (\n                  <FormSlugEditor\n                    name=\"slug\"\n                    showLinkIcon={false}\n                    prefix={slugPrefix}\n                  />\n                )}\n              </div>\n            </Fragment>\n          )}\n          {editor && <HistoryButtons editor={editor} />}\n          {!isMobile && <ModeButton editor={editor} />}\n          {onSave && (\n            <SaveButton\n              onSave={() => {\n                onSave(editor.getHTML());\n              }}\n              isLoading={isLoading}\n            />\n          )}\n          {saveButton}\n        </div>\n        <ArticleBodyEditorMenubar editor={editor} size=\"sm\" />\n      </div>\n    </Fragment>\n  );\n}\n\ninterface SaveButtonProps {\n  onSave: () => void;\n  isLoading: boolean;\n}\nfunction SaveButton({onSave, isLoading}: SaveButtonProps) {\n  const form = useFormContext();\n  const title = form.watch('title');\n\n  return (\n    <Button\n      variant=\"flat\"\n      size=\"sm\"\n      color=\"primary\"\n      className=\"min-w-90\"\n      disabled={isLoading || !title}\n      onClick={() => onSave()}\n    >\n      <Trans message=\"Save\" />\n    </Button>\n  );\n}\n\ninterface FormSlugEditorProps extends SlugEditorProps {\n  name: string;\n}\nfunction FormSlugEditor({name, ...other}: FormSlugEditorProps) {\n  const {\n    field: {onChange, onBlur, value = '', ref},\n  } = useController({\n    name,\n  });\n  const manuallyChanged = useRef(false);\n\n  const {watch, setValue} = useFormContext<CreateCustomPagePayload>();\n\n  useEffect(() => {\n    const subscription = watch((formVal, {name: fieldName}) => {\n      // if user has not changed slug manually, set it based on page title field changes\n      if (fieldName === 'title' && !manuallyChanged.current) {\n        setValue('slug', formVal.title);\n      }\n    });\n    return () => subscription.unsubscribe();\n  }, [watch, setValue]);\n\n  return (\n    <SlugEditor\n      className={clsx(!value && 'invisible')}\n      onChange={e => {\n        manuallyChanged.current = true;\n        onChange(e);\n      }}\n      onInputBlur={onBlur}\n      value={value}\n      inputRef={ref}\n      {...other}\n    />\n  );\n}\n","import {useParams} from 'react-router-dom';\n\nexport function useArticleEditorBackLink() {\n  const {categoryId, sectionId, articleId} = useParams();\n  let backLink = categoryId || sectionId ? `../../` : `../`;\n  if (articleId) {\n    backLink += '../';\n  }\n  return backLink;\n}\n","import React, {cloneElement, ReactElement, Suspense} from 'react';\nimport {FileUploadProvider} from '@common/uploads/uploader/file-upload-provider';\nimport {ArticleEditorTitle} from '@common/article-editor/article-editor-title';\nimport {Editor} from '@tiptap/react';\nimport {ArticleEditorStickyHeader} from '@common/article-editor/article-editor-sticky-header';\nimport {useArticleEditorBackLink} from '@app/admin/help-center/article-editor/use-article-editor-back-link';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {Button} from '@common/ui/buttons/button';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {Trans} from '@common/i18n/trans';\nimport {useMediaQuery} from '@common/utils/hooks/use-media-query';\n\nconst ArticleBodyEditor = React.lazy(\n  () => import('@common/article-editor/article-body-editor'),\n);\n\ninterface Props {\n  initialContent?: string;\n  onLoad: (editor: Editor) => void;\n  mobileSaveButton?: ReactElement;\n}\nexport function HcArticleBodyEditor({\n  initialContent,\n  onLoad,\n  mobileSaveButton,\n}: Props) {\n  const backLink = useArticleEditorBackLink();\n  return (\n    <Suspense>\n      <ArticleBodyEditor initialContent={initialContent} onLoad={onLoad}>\n        {(content, editor) => (\n          <FileUploadProvider>\n            <ArticleEditorStickyHeader\n              allowSlugEditing={false}\n              editor={editor}\n              backLink={backLink}\n              isLoading={false}\n              saveButton={mobileSaveButton}\n            />\n            <div className=\"mx-20\">\n              <div className=\"prose mx-auto flex-auto dark:prose-invert\">\n                <ArticleEditorTitle />\n                {content}\n              </div>\n            </div>\n          </FileUploadProvider>\n        )}\n      </ArticleBodyEditor>\n    </Suspense>\n  );\n}\n\ninterface ArticleEditorLayoutProps {\n  children?: ReactElement<Props>;\n  aside: ReactElement;\n}\nexport function ArticleEditorLayout({\n  children,\n  aside,\n}: ArticleEditorLayoutProps) {\n  const isCompactMode = useMediaQuery('(max-width: 1024px)');\n  const mobileSaveButton = isCompactMode ? (\n    <MobileSaveButton aside={aside} />\n  ) : undefined;\n  return (\n    <div className=\"min-h-full items-stretch lg:flex\">\n      <div className=\"flex-auto\">\n        {children &&\n          cloneElement(children, {\n            mobileSaveButton,\n          })}\n      </div>\n      {!isCompactMode && (\n        <div className=\"w-320 border-l bg-alt xl:w-400\">\n          <aside className=\"sticky top-0 px-24 py-14 xl:px-48 xl:py-28\">\n            {aside}\n          </aside>\n        </div>\n      )}\n    </div>\n  );\n}\n\ninterface MobileSaveButtonProps {\n  aside: ReactElement;\n}\nfunction MobileSaveButton({aside}: MobileSaveButtonProps) {\n  return (\n    <DialogTrigger type=\"modal\">\n      <Button variant=\"outline\" color=\"primary\" size=\"xs\">\n        <Trans message=\"Save\" />\n      </Button>\n      <Dialog>\n        <DialogBody>{aside}</DialogBody>\n      </Dialog>\n    </DialogTrigger>\n  );\n}\n","import {Trans} from '@common/i18n/trans';\nimport {EditIcon} from '@common/icons/material/Edit';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {useCategories} from '@app/admin/help-center/requests/use-categories';\nimport {Accordion, AccordionItem} from '@common/ui/accordion/accordion';\nimport {Checkbox} from '@common/ui/forms/toggle/checkbox';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {useFormContext} from 'react-hook-form';\nimport {ChangeEvent, Fragment, useState} from 'react';\nimport {CreateArticlePayload} from '@app/admin/help-center/requests/use-create-article';\nimport {Section} from '@app/help-center/categories/category';\nimport {getInputFieldClassNames} from '@common/ui/forms/input-field/get-input-field-class-names';\n\ninterface Props {\n  onSave: (sections: number[]) => void;\n}\nexport function ArticleSectionSelector({onSave}: Props) {\n  const {data} = useCategories({type: 'category', load: ['sections']});\n  const categories = data?.pagination.data || [];\n  const sections = categories.map(c => c.sections!).flat() || [];\n  const {watch, clearErrors} = useFormContext<CreateArticlePayload>();\n  const selectedSections = watch('sections') || [];\n  const {getFieldState} = useFormContext<CreateArticlePayload>();\n  const errorMessage = getFieldState('sections').error?.message;\n  const classNames = getInputFieldClassNames({errorMessage});\n\n  if (!sections.length) {\n    return null;\n  }\n\n  const firstSection = sections.find(s => s.id === selectedSections[0]);\n  const firstCategory = categories.find(c => c.id === firstSection?.parent_id);\n  const sectionCount = selectedSections.length;\n\n  return (\n    <div>\n      <div className={classNames.label}>\n        <Trans message=\"Publish in sections\" />\n      </div>\n      <DialogTrigger\n        type=\"modal\"\n        onClose={sections => {\n          if (sections) {\n            onSave(sections);\n            clearErrors('sections');\n          }\n        }}\n      >\n        <div className=\"relative cursor-pointer rounded border bg py-12 pl-12 pr-30 text-sm\">\n          {!firstSection || !firstCategory ? (\n            <Trans message=\"Select a section\" />\n          ) : (\n            <Fragment>\n              <div className=\"mb-2 overflow-hidden overflow-ellipsis whitespace-nowrap font-semibold\">\n                {firstCategory.name}\n              </div>\n              <div className=\"overflow-hidden overflow-ellipsis whitespace-nowrap text-xs text-muted\">\n                {sectionCount > 1 ? (\n                  <Trans\n                    message=\":name + :count more sections\"\n                    values={{name: firstSection.name, count: sectionCount - 1}}\n                  />\n                ) : (\n                  firstSection.name\n                )}\n              </div>\n            </Fragment>\n          )}\n\n          <EditIcon className=\"absolute right-8 top-8 text-muted\" size=\"sm\" />\n        </div>\n        <SectionSelectorDialog />\n      </DialogTrigger>\n      {errorMessage && <div className={classNames.error}>{errorMessage}</div>}\n    </div>\n  );\n}\n\nfunction SectionSelectorDialog() {\n  const {data} = useCategories({type: 'category', load: ['sections']});\n  const {close} = useDialogContext();\n  const {getValues} = useFormContext<CreateArticlePayload>();\n\n  const [selectedSections, setSelectedSections] = useState<number[]>(\n    () => getValues('sections') || [],\n  );\n\n  const handleToggle = (e: ChangeEvent<HTMLInputElement>, section: Section) => {\n    if (e.target.checked) {\n      setSelectedSections([...selectedSections, section.id]);\n    } else {\n      setSelectedSections(selectedSections.filter(id => id !== section.id));\n    }\n  };\n\n  return (\n    <Dialog size=\"lg\">\n      <DialogHeader>\n        <Trans message=\"Select sections\" />\n      </DialogHeader>\n      <DialogBody>\n        <Accordion>\n          {data?.pagination.data.map(category => {\n            const sectionIds = category.sections?.map(s => s.id) || [];\n            const selectedCount = sectionIds.filter(id =>\n              selectedSections.includes(id),\n            ).length;\n            return (\n              <AccordionItem\n                description={\n                  selectedCount ? (\n                    <Trans\n                      message=\"[one 1 section|other :count sections] selected\"\n                      values={{count: selectedCount}}\n                    />\n                  ) : null\n                }\n                label={category.name}\n                key={category.id}\n              >\n                {category.sections?.map(section => (\n                  <Checkbox\n                    className=\"mb-8 block\"\n                    key={section.id}\n                    checked={selectedSections.includes(section.id)}\n                    onChange={e => handleToggle(e, section)}\n                  >\n                    {section.name}\n                  </Checkbox>\n                ))}\n              </AccordionItem>\n            );\n          })}\n        </Accordion>\n      </DialogBody>\n      <DialogFooter>\n        <Button onClick={() => close()}>\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          onClick={() => close(selectedSections)}\n        >\n          <Trans message=\"Select\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {FileTypeIcon} from '@common/uploads/file-type-icon/file-type-icon';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {CloseIcon} from '@common/icons/material/Close';\nimport {ProgressBar} from '@common/ui/progress/progress-bar';\nimport React from 'react';\nimport {useFieldArray} from 'react-hook-form';\nimport {CreateArticlePayload} from '@app/admin/help-center/requests/use-create-article';\nimport {toast} from '@common/ui/toast/toast';\nimport {Trans} from '@common/i18n/trans';\nimport {Button} from '@common/ui/buttons/button';\nimport {useFileUploadStore} from '@common/uploads/uploader/file-upload-provider';\nimport {openUploadWindow} from '@common/uploads/utils/open-upload-window';\nimport clsx from 'clsx';\nimport {ArticleAttachment} from '@app/help-center/articles/article';\n\nconst TwentyMB = 20 * 1024 * 1024;\n\nexport function ArticleAttachmentsEditor() {\n  const uploads = useFileUploadStore(s => s.fileUploads);\n  const abortUpload = useFileUploadStore(s => s.abortUpload);\n  const uploadMultiple = useFileUploadStore(s => s.uploadMultiple);\n  const {fields, append, remove} = useFieldArray<CreateArticlePayload>({\n    name: 'attachments',\n  });\n\n  const handleUpload = async () => {\n    const files = await openUploadWindow({\n      multiple: true,\n    });\n\n    if (files.length) {\n      uploadMultiple(files, {\n        restrictions: {\n          maxFileSize: TwentyMB,\n        },\n        onSuccess: entry => {\n          append(entry);\n        },\n        onError: message => {\n          if (message) {\n            toast.danger(message);\n          }\n        },\n      });\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"mb-8 mt-34 text-sm\">\n        <Trans message=\"Attachments\" />\n      </div>\n      <div>\n        {fields.map((field, index) => {\n          const attachment = field as ArticleAttachment;\n          return (\n            <AttachmentPreview\n              key={attachment.id}\n              name={attachment.name}\n              mime={attachment.mime}\n              onRemove={() => remove(index)}\n              downloadLink={`file-entries/download/${attachment.hash}`}\n            />\n          );\n        })}\n        {[...uploads.entries()]\n          .filter(([_, upload]) => upload.status === 'inProgress')\n          .map(([id, upload]) => (\n            <AttachmentPreview\n              key={id}\n              name={upload.file.name}\n              mime={upload.file.mime}\n              progress={upload.percentage}\n              onRemove={() => abortUpload(id)}\n            />\n          ))}\n      </div>\n      <div className=\"mt-6\">\n        <Button variant=\"link\" color=\"primary\" onClick={() => handleUpload()}>\n          <Trans message=\"Upload attachment (max 20MB)\" />\n        </Button>\n      </div>\n    </div>\n  );\n}\n\ninterface AttachmentPreviewProps {\n  name: string;\n  mime: string;\n  progress?: number;\n  onRemove: () => void;\n  downloadLink?: string;\n}\nfunction AttachmentPreview({\n  name,\n  mime,\n  progress,\n  onRemove,\n  downloadLink,\n}: AttachmentPreviewProps) {\n  return (\n    <div className=\"py-2\">\n      <div className=\"flex items-center gap-6 text-sm\">\n        <FileTypeIcon mime={mime} size=\"xs\" />\n        <AttachmentName\n          name={name}\n          className=\"overflow-hidden overflow-ellipsis whitespace-nowrap\"\n          downloadLink={downloadLink}\n        />\n        <IconButton onClick={() => onRemove()} size=\"xs\">\n          <CloseIcon />\n        </IconButton>\n      </div>\n      {progress ? (\n        <ProgressBar value={progress} className=\"mt-4 max-w-224\" size=\"xs\" />\n      ) : null}\n    </div>\n  );\n}\n\ninterface AttachmentNameProps {\n  name: string;\n  downloadLink?: string;\n  className?: string;\n}\nfunction AttachmentName({name, downloadLink, className}: AttachmentNameProps) {\n  if (downloadLink) {\n    return (\n      <a\n        href={downloadLink}\n        download\n        className={clsx(className, 'hover:underline')}\n      >\n        {name}\n      </a>\n    );\n  }\n  return <div className={className}>{name}</div>;\n}\n","import {message} from '@common/i18n/message';\nimport {FormNormalizedModelField} from '@common/ui/forms/normalized-model-field';\nimport {Trans} from '@common/i18n/trans';\nimport React from 'react';\n\nconst placeholder = message('Select author...');\nconst searchPlaceholder = message('Find a user');\nexport function ArticleAuthorField() {\n  return (\n    <FormNormalizedModelField\n      endpoint=\"autocomplete/article-authors\"\n      name=\"author_id\"\n      background=\"bg-paper\"\n      className=\"mb-24\"\n      label={<Trans message=\"Author\" />}\n      placeholder={placeholder}\n      searchPlaceholder={searchPlaceholder}\n    />\n  );\n}\n","import React, {Fragment, ReactNode} from 'react';\nimport {useFormContext} from 'react-hook-form';\nimport {UpdateArticlePayload} from '@app/admin/help-center/requests/use-update-article';\nimport {Button} from '@common/ui/buttons/button';\nimport {Trans} from '@common/i18n/trans';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {ArticleSectionSelector} from '@app/admin/help-center/article-editor/article-section-selector';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {FormChipField} from '@common/ui/forms/input-field/chip-field/form-chip-field';\nimport {useTags} from '@common/tags/use-tags';\nimport {FileUploadProvider} from '@common/uploads/uploader/file-upload-provider';\nimport {ArticleAttachmentsEditor} from '@app/admin/help-center/article-editor/article-attachments-editor';\nimport {ArticleAuthorField} from '@app/admin/help-center/article-editor/article-author-field';\nimport {VisibleToField} from '@app/admin/help-center/visible-to-field';\nimport {ManagedByField} from '@app/admin/help-center/managed-by-field';\n\ninterface Props {\n  children?: ReactNode;\n  onSave: () => void;\n  isSaving: boolean;\n}\nexport function ArticleEditorAside({children, onSave, isSaving}: Props) {\n  const form = useFormContext<UpdateArticlePayload>();\n  return (\n    <Fragment>\n      <Button\n        variant=\"flat\"\n        color=\"primary\"\n        className=\"min-h-46 w-full\"\n        onClick={() => onSave()}\n        disabled={isSaving}\n      >\n        <Trans message=\"Save\" />\n      </Button>\n      <div className=\"mt-34\">\n        {children}\n        <VisibleToField\n          className=\"mb-24\"\n          description={\n            <Trans message=\"Control who can see this article in help center\" />\n          }\n        />\n        <ArticleAuthorField />\n        <ManagedByField\n          className=\"mb-24\"\n          description={\n            <Trans message=\"Control who can edit and publish this article\" />\n          }\n        />\n        <ArticleSectionSelector\n          onSave={sections => {\n            form.setValue('sections', sections);\n          }}\n        />\n        <TagSelector />\n        <FileUploadProvider>\n          <ArticleAttachmentsEditor />\n        </FileUploadProvider>\n      </div>\n    </Fragment>\n  );\n}\n\nfunction TagSelector() {\n  const {data} = useTags({type: 'custom', perPage: 10});\n  const tags = data?.pagination.data || [];\n  const {trans} = useTrans();\n\n  if (!tags.length) return null;\n\n  return (\n    <FormChipField\n      className=\"mt-24\"\n      placeholder={trans({message: 'Add tag...'})}\n      background=\"bg-paper\"\n      label={<Trans message=\"Tags\" />}\n      name=\"tags\"\n      chipSize=\"sm\"\n      suggestions={tags}\n      description={\n        <Trans message=\"Add content tags to help users find articles easier\" />\n      }\n    >\n      {tag => (\n        <Item value={tag.id} key={tag.id} capitalizeFirst>\n          <Trans message={tag.display_name || tag.name} />\n        </Item>\n      )}\n    </FormChipField>\n  );\n}\n","import React, {Fragment, useRef} from 'react';\nimport {FormProvider, useForm} from 'react-hook-form';\nimport {Trans} from '@common/i18n/trans';\nimport {useArticle} from '@app/help-center/articles/use-article';\nimport {Article} from '@app/help-center/articles/article';\nimport {\n  UpdateArticlePayload,\n  useUpdateArticle,\n} from '@app/admin/help-center/requests/use-update-article';\nimport {Editor} from '@tiptap/react';\nimport clsx from 'clsx';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {TogglePublishedButton} from '@app/admin/help-center/article-editor/toggle-published-button';\nimport {\n  ArticleEditorLayout,\n  HcArticleBodyEditor,\n} from '@app/admin/help-center/article-editor/hc-article-body-editor';\nimport {ArticleEditorAside} from '@app/admin/help-center/article-editor/article-editor-aside';\nimport {Skeleton} from '@common/ui/skeleton/skeleton';\nimport {PageStatus} from '@common/http/page-status';\nimport {PageMetaTags} from '@common/http/page-meta-tags';\nimport {Button} from '@common/ui/buttons/button';\nimport {Link} from 'react-router-dom';\nimport {OpenInNewIcon} from '@common/icons/material/OpenInNew';\nimport {getArticleLink} from '@app/help-center/articles/article-link';\n\nexport function UpdateArticlePage() {\n  const query = useArticle('updateArticle');\n\n  return query.data ? (\n    <Fragment>\n      <PageMetaTags query={query} />\n      <PageContent article={query.data.article} />\n    </Fragment>\n  ) : (\n    <ArticleEditorLayout aside={<Skeleton variant=\"rect\" size=\"w-full h-46\" />}>\n      <PageStatus query={query} />\n    </ArticleEditorLayout>\n  );\n}\n\ninterface PageContentProps {\n  article: Article;\n}\nfunction PageContent({article}: PageContentProps) {\n  const {trans} = useTrans();\n  const editor = useRef<Editor>();\n  const form = useForm<UpdateArticlePayload>({\n    defaultValues: {\n      title: article.title,\n      slug: article.slug,\n      visible_to_role: article.visible_to_role,\n      author_id: article.author_id,\n      managed_by_role: article.managed_by_role,\n      sections: article.sections?.map(s => s.id),\n      tags: article.tags?.map(t => ({\n        name: t.name,\n        id: t.id,\n        description: t.display_name,\n      })),\n      attachments: article.attachments,\n    },\n  });\n\n  const updateArticle = useUpdateArticle(form);\n  const handleSave = () => {\n    if (!editor.current) return null;\n    updateArticle.mutate(\n      {\n        ...form.getValues(),\n        body: editor.current.getHTML(),\n        id: article.id,\n      },\n      {\n        onSuccess: () => {\n          toast(trans(message('Article updated')));\n        },\n      },\n    );\n  };\n\n  return (\n    <FormProvider {...form}>\n      <ArticleEditorLayout\n        aside={\n          <ArticleEditorAside\n            onSave={() => handleSave()}\n            isSaving={updateArticle.isPending}\n          >\n            <PublicationStatus article={article} />\n          </ArticleEditorAside>\n        }\n      >\n        <HcArticleBodyEditor\n          initialContent={article.body}\n          onLoad={e => (editor.current = e)}\n        />\n      </ArticleEditorLayout>\n    </FormProvider>\n  );\n}\n\ninterface PublicationStatusProps {\n  article: Article;\n}\nfunction PublicationStatus({article}: PublicationStatusProps) {\n  return (\n    <div className=\"mb-28 border-b pb-14 text-sm\">\n      <div className=\"mb-8 font-semibold\">\n        <Trans message=\"Publication status\" />\n      </div>\n      <div className=\"flex items-center\">\n        <div className=\"mr-10 flex items-center gap-8 border-r pr-10\">\n          <div\n            className={clsx(\n              'h-12 w-12 rounded-full border',\n              article.draft\n                ? 'border-divider'\n                : 'border-transparent bg-positive',\n            )}\n          />\n          {article.draft ? (\n            <Trans message=\"Draft\" />\n          ) : (\n            <Trans message=\"Published\" />\n          )}\n        </div>\n        <TogglePublishedButton article={article} />\n      </div>\n      <Button\n        variant=\"link\"\n        color=\"primary\"\n        elementType={Link}\n        to={getArticleLink(article, {section: article.sections?.[0]})}\n        endIcon={<OpenInNewIcon />}\n        target=\"_blank\"\n        size=\"xs\"\n        className=\"mt-18\"\n      >\n        <Trans message=\"Preview in Help Center\" />\n      </Button>\n    </div>\n  );\n}\n","import React, {useRef} from 'react';\nimport {FormProvider, useForm} from 'react-hook-form';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\nimport {Trans} from '@common/i18n/trans';\nimport {Editor} from '@tiptap/react';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {\n  ArticleEditorLayout,\n  HcArticleBodyEditor,\n} from '@app/admin/help-center/article-editor/hc-article-body-editor';\nimport {ArticleEditorAside} from '@app/admin/help-center/article-editor/article-editor-aside';\nimport {StaticPageTitle} from '@common/seo/static-page-title';\nimport {\n  CreateArticlePayload,\n  useCreateArticle,\n} from '@app/admin/help-center/requests/use-create-article';\nimport {useParams} from 'react-router-dom';\nimport {FormSelect} from '@common/ui/forms/select/select';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {useAuth} from '@common/auth/use-auth';\n\nexport function CreateArticlePage() {\n  const {sectionId} = useParams();\n  const navigate = useNavigate();\n  const {trans} = useTrans();\n  const editor = useRef<Editor>();\n  const {user} = useAuth();\n  const form = useForm<CreateArticlePayload>({\n    defaultValues: {\n      draft: true,\n      sections: sectionId ? [parseInt(sectionId)] : [],\n      author_id: user?.id,\n    },\n  });\n\n  const createArticle = useCreateArticle(form);\n  const handleSave = () => {\n    if (!editor.current) return null;\n    createArticle.mutate(\n      {\n        ...form.getValues(),\n        body: editor.current.getHTML(),\n      },\n      {\n        onSuccess: response => {\n          toast(trans(message('Article created')));\n          navigate(`../${response.article.id}/edit`, {\n            relative: 'path',\n            replace: true,\n          });\n        },\n      },\n    );\n  };\n\n  return (\n    <FormProvider {...form}>\n      <StaticPageTitle>\n        <Trans message=\"New article\" />\n      </StaticPageTitle>\n      <ArticleEditorLayout\n        aside={\n          <ArticleEditorAside\n            onSave={() => handleSave()}\n            isSaving={createArticle.isPending}\n          >\n            <FormSelect\n              name=\"draft\"\n              label={<Trans message=\"Publication status\" />}\n              selectionMode=\"single\"\n              background=\"bg-paper\"\n              className=\"mb-24\"\n            >\n              <Item value={false}>\n                <Trans message=\"Published\" />\n              </Item>\n              <Item value={true}>\n                <Trans message=\"Draft\" />\n              </Item>\n            </FormSelect>\n          </ArticleEditorAside>\n        }\n      >\n        <HcArticleBodyEditor onLoad={e => (editor.current = e)} />\n      </ArticleEditorLayout>\n    </FormProvider>\n  );\n}\n","import {ReactNode, Ref} from 'react';\nimport clsx from 'clsx';\n\nexport interface ChartLayoutProps {\n  title: ReactNode;\n  description?: ReactNode;\n  className?: string;\n  children: ReactNode;\n  contentIsFlex?: boolean;\n  contentClassName?: string;\n  minHeight?: string;\n  contentRef?: Ref<HTMLDivElement>;\n  isLoading?: boolean;\n}\nexport function ChartLayout(props: ChartLayoutProps) {\n  const {\n    title,\n    description,\n    children,\n    className,\n    contentIsFlex = true,\n    contentClassName,\n    contentRef,\n    minHeight = 'min-h-440',\n  } = props;\n\n  return (\n    <div\n      className={clsx(\n        'rounded-panel flex h-full flex-auto flex-col border bg',\n        minHeight,\n        className,\n      )}\n    >\n      <div className=\"flex flex-shrink-0 items-center justify-between p-14 text-xs\">\n        <div className=\"text-sm font-semibold\">{title}</div>\n        {description && <div className=\"text-muted\">{description}</div>}\n      </div>\n      <div\n        ref={contentRef}\n        className={clsx(\n          'relative p-14',\n          contentIsFlex && 'flex flex-auto items-center justify-center',\n          contentClassName,\n        )}\n      >\n        {children}\n      </div>\n    </div>\n  );\n}\n","import {ProgressCircle} from '@common/ui/progress/progress-circle';\nimport {Trans} from '@common/i18n/trans';\n\nexport function ChartLoadingIndicator() {\n  return (\n    <div className=\"flex items-center gap-10 text-sm absolute mx-auto\">\n      <ProgressCircle isIndeterminate size=\"sm\" />\n      <Trans message=\"Chart loading\" />\n    </div>\n  );\n}\n","import type {ChartData, ChartOptions, ChartType} from 'chart.js';\nimport {lazy, Suspense} from 'react';\nimport {ChartLayout, ChartLayoutProps} from './chart-layout';\nimport {ChartLoadingIndicator} from '@common/charts/chart-loading-indicator';\n\nconst LazyChart = lazy(() => import('./lazy-chart'));\n\nexport interface BaseChartProps<Type extends ChartType = ChartType>\n  extends Omit<ChartLayoutProps, 'children'> {\n  type: Type;\n  data: ChartData<Type, unknown>;\n  options?: ChartOptions<Type>;\n  hideLegend?: boolean;\n}\nexport function BaseChart<Type extends ChartType = ChartType>(\n  props: BaseChartProps<Type>\n) {\n  const {title, description, className, contentRef, isLoading} = props;\n\n  return (\n    <ChartLayout\n      title={title}\n      description={description}\n      className={className}\n      contentRef={contentRef}\n    >\n      <Suspense fallback={<ChartLoadingIndicator />}>\n        <LazyChart {...props} />\n        {isLoading && <ChartLoadingIndicator />}\n      </Suspense>\n    </ChartLayout>\n  );\n}\n","import {DateFormatter, parseAbsoluteToLocal} from '@internationalized/date';\nimport memoize from 'nano-memoize';\nimport {ChartType} from 'chart.js';\nimport {\n  FormattedDatasetItem,\n  FormattedReportData,\n} from './formatted-dataset-item';\nimport {\n  DatasetItem,\n  RangedDatasetGranularity,\n  ReportMetric,\n} from '../../admin/analytics/report-metric';\nimport {shallowEqual} from '../../utils/shallow-equal';\n\ninterface Options {\n  localeCode: string;\n  shareFirstDatasetLabels?: boolean;\n}\n\ntype FormattedDatasetLabels = Omit<FormattedDatasetItem, 'value'>;\n\nexport function formatReportData(\n  report: ReportMetric<DatasetItem> | undefined,\n  {localeCode = 'en', shareFirstDatasetLabels = true}: Options,\n): FormattedReportData {\n  if (!report) return {datasets: []};\n\n  const firstDatasetLabels: FormattedDatasetLabels[] = [];\n\n  return {\n    ...report,\n    datasets: report.datasets.map((dataset, datasetIndex) => {\n      const data = dataset.data.map((datasetItem, itemIndex) => {\n        let label: FormattedDatasetLabels;\n        // when there are multiple datasets, we'll need to use labels from the first dataset, so charts are\n        // overlapped over one another, otherwise they will be side by side, if labels in all datasets are not identical.\n        if (datasetIndex === 0 || !shareFirstDatasetLabels) {\n          label = generateDatasetLabels(\n            datasetItem,\n            report.granularity,\n            localeCode,\n          );\n          firstDatasetLabels[itemIndex] = label;\n        } else {\n          label = firstDatasetLabels[itemIndex];\n        }\n        return {\n          ...label,\n          value: datasetItem.value,\n        };\n      });\n\n      return {...dataset, data};\n    }),\n  };\n}\n\nfunction generateDatasetLabels<T extends ChartType = ChartType>(\n  datum: DatasetItem,\n  granularity: RangedDatasetGranularity | undefined,\n  locale: string,\n): FormattedDatasetLabels {\n  if (datum.label) {\n    return {label: datum.label};\n  }\n\n  if (!datum.date) {\n    return {label: ''};\n  }\n\n  return generateTimeLabels(datum, granularity, locale);\n}\n\nfunction generateTimeLabels(\n  {date: isoDate, endDate: isoEndDate}: DatasetItem,\n  granularity: RangedDatasetGranularity | undefined = 'day',\n  locale: string,\n): Omit<FormattedDatasetItem, 'value'> {\n  const date = parseAbsoluteToLocal(isoDate!).toDate();\n  const endDate = isoEndDate ? parseAbsoluteToLocal(isoEndDate).toDate() : null;\n\n  switch (granularity) {\n    case 'minute':\n      return {\n        label: getFormatter(locale, {\n          second: '2-digit',\n        }).format(date),\n        tooltipTitle: getFormatter(locale, {\n          day: '2-digit',\n          hour: 'numeric',\n          minute: 'numeric',\n          second: '2-digit',\n        }).format(date),\n      };\n    case 'hour':\n      return {\n        label: getFormatter(locale, {\n          hour: 'numeric',\n          minute: 'numeric',\n        }).format(date),\n        tooltipTitle: getFormatter(locale, {\n          month: 'short',\n          day: '2-digit',\n          hour: 'numeric',\n          minute: 'numeric',\n        }).format(date),\n      };\n    case 'day':\n      return {\n        label: getFormatter(locale, {\n          day: '2-digit',\n          weekday: 'short',\n        }).format(date),\n        tooltipTitle: getFormatter(locale, {\n          day: '2-digit',\n          weekday: 'short',\n          month: 'short',\n        }).format(date),\n      };\n    case 'week':\n      return {\n        label: getFormatter(locale, {\n          month: 'short',\n          day: '2-digit',\n        }).format(date),\n        tooltipTitle: getFormatter(locale, {\n          day: '2-digit',\n          month: 'long',\n          year: 'numeric',\n        }).formatRange(date, endDate as Date),\n      };\n    case 'month':\n      return {\n        label: getFormatter(locale, {\n          month: 'short',\n          year: 'numeric',\n        }).format(date),\n        tooltipTitle: getFormatter(locale, {\n          month: 'long',\n          year: 'numeric',\n        }).format(date),\n      };\n    case 'year':\n      return {\n        label: getFormatter(locale, {\n          year: 'numeric',\n        }).format(date),\n        tooltipTitle: getFormatter(locale, {\n          year: 'numeric',\n        }).format(date),\n      };\n  }\n}\n\nconst getFormatter = memoize(\n  (locale, options: Intl.DateTimeFormatOptions) => {\n    return new DateFormatter(locale, options);\n  },\n  {\n    equals: (a, b) => {\n      return shallowEqual(a, b);\n    },\n    callTimeout: undefined as any,\n  },\n);\n","import {getBootstrapData} from '@common/core/bootstrap-data/use-backend-bootstrap-data';\n\nconst primaryColor = getBootstrapData().themes.all[0].values['--be-primary'];\nexport const ChartColors = [\n  [\n    `rgb(${primaryColor.replaceAll(' ', ',')})`,\n    `rgba(${primaryColor.replaceAll(' ', ',')},0.2)`,\n  ],\n  ['rgb(255,112,67)', 'rgb(255,112,67,0.2)'],\n  ['rgb(255,167,38)', 'rgb(255,167,38,0.2)'],\n  ['rgb(141,110,99)', 'rgb(141,110,99,0.2)'],\n  ['rgb(102,187,106)', 'rgba(102,187,106,0.2)'],\n  ['rgb(92,107,192)', 'rgb(92,107,192,0.2)'],\n];\n","import {BaseChart, BaseChartProps} from './base-chart';\nimport {DatasetItem, ReportMetric} from '../admin/analytics/report-metric';\nimport {useMemo} from 'react';\nimport {formatReportData} from './data/format-report-data';\nimport {useSelectedLocale} from '../i18n/selected-locale';\nimport {ChartData, ChartOptions} from 'chart.js';\nimport {ChartColors} from './chart-colors';\nimport {FormattedDatasetItem} from './data/formatted-dataset-item';\nimport clsx from 'clsx';\n\nconst LineChartOptions: ChartOptions<'line'> = {\n  parsing: {\n    xAxisKey: 'label',\n    yAxisKey: 'value',\n  },\n  datasets: {\n    line: {\n      fill: 'origin',\n      tension: 0.1,\n      pointBorderWidth: 4,\n      pointHitRadius: 10,\n    },\n  },\n  plugins: {\n    tooltip: {\n      intersect: false,\n      mode: 'index',\n    },\n  },\n};\n\ninterface LineChartProps extends Omit<BaseChartProps<'line'>, 'type' | 'data'> {\n  data?: ReportMetric<DatasetItem>;\n}\nexport function LineChart({data, className, ...props}: LineChartProps) {\n  const {localeCode} = useSelectedLocale();\n  const formattedData: ChartData<'line', FormattedDatasetItem[]> =\n    useMemo(() => {\n      const formattedData = formatReportData(data, {localeCode});\n      formattedData.datasets = formattedData.datasets.map((dataset, i) => ({\n        ...dataset,\n        backgroundColor: ChartColors[i][1],\n        borderColor: ChartColors[i][0],\n        pointBackgroundColor: ChartColors[i][0],\n      }));\n      return formattedData;\n    }, [data, localeCode]);\n\n  return (\n    <BaseChart\n      {...props}\n      className={clsx(className, 'min-w-500')}\n      data={formattedData}\n      type=\"line\"\n      options={LineChartOptions}\n    />\n  );\n}\n","import {keepPreviousData, useQuery} from '@tanstack/react-query';\nimport {\n  DateRangeValue,\n  dateRangeValueToPayload,\n} from '@common/ui/forms/input-field/date/date-range-picker/date-range-value';\nimport {apiClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {DatasetItem, ReportMetric} from '@common/admin/analytics/report-metric';\n\nconst endpoint = 'reports/tickets';\n\nexport interface FetchTicketReportResponse extends BackendResponse {\n  newTickets: ReportMetric<\n    DatasetItem,\n    {\n      total: number;\n      solvedTotal: number;\n      unsolvedTotal: number;\n      solvedOnFirstReplyPercentage: number;\n    }\n  >;\n  firstReplyTimes: ReportMetric<\n    {\n      label: string;\n      value: number;\n      percentage: number;\n    },\n    {average: number}\n  >;\n  busiestTimeOfDay: ReportMetric<\n    {value: Record<string, number>},\n    {max: number}\n  >;\n  tags: ReportMetric<{label: string; value: number}>;\n  agents: ReportMetric<{\n    id: number;\n    email: string;\n    replyCount: number;\n    ticketsSolved: number;\n    averageResponseTime: number;\n  }>;\n}\n\ninterface Payload {\n  dateRange: DateRangeValue;\n}\n\nexport function useTicketReport(payload: Payload) {\n  return useQuery<FetchTicketReportResponse>({\n    queryKey: [endpoint, payload],\n    queryFn: () => fetchTicketReport(endpoint, payload),\n    placeholderData: keepPreviousData,\n  });\n}\n\nfunction fetchTicketReport<\n  T extends FetchTicketReportResponse = FetchTicketReportResponse,\n>(endpoint: string, payload: Payload): Promise<T> {\n  return apiClient\n    .get(endpoint, {params: dateRangeValueToPayload(payload)})\n    .then(response => response.data);\n}\n","import {BaseChart, BaseChartProps} from './base-chart';\nimport {ChartData, ChartOptions} from 'chart.js';\nimport {ChartColors} from './chart-colors';\nimport {useSelectedLocale} from '../i18n/selected-locale';\nimport {FormattedDatasetItem} from './data/formatted-dataset-item';\nimport {useMemo} from 'react';\nimport {formatReportData} from './data/format-report-data';\nimport {DatasetItem, ReportMetric} from '../admin/analytics/report-metric';\nimport clsx from 'clsx';\n\ninterface BarChartProps extends Omit<BaseChartProps<'bar'>, 'type' | 'data'> {\n  direction?: 'horizontal' | 'vertical';\n  individualBarColors?: boolean;\n  data?: ReportMetric<DatasetItem>;\n}\nexport function BarChart({\n  data,\n  direction = 'vertical',\n  individualBarColors = false,\n  className,\n  ...props\n}: BarChartProps) {\n  const {localeCode} = useSelectedLocale();\n  const formattedData: ChartData<'bar', FormattedDatasetItem[]> =\n    useMemo(() => {\n      const formattedData = formatReportData(data, {localeCode});\n      formattedData.datasets = formattedData.datasets.map((dataset, i) => ({\n        ...dataset,\n        backgroundColor: individualBarColors\n          ? ChartColors.map(c => c[1])\n          : ChartColors[i][1],\n        borderColor: individualBarColors\n          ? ChartColors.map(c => c[0])\n          : ChartColors[i][0],\n        borderWidth: 2,\n      }));\n      return formattedData;\n    }, [data, localeCode, individualBarColors]);\n\n  const isHorizontal = direction === 'horizontal';\n  const options: ChartOptions<'bar'> = useMemo(() => {\n    return {\n      indexAxis: isHorizontal ? 'y' : 'x',\n      parsing: {\n        xAxisKey: isHorizontal ? 'value' : 'label',\n        yAxisKey: isHorizontal ? 'label' : 'value',\n      },\n    };\n  }, [isHorizontal]);\n\n  return (\n    <BaseChart\n      type=\"bar\"\n      className={clsx(className, 'min-w-500')}\n      data={formattedData}\n      options={options}\n      {...props}\n    />\n  );\n}\n","import {useSelectedLocale} from '@common/i18n/selected-locale';\nimport {useDateFormatter} from '@common/i18n/use-date-formatter';\nimport {startOfWeek} from '@internationalized/date';\nimport {useCurrentDateTime} from '@common/i18n/use-current-date-time';\nimport {ChartLayout} from '@common/charts/chart-layout';\nimport {Trans} from '@common/i18n/trans';\nimport React, {Fragment} from 'react';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {FetchTicketReportResponse} from '@app/admin/reports/ticket-report/use-ticket-report';\n\nconst days = [0, 1, 2, 3, 4, 5, 6];\n\nconst hours = [\n  '0-2',\n  '2-4',\n  '4-6',\n  '6-8',\n  '8-10',\n  '10-12',\n  '12-14',\n  '14-16',\n  '16-18',\n  '18-20',\n  '20-22',\n  '22-24',\n];\n\ninterface Props {\n  report?: FetchTicketReportResponse['busiestTimeOfDay'];\n}\nexport function BusiestTimeOfDayChart({report}: Props) {\n  const locale = useSelectedLocale();\n  const formatter = useDateFormatter({weekday: 'short'});\n  const date = startOfWeek(useCurrentDateTime(), locale.localeCode);\n  return (\n    <ChartLayout title={<Trans message=\"Busiest time of day\" />}>\n      <div className=\"grid w-full grid-cols-[max-content,repeat(12,minmax(66px,1fr))] gap-1\">\n        <div className=\"spacer\" />\n        {hours.map(hour => (\n          <div key={hour} className=\"py-6 text-center text-xs font-semibold\">\n            {hour}\n          </div>\n        ))}\n        {days.map(day => (\n          <Fragment key={day}>\n            <div className=\"flex h-44 items-center pr-10 text-xs font-semibold\">\n              {formatter.format(date.add({days: day}).toDate())}\n            </div>\n            {hours.map(hour => {\n              const count = report\n                ? report.datasets[0].data[day].value[hour]\n                : 0;\n              return (\n                <Tooltip\n                  key={hour}\n                  label={\n                    <Trans message=\":count new tickets\" values={{count}} />\n                  }\n                >\n                  <div\n                    className=\"h-44 bg-primary opacity-10 transition-opacity\"\n                    style={{\n                      opacity: report\n                        ? getOpacity(count, report.datasets[0].max)\n                        : 0.1,\n                    }}\n                  />\n                </Tooltip>\n              );\n            })}\n          </Fragment>\n        ))}\n      </div>\n    </ChartLayout>\n  );\n}\n\nfunction getOpacity(count: number, max: number) {\n  if (count === 0) return 0.1;\n  return Math.max(0.1, Math.min(1, count / max));\n}\n","import {ChartLayout} from '@common/charts/chart-layout';\nimport {Trans} from '@common/i18n/trans';\nimport React from 'react';\nimport {FetchTicketReportResponse} from '@app/admin/reports/ticket-report/use-ticket-report';\nimport clsx from 'clsx';\n\ninterface Props {\n  report?: FetchTicketReportResponse['agents'];\n}\nexport function AgentPerformanceTable({report}: Props) {\n  const data = report?.datasets[0].data;\n  const cmpData = report?.datasets[1]?.data;\n  return (\n    <ChartLayout\n      title={<Trans message=\"Agent performance\" />}\n      contentIsFlex={false}\n      minHeight=\"min-h-0\"\n    >\n      <table className=\"w-full\">\n        <thead className=\"text-xs font-medium text-muted\">\n          <tr className=\"h-40\">\n            <th className=\"border-b text-left\">\n              <Trans message=\"Agent\" />\n            </th>\n            <th className=\"border-b text-left\">\n              <Trans message=\"Reply count\" />\n            </th>\n            <th className=\"border-b text-left\">\n              <Trans message=\"Tickets solved\" />\n            </th>\n            <th className=\"border-b text-left\">\n              <Trans message=\"Avg response time\" />\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {data?.map((agent, i) => {\n            const isLast = i === data.length - 1;\n            return (\n              <tr className=\"h-40 text-sm\" key={i}>\n                <td className={!isLast ? 'border-b' : undefined}>\n                  {agent.email}\n                </td>\n                <td className={!isLast ? 'border-b' : undefined}>\n                  {agent.replyCount}\n                  {cmpData && (\n                    <CompareValue\n                      currentValue={agent.replyCount}\n                      previousValue={cmpData[i].replyCount}\n                    />\n                  )}\n                </td>\n                <td className={!isLast ? 'border-b' : undefined}>\n                  {agent.ticketsSolved}\n                  {cmpData && (\n                    <CompareValue\n                      currentValue={agent.ticketsSolved}\n                      previousValue={cmpData[i].ticketsSolved}\n                    />\n                  )}\n                </td>\n                <td className={!isLast ? 'border-b' : undefined}>\n                  {agent.averageResponseTime}h\n                  {cmpData && (\n                    <CompareValue\n                      currentValue={agent.averageResponseTime}\n                      previousValue={cmpData[i].averageResponseTime}\n                    />\n                  )}\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </ChartLayout>\n  );\n}\n\ninterface CompareValueProps {\n  currentValue: number;\n  previousValue: number;\n}\nfunction CompareValue({currentValue, previousValue}: CompareValueProps) {\n  const percent = calculatePercentage(currentValue, previousValue);\n  return (\n    <span\n      className={clsx('pl-6', percent > 0 ? 'text-positive' : 'text-danger')}\n    >\n      {percent}%\n    </span>\n  );\n}\n\nfunction calculatePercentage(currentValue: number, previousValue: number) {\n  if (previousValue == null || currentValue == null) {\n    return 0;\n  }\n\n  if (previousValue === 0) {\n    return 100;\n  }\n\n  return Math.round(((currentValue - previousValue) / previousValue) * 100);\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const TrendingUpIcon = createSvgIcon(\n  <path d=\"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6h-6z\" />\n, 'TrendingUpOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const TrendingDownIcon = createSvgIcon(\n  <path d=\"m16 18 2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6h-6z\" />\n, 'TrendingDownOutlined');\n","import {BaseChart, BaseChartProps} from './base-chart';\nimport {ChartData, ChartOptions} from 'chart.js';\nimport {ChartColors} from './chart-colors';\nimport {useSelectedLocale} from '../i18n/selected-locale';\nimport {useMemo} from 'react';\nimport {formatReportData} from './data/format-report-data';\nimport {DatasetItem, ReportMetric} from '../admin/analytics/report-metric';\nimport {FormattedDatasetItem} from './data/formatted-dataset-item';\nimport clsx from 'clsx';\n\nconst PolarAreaChartOptions: ChartOptions<'polarArea'> = {\n  parsing: {\n    key: 'value',\n  },\n  plugins: {\n    tooltip: {\n      intersect: true,\n    },\n  },\n};\n\ninterface PolarAreaChartProps\n  extends Omit<BaseChartProps<'polarArea'>, 'type' | 'data'> {\n  data?: ReportMetric<DatasetItem>;\n}\nexport function PolarAreaChart({\n  data,\n  className,\n  ...props\n}: PolarAreaChartProps) {\n  const {localeCode} = useSelectedLocale();\n  const formattedData: ChartData<'polarArea', FormattedDatasetItem[]> =\n    useMemo(() => {\n      const formattedData = formatReportData(data, {localeCode});\n      formattedData.labels = formattedData.datasets[0]?.data.map(d => d.label);\n      formattedData.datasets = formattedData.datasets.map((dataset, i) => ({\n        ...dataset,\n        backgroundColor: ChartColors.map(c => c[1]),\n        borderColor: ChartColors.map(c => c[0]),\n        borderWidth: 2,\n      }));\n      return formattedData;\n    }, [data, localeCode]);\n\n  return (\n    <BaseChart\n      type=\"polarArea\"\n      data={formattedData}\n      options={PolarAreaChartOptions}\n      className={clsx(className, 'min-w-500')}\n      {...props}\n    />\n  );\n}\n","import lazyLoader from '../../../utils/http/lazy-loader';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport {RefObject, useCallback, useEffect, useRef} from 'react';\nimport {useThemeSelector} from '@common/ui/themes/theme-selector-context';\nimport {themeValueToHex} from '@common/ui/themes/utils/theme-value-to-hex';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {message} from '@common/i18n/message';\nimport {LocationDatasetItem} from '@common/admin/analytics/report-metric';\n\nconst loaderUrl = 'https://www.gstatic.com/charts/loader.js';\n\ninterface UseGoogleGeoChartProps {\n  placeholderRef: RefObject<HTMLDivElement>;\n  data: LocationDatasetItem[];\n  onCountrySelected?: (countryCode: string) => void;\n  country?: string;\n}\nexport function useGoogleGeoChart({\n  placeholderRef,\n  data,\n  country,\n  onCountrySelected,\n}: UseGoogleGeoChartProps) {\n  const {trans} = useTrans();\n  const {analytics} = useSettings();\n  const apiKey = analytics?.gchart_api_key;\n  const {selectedTheme} = useThemeSelector();\n  const geoChartRef = useRef<google.visualization.GeoChart>();\n  // only allow selecting countries, not cities\n  const regionInteractivity = !!onCountrySelected && !country;\n  const drawGoogleChart = useCallback(() => {\n    if (typeof google === 'undefined') return;\n\n    const seedData = data.map(location => [location.label, location.value]);\n    seedData.unshift([\n      country ? trans(message('City')) : trans(message('Country')),\n      trans(message('Clicks')),\n    ]);\n\n    const backgroundColor = `${themeValueToHex(\n      selectedTheme.values['--be-paper'],\n    )}`;\n    const chartColor = `${themeValueToHex(\n      selectedTheme.values['--be-primary'],\n    )}`;\n\n    const options: google.visualization.GeoChartOptions = {\n      colorAxis: {colors: [chartColor]},\n      backgroundColor,\n      region: country ? country.toUpperCase() : undefined,\n      resolution: country ? 'provinces' : 'countries',\n      displayMode: country ? 'markers' : 'regions',\n      enableRegionInteractivity: regionInteractivity,\n    };\n\n    if (\n      !geoChartRef.current &&\n      placeholderRef.current &&\n      google?.visualization?.GeoChart\n    ) {\n      geoChartRef.current = new google.visualization.GeoChart(\n        placeholderRef.current,\n      );\n    }\n    geoChartRef.current?.draw(\n      google.visualization.arrayToDataTable(seedData),\n      options,\n    );\n  }, [\n    selectedTheme,\n    data,\n    placeholderRef,\n    trans,\n    country,\n    regionInteractivity,\n  ]);\n\n  const initGoogleGeoChart = useCallback(async () => {\n    if (lazyLoader.isLoadingOrLoaded(loaderUrl)) return;\n    await lazyLoader.loadAsset(loaderUrl, {type: 'js', id: 'google-charts-js'});\n    await google.charts.load('current', {\n      packages: ['geochart'],\n      mapsApiKey: apiKey,\n    });\n    drawGoogleChart();\n  }, [apiKey, drawGoogleChart]);\n\n  useEffect(() => {\n    if (geoChartRef.current && onCountrySelected) {\n      google.visualization.events.addListener(\n        geoChartRef.current,\n        'regionClick',\n        (a: {region: string}) => onCountrySelected?.(a.region),\n      );\n    }\n\n    return () => {\n      if (geoChartRef.current) {\n        google.visualization.events.removeAllListeners(geoChartRef.current);\n      }\n    };\n    // this will correctly run when geochart instance is set on ref\n  }, [onCountrySelected, geoChartRef.current]);\n\n  // on component load: load chart library then draw, otherwise just draw\n  useEffect(() => {\n    initGoogleGeoChart();\n  }, [initGoogleGeoChart]);\n\n  // redraw chart if data or theme changes\n  useEffect(() => {\n    drawGoogleChart();\n  }, [selectedTheme, drawGoogleChart, data]);\n\n  return {drawGoogleChart};\n}\n","import {useSelectedLocale} from '@common/i18n/selected-locale';\nimport {Fragment, memo} from 'react';\n\ninterface Props {\n  code: string;\n}\nexport const FormattedCountryName = memo(({code: countryCode}: Props) => {\n  const {localeCode} = useSelectedLocale();\n  const regionNames = new Intl.DisplayNames([localeCode], {type: 'region'});\n  let formattedName: string | undefined;\n\n  try {\n    formattedName = regionNames.of(countryCode.toUpperCase());\n  } catch (e) {}\n\n  return <Fragment>{formattedName}</Fragment>;\n});\n","import {\n  LocationDatasetItem,\n  ReportMetric,\n} from '@common/admin/analytics/report-metric';\nimport React, {useMemo, useRef} from 'react';\nimport {useGoogleGeoChart} from './use-google-geo-chart';\nimport {ChartLayout, ChartLayoutProps} from '@common/charts/chart-layout';\nimport {Trans} from '@common/i18n/trans';\nimport {ChartLoadingIndicator} from '@common/charts/chart-loading-indicator';\nimport {Button} from '@common/ui/buttons/button';\nimport {ArrowBackIcon} from '@common/icons/material/ArrowBack';\nimport clsx from 'clsx';\nimport {InfoDialogTrigger} from '@common/ui/overlays/dialog/info-dialog-trigger/info-dialog-trigger';\nimport {FormattedCountryName} from '@common/i18n/formatted-country-name';\n\ninterface GeoChartData extends Partial<ChartLayoutProps> {\n  data?: ReportMetric<LocationDatasetItem>;\n  onCountrySelected?: (countryCode: string | undefined) => void;\n  country?: string;\n}\nexport function GeoChart({\n  data: metricData,\n  isLoading,\n  onCountrySelected,\n  country,\n  ...layoutProps\n}: GeoChartData) {\n  const placeholderRef = useRef<HTMLDivElement>(null);\n  const regionInteractivity = !!onCountrySelected;\n\n  // memo data to avoid redrawing chart on rerender\n  const initialData = metricData?.datasets[0].data;\n  const data = useMemo(() => {\n    return initialData || [];\n  }, [initialData]);\n  useGoogleGeoChart({placeholderRef, data, country, onCountrySelected});\n\n  return (\n    <ChartLayout\n      {...layoutProps}\n      className=\"min-w-500\"\n      title={\n        <div className=\"flex items-center\">\n          <Trans message=\"Top Locations\" />\n          {country ? (\n            <span className=\"pl-4\">\n              ({<FormattedCountryName code={country} />})\n            </span>\n          ) : null}\n          {regionInteractivity && <InfoTrigger />}\n        </div>\n      }\n      contentIsFlex={isLoading}\n    >\n      {isLoading && <ChartLoadingIndicator />}\n      <div className=\"flex gap-24\">\n        <div\n          ref={placeholderRef}\n          className=\"flex-auto w-[480px] min-h-[340px]\"\n        />\n        <div className=\"w-[170px]\">\n          <div className=\"text-sm max-h-[340px] w-full flex-initial overflow-y-auto\">\n            {data.map(location => (\n              <div\n                key={location.label}\n                className={clsx(\n                  'flex items-center gap-4 mb-4',\n                  regionInteractivity && 'cursor-pointer hover:underline'\n                )}\n                role={regionInteractivity ? 'button' : undefined}\n                onClick={() => {\n                  onCountrySelected?.(location.code);\n                }}\n              >\n                <div className=\"max-w-110 whitespace-nowrap overflow-hidden overflow-ellipsis\">\n                  {location.label}\n                </div>\n                <div>({location.percentage})%</div>\n              </div>\n            ))}\n          </div>\n          {country && (\n            <Button\n              variant=\"outline\"\n              size=\"xs\"\n              className=\"mt-14\"\n              startIcon={<ArrowBackIcon />}\n              onClick={() => {\n                onCountrySelected?.(undefined);\n              }}\n            >\n              <Trans message=\"Back to countries\" />\n            </Button>\n          )}\n        </div>\n      </div>\n    </ChartLayout>\n  );\n}\n\nfunction InfoTrigger() {\n  return (\n    <InfoDialogTrigger\n      title={<Trans message=\"Zooming in\" />}\n      body={\n        <Trans message=\"Click on a country inside the map or country list to zoom in and see city data for that country.\" />\n      }\n    />\n  );\n}\n","import React, {Fragment} from 'react';\nimport {LineChart} from '@common/charts/line-chart';\nimport {Trans} from '@common/i18n/trans';\nimport {PolarAreaChart} from '@common/charts/polar-area-chart';\nimport {BarChart} from '@common/charts/bar-chart';\nimport {VisitorsReportData} from '@common/admin/analytics/visitors-report-data';\nimport {FormattedNumber} from '@common/i18n/formatted-number';\nimport {GeoChart} from '@common/admin/analytics/geo-chart/geo-chart';\n\nexport const AdminReportPageColGap = 'gap-12 md:gap-24 mb-12 md:mb-24';\nconst rowClassName = `flex flex-col md:flex-row md:items-center overflow-x-auto ${AdminReportPageColGap}`;\n\ninterface AdminReportChartsProps {\n  report?: VisitorsReportData;\n  isLoading: boolean;\n}\nexport function VisitorsReportCharts({\n  report,\n  isLoading,\n}: AdminReportChartsProps) {\n  const totalViews = report?.pageViews.total;\n  return (\n    <Fragment>\n      <div className={rowClassName}>\n        <LineChart\n          isLoading={isLoading}\n          className=\"flex-auto\"\n          data={report?.pageViews}\n          title={<Trans message=\"Pageviews\" />}\n          description={\n            totalViews ? (\n              <Trans\n                message=\":count total views\"\n                values={{count: <FormattedNumber value={totalViews} />}}\n              />\n            ) : null\n          }\n        />\n        <PolarAreaChart\n          isLoading={isLoading}\n          data={report?.devices}\n          title={<Trans message=\"Top devices\" />}\n        />\n      </div>\n      <div className={rowClassName}>\n        <BarChart\n          isLoading={isLoading}\n          data={report?.browsers}\n          className=\"flex-auto md:w-1/3\"\n          direction=\"horizontal\"\n          individualBarColors\n          hideLegend\n          title={<Trans message=\"Top browsers\" />}\n        />\n        <GeoChart\n          isLoading={isLoading}\n          className=\"flex-auto\"\n          data={report?.locations}\n          title={<Trans message=\"Top locations\" />}\n        />\n      </div>\n    </Fragment>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const TrendingFlatIcon = createSvgIcon(\n  <path d=\"m22 12-4-4v3H3v2h15v3l4-4z\" />\n, 'TrendingFlatOutlined');\n","import {HeaderDatum} from '@common/admin/analytics/use-admin-report';\nimport React, {\n  cloneElement,\n  Fragment,\n  isValidElement,\n  ReactElement,\n} from 'react';\nimport {TrendingUpIcon} from '@common/icons/material/TrendingUp';\nimport {TrendingDownIcon} from '@common/icons/material/TrendingDown';\nimport {createSvgIconFromTree} from '@common/icons/create-svg-icon';\nimport {AdminReportPageColGap} from '@common/admin/analytics/visitors-report-charts';\nimport {FormattedNumber} from '@common/i18n/formatted-number';\nimport {FormattedBytes} from '@common/uploads/formatted-bytes';\nimport {TrendingFlatIcon} from '@common/icons/material/TrendingFlat';\nimport {AnimatePresence, m} from 'framer-motion';\nimport {opacityAnimation} from '@common/ui/animation/opacity-animation';\nimport {Skeleton} from '@common/ui/skeleton/skeleton';\n\ninterface AdminHeaderReportProps {\n  report?: HeaderDatum[];\n  isLoading?: boolean;\n}\nexport function AdminHeaderReport({report, isLoading}: AdminHeaderReportProps) {\n  return (\n    <div\n      className={`flex h-[97px] flex-shrink-0 items-center overflow-x-auto ${AdminReportPageColGap}`}\n    >\n      {report?.map(datum => (\n        <ReportItem key={datum.name} datum={datum} isLoading={isLoading} />\n      ))}\n    </div>\n  );\n}\n\ninterface ValueMetricItemProps {\n  datum: HeaderDatum;\n  isLoading?: boolean;\n}\nfunction ReportItem({datum, isLoading = false}: ValueMetricItemProps) {\n  let icon;\n  if (isValidElement(datum.icon)) {\n    icon = cloneElement(datum.icon, {size: 'lg'});\n  } else {\n    const IconEl = createSvgIconFromTree(datum.icon);\n    icon = <IconEl size=\"lg\" />;\n  }\n\n  return (\n    <div\n      key={datum.name}\n      className=\"rounded-panel flex h-full flex-auto items-center gap-18 whitespace-nowrap border p-20\"\n    >\n      <div className=\"flex-shrink-0 rounded-lg bg-primary-light/20 p-10 text-primary\">\n        {icon}\n      </div>\n      <div className=\"flex-auto\">\n        <div className=\"flex items-center justify-between gap-20\">\n          <div className=\"text-lg font-bold text-main\">\n            <AnimatePresence initial={false} mode=\"wait\">\n              {isLoading ? (\n                <m.div key=\"skeleton\" {...opacityAnimation}>\n                  <Skeleton className=\"min-w-24\" />\n                </m.div>\n              ) : (\n                <m.div key=\"value\" {...opacityAnimation}>\n                  <FormattedValue datum={datum} />\n                </m.div>\n              )}\n            </AnimatePresence>\n          </div>\n        </div>\n        <div className=\"flex items-center justify-between gap-20\">\n          <h2 className=\"text-sm text-muted\">{datum.name}</h2>\n          {(datum.percentageChange != null || datum.previousValue != null) && (\n            <div className=\"flex items-center gap-10\">\n              <TrendingIndicator datum={datum} />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\ninterface FormattedValueProps {\n  datum: HeaderDatum;\n}\nfunction FormattedValue({datum}: FormattedValueProps) {\n  switch (datum.type) {\n    case 'fileSize':\n      return <FormattedBytes bytes={datum.currentValue} />;\n    case 'percentage':\n      return (\n        <FormattedNumber\n          value={datum.currentValue}\n          style=\"percent\"\n          maximumFractionDigits={1}\n        />\n      );\n    default:\n      return <FormattedNumber value={datum.currentValue} />;\n  }\n}\n\ninterface TrendingIndicatorProps {\n  datum: HeaderDatum;\n}\nfunction TrendingIndicator({datum}: TrendingIndicatorProps) {\n  const percentage = calculatePercentage(datum);\n  let icon: ReactElement;\n  if (percentage > 0) {\n    icon = <TrendingUpIcon size=\"md\" className=\"text-positive\" />;\n  } else if (percentage === 0) {\n    icon = <TrendingFlatIcon className=\"text-muted\" />;\n  } else {\n    icon = <TrendingDownIcon className=\"text-danger\" />;\n  }\n\n  return (\n    <Fragment>\n      {icon}\n      <div className=\"text-sm font-semibold text-muted\">{percentage}%</div>\n    </Fragment>\n  );\n}\n\nfunction calculatePercentage({\n  percentageChange,\n  previousValue,\n  currentValue,\n}: HeaderDatum) {\n  if (\n    percentageChange != null ||\n    previousValue == null ||\n    currentValue == null\n  ) {\n    return percentageChange ?? 0;\n  }\n\n  if (previousValue === 0) {\n    return 100;\n  }\n\n  return Math.round(((currentValue - previousValue) / previousValue) * 100);\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const HelpOutlineIcon = createSvgIcon(\n  <path d=\"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z\" />\n, 'HelpOutlineOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const SendIcon = createSvgIcon(\n  <path d=\"m4.01 6.03 7.51 3.22-7.52-1 .01-2.22m7.5 8.72L4 17.97v-2.22l7.51-1M2.01 3 2 10l15 2-15 2 .01 7L23 12 2.01 3z\" />\n, 'SendOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const EmojiEventsIcon = createSvgIcon(\n  <path d=\"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2zM5 8V7h2v3.82C5.84 10.4 5 9.3 5 8zm7 6c-1.65 0-3-1.35-3-3V5h6v6c0 1.65-1.35 3-3 3zm7-6c0 1.3-.84 2.4-2 2.82V7h2v1z\" />\n, 'EmojiEventsOutlined');\n","import {FetchTicketReportResponse} from '@app/admin/reports/ticket-report/use-ticket-report';\nimport {AdminHeaderReport} from '@common/admin/analytics/admin-header-report';\nimport {useMemo} from 'react';\nimport {HeaderDatum} from '@common/admin/analytics/use-admin-report';\nimport {CheckIcon} from '@common/icons/material/Check';\nimport {HelpOutlineIcon} from '@common/icons/material/HelpOutline';\nimport {SendIcon} from '@common/icons/material/Send';\nimport {EmojiEventsIcon} from '@common/icons/material/EmojiEvents';\n\ninterface Props {\n  data?: FetchTicketReportResponse;\n  isLoading?: boolean;\n}\nexport function TicketReportHeader({data, isLoading}: Props) {\n  const report: HeaderDatum[] = useMemo(() => {\n    return [\n      {\n        name: 'New tickets',\n        currentValue: data?.newTickets.datasets[0].total ?? 0,\n        previousValue: data?.newTickets.datasets[1]?.total ?? undefined,\n        icon: <SendIcon />,\n      },\n      {\n        name: 'Solved tickets',\n        currentValue: data?.newTickets.datasets[0].solvedTotal ?? 0,\n        previousValue: data?.newTickets.datasets[1]?.solvedTotal ?? undefined,\n        icon: <CheckIcon />,\n      },\n      {\n        name: 'Unsolved tickets',\n        currentValue: data?.newTickets.datasets[0].unsolvedTotal ?? 0,\n        previousValue: data?.newTickets.datasets[1]?.unsolvedTotal ?? undefined,\n        icon: <HelpOutlineIcon />,\n      },\n      {\n        name: 'Solved on first reply',\n        currentValue:\n          data?.newTickets.datasets[0].solvedOnFirstReplyPercentage ?? 0,\n        previousValue:\n          data?.newTickets.datasets[1]?.solvedOnFirstReplyPercentage ??\n          undefined,\n        icon: <EmojiEventsIcon />,\n        type: 'percentage',\n      },\n    ];\n  }, [data]);\n  return <AdminHeaderReport report={report} isLoading={isLoading} />;\n}\n","import {useDateRangePickerState} from '@common/ui/forms/input-field/date/date-range-picker/use-date-range-picker-state';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {Button} from '@common/ui/buttons/button';\nimport {DateRangeIcon} from '@common/icons/material/DateRange';\nimport {FormattedDateTimeRange} from '@common/i18n/formatted-date-time-range';\nimport {DateRangeDialog} from '@common/ui/forms/input-field/date/date-range-picker/dialog/date-range-dialog';\nimport React from 'react';\nimport {DateRangeValue} from '@common/ui/forms/input-field/date/date-range-picker/date-range-value';\nimport {useIsMobileMediaQuery} from '@common/utils/hooks/is-mobile-media-query';\nimport {DateFormatPresets} from '@common/i18n/formatted-date';\nimport {DateRangeComparePresets} from '@common/ui/forms/input-field/date/date-range-picker/dialog/date-range-compare-presets';\nimport {Granularity} from '@common/ui/forms/input-field/date/date-picker/use-date-picker-state';\n\nconst monthDayFormat: Intl.DateTimeFormatOptions = {\n  month: 'short',\n  day: '2-digit',\n};\n\ninterface ReportDataSelectorProps {\n  value: DateRangeValue;\n  disabled?: boolean;\n  onChange: (value: DateRangeValue) => void;\n  compactOnMobile?: boolean;\n  enableCompare?: boolean;\n  granularity?: Granularity;\n}\nexport function ReportDateSelector({\n  value,\n  onChange,\n  disabled,\n  compactOnMobile = true,\n  enableCompare = false,\n  granularity = 'minute',\n}: ReportDataSelectorProps) {\n  const isMobile = useIsMobileMediaQuery();\n  return (\n    <DialogTrigger\n      type=\"popover\"\n      onClose={value => {\n        if (value) {\n          onChange(value);\n        }\n      }}\n    >\n      <Button\n        variant=\"outline\"\n        color=\"chip\"\n        endIcon={<DateRangeIcon />}\n        disabled={disabled}\n      >\n        <FormattedDateTimeRange\n          start={value.start}\n          end={value.end}\n          options={\n            isMobile && compactOnMobile\n              ? monthDayFormat\n              : DateFormatPresets.short\n          }\n        />\n      </Button>\n      <DateSelectorDialog\n        value={value}\n        enableCompare={enableCompare}\n        granularity={granularity}\n      />\n    </DialogTrigger>\n  );\n}\n\ninterface DateSelectorDialogProps {\n  value: DateRangeValue;\n  enableCompare: boolean;\n  granularity: Granularity;\n}\nfunction DateSelectorDialog({\n  value,\n  enableCompare,\n  granularity,\n}: DateSelectorDialogProps) {\n  const isMobile = useIsMobileMediaQuery();\n  const state = useDateRangePickerState({\n    granularity,\n    defaultValue: {\n      start: value.start,\n      end: value.end,\n      preset: value.preset,\n    },\n    closeDialogOnSelection: false,\n  });\n  const compareHasInitialValue = !!value.compareStart && !!value.compareEnd;\n  const compareState = useDateRangePickerState({\n    granularity,\n    defaultValue: compareHasInitialValue\n      ? {\n          start: value.compareStart,\n          end: value.compareEnd,\n          preset: value.comparePreset,\n        }\n      : DateRangeComparePresets[0].getRangeValue(state.selectedValue),\n  });\n  return (\n    <DateRangeDialog\n      state={state}\n      compareState={enableCompare ? compareState : undefined}\n      compareVisibleDefault={compareHasInitialValue}\n      showInlineDatePickerField={!isMobile}\n    />\n  );\n}\n","import {StaticPageTitle} from '@common/seo/static-page-title';\nimport {ButtonGroup} from '@common/ui/buttons/button-group';\nimport {Button} from '@common/ui/buttons/button';\nimport {Link} from 'react-router-dom';\nimport {Trans} from '@common/i18n/trans';\nimport React, {Fragment, ReactElement, ReactNode} from 'react';\nimport {MessageDescriptor} from '@common/i18n/message-descriptor';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport {ReportDateSelector} from '@common/admin/analytics/report-date-selector';\nimport {DateRangeValue} from '@common/ui/forms/input-field/date/date-range-picker/date-range-value';\nimport {message} from '@common/i18n/message';\nimport {\n  Menu,\n  MenuItem,\n  MenuTrigger,\n} from '@common/ui/navigation/menu/menu-trigger';\nimport {TrendingUpIcon} from '@common/icons/material/TrendingUp';\nimport {Granularity} from '@common/ui/forms/input-field/date/date-picker/use-date-picker-state';\n\ntype ReportName = 'tickets' | 'search' | 'envato' | 'visitors';\n\nconst NavigationItems = [\n  {name: 'tickets', to: '/admin/tickets', label: message('Tickets')},\n  {name: 'search', to: '/admin/search/failed', label: message('Search')},\n  {name: 'envato', to: '/admin/envato', label: message('Envato')},\n  {name: 'visitors', to: '/admin/visitors', label: message('Visitors')},\n];\n\ninterface Props {\n  title: ReactElement<MessageDescriptor>;\n  name: ReportName;\n  children: ReactNode;\n  dateRange: DateRangeValue;\n  setDateRange: (dateRange: DateRangeValue) => void;\n  disableDateRange?: boolean;\n  enableCompare?: boolean;\n  granularity?: Granularity;\n}\nexport function BedeskAdminReportLayout({\n  title,\n  name,\n  children,\n  dateRange,\n  setDateRange,\n  disableDateRange,\n  enableCompare,\n  granularity,\n}: Props) {\n  return (\n    <div className=\"min-h-full overflow-x-hidden p-12 md:p-24\">\n      <div className=\"mb-24 items-center justify-between gap-24 md:flex\">\n        <StaticPageTitle>{title}</StaticPageTitle>\n        <h1 className=\"mb-24 text-3xl font-light md:mb-0\">{title}</h1>\n        <div className=\"flex flex-shrink-0 items-center justify-between gap-10 md:gap-24\">\n          <ReportSelector value={name} />\n          <ReportDateSelector\n            disabled={disableDateRange}\n            value={dateRange}\n            onChange={setDateRange}\n            enableCompare={enableCompare}\n            granularity={granularity}\n          />\n        </div>\n      </div>\n      {children}\n    </div>\n  );\n}\n\ninterface ReportSelectorProps {\n  value: ReportName;\n}\nfunction ReportSelector({value}: ReportSelectorProps) {\n  const {envato} = useSettings();\n  const items = NavigationItems.filter(\n    item => item.name !== 'envato' || envato.enable,\n  );\n  const activeItem = NavigationItems.find(item => item.name === value);\n  return (\n    <Fragment>\n      <ButtonGroup variant=\"outline\" value={value} className=\"max-md:hidden\">\n        {items.map(item => (\n          <Button\n            key={item.name}\n            value={item.name}\n            elementType={Link}\n            to={item.to}\n          >\n            <Trans {...item.label} />\n          </Button>\n        ))}\n      </ButtonGroup>\n      <MenuTrigger>\n        <Button\n          variant=\"outline\"\n          className=\"md:hidden\"\n          startIcon={<TrendingUpIcon />}\n        >\n          <Trans {...activeItem!.label} />\n        </Button>\n        <Menu>\n          {items.map(item => (\n            <MenuItem\n              key={item.name}\n              value={item.name}\n              elementType={Link}\n              to={item.to}\n            >\n              <Trans {...item.label} />\n            </MenuItem>\n          ))}\n        </Menu>\n      </MenuTrigger>\n    </Fragment>\n  );\n}\n","import {useCallback, useState} from 'react';\nimport {useSearchParams} from 'react-router-dom';\nimport {DateRangeValue} from '@common/ui/forms/input-field/date/date-range-picker/date-range-value';\nimport {parseAbsoluteToLocal} from '@internationalized/date';\nimport {DateRangePresets} from '@common/ui/forms/input-field/date/date-range-picker/dialog/date-range-presets';\n\nexport function useBedeskReportDateRangeState(defaultValue?: DateRangeValue) {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [dateRange, setStateDateRange] = useState<DateRangeValue>(() => {\n    try {\n      const startDate = searchParams.get('startDate');\n      const endDate = searchParams.get('endDate');\n      const compareStartDate = searchParams.get('compareStartDate');\n      const compareEndDate = searchParams.get('compareEndDate');\n      if (startDate && endDate) {\n        return {\n          start: parseAbsoluteToLocal(startDate),\n          end: parseAbsoluteToLocal(endDate),\n          compareStart: compareStartDate\n            ? parseAbsoluteToLocal(compareStartDate)\n            : undefined,\n          compareEnd: compareEndDate\n            ? parseAbsoluteToLocal(compareEndDate)\n            : undefined,\n        };\n      }\n    } catch (e) {}\n\n    return defaultValue || DateRangePresets[2].getRangeValue();\n  });\n\n  const setDateRange = useCallback(\n    (dateRange: DateRangeValue) => {\n      setStateDateRange(dateRange);\n      setSearchParams(\n        prev => {\n          // main date range\n          if (dateRange.start) {\n            prev.set('startDate', dateRange.start.toAbsoluteString());\n          } else {\n            prev.delete('startDate');\n          }\n          if (dateRange.end) {\n            prev.set('endDate', dateRange.end.toAbsoluteString());\n          } else {\n            prev.delete('endDate');\n          }\n\n          // compare date range\n          if (dateRange.compareStart) {\n            prev.set(\n              'compareStartDate',\n              dateRange.compareStart.toAbsoluteString(),\n            );\n          } else {\n            prev.delete('compareStartDate');\n          }\n          if (dateRange.compareEnd) {\n            prev.set('compareEndDate', dateRange.compareEnd.toAbsoluteString());\n          } else {\n            prev.delete('compareEndDate');\n          }\n          return prev;\n        },\n        {replace: true},\n      );\n    },\n    [setSearchParams],\n  );\n  return [dateRange, setDateRange] as const;\n}\n","import React from 'react';\nimport {LineChart} from '@common/charts/line-chart';\nimport {Trans} from '@common/i18n/trans';\nimport {FormattedNumber} from '@common/i18n/formatted-number';\nimport {useTicketReport} from '@app/admin/reports/ticket-report/use-ticket-report';\nimport {BarChart} from '@common/charts/bar-chart';\nimport {BusiestTimeOfDayChart} from '@app/admin/reports/ticket-report/busiest-time-of-day-chart';\nimport {AgentPerformanceTable} from '@app/admin/reports/ticket-report/agent-performance-table';\nimport {TicketReportHeader} from '@app/admin/reports/ticket-report/ticket-report-header';\nimport {BedeskAdminReportLayout} from '@app/admin/reports/bedesk-admin-report-layout';\nimport {useBedeskReportDateRangeState} from '@app/admin/reports/use-bedesk-report-date-range-state';\n\nconst colGap = 'gap-12 md:gap-24 mb-12 md:mb-24';\nconst rowClassName = `flex flex-col lg:flex-row lg:items-center overflow-x-auto ${colGap}`;\n\nexport function AdminTicketReport() {\n  const [dateRange, setDateRange] = useBedeskReportDateRangeState();\n  const query = useTicketReport({dateRange});\n  return (\n    <BedeskAdminReportLayout\n      name=\"tickets\"\n      title={<Trans message=\"Ticket report\" />}\n      dateRange={dateRange}\n      setDateRange={setDateRange}\n      enableCompare\n    >\n      <TicketReportHeader data={query.data} isLoading={query.isLoading} />\n      <div className={rowClassName}>\n        <LineChart\n          data={query.data?.newTickets}\n          className=\"flex-auto\"\n          isLoading={query.isLoading}\n          title={<Trans message=\"New tickets\" />}\n          hideLegend\n          description={\n            <Trans\n              message=\":count total tickets\"\n              values={{\n                count: (\n                  <FormattedNumber\n                    value={query.data?.newTickets?.datasets[0]?.total || 0}\n                  />\n                ),\n              }}\n            />\n          }\n        />\n        <BarChart\n          data={query.data?.firstReplyTimes}\n          className=\"max-w-500\"\n          direction=\"vertical\"\n          individualBarColors\n          isLoading={query.isLoading}\n          hideLegend\n          title={<Trans message=\"Hours until first agent reply\" />}\n          description={\n            <Trans\n              message=\":hoursh average\"\n              values={{\n                hours: (\n                  <FormattedNumber\n                    value={\n                      query.data?.firstReplyTimes.datasets[0]?.average || 0\n                    }\n                  />\n                ),\n              }}\n            />\n          }\n        />\n      </div>\n      <div className={rowClassName}>\n        <BusiestTimeOfDayChart report={query.data?.busiestTimeOfDay} />\n        <BarChart\n          data={query.data?.tags}\n          className=\"max-w-620\"\n          direction=\"horizontal\"\n          isLoading={query.isLoading}\n          individualBarColors\n          hideLegend\n          title={<Trans message=\"Tickets by tags\" />}\n        />\n      </div>\n      <div className={rowClassName}>\n        <AgentPerformanceTable report={query.data?.agents} />\n      </div>\n    </BedeskAdminReportLayout>\n  );\n}\n","import {keepPreviousData, useQuery} from '@tanstack/react-query';\nimport {BackendResponse} from '../../http/backend-response/backend-response';\nimport {apiClient} from '../../http/query-client';\nimport {VisitorsReportData} from './visitors-report-data';\nimport {IconTree} from '../../icons/create-svg-icon';\nimport {DateRangeValue} from '@common/ui/forms/input-field/date/date-range-picker/date-range-value';\nimport {ReactElement} from 'react';\nimport {SvgIconProps} from '@common/icons/svg-icon';\n\nconst Endpoint = 'admin/reports';\n\nexport interface HeaderDatum {\n  icon: IconTree[] | ReactElement<SvgIconProps>;\n  name: string;\n  type?: 'number' | 'fileSize' | 'percentage';\n  currentValue: number;\n  previousValue?: number;\n  percentageChange?: number;\n}\n\ninterface FetchAnalyticsReportResponse extends BackendResponse {\n  visitorsReport: VisitorsReportData;\n  headerReport: HeaderDatum[];\n}\n\ninterface Payload {\n  types?: ('visitors' | 'header')[];\n  dateRange?: DateRangeValue;\n}\nexport function useAdminReport(payload: Payload = {}) {\n  return useQuery({\n    queryKey: [Endpoint, payload],\n    queryFn: () => fetchAnalyticsReport(payload),\n    placeholderData: keepPreviousData,\n  });\n}\n\nfunction fetchAnalyticsReport({\n  types,\n  dateRange,\n}: Payload): Promise<FetchAnalyticsReportResponse> {\n  const params: Record<string, any> = {};\n  if (types) {\n    params.types = types.join(',');\n  }\n  if (dateRange) {\n    params.startDate = dateRange.start.toAbsoluteString();\n    params.endDate = dateRange.end.toAbsoluteString();\n    params.timezone = dateRange.start.timeZone;\n  }\n  return apiClient.get(Endpoint, {params}).then(response => response.data);\n}\n","import React from 'react';\nimport {VisitorsReportCharts} from '@common/admin/analytics/visitors-report-charts';\nimport {useAdminReport} from '@common/admin/analytics/use-admin-report';\nimport {useBedeskReportDateRangeState} from '@app/admin/reports/use-bedesk-report-date-range-state';\nimport {Trans} from '@common/i18n/trans';\nimport {BedeskAdminReportLayout} from '@app/admin/reports/bedesk-admin-report-layout';\nimport {AdminHeaderReport} from '@common/admin/analytics/admin-header-report';\nimport {DateRangeValue} from '@common/ui/forms/input-field/date/date-range-picker/date-range-value';\n\nexport function AdminVisitorsReport() {\n  const [dateRange, setDateRange] = useBedeskReportDateRangeState();\n  const {data, isLoading, isPlaceholderData} = useAdminReport({\n    types: ['visitors'],\n    dateRange: dateRange,\n  });\n\n  return (\n    <BedeskAdminReportLayout\n      name=\"visitors\"\n      title={<Trans message=\"Visitors report\" />}\n      dateRange={dateRange}\n      setDateRange={setDateRange}\n      enableCompare\n    >\n      <HeaderReport dateRange={dateRange} />\n      <VisitorsReportCharts\n        isLoading={isLoading || isPlaceholderData}\n        report={data?.visitorsReport}\n      />\n    </BedeskAdminReportLayout>\n  );\n}\n\ninterface HeaderReportProps {\n  dateRange: DateRangeValue;\n}\nfunction HeaderReport({dateRange}: HeaderReportProps) {\n  const {data, isLoading, isPlaceholderData} = useAdminReport({\n    types: ['header'],\n    dateRange: dateRange,\n  });\n  return (\n    <AdminHeaderReport report={data?.headerReport} isLoading={isLoading} />\n  );\n}\n","import React from 'react';\nimport {Link, Outlet, useLocation} from 'react-router-dom';\nimport {Tabs} from '@common/ui/tabs/tabs';\nimport {TabList} from '@common/ui/tabs/tab-list';\nimport {Tab} from '@common/ui/tabs/tab';\nimport {Trans} from '@common/i18n/trans';\nimport {message} from '@common/i18n/message';\nimport {useBedeskReportDateRangeState} from '@app/admin/reports/use-bedesk-report-date-range-state';\nimport {BedeskAdminReportLayout} from '@app/admin/reports/bedesk-admin-report-layout';\nimport {DateRangePresets} from '@common/ui/forms/input-field/date/date-range-picker/dialog/date-range-presets';\n\nconst PageTabs = [\n  {uri: 'failed', label: message('Failed searches'), key: 0},\n  {uri: 'popular', label: message('Popular searches'), key: 1},\n  {uri: 'articles', label: message('Popular articles'), key: 2},\n];\n\nexport function AdminSearchReport() {\n  const [dateRange, setDateRange] = useBedeskReportDateRangeState(\n    DateRangePresets[8].getRangeValue(),\n  );\n  const {pathname} = useLocation();\n  const tabName = pathname.split('/').pop();\n  const selectedTab = PageTabs.find(tab => tab.uri === tabName) || PageTabs[0];\n\n  return (\n    <BedeskAdminReportLayout\n      title={<Trans {...selectedTab.label} />}\n      name=\"search\"\n      dateRange={dateRange}\n      setDateRange={setDateRange}\n      disableDateRange={selectedTab.key === 2}\n    >\n      <Tabs selectedTab={selectedTab.key}>\n        <TabList>\n          {PageTabs.map(tab => (\n            <Tab\n              key={tab.key}\n              width=\"min-w-132\"\n              elementType={Link}\n              to={`/admin/search/${tab.uri}`}\n              replace\n            >\n              <Trans {...tab.label} />\n            </Tab>\n          ))}\n        </TabList>\n        <div className=\"pt-34\">\n          <Outlet context={{dateRange}} />\n        </div>\n      </Tabs>\n    </BedeskAdminReportLayout>\n  );\n}\n","import {useOutletContext} from 'react-router-dom';\nimport {SearchReportTable} from '@app/admin/reports/search-report/search-report-table';\nimport React from 'react';\nimport {Trans} from '@common/i18n/trans';\nimport {DateRangeValue} from '@common/ui/forms/input-field/date/date-range-picker/date-range-value';\n\nexport function FailedSearchesReport() {\n  const {dateRange} = useOutletContext<{dateRange: DateRangeValue}>();\n  return (\n    <SearchReportTable\n      dateRange={dateRange}\n      failedSearches\n      description={\n        <Trans message=\"This report shows search terms people use that don't match any articles. Use this metric to improve your help center search and content.\" />\n      }\n    />\n  );\n}\n","import {useOutletContext} from 'react-router-dom';\nimport {SearchReportTable} from '@app/admin/reports/search-report/search-report-table';\nimport React from 'react';\nimport {Trans} from '@common/i18n/trans';\nimport {DateRangeValue} from '@common/ui/forms/input-field/date/date-range-picker/date-range-value';\n\nexport function PopularSearchesReport() {\n  const {dateRange} = useOutletContext<{dateRange: DateRangeValue}>();\n  return (\n    <SearchReportTable\n      dateRange={dateRange}\n      description={\n        <Trans message=\"Use the popular searches report to see what your customers are looking for, and learn what your customers are most interested in or struggling with the most.\" />\n      }\n    />\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\nimport {Category} from '@app/help-center/categories/category';\nimport {PaginatedBackendResponse} from '@common/http/backend-response/pagination-response';\nimport {\n  DateRangeValue,\n  dateRangeValueToPayload,\n} from '@common/ui/forms/input-field/date/date-range-picker/date-range-value';\nimport {Article} from '@app/help-center/articles/article';\n\nexport interface UseArticleReportResponse\n  extends PaginatedBackendResponse<ArticleReportItem> {}\n\nexport interface ArticleReportItem {\n  id: number;\n  views: number;\n  slug: string;\n  title: string;\n  score: number;\n  positive_votes: number;\n  negative_votes: number;\n  path: Article['path'];\n  category?: Category;\n}\n\nexport interface UseArticleReportParams {\n  page?: string | number;\n  perPage?: string | number;\n  dateRange?: DateRangeValue;\n}\n\nexport function useArticlesReport(params: UseArticleReportParams) {\n  return useQuery({\n    queryKey: ['reports', 'articles', params],\n    queryFn: () => fetchArticleReport(params),\n  });\n}\n\nfunction fetchArticleReport(params: UseArticleReportParams) {\n  return apiClient\n    .get<UseArticleReportResponse>(`reports/popular-articles`, {\n      params: dateRangeValueToPayload(params),\n    })\n    .then(response => response.data);\n}\n","import {ColumnConfig} from '@common/datatable/column-config';\nimport {Trans} from '@common/i18n/trans';\nimport React from 'react';\nimport {Link} from 'react-router-dom';\nimport {LinkStyle} from '@common/ui/buttons/external-link';\nimport {InfoDialogTrigger} from '@common/ui/overlays/dialog/info-dialog-trigger/info-dialog-trigger';\nimport {ArticleReportItem} from '@app/admin/reports/articles-report/use-articles-report';\nimport {getArticleLink} from '@app/help-center/articles/article-link';\nimport {FormattedNumber} from '@common/i18n/formatted-number';\nimport {ArticlePath} from '@app/help-center/articles/article-path';\n\nexport const ArticleReportTableColumns: ColumnConfig<ArticleReportItem>[] = [\n  {\n    key: 'article',\n    header: () => (\n      <div className=\"flex items-center gap-4\">\n        <div>\n          <Trans message=\"Article\" />\n        </div>\n        <InfoDialogTrigger\n          body={\n            <Trans message=\"Use the popular articles report to see which articles are most popular, and which articles are the most or least helpful.\" />\n          }\n        />\n      </div>\n    ),\n    visibleInMode: 'all',\n    body: item => (\n      <Link to={getArticleLink(item)} className={LinkStyle} target=\"_blank\">\n        {item.title}\n      </Link>\n    ),\n  },\n  {\n    key: 'views',\n    header: () => <Trans message=\"Views\" />,\n    width: 'w-144',\n    body: item => <FormattedNumber value={item.views} />,\n  },\n  {\n    key: 'score',\n    header: () => <Trans message=\"Score\" />,\n    width: 'w-144',\n    body: item => <span>{item.score}%</span>,\n  },\n  {\n    key: 'likes',\n    header: () => <Trans message=\"Likes\" />,\n    width: 'w-144',\n    body: item => <FormattedNumber value={item.positive_votes} />,\n  },\n  {\n    key: 'dislikes',\n    header: () => <Trans message=\"Dislikes\" />,\n    width: 'w-144',\n    body: item => <FormattedNumber value={item.negative_votes} />,\n  },\n  {\n    key: 'category',\n    header: () => <Trans message=\"Category\" />,\n    visibleInMode: 'all',\n    body: item => <ArticlePath article={item} />,\n  },\n];\n","import {useSearchParams} from 'react-router-dom';\nimport React from 'react';\nimport {Trans} from '@common/i18n/trans';\nimport {GlobalLoadingProgress} from '@app/agent/global-loading-progress';\nimport {Table} from '@common/ui/tables/table';\nimport {IllustratedMessage} from '@common/ui/images/illustrated-message';\nimport {SvgImage} from '@common/ui/images/svg-image/svg-image';\nimport searchImage from '@app/agent/agent-search-page/search.svg';\nimport {DataTablePaginationFooter} from '@common/datatable/data-table-pagination-footer';\nimport {useArticlesReport} from '@app/admin/reports/articles-report/use-articles-report';\nimport {ArticleReportTableColumns} from '@app/admin/reports/articles-report/article-report-table-columns';\n\nexport function ArticlesReport() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = useArticlesReport({\n    page: searchParams.get('page') || 1,\n    perPage: searchParams.get('perPage') || 15,\n  });\n  const {data, fetchStatus, isLoading, isPlaceholderData} = query;\n  const items = data?.pagination.data || [];\n  const isEmpty =\n    (fetchStatus === 'idle' && items.length === 0) ||\n    (!isLoading && !isPlaceholderData && items.length === 0);\n\n  return (\n    <div className=\"relative max-md:overflow-x-auto\">\n      <GlobalLoadingProgress query={query} />\n      <Table\n        columns={ArticleReportTableColumns}\n        data={items}\n        enableSelection={false}\n        collapseOnMobile={false}\n        className=\"max-md:w-min\"\n      />\n      {isEmpty && (\n        <IllustratedMessage\n          className=\"mt-48\"\n          image={<SvgImage src={searchImage} />}\n          title={<Trans message=\"There are no articles to display\" />}\n        />\n      )}\n      <DataTablePaginationFooter\n        query={query}\n        onPageChange={page =>\n          setSearchParams(prev => {\n            prev.set('page', page.toString());\n            return prev;\n          })\n        }\n        onPerPageChange={perPage =>\n          setSearchParams(prev => {\n            prev.set('perPage', perPage.toString());\n            return prev;\n          })\n        }\n      />\n    </div>\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\nimport {\n  DateRangeValue,\n  dateRangeValueToPayload,\n} from '@common/ui/forms/input-field/date/date-range-picker/date-range-value';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {DatasetItem, ReportMetric} from '@common/admin/analytics/report-metric';\n\nexport interface UseEnvatoReportResponse extends BackendResponse {\n  earnings: ReportMetric<\n    DatasetItem,\n    {\n      total: number;\n    }\n  >;\n  earningsVsTickets: ReportMetric<\n    DatasetItem,\n    {\n      total: number;\n    }\n  >;\n  items: ReportMetric<{label: string; value: number}>;\n  countries: ReportMetric<{label: string; value: number}>;\n}\n\ninterface Params {\n  dateRange?: DateRangeValue;\n}\n\nexport function useEnvatoReport(params: Params) {\n  return useQuery({\n    queryKey: ['reports', 'envato', params],\n    queryFn: () => fetchEnvatoReport(params),\n  });\n}\n\nfunction fetchEnvatoReport(params: Params) {\n  return apiClient\n    .get<UseEnvatoReportResponse>(`reports/envato`, {\n      params: dateRangeValueToPayload(params),\n    })\n    .then(response => response.data);\n}\n","import {useEnvatoReport} from '@app/admin/reports/envato-report/use-envato-report';\nimport {useBedeskReportDateRangeState} from '@app/admin/reports/use-bedesk-report-date-range-state';\nimport {Trans} from '@common/i18n/trans';\nimport React from 'react';\nimport {BedeskAdminReportLayout} from '@app/admin/reports/bedesk-admin-report-layout';\nimport {LineChart} from '@common/charts/line-chart';\nimport {FormattedNumber} from '@common/i18n/formatted-number';\nimport {BarChart} from '@common/charts/bar-chart';\n\nconst colGap = 'gap-12 md:gap-24 mb-12 md:mb-24';\nconst rowClassName = `flex flex-col lg:flex-row lg:items-center overflow-x-auto ${colGap}`;\n\nexport function EnvatoReport() {\n  const [dateRange, setDateRange] = useBedeskReportDateRangeState();\n  const query = useEnvatoReport({\n    dateRange,\n  });\n  return (\n    <BedeskAdminReportLayout\n      name=\"envato\"\n      title={<Trans message=\"Envato report\" />}\n      dateRange={dateRange}\n      setDateRange={setDateRange}\n      enableCompare\n      granularity=\"day\"\n    >\n      <div className={rowClassName}>\n        <LineChart\n          data={query.data?.earnings}\n          className=\"flex-auto\"\n          isLoading={query.isLoading}\n          title={<Trans message=\"Earnings\" />}\n          hideLegend\n          description={\n            <Trans\n              message=\":count total\"\n              values={{\n                count: (\n                  <FormattedNumber\n                    value={query.data?.earnings?.datasets[0]?.total || 0}\n                  />\n                ),\n              }}\n            />\n          }\n        />\n        <BarChart\n          data={query.data?.items}\n          className=\"max-w-620\"\n          direction=\"horizontal\"\n          isLoading={query.isLoading}\n          individualBarColors\n          hideLegend\n          title={<Trans message=\"Earnings by item\" />}\n        />\n      </div>\n      <div className={rowClassName}>\n        <LineChart\n          data={query.data?.earningsVsTickets}\n          className=\"flex-auto\"\n          isLoading={query.isLoading}\n          title={<Trans message=\"Earnings vs tickets\" />}\n        />\n        <BarChart\n          data={query.data?.countries}\n          className=\"max-w-620\"\n          direction=\"horizontal\"\n          isLoading={query.isLoading}\n          individualBarColors\n          hideLegend\n          title={<Trans message=\"Earnings by country\" />}\n        />\n      </div>\n    </BedeskAdminReportLayout>\n  );\n}\n","export default \"__VITE_ASSET__17ee1a48__\"","import React from 'react';\nimport {ColumnConfig} from '@common/datatable/column-config';\nimport {Trans} from '@common/i18n/trans';\nimport {FormattedDate} from '@common/i18n/formatted-date';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {EditIcon} from '@common/icons/material/Edit';\nimport {Trigger} from '@app/admin/triggers/trigger';\nimport {FormattedNumber} from '@common/i18n/formatted-number';\nimport {Link} from 'react-router-dom';\n\nexport const TriggersDatatableColumns: ColumnConfig<Trigger>[] = [\n  {\n    key: 'name',\n    allowsSorting: true,\n    visibleInMode: 'all',\n    width: 'flex-3 min-w-200',\n    header: () => <Trans message=\"Name\" />,\n    body: trigger => trigger.name,\n  },\n  {\n    key: 'times_fired',\n    allowsSorting: true,\n    header: () => <Trans message=\"Times used\" />,\n    body: trigger => <FormattedNumber value={trigger.times_fired} />,\n  },\n  {\n    key: 'updated_at',\n    allowsSorting: true,\n    width: 'w-100',\n    header: () => <Trans message=\"Last updated\" />,\n    body: trigger => <FormattedDate date={trigger.updated_at} />,\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    hideHeader: true,\n    align: 'end',\n    width: 'w-42 flex-shrink-0',\n    visibleInMode: 'all',\n    body: trigger => (\n      <IconButton\n        size=\"md\"\n        className=\"text-muted\"\n        elementType={Link}\n        to={`/admin/triggers/${trigger.id}/edit`}\n      >\n        <EditIcon />\n      </IconButton>\n    ),\n  },\n];\n","import React from 'react';\nimport softwareEngineerSvg from './software-engineer.svg';\nimport {TriggersDatatableColumns} from '@app/admin/triggers/triggers-datatable-columns';\nimport {DataTablePage} from '@common/datatable/page/data-table-page';\nimport {Trans} from '@common/i18n/trans';\nimport {DeleteSelectedItemsAction} from '@common/datatable/page/delete-selected-items-action';\nimport {DataTableEmptyStateMessage} from '@common/datatable/page/data-table-emty-state-message';\nimport {DataTableAddItemButton} from '@common/datatable/data-table-add-item-button';\nimport {Link} from 'react-router-dom';\n\nexport function TriggersDatatablePage() {\n  return (\n    <DataTablePage\n      endpoint=\"triggers\"\n      title={<Trans message=\"Triggers\" />}\n      columns={TriggersDatatableColumns}\n      actions={<Actions />}\n      selectedActions={<DeleteSelectedItemsAction />}\n      emptyStateMessage={\n        <DataTableEmptyStateMessage\n          image={softwareEngineerSvg}\n          title={<Trans message=\"No triggers have been created yet\" />}\n          filteringTitle={<Trans message=\"No matching triggers\" />}\n        />\n      }\n    />\n  );\n}\n\nfunction Actions() {\n  return (\n    <DataTableAddItemButton elementType={Link} to=\"/admin/triggers/new\">\n      <Trans message=\"Add new trigger\" />\n    </DataTableAddItemButton>\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {useParams} from 'react-router-dom';\nimport {Trigger} from '@app/admin/triggers/trigger';\nimport {apiClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\n\nexport interface FetchTriggerResponse extends BackendResponse {\n  trigger: Trigger;\n}\n\nexport function useTrigger() {\n  const {triggerId} = useParams();\n  return useQuery({\n    queryKey: ['triggers', `${triggerId}`],\n    queryFn: () => fetchTrigger(triggerId!),\n  });\n}\n\nasync function fetchTrigger(triggerId: number | string) {\n  const data = await apiClient\n    .get<FetchTriggerResponse>(`triggers/${triggerId}`)\n    .then(response => response.data);\n  data.trigger['all_conditions'] = data.trigger.conditions!.filter(\n    c => c.match_type === 'all',\n  );\n  data.trigger['any_conditions'] = data.trigger.conditions!.filter(\n    c => c.match_type === 'any',\n  );\n  return data;\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {UseFormReturn} from 'react-hook-form';\nimport {CreateTriggerPayload} from '@app/admin/triggers/requests/use-create-trigger';\nimport {Trigger} from '@app/admin/triggers/trigger';\nimport {useParams} from 'react-router-dom';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\n\ninterface Response extends BackendResponse {\n  trigger: Trigger;\n}\n\nexport interface UpdateTriggerPayload extends CreateTriggerPayload {}\n\nexport function useUpdateTrigger(form: UseFormReturn<UpdateTriggerPayload>) {\n  const {trans} = useTrans();\n  const {triggerId} = useParams();\n  const navigate = useNavigate();\n  return useMutation({\n    mutationFn: (props: UpdateTriggerPayload) =>\n      updateTrigger(triggerId!, props),\n    onSuccess: () => {\n      queryClient.invalidateQueries({\n        queryKey: DatatableDataQueryKey('triggers'),\n      });\n      navigate('/admin/triggers');\n      toast(trans(message('Trigger updated')));\n    },\n    onError: err => onFormQueryError(err, form),\n  });\n}\n\nfunction updateTrigger(triggerId: number | string, data: UpdateTriggerPayload) {\n  const payload = {\n    ...data,\n    conditions: removeTempIds(data.all_conditions.concat(data.any_conditions)),\n    actions: removeTempIds(data.actions || []),\n  };\n  return apiClient\n    .put<Response>(`triggers/${triggerId}`, payload)\n    .then(r => r.data);\n}\n\nfunction removeTempIds(items: {id?: number | string}[]) {\n  return items.map(item => {\n    if (item.id?.toString().startsWith('temp_')) {\n      delete item.id;\n    }\n    return item;\n  });\n}\n","import {ReactNode} from 'react';\n\ninterface Props {\n  children: ReactNode;\n}\nexport function TriggerSectionHeader({children}: Props) {\n  return <h2 className=\"border-b pb-8 text-sm font-bold\">{children}</h2>;\n}\n","import {FetchTriggerConfigResponse} from '@app/admin/triggers/requests/use-trigger-config';\nimport {useFieldArray, useFormContext} from 'react-hook-form';\nimport {CreateTriggerPayload} from '@app/admin/triggers/requests/use-create-trigger';\nimport {usePrevious} from '@common/utils/hooks/use-previous';\nimport React, {useEffect} from 'react';\nimport {FormSelect, Option} from '@common/ui/forms/select/select';\nimport {Section} from '@common/ui/forms/listbox/section';\nimport {prettyName} from '@common/auth/ui/permission-selector';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {Trans} from '@common/i18n/trans';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {CloseIcon} from '@common/icons/material/Close';\nimport {message} from '@common/i18n/message';\nimport {AddIcon} from '@common/icons/material/Add';\nimport {nanoid} from 'nanoid';\nimport {Button} from '@common/ui/buttons/button';\nimport clsx from 'clsx';\nimport {TriggerSectionHeader} from '@app/admin/triggers/form/trigger-section-header';\n\ninterface Props {\n  matchType: 'all_conditions' | 'any_conditions';\n  className?: string;\n  config: FetchTriggerConfigResponse;\n}\nexport function TriggerConditionSelector({\n  matchType,\n  className,\n  config,\n}: Props) {\n  const {fields, remove, append} = useFieldArray<\n    CreateTriggerPayload,\n    'all_conditions' | 'any_conditions',\n    'key'\n  >({\n    name: matchType,\n    keyName: 'key',\n  });\n  const {getFieldState} = useFormContext<CreateTriggerPayload>();\n  const conditionError = getFieldState(`conditions`).error?.message;\n\n  const headerMessage =\n    matchType === 'all_conditions'\n      ? message('Meet <b>all</b> the following conditions')\n      : message('Meet <b>any</b> of the following conditions');\n\n  const addNewCondition = () => {\n    const condition = config.conditions.find(c => c.type === 'event:type')!;\n    append({\n      id: `temp_${nanoid()}`,\n      condition_id: condition.id,\n      operator_id: condition.operators[0].id,\n      value: 'ticket_created',\n      match_type: matchType === 'all_conditions' ? 'all' : 'any',\n    });\n  };\n\n  return (\n    <div className={className}>\n      <TriggerSectionHeader>\n        <Trans\n          message={headerMessage.message}\n          values={{\n            b: text => (\n              <span className=\"mx-4 rounded border bg-alt px-6 py-2 font-bold\">\n                {text}\n              </span>\n            ),\n          }}\n        />\n      </TriggerSectionHeader>\n      {fields.map((field, index) => (\n        <ConditionRow\n          key={field.key}\n          index={index}\n          matchType={matchType}\n          config={config}\n          onRemove={index => remove(index)}\n          className=\"mt-12\"\n        />\n      ))}\n      <Button\n        variant=\"outline\"\n        startIcon={<AddIcon />}\n        onClick={addNewCondition}\n        size=\"xs\"\n        className=\"mt-12\"\n      >\n        <Trans message=\"Add condition\" />\n      </Button>\n      {conditionError && matchType === 'all_conditions' && (\n        <p className=\"mt-12 text-sm text-danger\">{conditionError}</p>\n      )}\n    </div>\n  );\n}\n\ninterface ConditionRowProps {\n  index: number;\n  onRemove: (index: number) => void;\n  matchType: Props['matchType'];\n  config: FetchTriggerConfigResponse;\n  className?: string;\n}\nfunction ConditionRow({\n  index,\n  onRemove,\n  matchType,\n  config,\n  className,\n}: ConditionRowProps) {\n  const groupedConditions = config.groupedConditions;\n  const {setValue, watch} = useFormContext<CreateTriggerPayload>();\n  const selectedConditionId = watch(`${matchType}.${index}.condition_id`);\n  const selectedCondition = config.conditions.find(\n    c => c.id === selectedConditionId,\n  );\n  const previousSelectedCondition = usePrevious(selectedCondition);\n\n  useEffect(() => {\n    if (\n      selectedCondition &&\n      previousSelectedCondition &&\n      previousSelectedCondition.type !== selectedCondition.type\n    ) {\n      setValue(\n        `${matchType}.${index}.operator_id`,\n        selectedCondition!.operators[0]?.id,\n      );\n      if (selectedCondition.type === 'event:type') {\n        setValue(`${matchType}.${index}.value`, 'ticket_created');\n      } else {\n        setValue(`${matchType}.${index}.value`, '');\n      }\n    }\n  }, [\n    previousSelectedCondition,\n    selectedCondition,\n    index,\n    setValue,\n    matchType,\n  ]);\n\n  return (\n    <div className={clsx('flex flex-col gap-12 md:flex-row', className)}>\n      <FormSelect\n        name={`${matchType}.${index}.condition_id`}\n        selectionMode=\"single\"\n        minWidth=\"min-w-224\"\n      >\n        {Object.entries(groupedConditions).map(([groupName, conditions]) => (\n          <Section label={prettyName(groupName)} key={groupName}>\n            {conditions.map(condition => (\n              <Option key={condition.id} value={condition.id}>\n                {condition.name}\n              </Option>\n            ))}\n          </Section>\n        ))}\n      </FormSelect>\n      <FormSelect\n        name={`${matchType}.${index}.operator_id`}\n        selectionMode=\"single\"\n        minWidth=\"min-w-200\"\n      >\n        {selectedCondition?.operators.map(operator => (\n          <Option key={operator.id} value={operator.id}>\n            {operator.display_name}\n          </Option>\n        ))}\n      </FormSelect>\n      {selectedCondition?.type === 'event:type' && (\n        <FormSelect name={`${matchType}.${index}.value`} selectionMode=\"single\">\n          <Item value=\"ticket_created\">\n            <Trans message=\"Ticket created\" />\n          </Item>\n          <Item value=\"ticket_updated\">\n            <Trans message=\"Ticket updated\" />\n          </Item>\n        </FormSelect>\n      )}\n      {selectedCondition?.type !== 'event:type' && (\n        <FormTextField name={`${matchType}.${index}.value`} />\n      )}\n      <IconButton color=\"danger\" onClick={() => onRemove(index)}>\n        <CloseIcon />\n      </IconButton>\n    </div>\n  );\n}\n","import {useFieldArray, useFormContext} from 'react-hook-form';\nimport {CreateTriggerPayload} from '@app/admin/triggers/requests/use-create-trigger';\nimport {TriggerSectionHeader} from '@app/admin/triggers/form/trigger-section-header';\nimport {Trans} from '@common/i18n/trans';\nimport React, {useEffect, useState} from 'react';\nimport {Button} from '@common/ui/buttons/button';\nimport {AddIcon} from '@common/icons/material/Add';\nimport {FetchTriggerConfigResponse} from '@app/admin/triggers/requests/use-trigger-config';\nimport clsx from 'clsx';\nimport {FormSelect, Option} from '@common/ui/forms/select/select';\nimport {CloseIcon} from '@common/icons/material/Close';\nimport {TriggerActionInputConfig} from '@app/admin/triggers/trigger';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Avatar} from '@common/ui/images/avatar';\nimport {message} from '@common/i18n/message';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {useTags} from '@common/tags/use-tags';\nimport {FormChipField} from '@common/ui/forms/input-field/chip-field/form-chip-field';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {usePrevious} from '@common/utils/hooks/use-previous';\nimport {nanoid} from 'nanoid';\n\ninterface Props {\n  config: FetchTriggerConfigResponse;\n}\nexport function TriggerActionSelector({config}: Props) {\n  const {fields, remove, append} = useFieldArray<\n    CreateTriggerPayload,\n    'actions',\n    'key'\n  >({\n    name: 'actions',\n    keyName: 'key',\n  });\n  const {getFieldState} = useFormContext<CreateTriggerPayload>();\n  const actionError = getFieldState(`actions`).error?.message;\n\n  const addNewAction = () => {\n    const actions = config.actions.find(\n      c => c.name === 'change_ticket_status',\n    )!;\n    append({\n      id: `temp_${nanoid()}`,\n      action_id: actions.id,\n      action_value: {\n        status_name: 'open',\n      },\n    });\n  };\n\n  return (\n    <div>\n      <TriggerSectionHeader>\n        <Trans message=\"Perform these actions\" />\n      </TriggerSectionHeader>\n      {fields.map((field, index) => (\n        <ActionRow\n          key={field.key}\n          actionIndex={index}\n          config={config}\n          onRemove={index => remove(index)}\n          className={index === 0 ? 'mt-12' : undefined}\n        />\n      ))}\n      <Button\n        variant=\"outline\"\n        startIcon={<AddIcon />}\n        onClick={() => addNewAction()}\n        size=\"xs\"\n        className=\"mt-12\"\n      >\n        <Trans message=\"Add action\" />\n      </Button>\n      {actionError && (\n        <p className=\"mt-12 text-sm text-danger\">{actionError}</p>\n      )}\n    </div>\n  );\n}\n\ninterface ActionRowProps {\n  actionIndex: number;\n  onRemove: (index: number) => void;\n  config: FetchTriggerConfigResponse;\n  className?: string;\n}\nfunction ActionRow({actionIndex, onRemove, config, className}: ActionRowProps) {\n  const {watch, setValue} = useFormContext<CreateTriggerPayload>();\n  const selectedActionId = watch(`actions.${actionIndex}.action_id`);\n  const selectedAction = config.actions.find(c => c.id === selectedActionId);\n  const previousSelectedAction = usePrevious(selectedAction);\n\n  useEffect(() => {\n    if (\n      selectedAction &&\n      previousSelectedAction &&\n      selectedAction.name !== previousSelectedAction.name\n    ) {\n      // clear values from previously selected actions\n      setValue(`actions.${actionIndex}.action_value`, {});\n\n      // set default value for all inputs for this action\n      selectedAction.input_config?.inputs.map(input => {\n        if (input.select_options) {\n          setValue(\n            `actions.${actionIndex}.action_value.${input.name}`,\n            config.actionOptions[input.select_options][0].value,\n          );\n        }\n      });\n    }\n  }, [previousSelectedAction, selectedAction, actionIndex, setValue, config]);\n\n  return (\n    <div className={clsx('mb-12 flex gap-12 border-b pb-12', className)}>\n      <div className=\"flex-auto space-y-12 md:max-w-400\">\n        <FormSelect\n          name={`actions.${actionIndex}.action_id`}\n          selectionMode=\"single\"\n        >\n          {config.actions.map(action => (\n            <Option key={action.id} value={action.id}>\n              {action.display_name}\n            </Option>\n          ))}\n        </FormSelect>\n        {selectedAction?.input_config?.inputs.map((input, inputIndex) => (\n          <ActionValueInput\n            actionIndex={actionIndex}\n            key={inputIndex}\n            input={input}\n            config={config}\n          />\n        ))}\n      </div>\n      <IconButton color=\"danger\" onClick={() => onRemove(actionIndex)}>\n        <CloseIcon />\n      </IconButton>\n    </div>\n  );\n}\n\ninterface ActionValueProps {\n  actionIndex: number;\n  input: TriggerActionInputConfig;\n  config: FetchTriggerConfigResponse;\n}\nfunction ActionValueInput({input, actionIndex, config}: ActionValueProps) {\n  const name = `actions.${actionIndex}.action_value.${input.name}`;\n\n  if (input.name === 'tags_to_add' || input.name === 'tags_to_remove') {\n    return <TagComboBox name={name} />;\n  }\n\n  switch (input.type) {\n    case 'text':\n    case 'textarea':\n      return (\n        <FormTextField\n          name={name}\n          label={input.display_name}\n          placeholder={input.placeholder}\n          inputElementType={input.type === 'textarea' ? 'textarea' : undefined}\n          rows={input.type === 'textarea' ? 3 : undefined}\n        />\n      );\n    case 'select':\n      return (\n        <FormSelect name={name} selectionMode=\"single\">\n          {config.actionOptions[input.select_options!].map(option => (\n            <Option\n              description={option.description}\n              key={option.value}\n              value={option.value}\n              capitalizeFirst\n              startIcon={option.image ? <Avatar src={option.image} /> : null}\n            >\n              {option.name}\n            </Option>\n          ))}\n        </FormSelect>\n      );\n  }\n}\n\ninterface TagComboBoxProps {\n  name: string;\n}\nfunction TagComboBox({name}: TagComboBoxProps) {\n  const {trans} = useTrans();\n  const [query, setQuery] = useState('');\n  const {data, isFetching} = useTags({query, perPage: 8, notType: 'status'});\n  return (\n    <FormChipField\n      name={name}\n      isAsync\n      isLoading={isFetching}\n      inputValue={query}\n      onInputValueChange={setQuery}\n      valueKey=\"id\"\n      placeholder={trans(message('Enter tag name...'))}\n      allowCustomValue\n    >\n      {data?.pagination.data.map(result => (\n        <Item\n          key={result.id}\n          value={result.name}\n          textLabel={result.name}\n          capitalizeFirst\n        >\n          {result.display_name}\n        </Item>\n      ))}\n    </FormChipField>\n  );\n}\n","import {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport React from 'react';\nimport {TriggerConditionSelector} from '@app/admin/triggers/form/trigger-condition-selector';\nimport {FetchTriggerConfigResponse} from '@app/admin/triggers/requests/use-trigger-config';\nimport {TriggerActionSelector} from '@app/admin/triggers/form/trigger-action-selector';\n\ninterface Props {\n  config: FetchTriggerConfigResponse;\n}\nexport function CrupdateTriggerForm({config}: Props) {\n  return (\n    <div>\n      <FormTextField\n        name=\"name\"\n        label={<Trans message=\"Name\" />}\n        className=\"mb-24\"\n      />\n      <FormTextField\n        name=\"description\"\n        label={<Trans message=\"Description\" />}\n        inputElementType=\"textarea\"\n        rows={3}\n        className=\"mb-44\"\n      />\n      <TriggerConditionSelector\n        matchType=\"all_conditions\"\n        className=\"mb-44\"\n        config={config}\n      />\n      <TriggerConditionSelector\n        matchType=\"any_conditions\"\n        config={config}\n        className=\"mb-44\"\n      />\n      <TriggerActionSelector config={config} />\n    </div>\n  );\n}\n","interface Options<T> {\n  map?: (item: T) => T;\n}\n\nexport function groupArrayBy<T>(\n  arr: T[],\n  cb: (item: any) => string,\n  options?: Options<T>,\n): {[key: string]: T[]} {\n  const result: {[key: string]: T[]} = {};\n  for (let i = 0; i < arr.length; i++) {\n    let item = arr[i];\n    const bucketCategory = cb(item);\n    const bucket = result[bucketCategory];\n\n    item = options?.map ? options.map(arr[i]) : arr[i];\n\n    if (!Array.isArray(bucket)) {\n      result[bucketCategory] = [item];\n    } else {\n      result[bucketCategory].push(item);\n    }\n  }\n\n  return result;\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {\n  TriggerAction,\n  TriggerActionInputConfig,\n  TriggerCondition,\n  TriggerOperator,\n} from '@app/admin/triggers/trigger';\nimport {apiClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {groupArrayBy} from '@common/utils/array/group-array-by';\n\nexport interface FetchTriggerConfigResponse extends BackendResponse {\n  actions: TriggerAction[];\n  conditions: TriggerCondition[];\n  operators: TriggerOperator[];\n  groupedConditions: Record<string, TriggerCondition[]>;\n  actionOptions: Record<\n    NonNullable<TriggerActionInputConfig['select_options']>,\n    {name: string; value: string; description?: string; image?: string}[]\n  >;\n}\n\nexport function useTriggerConfig() {\n  return useQuery({\n    queryKey: ['triggers', `config`],\n    queryFn: () => fetchConfig(),\n  });\n}\n\nasync function fetchConfig() {\n  const data = await apiClient\n    .get<FetchTriggerConfigResponse>(`triggers/config`)\n    .then(response => response.data);\n  return {\n    groupedConditions: groupArrayBy(\n      data.conditions,\n      item => {\n        const [group] = item.name.split(':');\n        return group.trim();\n      },\n      {\n        map: item => {\n          item.name = item.name.split(':')[1].trim();\n          return item;\n        },\n      },\n    ),\n    conditions: data.conditions,\n    operators: data.operators,\n    actions: data.actions,\n    actionOptions: data.actionOptions,\n  };\n}\n","import {useForm} from 'react-hook-form';\nimport React from 'react';\nimport {useTrigger} from '@app/admin/triggers/requests/use-trigger';\nimport {CrupdateResourceLayout} from '@common/admin/crupdate-resource-layout';\nimport {Trans} from '@common/i18n/trans';\nimport {Trigger} from '@app/admin/triggers/trigger';\nimport {\n  UpdateTriggerPayload,\n  useUpdateTrigger,\n} from '@app/admin/triggers/requests/use-update-trigger';\nimport {CrupdateTriggerForm} from '@app/admin/triggers/form/crupdate-trigger-form';\nimport {\n  FetchTriggerConfigResponse,\n  useTriggerConfig,\n} from '@app/admin/triggers/requests/use-trigger-config';\nimport {FullPageLoader} from '@common/ui/progress/full-page-loader';\nimport {PageErrorMessage} from '@common/errors/page-error-message';\nimport useSpinDelay from '@common/utils/hooks/use-spin-delay';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {ArrowBackIcon} from '@common/icons/material/ArrowBack';\nimport {Link} from 'react-router-dom';\n\nexport function UpdateTriggerPage() {\n  const triggerQuery = useTrigger();\n  const configQuery = useTriggerConfig();\n  const isLoading = triggerQuery.isPending || configQuery.isPending;\n  const showSpinner = useSpinDelay(isLoading, {\n    delay: 500,\n    minDuration: 200,\n  });\n\n  if (triggerQuery.data && configQuery.data) {\n    return (\n      <PageContent\n        trigger={triggerQuery.data.trigger}\n        config={configQuery.data}\n      />\n    );\n  }\n\n  if (isLoading) {\n    return showSpinner ? <FullPageLoader /> : null;\n  }\n\n  return <PageErrorMessage />;\n}\n\ninterface PageContentProps {\n  trigger: Trigger;\n  config: FetchTriggerConfigResponse;\n}\nfunction PageContent({trigger, config}: PageContentProps) {\n  const form = useForm<UpdateTriggerPayload>({\n    defaultValues: {\n      name: trigger.name,\n      description: trigger.description,\n      all_conditions: trigger.all_conditions,\n      any_conditions: trigger.any_conditions,\n      actions: trigger.actions,\n    },\n  });\n  const updateTrigger = useUpdateTrigger(form);\n  return (\n    <CrupdateResourceLayout\n      onSubmit={values => updateTrigger.mutate(values)}\n      form={form}\n      title={\n        <Trans message=\"Edit “:name“ trigger\" values={{name: trigger.name}} />\n      }\n      isLoading={updateTrigger.isPending}\n      backButton={\n        <IconButton\n          elementType={Link}\n          to=\"/admin/triggers\"\n          className=\"max-md:hidden\"\n        >\n          <ArrowBackIcon />\n        </IconButton>\n      }\n      wrapInContainer\n    >\n      <CrupdateTriggerForm config={config} />\n    </CrupdateResourceLayout>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {UseFormReturn} from 'react-hook-form';\nimport {Trigger} from '@app/admin/triggers/trigger';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\n\ninterface Response extends BackendResponse {\n  trigger: Trigger;\n}\n\nexport interface CreateTriggerPayload {\n  name: string;\n  description?: string;\n  all_conditions: Trigger['all_conditions'];\n  any_conditions: Trigger['any_conditions'];\n  conditions: unknown; // for hook form error message only\n  actions: Trigger['actions'];\n}\n\nexport function useCreateTrigger(form: UseFormReturn<CreateTriggerPayload>) {\n  const {trans} = useTrans();\n  const navigate = useNavigate();\n  return useMutation({\n    mutationFn: (props: CreateTriggerPayload) => createTrigger(props),\n    onSuccess: response => {\n      queryClient.invalidateQueries({\n        queryKey: DatatableDataQueryKey('triggers'),\n      });\n      navigate(`/admin/triggers/${response.trigger.id}/edit`);\n      toast(trans(message('Trigger created')));\n    },\n    onError: err => onFormQueryError(err, form),\n  });\n}\n\nfunction createTrigger(data: CreateTriggerPayload) {\n  const payload = {\n    ...data,\n    conditions: data.all_conditions.concat(data.any_conditions),\n  };\n  return apiClient.post<Response>('triggers', payload).then(r => r.data);\n}\n","import {useForm} from 'react-hook-form';\nimport React from 'react';\nimport {CrupdateResourceLayout} from '@common/admin/crupdate-resource-layout';\nimport {Trans} from '@common/i18n/trans';\nimport {CrupdateTriggerForm} from '@app/admin/triggers/form/crupdate-trigger-form';\nimport {\n  FetchTriggerConfigResponse,\n  useTriggerConfig,\n} from '@app/admin/triggers/requests/use-trigger-config';\nimport {FullPageLoader} from '@common/ui/progress/full-page-loader';\nimport {PageErrorMessage} from '@common/errors/page-error-message';\nimport useSpinDelay from '@common/utils/hooks/use-spin-delay';\nimport {\n  CreateTriggerPayload,\n  useCreateTrigger,\n} from '@app/admin/triggers/requests/use-create-trigger';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {Link} from 'react-router-dom';\nimport {ArrowBackIcon} from '@common/icons/material/ArrowBack';\n\nexport function CreateTriggerPage() {\n  const configQuery = useTriggerConfig();\n  const showSpinner = useSpinDelay(configQuery.isLoading, {\n    delay: 500,\n    minDuration: 200,\n  });\n\n  if (configQuery.data) {\n    return <PageContent config={configQuery.data} />;\n  }\n\n  if (configQuery.isLoading) {\n    return showSpinner ? <FullPageLoader /> : null;\n  }\n\n  return <PageErrorMessage />;\n}\n\ninterface PageContentProps {\n  config: FetchTriggerConfigResponse;\n}\nfunction PageContent({config}: PageContentProps) {\n  const form = useForm<CreateTriggerPayload>();\n  const createTrigger = useCreateTrigger(form);\n  return (\n    <CrupdateResourceLayout\n      onSubmit={values => createTrigger.mutate(values)}\n      form={form}\n      title={<Trans message=\"Create new trigger\" />}\n      isLoading={createTrigger.isPending}\n      backButton={\n        <IconButton\n          elementType={Link}\n          to=\"/admin/triggers\"\n          className=\"max-md:hidden\"\n        >\n          <ArrowBackIcon />\n        </IconButton>\n      }\n      wrapInContainer\n    >\n      <CrupdateTriggerForm config={config} />\n    </CrupdateResourceLayout>\n  );\n}\n","import {ColumnConfig} from '@common/datatable/column-config';\nimport {Trans} from '@common/i18n/trans';\nimport {FormattedDate} from '@common/i18n/formatted-date';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {EditIcon} from '@common/icons/material/Edit';\nimport React, {useContext} from 'react';\nimport {TableContext} from '@common/ui/tables/table-context';\nimport clsx from 'clsx';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {DeleteIcon} from '@common/icons/material/Delete';\nimport {ConfirmationDialog} from '@common/ui/overlays/dialog/confirmation-dialog';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {CheckIcon} from '@common/icons/material/Check';\nimport {CloseIcon} from '@common/icons/material/Close';\nimport {NameWithAvatar} from '@common/datatable/column-templates/name-with-avatar';\nimport {truncateString} from '@common/utils/string/truncate-string';\nimport {stripTags} from '@common/utils/string/strip-tags';\nimport {Article} from '@app/help-center/articles/article';\nimport {useDeleteArticles} from '@app/admin/help-center/requests/use-delete-articles';\nimport {ArticlePath} from '@app/help-center/articles/article-path';\nimport {Link} from 'react-router-dom';\nimport {getEditArticleLink} from '@app/help-center/articles/article-link';\n\nexport const ArticleDatatableColumns: ColumnConfig<Article>[] = [\n  {\n    key: 'name',\n    width: 'flex-3 min-w-200',\n    visibleInMode: 'all',\n    header: () => <Trans message=\"Article\" />,\n    body: article => <ArticleColumn article={article} />,\n  },\n  {\n    key: 'author_id',\n    allowsSorting: true,\n    width: 'min-w-200',\n    visibleInMode: 'all',\n    header: () => <Trans message=\"Owner\" />,\n    body: article =>\n      article.author ? (\n        <NameWithAvatar\n          image={article.author.avatar}\n          label={article.author.display_name}\n          description={article.author.email}\n        />\n      ) : null,\n  },\n  {\n    key: 'draft',\n    allowsSorting: true,\n    width: 'w-100 flex-shrink-0',\n    header: () => <Trans message=\"Published\" />,\n    body: article =>\n      !article.draft ? (\n        <CheckIcon size=\"md\" className=\"text-positive\" />\n      ) : (\n        <CloseIcon size=\"md\" className=\"text-danger\" />\n      ),\n  },\n  {\n    key: 'updatedAt',\n    allowsSorting: true,\n    width: 'w-96',\n    header: () => <Trans message=\"Last updated\" />,\n    body: reply => (\n      <time>\n        <FormattedDate date={reply.updated_at} />\n      </time>\n    ),\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    width: 'w-84 flex-shrink-0',\n    hideHeader: true,\n    align: 'end',\n    visibleInMode: 'all',\n    body: article => (\n      <div className=\"text-muted\">\n        <IconButton\n          size=\"md\"\n          elementType={Link}\n          to={getEditArticleLink(article)}\n        >\n          <EditIcon />\n        </IconButton>\n        <DialogTrigger type=\"modal\">\n          <Tooltip label={<Trans message=\"Delete reply\" />}>\n            <IconButton>\n              <DeleteIcon />\n            </IconButton>\n          </Tooltip>\n          <DeleteArticleDialog article={article} />\n        </DialogTrigger>\n      </div>\n    ),\n  },\n];\n\ninterface ArticleColumnProps {\n  article: Article;\n}\nfunction ArticleColumn({article}: ArticleColumnProps) {\n  const {isCollapsedMode} = useContext(TableContext);\n  return (\n    <div className=\"min-w-0\">\n      <div\n        className={clsx(\n          isCollapsedMode\n            ? 'whitespace-normal'\n            : 'overflow-hidden overflow-ellipsis whitespace-nowrap font-medium',\n        )}\n      >\n        {article.title}\n      </div>\n      {!isCollapsedMode && (\n        <div className=\"mt-4\">\n          <div className=\"text-xs\">\n            <ArticlePath article={article} />\n          </div>\n          <p className=\"mt-4 max-w-680 whitespace-normal text-xs text-muted\">\n            {truncateString(stripTags(article.body), 230)}\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}\n\ninterface DeleteArticleDialogProps {\n  article: Article;\n}\nexport function DeleteArticleDialog({article}: DeleteArticleDialogProps) {\n  const deleteArticles = useDeleteArticles();\n  const {close} = useDialogContext();\n  return (\n    <ConfirmationDialog\n      isDanger\n      isLoading={deleteArticles.isPending}\n      title={<Trans message=\"Delete article\" />}\n      body={<Trans message=\"Are you sure you want to delete this article?\" />}\n      confirm={<Trans message=\"Delete\" />}\n      onConfirm={() => {\n        deleteArticles.mutate({ids: [article.id]}, {onSuccess: () => close()});\n      }}\n    />\n  );\n}\n","import {\n  BackendFilter,\n  FilterControlType,\n  FilterOperator,\n} from '@common/datatable/filters/backend-filter';\nimport {message} from '@common/i18n/message';\nimport {\n  createdAtFilter,\n  updatedAtFilter,\n} from '@common/datatable/filters/timestamp-filters';\nimport {USER_MODEL} from '@common/auth/user';\n\nexport const ArticleDatatableFilters: BackendFilter[] = [\n  {\n    key: 'draft',\n    label: message('Published'),\n    description: message('Whether article is published or draft'),\n    defaultOperator: FilterOperator.eq,\n    control: {\n      type: FilterControlType.BooleanToggle,\n      defaultValue: true,\n    },\n  },\n  {\n    key: 'author_id',\n    label: message('Author'),\n    description: message('User this article was created by'),\n    defaultOperator: FilterOperator.eq,\n    control: {\n      type: FilterControlType.SelectModel,\n      model: USER_MODEL,\n    },\n  },\n  createdAtFilter({\n    description: message('Date article was created'),\n  }),\n  updatedAtFilter({\n    description: message('Date article was last updated'),\n  }),\n];\n","import {Trans} from '@common/i18n/trans';\nimport {DataTablePage} from '@common/datatable/page/data-table-page';\nimport {DataTableAddItemButton} from '@common/datatable/data-table-add-item-button';\nimport {DataTableEmptyStateMessage} from '@common/datatable/page/data-table-emty-state-message';\nimport {DeleteSelectedItemsAction} from '@common/datatable/page/delete-selected-items-action';\nimport onlineArticlesImg from '@app/admin/canned-replies/online-articles.svg';\nimport {ArticleDatatableColumns} from '@app/admin/article-datatable/article-datatable-columns';\nimport {ArticleDatatableFilters} from '@app/admin/article-datatable/canned-replies-datatable-filters';\nimport {Link} from 'react-router-dom';\n\nexport function ArticleDatatablePage() {\n  return (\n    <DataTablePage\n      endpoint=\"hc/articles\"\n      queryParams={{\n        with: 'body,path,author',\n        defaultOrder: 'updated_at|desc',\n      }}\n      title={<Trans message=\"Articles\" />}\n      columns={ArticleDatatableColumns}\n      filters={ArticleDatatableFilters}\n      actions={<Actions />}\n      selectedActions={<DeleteSelectedItemsAction />}\n      enableSelection={false}\n      cellHeight=\"h-90\"\n      emptyStateMessage={\n        <DataTableEmptyStateMessage\n          image={onlineArticlesImg}\n          title={<Trans message=\"No articles have been created yet\" />}\n          filteringTitle={<Trans message=\"No matching articles\" />}\n        />\n      }\n    />\n  );\n}\n\nfunction Actions() {\n  return (\n    <DataTableAddItemButton elementType={Link} to=\"/admin/articles/new\">\n      <Trans message=\"Add article\" />\n    </DataTableAddItemButton>\n  );\n}\n","import {Form} from '@common/ui/forms/form';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {FormChipField} from '@common/ui/forms/input-field/chip-field/form-chip-field';\r\nimport {useCategories} from '@app/admin/help-center/requests/use-categories';\r\nimport React, {useState} from 'react';\r\nimport {Item} from '@common/ui/forms/listbox/item';\r\nimport {message} from '@common/i18n/message';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\nimport {CreateTicketCategoryPayload} from '@app/admin/ticket-categories/requests/use-create-ticket-category';\r\nimport {useCustomerTicketRequestTypes} from '@app/help-center/tickets/customer-new-ticket-page/use-customer-ticket-request-types';\r\n/* import {TicketRequestType} from '@app/agent/ticket-request-type'; */\r\n\r\ninterface Props {\r\n  onSubmit: (values: CreateTicketCategoryPayload) => void;\r\n  formId: string;\r\n  form: UseFormReturn<CreateTicketCategoryPayload>;\r\n}\r\nexport function CrupdateTicketCategoryForm({form, onSubmit, formId}: Props) {\r\n  const query = useCustomerTicketRequestTypes();\r\n  const request_types = query?.data?.pagination.data;\r\n\r\n  return (\r\n    <Form id={formId} form={form} onSubmit={onSubmit}>\r\n      <FormTextField\r\n        name=\"name\"\r\n        label={<Trans message=\"Name\" />}\r\n        description={<Trans message=\"Unique category identifier.\" />}\r\n        className=\"mb-20\"\r\n        required\r\n        autoFocus\r\n      />\r\n      <FormTextField\r\n        name=\"description_ticket_page\"\r\n        label={<Trans message=\"Description\" />}\r\n        description={<Trans message=\"Description for new ticket page.\" />}\r\n        className=\"mb-20\"\r\n      />\r\n      <FormChipField\r\n        className=\"mb-30\"\r\n        name=\"ticket_request_type\"\r\n        label={<Trans message=\"Types\" />}\r\n        suggestions={request_types}\r\n      >\r\n        {chip => (\r\n          <Item key={chip.id} value={chip.name}>\r\n            {chip.display_name}\r\n          </Item>\r\n        )}\r\n      </FormChipField>\r\n      <FormTextField\r\n        name=\"display_name\"\r\n        label={<Trans message=\"Display name\" />}\r\n        description={<Trans message=\"User friendly category name.\" />}\r\n        className=\"mb-20\"\r\n      />\r\n      <CategoriesField />\r\n    </Form>\r\n  );\r\n}\r\n\r\nfunction CategoriesField() {\r\n  const {trans} = useTrans();\r\n  const {data, isFetching} = useCategories({type: 'category'});\r\n  const [query, setQuery] = useState('');\r\n  const suggestions = data?.pagination.data;\r\n  return (\r\n    <FormChipField\r\n      name=\"categories\"\r\n      label={<Trans message=\"Help center categories\" />}\r\n      isAsync\r\n      isLoading={isFetching}\r\n      inputValue={query}\r\n      onInputValueChange={setQuery}\r\n      placeholder={trans(message('Select help center categories'))}\r\n      allowCustomValue={false}\r\n      suggestions={suggestions}\r\n    >\r\n      {data?.pagination.data.map(category => (\r\n        <Item\r\n          key={category.id}\r\n          value={category.name}\r\n          description={category.description}\r\n          textLabel={category.name}\r\n        >\r\n          {category.name}\r\n        </Item>\r\n      ))}\r\n    </FormChipField>\r\n  );\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient, queryClient} from '@common/http/query-client';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {toast} from '@common/ui/toast/toast';\r\nimport {message} from '@common/i18n/message';\r\nimport {Tag} from '@common/tags/tag';\r\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\r\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {CreateTicketCategoryPayload} from '@app/admin/ticket-categories/requests/use-create-ticket-category';\r\n\r\ninterface Response extends BackendResponse {\r\n  tag: Tag;\r\n}\r\n\r\nexport interface UpdateTicketCategoryPayload\r\n  extends Partial<CreateTicketCategoryPayload> {}\r\n\r\nexport function useUpdateTicketCategory(\r\n  categoryId: number | string,\r\n  form: UseFormReturn<UpdateTicketCategoryPayload>,\r\n) {\r\n  const {trans} = useTrans();\r\n  return useMutation({\r\n    mutationFn: (props: UpdateTicketCategoryPayload) =>\r\n      updateCategory(categoryId, props),\r\n    onSuccess: async () => {\r\n      await queryClient.invalidateQueries({\r\n        queryKey: DatatableDataQueryKey('ticket-categories'),\r\n      });\r\n      toast(trans(message('Category updated')));\r\n    },\r\n    onError: err => onFormQueryError(err, form),\r\n  });\r\n}\r\n\r\nfunction updateCategory(\r\n  categoryId: number | string,\r\n  formPayload: UpdateTicketCategoryPayload,\r\n): Promise<Response> {\r\n  const payload = {\r\n    ...formPayload,\r\n    categories: formPayload.categories?.map(c => c.id) ?? [],\r\n    ticket_request_type: formPayload.ticket_request_type?.map(c => c.id) ?? [],\r\n  };\r\n  return apiClient\r\n    .put(`ticket-categories/${categoryId}`, payload)\r\n    .then(r => r.data);\r\n}\r\n","import {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\r\nimport {useForm} from 'react-hook-form';\r\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\r\nimport {CrupdateTicketCategoryForm} from '@app/admin/ticket-categories/crupdate-ticket-category-form';\r\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\r\nimport {Button} from '@common/ui/buttons/button';\r\nimport {TicketTag} from '@app/agent/ticket';\r\nimport {\r\n  UpdateTicketCategoryPayload,\r\n  useUpdateTicketCategory,\r\n} from '@app/admin/ticket-categories/requests/use-update-ticket-category';\r\n\r\ninterface Props {\r\n  tag: TicketTag;\r\n}\r\nexport function UpdateTicketCategoryDialog({tag}: Props) {\r\n  const {close, formId} = useDialogContext();\r\n  const form = useForm<UpdateTicketCategoryPayload>({\r\n    defaultValues: {\r\n      name: tag.name,\r\n      display_name: tag.display_name,\r\n      description_ticket_page: tag.description_ticket_page,\r\n      ticket_request_type: tag.ticket_request_type,\r\n      categories: tag.categories,\r\n    },\r\n  });\r\n  const updateCategory = useUpdateTicketCategory(tag.id, form);\r\n\r\n  return (\r\n    <Dialog>\r\n      <DialogHeader>\r\n        <Trans message=\"Update ticket category\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <CrupdateTicketCategoryForm\r\n          formId={formId}\r\n          form={form as any}\r\n          onSubmit={values => {\r\n            updateCategory.mutate(values, {\r\n              onSuccess: () => close(),\r\n            });\r\n          }}\r\n        />\r\n      </DialogBody>\r\n      <DialogFooter>\r\n        <Button onClick={() => close()}>\r\n          <Trans message=\"Cancel\" />\r\n        </Button>\r\n        <Button\r\n          form={formId}\r\n          disabled={updateCategory.isPending}\r\n          variant=\"flat\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n        >\r\n          <Trans message=\"Save\" />\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n","export default \"__VITE_ASSET__c5a7a036__\"","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient, queryClient} from '@common/http/query-client';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\r\nimport {toast} from '@common/ui/toast/toast';\r\nimport {message} from '@common/i18n/message';\r\nimport {Tag} from '@common/tags/tag';\r\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\r\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {ChipValue} from '@common/ui/forms/input-field/chip-field/chip-field';\r\n\r\ninterface Response extends BackendResponse {\r\n  tag: Tag;\r\n}\r\n\r\n/* interface RequestTypes  {\r\n  id: number\r\n} */\r\nexport interface CreateTicketCategoryPayload {\r\n  name: string;\r\n  display_name: string;\r\n  description_ticket_page?: string;\r\n  categories: ChipValue[];\r\n  ticket_request_type?: ChipValue[];\r\n}\r\n\r\nexport function useCreateTicketCategory(\r\n  form: UseFormReturn<CreateTicketCategoryPayload>,\r\n) {\r\n  const {trans} = useTrans();\r\n  return useMutation({\r\n    mutationFn: (props: CreateTicketCategoryPayload) => createCategory(props),\r\n    onSuccess: async () => {\r\n      await queryClient.invalidateQueries({\r\n        queryKey: DatatableDataQueryKey('ticket-categories'),\r\n      });\r\n      toast(trans(message('Category created')));\r\n    },\r\n    onError: err => onFormQueryError(err, form),\r\n  });\r\n}\r\n\r\nfunction createCategory(\r\n  formPayload: CreateTicketCategoryPayload,\r\n): Promise<Response> {\r\n  const payload = {\r\n    ...formPayload,\r\n    categories: formPayload.categories?.map(c => c.id) ?? [],\r\n    ticket_request_type: formPayload.ticket_request_type?.map(c => c.id) ?? [],\r\n  };\r\n  return apiClient.post('ticket-categories', payload).then(r => r.data);\r\n}\r\n","import {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {useForm} from 'react-hook-form';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {Trans} from '@common/i18n/trans';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {CrupdateTicketCategoryForm} from '@app/admin/ticket-categories/crupdate-ticket-category-form';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {\n  CreateTicketCategoryPayload,\n  useCreateTicketCategory,\n} from '@app/admin/ticket-categories/requests/use-create-ticket-category';\n\nexport function CreateTicketCategoryDialog() {\n  const {close, formId} = useDialogContext();\n  const form = useForm<CreateTicketCategoryPayload>();\n  const createCategory = useCreateTicketCategory(form);\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Add ticket category\" />\n      </DialogHeader>\n      <DialogBody>\n        <CrupdateTicketCategoryForm\n          formId={formId}\n          form={form}\n          onSubmit={values => {\n            createCategory.mutate(values, {\n              onSuccess: () => close(),\n            });\n          }}\n        />\n      </DialogBody>\n      <DialogFooter>\n        <Button onClick={() => close()}>\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          form={formId}\n          disabled={createCategory.isPending}\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n        >\n          <Trans message=\"Save\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {ColumnConfig} from '@common/datatable/column-config';\nimport {Trans} from '@common/i18n/trans';\nimport {FormattedDate} from '@common/i18n/formatted-date';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {EditIcon} from '@common/icons/material/Edit';\nimport {UpdateTicketCategoryDialog} from '@app/admin/ticket-categories/update-ticket-category-dialog';\nimport {DataTablePage} from '@common/datatable/page/data-table-page';\nimport {DeleteSelectedItemsAction} from '@common/datatable/page/delete-selected-items-action';\nimport {DataTableEmptyStateMessage} from '@common/datatable/page/data-table-emty-state-message';\nimport softwareEngineerSvg from './software-engineer.svg';\nimport {DataTableAddItemButton} from '@common/datatable/data-table-add-item-button';\nimport {CreateTicketCategoryDialog} from '@app/admin/ticket-categories/create-ticket-category-dialog';\nimport {TicketTag} from '@app/agent/ticket';\n\nconst columnConfig: ColumnConfig<TicketTag>[] = [\n  {\n    key: 'display_name',\n    visibleInMode: 'all',\n    header: () => <Trans message=\"Name\" />,\n    body: category => category.display_name,\n  },\n  {\n    key: 'name',\n    allowsSorting: true,\n    header: () => <Trans message=\"Identifier\" />,\n    body: category => category.name,\n  },\n  {\n    key: 'updated_at',\n    allowsSorting: true,\n    width: 'w-100',\n    header: () => <Trans message=\"Last updated\" />,\n    body: category => <FormattedDate date={category.updated_at} />,\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    hideHeader: true,\n    align: 'end',\n    width: 'w-42 flex-shrink-0',\n    visibleInMode: 'all',\n    body: category => (\n      <DialogTrigger type=\"modal\">\n        <IconButton size=\"md\" className=\"text-muted\">\n          <EditIcon />\n        </IconButton>\n        <UpdateTicketCategoryDialog tag={category} />\n      </DialogTrigger>\n    ),\n  },\n];\n\nexport function TicketCategoryDatatable() {\n  return (\n    <DataTablePage\n      endpoint=\"ticket-categories\"\n      title={<Trans message=\"Ticket categories\" />}\n      columns={columnConfig}\n      actions={<Actions />}\n      queryParams={{\n        with: 'categories',\n      }}\n      selectedActions={<DeleteSelectedItemsAction />}\n      emptyStateMessage={\n        <DataTableEmptyStateMessage\n          image={softwareEngineerSvg}\n          title={<Trans message=\"No categories have been created yet\" />}\n          filteringTitle={<Trans message=\"No matching categories\" />}\n        />\n      }\n    />\n  );\n}\n\nfunction Actions() {\n  return (\n    <>\n      <DialogTrigger type=\"modal\">\n        <DataTableAddItemButton>\n          <Trans message=\"Add category\" />\n        </DataTableAddItemButton>\n        <CreateTicketCategoryDialog />\n      </DialogTrigger>\n    </>\n  );\n}\n","import {Form} from '@common/ui/forms/form';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport { CreateTicketRequestTypePayload } from '@app/admin/ticket-request-type/requests/use-create-ticket-request-type';\r\n\r\ninterface Props {\r\n  onSubmit: (values: CreateTicketRequestTypePayload) => void;\r\n  formId: string;\r\n  form: UseFormReturn<CreateTicketRequestTypePayload>;\r\n}\r\nexport function CrupdateTicketRequestTypeForm({form, onSubmit, formId}: Props) {\r\n  return (\r\n    <Form id={formId} form={form} onSubmit={onSubmit}>\r\n      <FormTextField\r\n        name=\"name\"\r\n        label={<Trans message=\"Name\" />}\r\n        description={<Trans message=\"Unique request type identifier.\" />}\r\n        className=\"mb-20\"\r\n        required\r\n        autoFocus\r\n      />\r\n      <FormTextField\r\n        name=\"display_name\"\r\n        label={<Trans message=\"Display name\" />}\r\n        description={<Trans message=\"User friendly request type name.\" />}\r\n        className=\"mb-20\"\r\n      />\r\n    </Form>\r\n  );\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient, queryClient} from '@common/http/query-client';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\n/* import {BackendResponse} from '@common/http/backend-response/backend-response'; */\r\nimport {toast} from '@common/ui/toast/toast';\r\nimport {message} from '@common/i18n/message';\r\nimport {Tag} from '@common/tags/tag';\r\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\r\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {CreateTicketCategoryPayload} from '@app/admin/ticket-categories/requests/use-create-ticket-category';\r\nimport {CreateTicketRequestTypePayload} from '@app/admin/ticket-request-type/requests/use-create-ticket-request-type';\r\n/* import {  } */\r\n\r\n/* interface Response extends BackendResponse {\r\n  tag: Tag;\r\n} */\r\n\r\nexport interface UpdateTicketRequestTypePayload\r\n  extends Partial<CreateTicketRequestTypePayload> {}\r\n\r\nexport function useUpdateTicketRequestType(\r\n  requestTypeId: number | string,\r\n  form: UseFormReturn<UpdateTicketRequestTypePayload>,\r\n) {\r\n  const {trans} = useTrans();\r\n  return useMutation({\r\n    mutationFn: (props: UpdateTicketRequestTypePayload) =>\r\n      updateCategory(requestTypeId, props),\r\n    onSuccess: async () => {\r\n      await queryClient.invalidateQueries({\r\n        queryKey: DatatableDataQueryKey('ticket-request-type'),\r\n      });\r\n      toast(trans(message('Request type updated')));\r\n    },\r\n    onError: err => onFormQueryError(err, form),\r\n  });\r\n}\r\n\r\nfunction updateCategory(\r\n  requestTypeId: number | string,\r\n  formPayload: UpdateTicketRequestTypePayload,\r\n): Promise<Response> {\r\n  const payload = {\r\n    ...formPayload,\r\n  };\r\n  return apiClient\r\n    .put(`ticket-request-type/${requestTypeId}`, payload)\r\n    .then(r => r.data);\r\n}\r\n","import {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\r\nimport {useForm} from 'react-hook-form';\r\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\r\nimport {CrupdateTicketRequestTypeForm} from '@app/admin/ticket-request-type/crupdate-ticket-request-type-form';\r\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\r\nimport {Button} from '@common/ui/buttons/button';\r\n/* import {TicketTag} from '@app/agent/ticket'; */\r\nimport { TicketRequestType } from '@app/agent/ticket-request-type';\r\nimport {\r\n  UpdateTicketRequestTypePayload,\r\n  useUpdateTicketRequestType,\r\n} from '@app/admin/ticket-request-type/requests/use-update-ticket-request-type';\r\n\r\ninterface Props {\r\n  requestType: TicketRequestType;\r\n}\r\nexport function UpdateTicketRequestTypeDialog({requestType}: Props) {\r\n  const {close, formId} = useDialogContext();\r\n  const form = useForm<UpdateTicketRequestTypePayload>({\r\n    defaultValues: {\r\n      name: requestType.name,\r\n      display_name: requestType.display_name,\r\n    },\r\n  });\r\n  const updateCategory = useUpdateTicketRequestType(requestType.id, form);\r\n\r\n  return (\r\n    <Dialog>\r\n      <DialogHeader>\r\n        <Trans message=\"Update ticket request type\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <CrupdateTicketRequestTypeForm\r\n          formId={formId}\r\n          form={form as any}\r\n          onSubmit={values => {\r\n            updateCategory.mutate(values, {\r\n              onSuccess: () => close(),\r\n            });\r\n          }}\r\n        />\r\n      </DialogBody>\r\n      <DialogFooter>\r\n        <Button onClick={() => close()}>\r\n          <Trans message=\"Cancel\" />\r\n        </Button>\r\n        <Button\r\n          form={formId}\r\n          disabled={updateCategory.isPending}\r\n          variant=\"flat\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n        >\r\n          <Trans message=\"Save\" />\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n","export default \"__VITE_ASSET__89670e97__\"","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient, queryClient} from '@common/http/query-client';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\n/* import {BackendResponse} from '@common/http/backend-response/backend-response'; */\r\nimport {toast} from '@common/ui/toast/toast';\r\nimport {message} from '@common/i18n/message';\r\n/* import {Tag} from '@common/tags/tag'; */\r\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\r\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {ChipValue} from '@common/ui/forms/input-field/chip-field/chip-field';\r\n\r\n/* interface Response extends BackendResponse {\r\n  tag: Tag;\r\n} */\r\n\r\nexport interface CreateTicketRequestTypePayload {\r\n  name: string;\r\n  display_name: string;\r\n}\r\n\r\nexport function useCreateTicketRequestType(\r\n  form: UseFormReturn<CreateTicketRequestTypePayload>,\r\n) {\r\n  const {trans} = useTrans();\r\n  return useMutation({\r\n    mutationFn: (props: CreateTicketRequestTypePayload) => createRequestType(props),\r\n    onSuccess: async () => {\r\n      await queryClient.invalidateQueries({\r\n        queryKey: DatatableDataQueryKey('ticket-request-type'),\r\n      });\r\n      toast(trans(message('Request type created')));\r\n    },\r\n    onError: err => onFormQueryError(err, form),\r\n  });\r\n}\r\n\r\nfunction createRequestType(\r\n  formPayload: CreateTicketRequestTypePayload,\r\n): Promise<Response> {\r\n  const payload = {\r\n    ...formPayload,\r\n  };\r\n  return apiClient.post('ticket-request-type', payload).then(r => r.data);\r\n}\r\n","import {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\r\nimport {useForm} from 'react-hook-form';\r\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\r\nimport {CrupdateTicketRequestTypeForm} from '@app/admin/ticket-request-type/crupdate-ticket-request-type-form';\r\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\r\nimport {Button} from '@common/ui/buttons/button';\r\nimport {\r\n  CreateTicketRequestTypePayload,\r\n  useCreateTicketRequestType,\r\n} from '@app/admin/ticket-request-type/requests/use-create-ticket-request-type';\r\n\r\nexport function CreateTicketRequestTypeDialog() {\r\n  const {close, formId} = useDialogContext();\r\n  const form = useForm<CreateTicketRequestTypePayload>();\r\n  const createRequestType = useCreateTicketRequestType(form);\r\n\r\n  return (\r\n    <Dialog>\r\n      <DialogHeader>\r\n        <Trans message=\"Add ticket request type\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <CrupdateTicketRequestTypeForm\r\n          formId={formId}\r\n          form={form}\r\n          onSubmit={values => {\r\n            createRequestType.mutate(values, {\r\n              onSuccess: () => close(),\r\n            });\r\n          }}\r\n        />\r\n      </DialogBody>\r\n      <DialogFooter>\r\n        <Button onClick={() => close()}>\r\n          <Trans message=\"Cancel\" />\r\n        </Button>\r\n        <Button\r\n          form={formId}\r\n          disabled={createRequestType.isPending}\r\n          variant=\"flat\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n        >\r\n          <Trans message=\"Save\" />\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n"," import {ColumnConfig} from '@common/datatable/column-config';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {FormattedDate} from '@common/i18n/formatted-date';\r\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\r\nimport {IconButton} from '@common/ui/buttons/icon-button';\r\nimport {EditIcon} from '@common/icons/material/Edit';\r\nimport {UpdateTicketRequestTypeDialog} from '@app/admin/ticket-request-type/update-ticket-request-type-dialog';\r\nimport {DataTablePage} from '@common/datatable/page/data-table-page';\r\nimport {DeleteSelectedItemsAction} from '@common/datatable/page/delete-selected-items-action';\r\nimport {DataTableEmptyStateMessage} from '@common/datatable/page/data-table-emty-state-message';\r\nimport softwareEngineerSvg from './software-engineer.svg';\r\nimport {DataTableAddItemButton} from '@common/datatable/data-table-add-item-button';\r\nimport { CreateTicketRequestTypeDialog } from './create-ticket-request-type-dialog';\r\nimport {TicketRequestType} from '@app/agent/ticket-request-type';\r\n\r\nconst columnConfig: ColumnConfig<TicketRequestType>[] = [\r\n  {\r\n    key: 'display_name',\r\n    visibleInMode: 'all',\r\n    header: () => <Trans message=\"Name\" />,\r\n    body: category => category.display_name,\r\n  },\r\n  {\r\n    key: 'name',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Identifier\" />,\r\n    body: category => category.name,\r\n  },\r\n  {\r\n    key: 'updated_at',\r\n    allowsSorting: true,\r\n    width: 'w-100',\r\n    header: () => <Trans message=\"Last updated\" />,\r\n    body: category => <FormattedDate date={category.updated_at} />,\r\n  },\r\n  {\r\n    key: 'actions',\r\n    header: () => <Trans message=\"Actions\" />,\r\n    hideHeader: true,\r\n    align: 'end',\r\n    width: 'w-42 flex-shrink-0',\r\n    visibleInMode: 'all',\r\n    body: category => (\r\n      <DialogTrigger type=\"modal\">\r\n        <IconButton size=\"md\" className=\"text-muted\">\r\n          <EditIcon />\r\n        </IconButton>\r\n        <UpdateTicketRequestTypeDialog requestType={category} />\r\n      </DialogTrigger>\r\n    ),\r\n  },\r\n];\r\n\r\nexport function TicketRequestType() {\r\n  return (\r\n    <DataTablePage\r\n      endpoint=\"ticket-request-type\"\r\n      title={<Trans message=\"Ticket Request Type\" />}\r\n      columns={columnConfig}\r\n      actions={<Actions />}\r\n      /* queryParams={{\r\n        with: 'categories',\r\n      }} */\r\n      selectedActions={<DeleteSelectedItemsAction />}\r\n      emptyStateMessage={\r\n        <DataTableEmptyStateMessage\r\n          image={softwareEngineerSvg}\r\n          title={<Trans message=\"No Request Types have been created yet\" />}\r\n          filteringTitle={<Trans message=\"No matching Request Types\" />}\r\n        />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nfunction Actions() {\r\n  return (\r\n    <>\r\n      <DialogTrigger type=\"modal\">\r\n        <DataTableAddItemButton>\r\n          <Trans message=\"Add ticket request type\" />\r\n        </DataTableAddItemButton>\r\n        <CreateTicketRequestTypeDialog />\r\n      </DialogTrigger>\r\n    </>\r\n  );\r\n}\r\n","export default \"__VITE_ASSET__56572b23__\"","import {Form} from '@common/ui/forms/form';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {CreateTeamPayload} from './requests/use-create-team';\r\n\r\ninterface Props {\r\n  onSubmit: (values: CreateTeamPayload) => void;\r\n  formId: string;\r\n  form: UseFormReturn<CreateTeamPayload>;\r\n}\r\nexport function CrudateTeamForm({form, onSubmit, formId}: Props) {\r\n  return (\r\n    <Form id={formId} form={form} onSubmit={onSubmit}>\r\n      <FormTextField\r\n        name=\"name\"\r\n        label={<Trans message=\"Name\" />}\r\n        description={<Trans message=\"Unique request type identifier.\" />}\r\n        className=\"mb-20\"\r\n        required\r\n        autoFocus\r\n      />\r\n      <FormTextField\r\n        name=\"display_name\"\r\n        label={<Trans message=\"Display name\" />}\r\n        description={<Trans message=\"User friendly request type name.\" />}\r\n        className=\"mb-20\"\r\n      />\r\n    </Form>\r\n  );\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient, queryClient} from '@common/http/query-client';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\nimport {toast} from '@common/ui/toast/toast';\r\nimport {message} from '@common/i18n/message';\r\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\r\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\r\nimport {UseFormReturn} from 'react-hook-form';\r\n\r\nexport interface CreateTeamPayload {\r\n  name: string;\r\n  display_name: string;\r\n}\r\n\r\nexport function useCreateTeam(\r\n  form: UseFormReturn<CreateTeamPayload>,\r\n) {\r\n  const {trans} = useTrans();\r\n  return useMutation({\r\n    mutationFn: (props: CreateTeamPayload) => createTeam(props),\r\n    onSuccess: async () => {\r\n      await queryClient.invalidateQueries({\r\n        queryKey: DatatableDataQueryKey('teams'),\r\n      });\r\n      toast(trans(message('Team created')));\r\n    },\r\n    onError: err => onFormQueryError(err, form),\r\n  });\r\n}\r\n\r\nfunction createTeam(\r\n  formPayload: CreateTeamPayload,\r\n): Promise<Response> {\r\n  const payload = {\r\n    ...formPayload,\r\n  };\r\n  return apiClient.post('teams', payload).then(r => r.data);\r\n}\r\n","import {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\r\nimport {useForm} from 'react-hook-form';\r\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\r\nimport {CrudateTeamForm} from './crupdate-team-form';\r\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\r\nimport {Button} from '@common/ui/buttons/button';\r\n\r\nimport { useCreateTeam, CreateTeamPayload } from './requests/use-create-team';\r\n\r\nexport function CreateTeamDialog() {\r\n  const {close, formId} = useDialogContext();\r\n  const form = useForm<CreateTeamPayload>();\r\n  const createRequestType = useCreateTeam(form);\r\n\r\n  return (\r\n    <Dialog>\r\n      <DialogHeader>\r\n        <Trans message=\"Add new team\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <CrudateTeamForm\r\n          formId={formId}\r\n          form={form}\r\n          onSubmit={values => {\r\n            createRequestType.mutate(values, {\r\n              onSuccess: () => close(),\r\n            });\r\n          }}\r\n        />\r\n      </DialogBody>\r\n      <DialogFooter>\r\n        <Button onClick={() => close()}>\r\n          <Trans message=\"Cancel\" />\r\n        </Button>\r\n        <Button\r\n          form={formId}\r\n          disabled={createRequestType.isPending}\r\n          variant=\"flat\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n        >\r\n          <Trans message=\"Save\" />\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n","import {useMutation} from '@tanstack/react-query';\r\nimport {apiClient, queryClient} from '@common/http/query-client';\r\nimport {useTrans} from '@common/i18n/use-trans';\r\nimport {toast} from '@common/ui/toast/toast';\r\nimport {message} from '@common/i18n/message';\r\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\r\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\r\nimport {UseFormReturn} from 'react-hook-form';\r\nimport {CreateTicketRequestTypePayload} from '@app/admin/ticket-request-type/requests/use-create-ticket-request-type';\r\n\r\nexport interface UpdateTeamPayload\r\n  extends Partial<CreateTicketRequestTypePayload> {}\r\n\r\nexport function useUpdateTeam(\r\n  teamId: number | string,\r\n  form: UseFormReturn<UpdateTeamPayload>,\r\n) {\r\n  const {trans} = useTrans();\r\n  return useMutation({\r\n    mutationFn: (props: UpdateTeamPayload) =>\r\n      updateTeam(teamId, props),\r\n    onSuccess: async () => {\r\n      await queryClient.invalidateQueries({\r\n        queryKey: DatatableDataQueryKey('teams'),\r\n      });\r\n      toast(trans(message('Team updated')));\r\n    },\r\n    onError: err => onFormQueryError(err, form),\r\n  });\r\n}\r\n\r\nfunction updateTeam(\r\n  teamId: number | string,\r\n  formPayload: UpdateTeamPayload,\r\n): Promise<Response> {\r\n  const payload = {\r\n    ...formPayload,\r\n  };\r\n  return apiClient\r\n    .put(`teams/${teamId}`, payload)\r\n    .then(r => r.data);\r\n}\r\n","import {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\r\nimport {useForm} from 'react-hook-form';\r\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\r\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\r\nimport {Trans} from '@common/i18n/trans';\r\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\r\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\r\nimport {Button} from '@common/ui/buttons/button';\r\nimport {TeamTypes} from './teams-index-page';\r\nimport { UpdateTeamPayload, useUpdateTeam } from './requests/use-update-team';\r\nimport { CrudateTeamForm } from './crupdate-team-form';\r\n\r\ninterface Props {\r\n  team: TeamTypes;\r\n}\r\nexport function UpdateTeamDialog({team}: Props) {\r\n  const {close, formId} = useDialogContext();\r\n  const form = useForm<UpdateTeamPayload>({\r\n    defaultValues: {\r\n      name: team.name,\r\n      display_name: team.display_name,\r\n    },\r\n  });\r\n  const updateTeam = useUpdateTeam(team.id, form);\r\n\r\n  return (\r\n    <Dialog>\r\n      <DialogHeader>\r\n        <Trans message=\"Update ticket request type\" />\r\n      </DialogHeader>\r\n      <DialogBody>\r\n        <CrudateTeamForm\r\n          formId={formId}\r\n          form={form as any}\r\n          onSubmit={values => {\r\n            updateTeam.mutate(values, {\r\n              onSuccess: () => close(),\r\n            });\r\n          }}\r\n        />\r\n      </DialogBody>\r\n      <DialogFooter>\r\n        <Button onClick={() => close()}>\r\n          <Trans message=\"Cancel\" />\r\n        </Button>\r\n        <Button\r\n          form={formId}\r\n          disabled={updateTeam.isPending}\r\n          variant=\"flat\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n        >\r\n          <Trans message=\"Save\" />\r\n        </Button>\r\n      </DialogFooter>\r\n    </Dialog>\r\n  );\r\n}\r\n","import {DataTablePage} from '../../datatable/page/data-table-page';\r\nimport {IconButton} from '../../ui/buttons/icon-button';\r\nimport {EditIcon} from '../../icons/material/Edit';\r\nimport {FormattedDate} from '../../i18n/formatted-date';\r\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\r\nimport {ColumnConfig} from '../../datatable/column-config';\r\nimport {Trans} from '../../i18n/trans';\r\nimport teamSvg from './team.svg';\r\nimport {DeleteSelectedItemsAction} from '../../datatable/page/delete-selected-items-action';\r\nimport {DataTableEmptyStateMessage} from '../../datatable/page/data-table-emty-state-message';\r\nimport {DataTableAddItemButton} from '../../datatable/data-table-add-item-button';\r\nimport {CreateTeamDialog} from './create-team-dialog';\r\nimport {UpdateTeamDialog} from './update-team-dialog';\r\n\r\nexport interface TeamTypes {\r\n  id: number;\r\n  name: string;\r\n  display_name: string;\r\n  created_at?: string;\r\n  updated_at?: string;\r\n}\r\n\r\nconst columnConfig: ColumnConfig<TeamTypes>[] = [\r\n  {\r\n    key: 'name',\r\n    allowsSorting: true,\r\n    visibleInMode: 'all',\r\n    header: () => <Trans message=\"Team\" />,\r\n    body: team => (\r\n      <div>\r\n        <div>\r\n          <Trans message={team?.display_name  || team.name} />\r\n        </div>\r\n        <div className=\"text-muted text-xs overflow-x-hidden overflow-ellipsis\">\r\n         {/*  {role.description ? <Trans message={role.description} /> : undefined} */}\r\n        </div>\r\n      </div>\r\n    ),\r\n  },\r\n  {\r\n    key: 'identifier',\r\n    maxWidth: 'max-w-100',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Identifier\" />,\r\n    body: team => <Trans message={team.name || team?.display_name} />,\r\n  },\r\n  {\r\n    key: 'updated_at',\r\n    maxWidth: 'max-w-100',\r\n    allowsSorting: true,\r\n    header: () => <Trans message=\"Last updated\" />,\r\n    body: team => <FormattedDate date={team.updated_at} />,\r\n  },\r\n  {\r\n    key: 'actions',\r\n    header: () => <Trans message=\"Actions\" />,\r\n    hideHeader: true,\r\n    align: 'end',\r\n    width: 'w-42 flex-shrink-0',\r\n    visibleInMode: 'all',\r\n    body: team => (\r\n      <DialogTrigger type=\"modal\">\r\n        <IconButton size=\"md\" className=\"text-muted\">\r\n          <EditIcon />\r\n        </IconButton>\r\n        <UpdateTeamDialog team={team} />\r\n      </DialogTrigger>\r\n    ),\r\n  },\r\n];\r\n\r\nexport function TeamsIndexPage() {\r\n  return (\r\n    <DataTablePage\r\n      endpoint=\"teams\"\r\n      title={<Trans message=\"Teams\" />}\r\n      columns={columnConfig}\r\n      /* filters={RoleIndexPageFilters} */\r\n      actions={<Actions />}\r\n      selectedActions={<DeleteSelectedItemsAction />}\r\n      emptyStateMessage={\r\n        <DataTableEmptyStateMessage\r\n          image={teamSvg}\r\n          title={<Trans message=\"No teams have been created yet\" />}\r\n          filteringTitle={<Trans message=\"No matching teams\" />}\r\n        />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nfunction Actions() {\r\n  return (\r\n    <>\r\n      <DialogTrigger type=\"modal\">\r\n        <DataTableAddItemButton>\r\n          <Trans message=\"Add new team\" />\r\n        </DataTableAddItemButton>\r\n        <CreateTeamDialog />\r\n      </DialogTrigger>\r\n    </>\r\n  );\r\n}","import {Navigate, RouteObject} from 'react-router-dom';\r\nimport {HcCategoryManager} from '@app/admin/help-center/manager/hc-category-manager';\r\nimport {HcArticleManager} from '@app/admin/help-center/manager/hc-article-manager';\r\nimport {UpdateArticlePage} from '@app/admin/help-center/article-editor/update-article-page';\r\nimport {CreateArticlePage} from '@app/admin/help-center/article-editor/create-article-page';\r\nimport {CannedRepliesDatatablePage} from '@app/admin/canned-replies/canned-replies-datatable-page';\r\nimport {AdminTicketReport} from '@app/admin/reports/ticket-report/admin-ticket-report';\r\nimport {AdminVisitorsReport} from '@app/admin/reports/admin-visitors-report';\r\nimport React from 'react';\r\nimport {AdminSearchReport} from '@app/admin/reports/search-report/admin-search-report';\r\nimport {FailedSearchesReport} from '@app/admin/reports/search-report/failed-searches-report';\r\nimport {PopularSearchesReport} from '@app/admin/reports/search-report/popular-searches-report';\r\nimport {ArticlesReport} from '@app/admin/reports/articles-report/articles-report';\r\nimport {EnvatoReport} from '@app/admin/reports/envato-report/envato-report';\r\nimport {TriggersDatatablePage} from '@app/admin/triggers/triggers-datatable-page';\r\nimport {UpdateTriggerPage} from '@app/admin/triggers/update-trigger-page';\r\nimport {CreateTriggerPage} from '@app/admin/triggers/create-trigger-page';\r\nimport {ArticleDatatablePage} from '@app/admin/article-datatable/article-datatable-page';\r\nimport {TicketCategoryDatatable} from '@app/admin/ticket-categories/ticket-category-datatable';\r\nimport {TicketRequestType} from '@app/admin/ticket-request-type/ticket-request-type';\r\nimport { TeamsIndexPage } from '@common/admin/teams/teams-index-page';\r\n\r\nexport const AppAdminRoutes: RouteObject[] = [\r\n  {\r\n    path: '/',\r\n    children: [\r\n      {path: 'tickets', element: <AdminTicketReport />},\r\n      {path: 'envato', element: <EnvatoReport />},\r\n      {\r\n        path: 'search',\r\n        element: <AdminSearchReport />,\r\n        children: [\r\n          {\r\n            index: true,\r\n            element: <Navigate to=\"failed\" replace />,\r\n          },\r\n          {\r\n            path: 'failed',\r\n            element: <FailedSearchesReport />,\r\n          },\r\n          {\r\n            path: 'popular',\r\n            element: <PopularSearchesReport />,\r\n          },\r\n          {\r\n            path: 'articles',\r\n            element: <ArticlesReport />,\r\n          },\r\n        ],\r\n      },\r\n      {path: 'visitors', element: <AdminVisitorsReport />},\r\n      {index: true, element: <Navigate to=\"tickets\" replace />},\r\n    ],\r\n  },\r\n  // help center\r\n  {\r\n    path: '/hc',\r\n    element: <Navigate to=\"/hc/arrange\" replace />,\r\n  },\r\n  {\r\n    path: '/hc/arrange',\r\n    element: <HcCategoryManager />,\r\n  },\r\n  {\r\n    path: '/hc/arrange/categories/:categoryId',\r\n    element: <HcCategoryManager />,\r\n  },\r\n  {\r\n    path: '/hc/arrange/sections/:sectionId',\r\n    element: <HcArticleManager />,\r\n  },\r\n  {\r\n    path: 'articles',\r\n    element: <ArticleDatatablePage />,\r\n  },\r\n  {\r\n    path: 'articles/new',\r\n    element: <CreateArticlePage />,\r\n  },\r\n  {\r\n    path: 'articles/:articleId/edit',\r\n    element: <UpdateArticlePage />,\r\n  },\r\n  // edit article\r\n  {\r\n    path: '/hc/arrange/sections/:sectionId/articles/:articleId/edit',\r\n    element: <UpdateArticlePage />,\r\n  },\r\n  {\r\n    path: '/hc/arrange/categories/:categoryId/articles/:articleId/edit',\r\n    element: <UpdateArticlePage />,\r\n  },\r\n  {\r\n    path: '/hc/articles/:articleId/edit',\r\n    element: <UpdateArticlePage />,\r\n  },\r\n  // create article\r\n  {\r\n    path: '/hc/arrange/sections/:sectionId/articles/new',\r\n    element: <CreateArticlePage />,\r\n  },\r\n  {\r\n    path: '/hc/arrange/categories/:categoryId/articles/new',\r\n    element: <CreateArticlePage />,\r\n  },\r\n  {\r\n    path: '/hc/articles/new',\r\n    element: <CreateArticlePage />,\r\n  },\r\n  // tickets\r\n  {\r\n    path: '/ticket-categories',\r\n    element: <TicketCategoryDatatable />,\r\n  },\r\n  // ticket request type\r\n  {\r\n    path: '/ticket-request-type',\r\n    element: <TicketRequestType />,\r\n  },\r\n  {\r\n    path: '/teams',\r\n    element: <TeamsIndexPage />,\r\n  },\r\n  // canned replies\r\n  {\r\n    path: '/saved-replies',\r\n    element: <CannedRepliesDatatablePage />,\r\n  },\r\n  // triggers\r\n  {\r\n    path: '/triggers',\r\n    element: <TriggersDatatablePage />,\r\n  },\r\n  {\r\n    path: '/triggers/new',\r\n    element: <CreateTriggerPage />,\r\n  },\r\n  {\r\n    path: '/triggers/:triggerId/edit',\r\n    element: <UpdateTriggerPage />,\r\n  },\r\n];\r\n","import {useMutation} from '@tanstack/react-query';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {CustomPage} from '../custom-page';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {useParams} from 'react-router-dom';\nimport {CreateCustomPagePayload} from '@common/admin/custom-pages/requests/use-create-custom-page';\n\ninterface Response extends BackendResponse {\n  page: CustomPage;\n}\n\nexport function useUpdateCustomPage(endpoint?: string) {\n  const {pageId} = useParams();\n  const finalEndpoint = `${endpoint || 'custom-pages'}/${pageId}`;\n  return useMutation({\n    mutationFn: (payload: CreateCustomPagePayload) =>\n      updatePage(payload, finalEndpoint),\n    onError: err => showHttpErrorToast(err),\n    onSuccess: async () => {\n      await queryClient.invalidateQueries({queryKey: ['custom-pages']});\n      await queryClient.invalidateQueries({\n        queryKey: DatatableDataQueryKey(finalEndpoint),\n      });\n      toast(message('Page updated'));\n    },\n  });\n}\n\nfunction updatePage(\n  payload: CreateCustomPagePayload,\n  endpoint: string,\n): Promise<Response> {\n  return apiClient.put(`${endpoint}`, payload).then(r => r.data);\n}\n","import {useCustomPage} from '@common/custom-page/use-custom-page';\nimport React, {Fragment, Suspense} from 'react';\nimport {PageMetaTags} from '@common/http/page-meta-tags';\nimport {PageStatus} from '@common/http/page-status';\nimport {CustomPage} from '@common/admin/custom-pages/custom-page';\nimport {FormProvider, useForm} from 'react-hook-form';\nimport {useUpdateCustomPage} from '@common/admin/custom-pages/requests/use-update-custom-page';\nimport {FileUploadProvider} from '@common/uploads/uploader/file-upload-provider';\nimport {ArticleEditorTitle} from '@common/article-editor/article-editor-title';\nimport {ArticleEditorStickyHeader} from '@common/article-editor/article-editor-sticky-header';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\nimport {CreateCustomPagePayload} from '@common/admin/custom-pages/requests/use-create-custom-page';\nimport {FullPageLoader} from '@common/ui/progress/full-page-loader';\n\nconst ArticleBodyEditor = React.lazy(\n  () => import('@common/article-editor/article-body-editor'),\n);\n\nexport function EditCustomPage() {\n  const query = useCustomPage();\n\n  return query.data ? (\n    <Fragment>\n      <PageMetaTags query={query} />\n      <PageContent page={query.data.page} />\n    </Fragment>\n  ) : (\n    <div className=\"relative w-full h-full\">\n      <PageStatus query={query} />\n    </div>\n  );\n}\n\ninterface PageContentProps {\n  page: CustomPage;\n}\nfunction PageContent({page}: PageContentProps) {\n  const navigate = useNavigate();\n  const crupdatePage = useUpdateCustomPage();\n  const form = useForm<CreateCustomPagePayload>({\n    defaultValues: {\n      title: page.title,\n      slug: page.slug,\n      body: page.body,\n    },\n  });\n\n  const handleSave = (editorContent: string) => {\n    crupdatePage.mutate(\n      {\n        ...form.getValues(),\n        body: editorContent,\n      },\n      {\n        onSuccess: () => navigate('../..', {relative: 'path'}),\n      },\n    );\n  };\n\n  return (\n    <Suspense fallback={<FullPageLoader />}>\n      <ArticleBodyEditor initialContent={page.body}>\n        {(content, editor) => (\n          <FileUploadProvider>\n            <FormProvider {...form}>\n              <ArticleEditorStickyHeader\n                editor={editor}\n                backLink=\"../..\"\n                isLoading={crupdatePage.isPending}\n                onSave={handleSave}\n              />\n              <div className=\"mx-20\">\n                <div className=\"prose dark:prose-invert mx-auto flex-auto\">\n                  <ArticleEditorTitle />\n                  {content}\n                </div>\n              </div>\n            </FormProvider>\n          </FileUploadProvider>\n        )}\n      </ArticleBodyEditor>\n    </Suspense>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {CustomPage} from '../custom-page';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\nimport {DatatableDataQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\n\ninterface Response extends BackendResponse {\n  page: CustomPage;\n}\n\nexport interface CreateCustomPagePayload {\n  title?: string;\n  body?: string;\n  slug?: string;\n  hide_nav?: boolean;\n}\n\nexport function useCreateCustomPage(endpoint?: string) {\n  const finalEndpoint = endpoint || 'custom-pages';\n  return useMutation({\n    mutationFn: (payload: CreateCustomPagePayload) =>\n      createPage(payload, finalEndpoint),\n    onError: err => showHttpErrorToast(err),\n    onSuccess: async () => {\n      await queryClient.invalidateQueries({queryKey: ['custom-pages']});\n      await queryClient.invalidateQueries({\n        queryKey: DatatableDataQueryKey(finalEndpoint),\n      });\n      toast(message('Page created'));\n    },\n  });\n}\n\nfunction createPage(\n  payload: CreateCustomPagePayload,\n  endpoint: string,\n): Promise<Response> {\n  return apiClient.post(`${endpoint}`, payload).then(r => r.data);\n}\n","import React, {Suspense} from 'react';\nimport {FormProvider, useForm} from 'react-hook-form';\nimport {FileUploadProvider} from '@common/uploads/uploader/file-upload-provider';\nimport {ArticleEditorTitle} from '@common/article-editor/article-editor-title';\nimport {ArticleEditorStickyHeader} from '@common/article-editor/article-editor-sticky-header';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\nimport {\n  CreateCustomPagePayload,\n  useCreateCustomPage,\n} from '@common/admin/custom-pages/requests/use-create-custom-page';\nimport {FullPageLoader} from '@common/ui/progress/full-page-loader';\n\nconst ArticleBodyEditor = React.lazy(\n  () => import('@common/article-editor/article-body-editor'),\n);\n\nexport function CreateCustomPage() {\n  const navigate = useNavigate();\n  const createPage = useCreateCustomPage();\n  const form = useForm<CreateCustomPagePayload>();\n\n  const handleSave = (editorContent: string) => {\n    createPage.mutate(\n      {\n        ...form.getValues(),\n        body: editorContent,\n      },\n      {\n        onSuccess: () => navigate('../', {relative: 'path'}),\n      },\n    );\n  };\n\n  return (\n    <Suspense fallback={<FullPageLoader />}>\n      <ArticleBodyEditor>\n        {(content, editor) => (\n          <FileUploadProvider>\n            <FormProvider {...form}>\n              <ArticleEditorStickyHeader\n                editor={editor}\n                isLoading={createPage.isPending}\n                onSave={handleSave}\n                backLink=\"../\"\n              />\n              <div className=\"mx-20\">\n                <div className=\"prose dark:prose-invert mx-auto flex-auto\">\n                  <ArticleEditorTitle />\n                  {content}\n                </div>\n              </div>\n            </FormProvider>\n          </FileUploadProvider>\n        )}\n      </ArticleBodyEditor>\n    </Suspense>\n  );\n}\n","export default \"__VITE_ASSET__03cbd387__\"","import {useTrans} from '@common/i18n/use-trans';\nimport {TextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {SearchIcon} from '@common/icons/material/Search';\nimport {message} from '@common/i18n/message';\nimport {Select} from '@common/ui/forms/select/select';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {Trans} from '@common/i18n/trans';\nimport React from 'react';\nimport {FontSelectorState} from '@common/ui/font-selector/font-selector-state';\n\nexport interface FontSelectorFilterValue {\n  query: string;\n  category: string;\n}\n\ninterface FiltersHeaderProps {\n  state: FontSelectorState;\n}\nexport function FontSelectorFilters({\n  state: {filters, setFilters},\n}: FiltersHeaderProps) {\n  const {trans} = useTrans();\n  return (\n    <div className=\"mb-24 items-center gap-24 @xs:flex\">\n      <TextField\n        className=\"mb-12 flex-auto @xs:mb-0\"\n        value={filters.query}\n        onChange={e => {\n          setFilters({\n            ...filters,\n            query: e.target.value,\n          });\n        }}\n        startAdornment={<SearchIcon />}\n        placeholder={trans(message('Search fonts'))}\n      />\n      <Select\n        className=\"flex-auto\"\n        selectionMode=\"single\"\n        selectedValue={filters.category}\n        onSelectionChange={value => {\n          setFilters({\n            ...filters,\n            category: value as string,\n          });\n        }}\n      >\n        <Item value=\"\">\n          <Trans message=\"All categories\" />\n        </Item>\n        <Item value=\"serif\">\n          <Trans message=\"Serif\" />\n        </Item>\n        <Item value=\"sans-serif\">\n          <Trans message=\"Sans serif\" />\n        </Item>\n        <Item value=\"display\">\n          <Trans message=\"Display\" />\n        </Item>\n        <Item value=\"handwriting\">\n          <Trans message=\"Handwriting\" />\n        </Item>\n        <Item value=\"monospace\">\n          <Trans message=\"Monospace\" />\n        </Item>\n      </Select>\n    </div>\n  );\n}\n","import {useCollator} from './use-collator';\n\ninterface Filter {\n  /** Returns whether a string starts with a given substring. */\n  startsWith(string: string, substring: string): boolean;\n  /** Returns whether a string ends with a given substring. */\n  endsWith(string: string, substring: string): boolean;\n  /** Returns whether a string contains a given substring. */\n  contains(string: string, substring: string): boolean;\n}\n\nexport function useFilter(options?: Intl.CollatorOptions): Filter {\n  const collator = useCollator({\n    usage: 'search',\n    ...options,\n  });\n\n  return {\n    startsWith(string, substring) {\n      if (substring.length === 0) {\n        return true;\n      }\n\n      string = string.normalize('NFC');\n      substring = substring.normalize('NFC');\n      return (\n        collator.compare(string.slice(0, substring.length), substring) === 0\n      );\n    },\n    endsWith(string, substring) {\n      if (substring.length === 0) {\n        return true;\n      }\n\n      string = string.normalize('NFC');\n      substring = substring.normalize('NFC');\n      return collator.compare(string.slice(-substring.length), substring) === 0;\n    },\n    contains(string, substring) {\n      if (substring.length === 0) {\n        return true;\n      }\n\n      string = string.normalize('NFC');\n      substring = substring.normalize('NFC');\n\n      let scan = 0;\n      const sliceLen = substring.length;\n      for (; scan + sliceLen <= string.length; scan++) {\n        const slice = string.slice(scan, scan + sliceLen);\n        if (collator.compare(substring, slice) === 0) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n  };\n}\n","import {FontConfig} from '@common/http/value-lists';\nimport {message} from '@common/i18n/message';\n\nexport const BrowserSafeFonts: FontConfig[] = [\n  {\n    label: message('System'),\n    family:\n      'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"',\n    category: 'sans-serif',\n  },\n  {family: 'Impact, Charcoal, sans-serif', category: 'sans-serif'},\n  {family: 'Arial, Helvetica Neue, Helvetica, sans-serif', category: 'serif'},\n  {family: '\"Comic Sans MS\", cursive, sans-serif', category: 'Handwriting'},\n  {family: 'Century Gothic, sans-serif', category: 'sans-serif'},\n  {family: '\"Courier New\", Courier, monospace', category: 'monospace'},\n  {\n    family: '\"Lucida Sans Unicode\", \"Lucida Grande\", sans-serif',\n    category: 'sans-serif',\n  },\n  {family: '\"Times New Roman\", Times, serif', category: 'serif'},\n  {family: '\"Lucida Console\", Monaco, monospace', category: 'monospace'},\n  {family: '\"Andele Mono\", monospace, sans-serif', category: 'sans-serif'},\n  {family: 'Verdana, Geneva, sans-serif', category: 'sans-serif'},\n  {\n    family: '\"Helvetica Neue\", Helvetica, Arial, sans-serif',\n    category: 'sans-serif',\n  },\n];\n","import {useCallback, useEffect, useMemo, useState} from 'react';\nimport {FontSelectorFilterValue} from '@common/ui/font-selector/font-selector-filters';\nimport {FontConfig, useValueLists} from '@common/http/value-lists';\nimport {useFilter} from '@common/i18n/use-filter';\nimport {BrowserSafeFonts} from '@common/ui/font-picker/browser-safe-fonts';\nimport {chunkArray} from '@common/utils/array/chunk-array';\nimport {loadFonts} from '@common/ui/font-picker/load-fonts';\n\nexport interface FontSelectorState extends UseFontSelectorProps {\n  fonts: FontConfig[];\n  filteredFonts: FontConfig[];\n  pages: FontConfig[][];\n  isLoading: boolean;\n  filters: FontSelectorFilterValue;\n  setFilters: (filters: FontSelectorFilterValue) => void;\n  currentPage: number;\n  setCurrentPage: (page: number) => void;\n}\n\nexport interface UseFontSelectorProps {\n  value?: FontConfig;\n  onChange: (value: FontConfig) => void;\n}\nexport function useFontSelectorState({\n  value,\n  onChange,\n}: UseFontSelectorProps): FontSelectorState {\n  const {data, isLoading} = useValueLists(['googleFonts']);\n  const [currentPage, setCurrentPage] = useState(0);\n\n  const [filters, setFilterState] = useState<FontSelectorFilterValue>({\n    query: '',\n    category: value?.category ?? '',\n  });\n  const {contains} = useFilter({\n    sensitivity: 'base',\n  });\n\n  const setFilters = useCallback((filters: FontSelectorFilterValue) => {\n    setFilterState(filters);\n    // reset to first page when searching or changing category\n    setCurrentPage(0);\n  }, []);\n\n  const allFonts = useMemo(() => {\n    return BrowserSafeFonts.concat(data?.googleFonts ?? []);\n  }, [data?.googleFonts]);\n\n  const filteredFonts = useMemo(() => {\n    return allFonts.filter(font => {\n      return (\n        contains(font.family, filters.query) &&\n        (!filters.category ||\n          font.category?.toLowerCase() === filters.category.toLowerCase())\n      );\n    });\n  }, [allFonts, filters, contains]);\n\n  const pages = useMemo(() => {\n    return chunkArray(filteredFonts, 20);\n  }, [filteredFonts]);\n  const fonts = pages[currentPage];\n\n  useEffect(() => {\n    const id = 'font-selector';\n    if (fonts?.length) {\n      loadFonts(fonts, {id});\n    }\n  }, [fonts, currentPage]);\n\n  return {\n    fonts: fonts || [],\n    currentPage,\n    filteredFonts: filteredFonts || [],\n    setCurrentPage,\n    isLoading,\n    filters,\n    setFilters,\n    value,\n    onChange,\n    pages,\n  };\n}\n","import {Trans} from '@common/i18n/trans';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {KeyboardArrowLeftIcon} from '@common/icons/material/KeyboardArrowLeft';\nimport {KeyboardArrowRightIcon} from '@common/icons/material/KeyboardArrowRight';\nimport React from 'react';\nimport {FontSelectorState} from '@common/ui/font-selector/font-selector-state';\n\ninterface FontSelectorPaginationProps {\n  state: FontSelectorState;\n}\nexport function FontSelectorPagination({\n  state: {currentPage = 0, setCurrentPage, filteredFonts, pages},\n}: FontSelectorPaginationProps) {\n  const total = filteredFonts?.length || 0;\n\n  return (\n    <div className=\"flex items-center justify-end gap-24 text-sm mt-30 pt-14 border-t\">\n      {total > 0 && (\n        <div>\n          <Trans\n            message=\":from - :to of :total\"\n            values={{\n              from: currentPage * 20 + 1,\n              to: Math.min((currentPage + 1) * 20, total),\n              total,\n            }}\n          />\n        </div>\n      )}\n      <div className=\"text-muted\">\n        <IconButton\n          disabled={currentPage < 1}\n          onClick={() => {\n            setCurrentPage(Math.max(0, currentPage - 1));\n          }}\n        >\n          <KeyboardArrowLeftIcon />\n        </IconButton>\n        <IconButton\n          disabled={currentPage >= pages.length - 1}\n          onClick={() => {\n            setCurrentPage(currentPage + 1);\n          }}\n        >\n          <KeyboardArrowRightIcon />\n        </IconButton>\n      </div>\n    </div>\n  );\n}\n","import {Trans} from '@common/i18n/trans';\nimport React from 'react';\nimport {ButtonBase} from '@common/ui/buttons/button-base';\nimport clsx from 'clsx';\nimport {IllustratedMessage} from '@common/ui/images/illustrated-message';\nimport fontImage from './font.svg';\nimport {SvgImage} from '@common/ui/images/svg-image/svg-image';\nimport {FontSelectorFilters} from '@common/ui/font-selector/font-selector-filters';\nimport {\n  FontSelectorState,\n  UseFontSelectorProps,\n  useFontSelectorState,\n} from '@common/ui/font-selector/font-selector-state';\nimport {FontSelectorPagination} from '@common/ui/font-selector/font-selector-pagination';\nimport {FontConfig} from '@common/http/value-lists';\nimport {Skeleton} from '@common/ui/skeleton/skeleton';\nimport {AnimatePresence, m} from 'framer-motion';\nimport {opacityAnimation} from '@common/ui/animation/opacity-animation';\n\ninterface FontSelectorProps extends UseFontSelectorProps {\n  className?: string;\n}\nexport function FontSelector(props: FontSelectorProps) {\n  const state = useFontSelectorState(props);\n  return (\n    <div className={props.className}>\n      <FontSelectorFilters state={state} />\n      <AnimatePresence initial={false} mode=\"wait\">\n        <FontList state={state} />\n      </AnimatePresence>\n      <FontSelectorPagination state={state} />\n    </div>\n  );\n}\n\ninterface FontListProps {\n  state: FontSelectorState;\n}\nfunction FontList({state}: FontListProps) {\n  const {isLoading, fonts} = state;\n\n  const gridClassName =\n    'grid gap-24 grid-cols-[repeat(auto-fill,minmax(90px,1fr))] items-start';\n\n  if (isLoading) {\n    return <FontListSkeleton className={gridClassName} />;\n  }\n\n  if (!fonts?.length) {\n    return (\n      <IllustratedMessage\n        className=\"mt-60\"\n        size=\"sm\"\n        image={<SvgImage src={fontImage} />}\n        title={<Trans message=\"No matching fonts\" />}\n        description={\n          <Trans message=\"Try another search query or different category\" />\n        }\n      />\n    );\n  }\n\n  return (\n    <m.div key=\"font-list\" {...opacityAnimation} className={gridClassName}>\n      {fonts?.map(font => (\n        <FontButton key={font.family} font={font} state={state} />\n      ))}\n    </m.div>\n  );\n}\n\ninterface FontButtonProps {\n  font: FontConfig;\n  state: FontSelectorState;\n}\nfunction FontButton({font, state: {value, onChange}}: FontButtonProps) {\n  const isActive = value?.family === font.family;\n  const displayName = font.family.split(',')[0].replace(/\"/g, '');\n\n  return (\n    <ButtonBase\n      key={font.family}\n      display=\"block\"\n      onClick={() => {\n        onChange(font);\n      }}\n    >\n      <span\n        className={clsx(\n          'flex aspect-square items-center justify-center rounded-panel border text-4xl transition-bg-color hover:bg-hover md:text-5xl',\n          isActive && 'ring-2 ring-primary ring-offset-2',\n        )}\n      >\n        <span style={{fontFamily: font.family}}>Aa</span>\n      </span>\n      <span\n        className={clsx(\n          'mt-6 block overflow-hidden overflow-ellipsis whitespace-nowrap text-sm',\n          isActive && 'text-primary',\n        )}\n      >\n        {font.label ? <Trans {...font.label} /> : displayName}\n      </span>\n    </ButtonBase>\n  );\n}\n\ninterface FontListSkeletonProps {\n  className: string;\n}\nfunction FontListSkeleton({className}: FontListSkeletonProps) {\n  const items = Array.from(Array(20).keys());\n  return (\n    <m.div key=\"font-list-skeleton\" {...opacityAnimation} className={className}>\n      {items.map(index => (\n        <div key={index}>\n          <div className=\"aspect-square\">\n            <Skeleton display=\"block\" variant=\"rect\" />\n          </div>\n          <Skeleton className=\"mt-6 text-sm\" />\n        </div>\n      ))}\n    </m.div>\n  );\n}\n","import {FontSelector} from '@common/ui/font-selector/font-selector';\nimport {useFormContext} from 'react-hook-form';\nimport {\n  appearanceState,\n  AppearanceValues,\n} from '@common/admin/appearance/appearance-store';\nimport {useParams} from 'react-router-dom';\n\ntype Font = 'appearance.themes.all.1.font';\n\nexport function ThemeFontPanel() {\n  const {setValue, watch} = useFormContext<AppearanceValues>();\n  const {themeIndex} = useParams();\n  const key = `appearance.themes.all.${themeIndex}.font` as Font;\n  return (\n    <FontSelector\n      value={watch(key)}\n      onChange={font => {\n        setValue(key, font, {shouldDirty: true});\n        appearanceState().preview.setThemeFont(font);\n      }}\n    />\n  );\n}\n","import {Trans} from '@common/i18n/trans';\nimport {ButtonBase} from '@common/ui/buttons/button-base';\nimport {ReactNode} from 'react';\nimport clsx from 'clsx';\nimport {useFormContext} from 'react-hook-form';\nimport {AppearanceValues} from '@common/admin/appearance/appearance-store';\nimport {message} from '@common/i18n/message';\nimport {useParams} from 'react-router-dom';\n\nconst radiusMap = {\n  'rounded-none': {\n    label: message('Square'),\n    value: '0px',\n  },\n  'rounded-sm': {\n    label: message('Small'),\n    value: '0.125rem',\n  },\n  'rounded-md': {\n    label: message('Medium'),\n    value: '0.25rem',\n  },\n  'rounded-lg': {\n    label: message('Large'),\n    value: '0.5rem',\n  },\n  'rounded-xl': {\n    label: message('Larger'),\n    value: '0.75rem',\n  },\n  'rounded-full': {\n    label: message('Pill'),\n    value: '9999px',\n  },\n};\n\nexport function ThemeRadiusPanel() {\n  return (\n    <div className=\"space-y-24\">\n      <RadiusSelector\n        label={<Trans message=\"Button rounding\" />}\n        name=\"button-radius\"\n      />\n      <RadiusSelector\n        label={<Trans message=\"Input rounding\" />}\n        name=\"input-radius\"\n      />\n      <RadiusSelector\n        label={<Trans message=\"Panel rounding\" />}\n        name=\"panel-radius\"\n        hidePill\n      />\n    </div>\n  );\n}\n\ninterface RadiusSelectorProps {\n  label: ReactNode;\n  name: string;\n  hidePill?: boolean;\n}\nfunction RadiusSelector({label, name, hidePill}: RadiusSelectorProps) {\n  const {themeIndex} = useParams();\n  const {watch, setValue} = useFormContext<AppearanceValues>();\n  const formKey =\n    `appearance.themes.all.${themeIndex}.values.--be-${name}` as 'appearance.themes.all.1.values.--be-button-radius';\n  const currentValue = watch(formKey);\n  return (\n    <div>\n      <div className=\"mb-10 text-sm font-semibold\">{label}</div>\n      <div className=\"grid grid-cols-3 gap-10 text-sm\">\n        {Object.entries(radiusMap)\n          .filter(([key]) => !hidePill || !key.includes('full'))\n          .map(([key, {label, value}]) => (\n            <PreviewButton\n              key={key}\n              radius={key}\n              isActive={value === currentValue}\n              onClick={() => {\n                setValue(formKey, value, {shouldDirty: true});\n              }}\n            >\n              <Trans {...label} />\n            </PreviewButton>\n          ))}\n      </div>\n    </div>\n  );\n}\n\ninterface PreviewButtonProps {\n  radius: string;\n  children: ReactNode;\n  isActive: boolean;\n  onClick: () => void;\n}\nfunction PreviewButton({\n  radius,\n  children,\n  isActive,\n  onClick,\n}: PreviewButtonProps) {\n  return (\n    <ButtonBase\n      display=\"block\"\n      className={clsx(\n        'h-36 border-2 hover:bg-hover',\n        radius,\n        isActive && 'border-primary',\n      )}\n      onClick={onClick}\n    >\n      {children}\n    </ButtonBase>\n  );\n}\n","import {Navigate, RouteObject, useRoutes} from 'react-router-dom';\r\nimport {AdminLayout} from './admin-layout';\r\nimport {UserDatatable} from './users/user-datatable';\r\nimport {AppearanceLayout} from './appearance/appearance-layout';\r\nimport {MenuList} from './appearance/sections/menus/menu-list';\r\nimport {MenuEditor} from './appearance/sections/menus/menu-editor';\r\nimport {MenuItemEditor} from './appearance/sections/menus/menu-item-editor';\r\nimport {GeneralSection} from './appearance/sections/general-section';\r\nimport {ThemeList} from './appearance/sections/themes/theme-list';\r\nimport {SeoSection} from './appearance/sections/seo/seo-section';\r\nimport {CustomCodeSection} from './appearance/sections/code/custom-code-section';\r\nimport {CustomPageDatablePage} from './custom-pages/custom-page-datable-page';\r\nimport {SettingsLayout} from './settings/settings-layout';\r\nimport {GeneralSettings} from './settings/pages/general-settings';\r\nimport {HubstaffSettings} from './settings/pages/hubstaff-settings';\r\nimport {ThemeEditor} from './appearance/sections/themes/theme-editor';\r\nimport {AppSettingsRoutes} from '@app/admin/settings/app-settings-routes';\r\nimport {SubscriptionSettings} from './settings/pages/subscription-settings';\r\nimport {LocalizationSettings} from './settings/pages/localization-settings';\r\nimport {AuthenticationSettings} from './settings/pages/authentication-settings';\r\nimport {UploadingSettings} from './settings/pages/uploading-settings/uploading-settings';\r\nimport {OutgoingEmailSettings} from './settings/pages/mail-settings/outgoing-email-settings';\r\nimport {CacheSettings} from './settings/pages/cache-settings/cache-settings';\r\nimport {LoggingSettings} from './settings/pages/logging-settings';\r\nimport {QueueSettings} from './settings/pages/queue-settings';\r\nimport {RecaptchaSettings} from './settings/pages/recaptcha-settings';\r\nimport {ReportsSettings} from './settings/pages/reports-settings';\r\nimport {UpdateUserPage} from './users/update-user-page';\r\nimport {CreateUserPage} from './users/create-user-page';\r\nimport {LocalizationIndex} from './translations/localization-index';\r\nimport {TranslationManagementPage} from './translations/translation-management-page';\r\nimport {AdsPage} from './ads/ads-page';\r\nimport React from 'react';\r\nimport {FullPageLoader} from '../ui/progress/full-page-loader';\r\nimport {SectionList} from './appearance/section-list';\r\nimport {RolesIndexPage} from './roles/roles-index-page';\r\nimport {EditRolePage} from './roles/crupdate-role-page/edit-role-page';\r\nimport {CreateRolePage} from './roles/crupdate-role-page/create-role-page';\r\nimport {TagIndexPage} from './tags/tag-index-page';\r\nimport {FileEntryIndexPage} from './file-entry/file-entry-index-page';\r\nimport {SubscriptionsIndexPage} from './subscriptions/subscriptions-index-page';\r\nimport {PlansIndexPage} from './plans/plans-index-page';\r\nimport {EditPlanPage} from './plans/crupdate-plan-page/edit-plan-page';\r\nimport {CreatePlanPage} from './plans/crupdate-plan-page/create-plan-page';\r\nimport {GdprSettings} from './settings/pages/gdpr-settings';\r\nimport {AuthRoute} from '../auth/guards/auth-route';\r\nimport {NotFoundPage} from '../ui/not-found-page/not-found-page';\r\nimport {AppAppearanceConfig} from '@app/admin/appearance/app-appearance-config';\r\nimport {AppAdminRoutes} from '@app/admin/app-admin-routes';\r\nimport {EditCustomPage} from '@common/admin/custom-pages/edit-custom-page';\r\nimport {CreateCustomPage} from '@common/admin/custom-pages/create-custom-page';\r\nimport {ThemeFontPanel} from '@common/admin/appearance/sections/themes/theme-font-panel';\r\nimport {ThemeRadiusPanel} from '@common/admin/appearance/sections/themes/theme-radius-panel';\r\nimport { TeamsIndexPage } from './teams/teams-index-page';\r\n\r\n\r\nconst ReportsPage = React.lazy(() => import('./analytics/admin-report-page'));\r\n\r\nconst AdminRouteConfig: RouteObject[] = [\r\n  {\r\n    path: 'appearance',\r\n    element: (\r\n      <AuthRoute permission=\"appearance.update\">\r\n        <AppearanceLayout />\r\n      </AuthRoute>\r\n    ),\r\n    children: [\r\n      {index: true, element: <SectionList />},\r\n      {path: 'general', element: <GeneralSection />},\r\n      {path: 'seo-settings', element: <SeoSection />},\r\n      {path: 'custom-code', element: <CustomCodeSection />},\r\n      {path: 'themes', element: <ThemeList />},\r\n      {path: 'themes/:themeIndex', element: <ThemeEditor />},\r\n      {path: 'themes/:themeIndex/font', element: <ThemeFontPanel />},\r\n      {path: 'themes/:themeIndex/radius', element: <ThemeRadiusPanel />},\r\n      {path: 'menus', element: <MenuList />},\r\n      {path: 'menus/:menuIndex', element: <MenuEditor />},\r\n      {\r\n        path: 'menus/:menuIndex/items/:menuItemIndex',\r\n        element: <MenuItemEditor />,\r\n      },\r\n      ...Object.values(AppAppearanceConfig.sections).flatMap(\r\n        s => s.routes || [],\r\n      ),\r\n    ],\r\n  },\r\n\r\n  {\r\n    path: '/',\r\n    element: <AdminLayout />,\r\n    children: [\r\n      ...AppAdminRoutes,\r\n      // REPORT PAGE\r\n      {\r\n        path: '/',\r\n        element: (\r\n          <React.Suspense fallback={<FullPageLoader screen />}>\r\n            <ReportsPage />\r\n          </React.Suspense>\r\n        ),\r\n      },\r\n      // USERS\r\n      {\r\n        path: 'users',\r\n        element: (\r\n          <AuthRoute permission=\"users.update\">\r\n            <UserDatatable />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'users/new',\r\n        element: (\r\n          <AuthRoute permission=\"users.update\">\r\n            <CreateUserPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'users/:userId/edit',\r\n        element: (\r\n          <AuthRoute permission=\"users.update\">\r\n            <UpdateUserPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      // ROLES\r\n      {\r\n        path: 'roles',\r\n        element: (\r\n          <AuthRoute permission=\"roles.update\">\r\n            <RolesIndexPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'roles/new',\r\n        element: (\r\n          <AuthRoute permission=\"roles.update\">\r\n            <CreateRolePage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'roles/:roleId/edit',\r\n        element: (\r\n          <AuthRoute permission=\"roles.update\">\r\n            <EditRolePage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      //TEAMS\r\n      /* {\r\n        path: 'teams',\r\n        element: (\r\n          <AuthRoute permission=\"api.access\">\r\n            <TeamsIndexPage />\r\n          </AuthRoute>\r\n        ),\r\n      }, */\r\n      /* {\r\n        path: 'roles/new',\r\n        element: (\r\n          <AuthRoute permission=\"roles.update\">\r\n            <CreateRolePage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'roles/:roleId/edit',\r\n        element: (\r\n          <AuthRoute permission=\"roles.update\">\r\n            <EditRolePage />\r\n          </AuthRoute>\r\n        ),\r\n      }, */\r\n\r\n      // SUBSCRIPTIONS and PLANS\r\n      {\r\n        path: 'subscriptions',\r\n        element: (\r\n          <AuthRoute permission=\"subscriptions.update\">\r\n            <SubscriptionsIndexPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'plans',\r\n        element: (\r\n          <AuthRoute permission=\"plans.update\">\r\n            <PlansIndexPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'plans/new',\r\n        element: (\r\n          <AuthRoute permission=\"plans.update\">\r\n            <CreatePlanPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'plans/:productId/edit',\r\n        element: (\r\n          <AuthRoute permission=\"plans.update\">\r\n            <EditPlanPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      // CUSTOM PAGES\r\n      {\r\n        path: 'custom-pages',\r\n        element: (\r\n          <AuthRoute permission=\"custom_pages.update\">\r\n            <CustomPageDatablePage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'custom-pages/new',\r\n        element: (\r\n          <AuthRoute permission=\"custom_pages.update\">\r\n            <CreateCustomPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'custom-pages/:pageId/edit',\r\n        element: (\r\n          <AuthRoute permission=\"custom_pages.update\">\r\n            <EditCustomPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      // TAGS\r\n      {\r\n        path: 'tags',\r\n        element: (\r\n          <AuthRoute permission=\"tags.update\">\r\n            <TagIndexPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      // LOCALIZATIONS\r\n      {\r\n        path: 'localizations',\r\n        element: (\r\n          <AuthRoute permission=\"localizations.update\">\r\n            <LocalizationIndex />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      {\r\n        path: 'localizations/:localeId/translate',\r\n        element: <TranslationManagementPage />,\r\n      },\r\n      // FILE ENTRIES\r\n      {\r\n        path: 'files',\r\n        element: (\r\n          <AuthRoute permission=\"files.update\">\r\n            <FileEntryIndexPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      // ADS\r\n      {\r\n        path: 'ads',\r\n        element: (\r\n          <AuthRoute permission=\"settings.update\">\r\n            <AdsPage />\r\n          </AuthRoute>\r\n        ),\r\n      },\r\n      // SETTINGS\r\n      {\r\n        path: 'settings',\r\n        element: (\r\n          <AuthRoute permission=\"settings.update\">\r\n            <SettingsLayout />\r\n          </AuthRoute>\r\n        ),\r\n        children: [\r\n          {index: true, element: <Navigate to=\"general\" replace />},\r\n          {path: 'general', element: <GeneralSettings />},\r\n          {path: 'hubstaff', element: <HubstaffSettings />},\r\n          {path: 'subscriptions', element: <SubscriptionSettings />},\r\n          {path: 'localization', element: <LocalizationSettings />},\r\n          {path: 'authentication', element: <AuthenticationSettings />},\r\n          {path: 'uploading', element: <UploadingSettings />},\r\n          {path: 'outgoing-email', element: <OutgoingEmailSettings />},\r\n          {path: 'cache', element: <CacheSettings />},\r\n          {path: 'analytics', element: <ReportsSettings />},\r\n          {path: 'logging', element: <LoggingSettings />},\r\n          {path: 'queue', element: <QueueSettings />},\r\n          {path: 'recaptcha', element: <RecaptchaSettings />},\r\n          {path: 'gdpr', element: <GdprSettings />},\r\n          ...AppSettingsRoutes,\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n  {path: '*', element: <NotFoundPage />},\r\n];\r\n\r\nexport default function AdminRoutes() {\r\n  return useRoutes(AdminRouteConfig);\r\n}\r\n"],"names":["endpoint","exportCsv","_a","useCreateUser","form","createUser","Actions","teamSvg","document","window","Form","Header","target","m","Option","PermissionSelector","RoleSelector","useNavigate","queryClient","updateTags","Select","Fragment","refreshToken","MenuItem","importModels","importItems","importData","useLayoutEffect","uploadCors","clearCache","updateUser","createLocalization","columnConfig","Endpoint","PageContent","updateRole","createRole","createNewTag","updateTag","softwareEngineerSvg","updateSubscription","updateProduct","syncPlans","value","createProduct","createCategory","reorder","updateCategory","deleteCategory","updateArticle","placeholder","ArticleBodyEditor","sections","message","createArticle","formattedData","calculatePercentage","rowClassName","dateRange","colGap","index","updateTrigger","createTrigger","createRequestType","updateTeam","createPage","filters","pages","label"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUO,SAAS,aAAa,EAAC,WAAW,iBAAuB;AACxD,QAAA,EAAC,YAAW;AAEhB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW;AAAA,QACT;AAAA,QACA;AAAA,MACF;AAAA,MAEA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,kBAAkB,QAAM,OAAO;AAAA,YAC/B,MAAK;AAAA,YACL,aAAY;AAAA,YACZ,eAAe;AAAA,YACf,eAAe,CAAC,EAAC,SAAA,MACf;AAAA,cACE;AAAA,cACA,WACI,4CACA;AAAA,YACN;AAAA,YAEF,KAAI;AAAA,UAAA;AAAA,QACN;AAAA,QACC,CAAC,iBACC,oBAAA,OAAA,EAAI,WAAU,gCACb,UAAA,oBAAC,OAAM,EAAA,SAAQ,oBAAmB,QAAQ,EAAC,QAAQ,QAAA,EAAU,CAAA,GAC/D;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAIR;AClCO,SAAS,cAAc;AAC5B,SACG,qBAAA,iBAAA,EAAgB,MAAK,SAAQ,yBAAuB,MACnD,UAAA;AAAA,IAAA,oBAAC,iBAAgB,EAAA,MAAK,MAAK,cAAa,gBAAe;AAAA,IACvD,oBAAC,oBAAiB,UAAS,QAAO,MAAK,MACrC,UAAA,oBAAC,gBAAa,EAChB,CAAA;AAAA,IACA,oBAAC,oBACC,UAAC,oBAAA,OAAA,EAAI,WAAU,kBACb,UAAA,oBAAC,QAAO,CAAA,CAAA,EAAA,CACV,EACF,CAAA;AAAA,EACF,EAAA,CAAA;AAEJ;ACVO,MAAM,uBAAwC;AAAA,EACnD;AAAA,IACE,KAAK;AAAA,IACL,OAAO,QAAQ,OAAO;AAAA,IACtB,aAAa,QAAQ,2BAA2B;AAAA,IAChD,iBAAiB,eAAe;AAAA,IAChC,SAAS;AAAA,MACP,MAAM,kBAAkB;AAAA,MACxB,cAAc;AAAA,MACd,SAAS;AAAA,QACP;AAAA,UACE,KAAK;AAAA,UACL,OAAO,QAAQ,cAAc;AAAA,UAC7B,OAAO,EAAC,OAAO,MAAM,UAAU,eAAe,GAAE;AAAA,QAClD;AAAA,QACA;AAAA,UACE,KAAK;AAAA,UACL,OAAO,QAAQ,kBAAkB;AAAA,UACjC,OAAO,EAAC,OAAO,MAAM,UAAU,eAAe,GAAE;AAAA,QAClD;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA,EACA,gBAAgB;AAAA,IACd,aAAa,QAAQ,qCAAqC;AAAA,EAAA,CAC3D;AAAA,EACD,gBAAgB;AAAA,IACd,aAAa,QAAQ,4BAA4B;AAAA,EAAA,CAClD;AAAA,EACD;AAAA,IACE,KAAK;AAAA,IACL,OAAO,QAAQ,cAAc;AAAA,IAC7B,aAAa,QAAQ,mCAAmC;AAAA,IACxD,iBAAiB,eAAe;AAAA,IAChC,SAAS;AAAA,MACP,MAAM,kBAAkB;AAAA,MACxB,cAAc;AAAA,MACd,SAAS;AAAA,QACP;AAAA,UACE,KAAK;AAAA,UACL,OAAO,QAAQ,eAAe;AAAA,UAC9B,OAAO,EAAC,OAAO,KAAK,UAAU,eAAe,IAAG;AAAA,QAClD;AAAA,QACA;AAAA,UACE,KAAK;AAAA,UACL,OAAO,QAAQ,mBAAmB;AAAA,UAClC,OAAO,EAAC,OAAO,KAAK,UAAU,eAAe,WAAU;AAAA,QACzD;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AC9DA,MAAe,YAAA;ACYR,SAAS,aAAaA,WAAkB;AAC7C,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,YAA+B,UAAUA,WAAU,OAAO;AAAA,IACvE,SAAS,CAAO,QAAA,mBAAmB,GAAG;AAAA,EAAA,CACvC;AACH;AAEA,SAAS,UACPA,WACA,SACmB;AACZ,SAAA,UAAU,KAAKA,WAAU,OAAO,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AAC3D;AChBO,SAAS,sBAAsB;AAC9B,QAAA,EAAC,UAAS;AAChB,8BACG,QACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA,GAC9B;AAAA,wBACC,YACC,EAAA,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,MAAA;AAAA,IAAA,GAIZ;AAAA,IACC,oBAAA,cAAA,EACC,UAAC,oBAAA,QAAA,EAAO,SAAQ,QAAO,OAAM,WAAU,SAAS,OAC9C,UAAC,oBAAA,OAAA,EAAM,SAAQ,SAAA,CAAS,EAC1B,CAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;ACjBO,SAAS,yBAAyB;AAAA,EACvC,UAAAA;AAAA,EACA;AACF,GAAkC;AAChC,QAAM,CAAC,cAAc,eAAe,IAAI,SAAS,KAAK;AAChD,QAAAC,aAAY,aAAaD,SAAQ;AAEvC,8BACG,UACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,OAAM;AAAA,QACN,MAAK;AAAA,QACL,WAAU;AAAA,QACV,UAAUC,WAAU;AAAA,QACpB,SAAS,MAAM;AACb,UAAAA,WAAU,OAAO,SAAS;AAAA,YACxB,WAAW,CAAY,aAAA;AACrB,kBAAI,SAAS,cAAc;AACzB,oCAAoB,SAAS,YAAY;AAAA,cAAA,OACpC;AACL,gCAAgB,IAAI;AAAA,cACtB;AAAA,YACF;AAAA,UAAA,CACD;AAAA,QACH;AAAA,QAEA,8BAAC,kBAAiB,EAAA;AAAA,MAAA;AAAA,IACpB;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,QAAQ;AAAA,QACR,cAAc;AAAA,QAEd,8BAAC,qBAAoB,EAAA;AAAA,MAAA;AAAA,IACvB;AAAA,EACF,EAAA,CAAA;AAEJ;AChDO,MAAM,gBAAgB;AAAA,EAC3B,oBAAC,QAAK,EAAA,GAAE,qaAAqa,CAAA;AAAA,EAC7a;AAAmB;ACKd,SAAS,aAAa,QAAgB;AAC3C,SAAO,YAAY;AAAA,IACjB,YAAY,MAAM,UAAU,MAAM;AAAA,IAClC,WAAW,MAAM;AACT,YAAA,QAAQ,kBAAkB,CAAC;AACjC,kBAAY,kBAAkB,EAAC,UAAU,CAAC,OAAO,EAAE,CAAA;AAAA,IACrD;AAAA,IACA,SAAS,CAAK,MAAA,mBAAmB,CAAC;AAAA,EAAA,CACnC;AACH;AAEA,SAAS,UAAU,QAAmC;AAC7C,SAAA,UAAU,OAAO,SAAS,MAAM,QAAQ,EAAE,KAAK,CAAK,MAAA,EAAE,IAAI;AACnE;ACNO,SAAS,qBAAqB;AACnC,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,YAAqB,gBAAgB,OAAO;AAAA,IACzD,WAAW,OAAM,aAAY;AAC3B,YAAM,QAAQ,uBAAuB,SAAS,KAAK,YAAY,GAAG,CAAC;AACnE,aAAO,SAAS,OAAO;AAAA,IACzB;AAAA,IACA,SAAS,CAAK,MAAA,mBAAmB,CAAC;AAAA,EAAA,CACnC;AACH;AAEA,SAAS,gBAAgB,SAAkB;AAClC,SAAA,UACJ,KAAe,2BAA2B,QAAQ,MAAM,IAAI,OAAO,EACnE,KAAK,CAAK,MAAA,EAAE,IAAI;AACrB;ACRO,MAAM,uBAA6C;AAAA,EACxD;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA;AAAA,IACpC,MAAM,CACJ,SAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,KAAK;AAAA,QACZ,OAAO,KAAK;AAAA,QACZ,aAAa,KAAK;AAAA,MAAA;AAAA,IACpB;AAAA,EAEJ;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,aAAa,CAAA;AAAA,IAC1C,OAAO;AAAA,IACP,MAAM,CAAA,SACJ;;AAAA,eAAAC,MAAA,KAAK,kBAAL,gBAAAA,IAAoB,UAClB,oBAAC,WAAU,EAAA,WAAU,wBAAwB,CAAA,IAE5C,oBAAA,WAAA,EAAU,WAAU,uBAAsB;AAAA;AAAA,EAEjD;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,QAAQ,CAAA;AAAA,IACrC,MAAM,CAAA,SACH,oBAAA,UAAA,EAAS,QAAO,WAAU,MAAK,MAC7B,UAAA,6BAAM,MAAM,IAAI,CAAA,SACd,oBAAA,MAAA,EAAmB,YAAU,MAC5B,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAW,KAAK,YAAY;AAAA,QAC5B,QAAO;AAAA,QACP,IAAI,gBAAgB,KAAK,EAAE;AAAA,QAE3B,UAAC,oBAAA,OAAA,EAAM,SAAS,KAAK,MAAM;AAAA,MAAA;AAAA,IANpB,EAAA,GAAA,KAAK,EAQhB,IAEJ;AAAA,EAEJ;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,aAAa,CAAA;AAAA,IAC1C,MAAM,UAAQ,KAAK;AAAA,EACrB;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,YAAY,CAAA;AAAA,IACzC,MAAM,UAAQ,KAAK;AAAA,EACrB;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,OAAO;AAAA,IACP,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,aAAa,CAAA;AAAA,IAC1C,MAAM,UACH,oBAAA,QAAA,EACC,8BAAC,eAAc,EAAA,MAAM,KAAK,WAAA,CAAY,EACxC,CAAA;AAAA,EAEJ;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,UAAU,CAAA;AAAA,IACvC,OAAO;AAAA,IACP,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,eAAe;AAAA,IACf,MAAM,CAAA,SACH,qBAAA,OAAA,EAAI,WAAU,cACb,UAAA;AAAA,MAAC,oBAAA,MAAA,EAAK,IAAI,GAAG,KAAK,EAAE,SAClB,UAAA,oBAAC,SAAQ,EAAA,OAAQ,oBAAA,OAAA,EAAM,SAAQ,YAAY,CAAA,GACzC,8BAAC,YAAW,EAAA,MAAK,MACf,UAAC,oBAAA,UAAA,CAAA,CAAS,EACZ,CAAA,EAAA,CACF,EACF,CAAA;AAAA,MACC,KAAK,YACH,oBAAA,aAAA,EAAY,MAAY,IAEzB,qBAAC,eAAc,EAAA,MAAK,SAClB,UAAA;AAAA,QAAA,oBAAC,SAAQ,EAAA,OAAQ,oBAAA,OAAA,EAAM,SAAQ,eAAe,CAAA,GAC5C,UAAC,oBAAA,YAAA,EAAW,MAAK,MACf,UAAC,oBAAA,eAAA,CAAA,CAAc,EACjB,CAAA,GACF;AAAA,QACA,oBAAC,iBAAc,MAAY;AAAA,MAAA,GAC7B;AAAA,MAEF,oBAAC,qBAAkB,MAAY;AAAA,IAAA,GACjC;AAAA,EAEJ;AACF;AAKA,SAAS,YAAY,EAAC,QAAyB;AACvC,QAAA,QAAQ,aAAa,KAAK,EAAE;AAEhC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,SAAS,CAAa,cAAA;AACpB,YAAI,WAAW;AACb,gBAAM,OAAO;AAAA,QACf;AAAA,MACF;AAAA,MAEA,UAAA;AAAA,QAAA,oBAAC,WAAQ,OAAO,oBAAC,OAAM,EAAA,SAAQ,qBAAoB,GACjD,UAAA,oBAAC,YAAW,EAAA,MAAK,MAAK,OAAM,UAC1B,UAAC,oBAAA,eAAA,CAAA,CAAc,EACjB,CAAA,GACF;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,UAAQ;AAAA,YACR,OACG,oBAAA,OAAA,EAAM,SAAQ,mBAAkB,QAAQ,EAAC,MAAM,KAAK,aAAe,EAAA,CAAA;AAAA,YAEtE,MACE,oBAAC,OAAM,EAAA,SAAQ,6DAA6D,CAAA;AAAA,YAE9E,SAAS,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,UAAA;AAAA,QACtC;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAKA,SAAS,kBAAkB,EAAC,QAA+B;AACzD,QAAM,cAAc;AAElB,SAAA,qBAAC,eAAc,EAAA,MAAK,SAClB,UAAA;AAAA,IAAA,oBAAC,SAAQ,EAAA,OAAQ,oBAAA,OAAA,EAAM,SAAQ,gBAAgB,CAAA,GAC7C,UAAC,oBAAA,YAAA,EAAW,MAAK,MACf,UAAC,oBAAA,WAAA,CAAA,CAAU,EACb,CAAA,GACF;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OACE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAQ;AAAA,YACR,QAAQ,EAAC,MAAM,KAAK,aAAY;AAAA,UAAA;AAAA,QAClC;AAAA,QAEF,WAAW,YAAY;AAAA,QACvB,MAAM,oBAAC,OAAM,EAAA,SAAQ,+CAA+C,CAAA;AAAA,QACpE,SAAS,oBAAC,OAAM,EAAA,SAAQ,QAAQ,CAAA;AAAA,QAChC,WAAW,MAAM;AACf,sBAAY,OAAO,EAAC,QAAQ,KAAK,GAAG,CAAA;AAAA,QACtC;AAAA,MAAA;AAAA,IACF;AAAA,EACF,EAAA,CAAA;AAEJ;ACpIO,SAASC,gBAAc,MAAoB;AAChD,SAAO,YAAY;AAAA,IACjB,YAAY,CAACC,UAAuBC,aAAWD,KAAI;AAAA,IACnD,WAAW,MAAM;AACf,kBAAY,kBAAkB,EAAC,UAAU,sBAAsB,OAAO,GAAE;AAAA,IAC1E;AAAA,EAAA,CACD;AACH;AAUA,MAAMC,eAAa,OAAO,YAAkD;AAC1E,QAAM,aAAa,EAAC,GAAG,SAAS,OAAO,CAAC,CAAC;AACjC,UAAA,IAAI,cAAc,UAAU;AAC7B,SAAA,UAAU,KAAK,SAAS,UAAU,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AAC7D;AChEA,MAAM,mBAAmB,CAAC,UAAiB;AACzC,QAAM,EAAE,QAAQ,QAAQ,SAAS,UAAU,IAAIF,gBAAmB;AAClE,QAAM,UAAU;AAAA,IACd,OAAO,MAAM;AAAA,IACb,UAAU,MAAM;AAAA,IAChB,kBAAkB,MAAM;AAAA,EAAA;AAG1B,YAAU,MAAM;AACd,QAAG,WAAW;AAEZ,YAAM,UAAU,MAAM;AACtB,iBAAW,MAAM;AACf,cAAM,wBAAwB,KAAK;AAC7B,cAAA,QAAQ,QAAQ,OAAO,CAAA,SAAQ,KAAK,UAAU,MAAM,KAAM,CAAC;AAAA,SAChE,GAAG;AAAA,IACR;AAAA,EAAA,GACC,CAAC,OAAO,SAAS,CAAC;AAGrB,8BACG,OAAI,EAAA,WAAW,sCAAsC,aAAa,mBAAmB,IACpF,UAAA;AAAA,IAAA,qBAAC,OAAI,EAAA,WAAW,mBAAmB,WAAW,aAAa,IACzD,UAAA;AAAA,MAAA,qBAAC,QAAM,EAAA,UAAA;AAAA,QAAM,MAAA;AAAA,QAAM;AAAA,QAAI,MAAM;AAAA,MAAA,GAAiB;AAAA,MAAQ,oBAAA,QAAA,EAAM,UAAe,eAAA,MAAM,QAAQ,IAAG;AAAA,MAC3F,aAAa,oBAAC,QAAK,EAAA,WAAU,iBAAgB,UAAQ,KAAA;AAAA,IAAA,GACxD;AAAA,IACC,CAAC,aACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,SAAS,OAAO,OAAO,OAAO,GAAG,MAAM,wBAAwB,IAAI;AAAA,QACnE,UAAU,WAAW,aAAa,MAAM,uBAAuB,OAAO;AAAA,QAErE,UAAW,WAAA,WAAW,YAAY,QAAQ,EAAE;AAAA,MAAA;AAAA,IAC/C;AAAA,EAEJ,EAAA,CAAA;AAEJ;ACjCO,SAAS,wBAAwB,EAAC,MAAM,WAAiB;AACxD,QAAA,EAAC,UAAS;AAChB,QAAM,CAAC,sBAAsB,uBAAuB,IAAI,SAAS,KAAK;AAEtE,8BACG,QACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA,GACvC;AAAA,wBACC,YACE,EAAA,WAAA,6BAAM,UAAS,IACZ,KAAK,IAAI,CACT,SAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC;AAAA,QACA;AAAA,QACA,kBAAkB,KAAK;AAAA,QACvB;AAAA,QACA;AAAA,QACA,OAAO,KAAK;AAAA,QAAO,UAAS;AAAA,MAAA;AAAA,MANvB,KAAK;AAAA,IAAA,CAMmC,IAC/C,+BAEN,CAAA;AAAA,IACC,oBAAA,cAAA,EACC,UAAC,oBAAA,QAAA,EAAO,SAAS,MAAM,MAAM,GAC3B,UAAC,oBAAA,OAAA,EAAM,SAAQ,SAAS,CAAA,EAC1B,CAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;AC2kBA,MAAM,kBAAkB,OAAO,aAAsB,OAAuC;AACxF,QAAM,WAAW,MAAM,MAAM,qCAAqC,EAAE,IAAI;AAAA,IACpE,QAAQ;AAAA,IACR,SAAS;AAAA,MACT,iBAAiB,UAAU,WAAW;AAAA,IACtC;AAAA,EAAA,CACH;AAEK,QAAA,OAAO,MAAM,SAAS;AAE5B,MAAG,KAAK,OAAO;AACX,UAAM,OAAO,GAAG,KAAK,iBAAiB,EAAE;AAAA,EAC5C;AAEF,SAAO,KAAK;AACd;AAEA,MAAM,qBAAqB,OAAO,gBAAyB;AACnD,MAAA;AACM,UAAA,WAAW,MAAM,MAAM,4DAA4D;AAAA,MACrF,QAAQ;AAAA,MACR,SAAS;AAAA,QACT,iBAAiB,UAAU,WAAW;AAAA,MACtC;AAAA,IAAA,CACH;AAEK,UAAA,OAAO,MAAM,SAAS;AAC5B,QAAG,KAAK,OAAO;AACX,aAAO,MAAM,OAAO,GAAG,KAAK,iBAAiB,EAAE;AAAA,IACnD;AACO,WAAA;AAAA,WACF,OAAO;AAAA,EAAC;AACrB;AAWA,SAAS,mBAAmB;AAC1B,SAAO,UACJ,IAAyB,uBAAuB,EAChD,KAAK,CAAA,aAAY,SAAS,IAAI;AACnC;AAUO,MAAM,oBAAoB,YAAY;;AACvC,MAAA;AACI,UAAA,cAAc,MAAM;AAE1B,UAAM,iBAAgB,YAAAD,OAAA,MAAM,UAAU,IAAc,WAAW,GAAG,SAA5C,gBAAAA,IAAkD,WAAW,SAA7D,mBAAmE,IAAI,CAAQ,SAAA,KAAK,sBAApF,mBAAuG,OAAO,oBAAkB,mBAAmB,UAAS;AAElL,UAAM,cAAc,MAAM,mBAAmB,YAAY,YAAY;AAE/D,UAAA,oBAAoB,YAAY,QAAQ,OAAO,CAAC,WAAgC,CAAC,aAAa,SAAS,OAAO,OAAO,CAAC;AAEtH,UAAA,oBAAoB,kBAAkB,IAAI,CAAC,SAA8B,gBAAgB,YAAY,cAAc,KAAK,OAAO,CAAC;AACtI,UAAM,YAAY,MAAM,QAAQ,IAAI,iBAAiB;AAC9C,WAAA;AAAA,WACA,OAAO;AACP,WAAA;AAAA,EACT;AACF;ACjrBO,SAAS,gBAAgB;AACxB,QAAA,EAAC,YAAW;AAClB,QAAM,CAAC,MAAM,OAAO,IAAI,SAAyB,CAAE,CAAA;AAE7C,QAAA,kBAAkB,CAAC,QAAQ,SAC7B,qBAAqB,OAAO,CAAK,MAAA,EAAE,QAAQ,YAAY,IACvD;AAEJ,6BACG,UACC,EAAA,UAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAS;AAAA,MACT,OAAO,oBAAC,OAAM,EAAA,SAAQ,QAAQ,CAAA;AAAA,MAC9B,SAAS;AAAA,MACT,SAAS;AAAA,MACT,SAAS,oBAACI,WAAQ,EAAA,MAAY,QAAkB,CAAA;AAAA,MAChD,aAAa,EAAC,MAAM,qBAAoB;AAAA,MACxC,qCAAkB,2BAA0B,EAAA;AAAA,MAC5C,mBACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAOC;AAAAA,UACP,OAAO,oBAAC,OAAM,EAAA,SAAQ,iCAAiC,CAAA;AAAA,UACvD,gBAAgB,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,QAAA;AAAA,MACrD;AAAA,IAAA;AAAA,EAGN,EAAA,CAAA;AAEJ;AAOA,SAASD,UAAQ,EAAE,MAAM,WAAiC;AACxD,8BACG,UACC,EAAA,UAAA;AAAA,IAAC,oBAAA,0BAAA,EAAyB,UAAS,mBAAmB,CAAA;AAAA,IACtD,oBAAC,wBAAuB,EAAA,aAAa,MAAM,IAAG,OAC5C,UAAC,oBAAA,OAAA,EAAM,SAAQ,eAAA,CAAe,EAChC,CAAA;AAAA,IACA,qBAAC,eAAc,EAAA,MAAK,SACpB,UAAA;AAAA,MAAC,oBAAA,wBAAA,EAAuB,SAAS,YAAY;AACrC,cAAA,QAAQ,MAAM;AACd,YAAA,MAAM,QAAQ,KAAK,GAAG;AACxB,kBAAQ,KAAuB;AAAA,QACnC;AAAA,MAAA,GAEE,UAAA,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA,GACvC;AAAA,MACC,QACC,oBAAC,yBAAwB,EAAA,MAAY,QAAkB,CAAA;AAAA,IAAA,GAE3D;AAAA,EACF,EAAA,CAAA;AAEJ;AC1EgB,SAAA,WAAc,OAAY,WAA0B;AAClE,SAAO,MAAM,OAAY,CAAC,aAAa,MAAM,UAAU;AACrD,UAAM,aAAa,KAAK,MAAM,QAAQ,SAAS;AAE3C,QAAA,CAAC,YAAY,UAAU,GAAG;AAChB,kBAAA,UAAU,IAAI;IAC5B;AAEY,gBAAA,UAAU,EAAE,KAAK,IAAI;AAE1B,WAAA;AAAA,EACT,GAAG,CAAE,CAAA;AACP;ACJO,MAAM,0BAA6C;AAAA,EACxD,SAAS;AAAA,IACP,cAAc;AAAA,IACd,kBAAkB,CAAC;AAAA,EACrB;AAAA,EACA,UAAU;AAAA,IACR,SAAS;AAAA,MACP,OAAO,QAAQ,SAAS;AAAA,MACxB,UAAU;AAAA,MACV,iBAAiB,MAAM;AAAA,QACrB;AAAA,UACE,OAAO,QAAQ,SAAS;AAAA,UACxB,UAAU;AAAA,QACZ;AAAA,MACF;AAAA,IACF;AAAA,IACA,QAAQ;AAAA,MACN,OAAO,QAAQ,QAAQ;AAAA,MACvB,UAAU;AAAA,MACV,iBAAiB,CAAC,UAAU,cAAc;;AAClC,cAAA,QAAQ,SAAS,MAAM,GAAG,EAAE,OAAO,CAAA,MAAK,CAAC,CAAC,CAAC;AACjD,cAAM,CAAO,EAAA,EAAA,EAAA,UAAU,IAAI;AAC3B,cAAM,aAA+C;AAAA,UACnD;AAAA,YACE,OAAO,QAAQ,QAAQ;AAAA,YACvB,UAAU;AAAA,UACZ;AAAA,QAAA;AAEF,YAAI,cAAc,MAAM;AACtB,qBAAW,KAAK;AAAA,YACd,QAAOJ,MAAA,UAAU,WAAW,OAAO,IAAI,CAAC,UAAU,MAA3C,gBAAAA,IAA8C;AAAA,YACrD,UAAU,UAAU,UAAU;AAAA,UAAA,CAC/B;AAAA,QACH;AACA,YAAI,MAAM,GAAG,EAAE,MAAM,QAAQ;AAC3B,qBAAW,KAAK;AAAA,YACd,OAAO,QAAQ,MAAM;AAAA,YACrB,UAAU,UAAU,UAAU;AAAA,UAAA,CAC/B;AAAA,QACH;AACA,YAAI,MAAM,GAAG,EAAE,MAAM,UAAU;AAC7B,qBAAW,KAAK;AAAA,YACd,OAAO,QAAQ,UAAU;AAAA,YACzB,UAAU,UAAU,UAAU;AAAA,UAAA,CAC/B;AAAA,QACH;AACO,eAAA;AAAA,MACT;AAAA,IACF;AAAA,IACA,OAAO;AAAA,MACL,OAAO,QAAQ,OAAO;AAAA,MACtB,UAAU;AAAA,MACV,iBAAiB,CAAC,UAAU,cAAc;AAElC,cAAA,QAAQ,SAAS,MAAM,GAAG,EAAE,OAAO,CAAA,MAAK,CAAC,CAAC,CAAC;AACjD,cAAM,CAAK,EAAA,EAAA,GAAG,IAAI,IAAI;AAEtB,cAAM,aAA+C;AAAA,UACnD;AAAA,YACE,OAAO,QAAQ,OAAO;AAAA,YACtB,UAAU;AAAA,UACZ;AAAA,QAAA;AAGI,cAAA,UAAU,WAAW,MAAM,CAAC;AAClC,gBAAQ,QAAQ,CAAC,CAAC,aAAa,YAAY,GAAG,eAAe;;AAEvD,cAAA,gBAAgB,WAAW,gBAAgB,MAAM;AACnD,uBAAW,KAAK;AAAA,cACd,QAAOA,MAAA,UAAU,SAAS,MAAM,CAAC,YAAY,MAAtC,gBAAAA,IAAyC;AAAA,cAChD,UAAU,SAAS,YAAY;AAAA,YAAA,CAChC;AAAA,UAEQ,WAAA,gBAAgB,WAAW,gBAAgB,MAAM;AAC1D,kBAAM,CAAG,EAAA,SAAS,IAAI,QAAQ,aAAa,CAAC;AAC5C,uBAAW,KAAK;AAAA,cACd,QACE,eAAU,SAAS,MAAM,CAAC,SAAS,EAAE,MAAM,CAAC,YAAY,MAAxD,mBACI;AAAA,cACN,UAAU,SAAS,SAAS,IAAI,YAAY;AAAA,YAAA,CAC7C;AAAA,UACH;AAAA,QAAA,CACD;AACM,eAAA;AAAA,MACT;AAAA,MACA,QAAQ;AAAA,QACN,iBAAiB;AAAA,UACf;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,QACF;AAAA,QACA,WAAW;AAAA,UACT;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,IACA,eAAe;AAAA,MACb,OAAO,QAAQ,aAAa;AAAA,MAC5B,UAAU;AAAA,MACV,iBAAiB,MAAM;AAAA,QACrB;AAAA,UACE,OAAO,QAAQ,aAAa;AAAA,UAC5B,UAAU;AAAA,QACZ;AAAA,MACF;AAAA,IACF;AAAA,IACA,gBAAgB;AAAA,MACd,OAAO,QAAQ,cAAc;AAAA,MAC7B,UAAU;AAAA,MACV,iBAAiB,MAAM;AAAA,QACrB;AAAA,UACE,OAAO,QAAQ,KAAK;AAAA,UACpB,UAAU;AAAA,QACZ;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;ACpJA,MAAM,sBAMF;AAAA,EACF,OAAO;AAAA,IACL,OAAO,QAAQ,gBAAgB;AAAA,IAC/B,UAAU;AAAA,MACR,kBAAkB;AAAA,MAClB,gBAAgB;AAAA,IAClB;AAAA,EACF;AAAA,EACA,SAAS;AAAA,IACP,OAAO,QAAQ,KAAK;AAAA,IACpB,UAAU;AAAA,MACR,kBAAkB;AAAA,MAClB,gBAAgB;AAAA,MAChB,oBAAoB;AAAA,IACtB;AAAA,EACF;AAAA,EACA,QAAQ;AAAA,IACN,OAAO,QAAQ,QAAQ;AAAA,IACvB,UAAU;AAAA,MACR,kBAAkB;AAAA,MAClB,gBAAgB;AAAA,MAChB,oBAAoB;AAAA,IACtB;AAAA,EACF;AACF;AAQO,SAAS,2BAA2B;AAAA,EACzC,OAAO;AAAA,EACP;AAAA,EACA;AAAA,EACA;AACF,GAAU;AACF,QAAA,mBAAmB,qBAAqB,YAAY;AAC1D,6BACG,OAAI,EAAA,WACH,UAAC,oBAAA,YAAA,EAAW,MAAK,MAAK,UACnB,UAAO,OAAA,QAAQ,mBAAmB,EAAE,IAAI,CAAC,CAAC,KAAK,QAAQ,MACtD;AAAA,IAAC;AAAA,IAAA;AAAA,MAEC,MAAK;AAAA,MACL,OAAO;AAAA,MACP,SAAS,QAAQ;AAAA,MACjB,UAAU,CAAK,MAAA;AACb,YAAI,cAAc;AACL,+CAAA;AAAA,YACT,GAAG;AAAA,YACH,GAAG,SAAS;AAAA,UAAA;AAAA,QAEhB;AAAA,MACF;AAAA,MAEA,UAAC,oBAAA,OAAA,EAAO,GAAG,SAAS,MAAO,CAAA;AAAA,IAAA;AAAA,IAbtB;AAAA,EAAA,CAeR,GACH,EACF,CAAA;AAEJ;AAEA,SAAS,qBACP,OACkC;AAC9B,OAAA,+BAAO,oBAAmB,SAAS;AAC9B,WAAA;AAAA,EAAA,YACE,+BAAO,oBAAmB,WAAW;AACvC,WAAA;AAAA,EAAA,OACF;AACE,WAAA;AAAA,EACT;AACF;AC9EO,SAAS,qBAAqB;AACnC,QAAM,EAAC,OAAO,UAAU,cAAa,eAAiC;AACtE,8BACG,UACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,eAAc;AAAA,QACd,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,QACrC,WAAU;AAAA,QACV,MAAK;AAAA,QAEL,UAAA;AAAA,UAAA,oBAAC,QAAK,OAAM,UACV,8BAAC,OAAM,EAAA,SAAQ,UAAS,EAC1B,CAAA;AAAA,UACA,oBAAC,QAAK,OAAM,YACV,8BAAC,OAAM,EAAA,SAAQ,YAAW,EAC5B,CAAA;AAAA,QAAA;AAAA,MAAA;AAAA,IACF;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,WAAU;AAAA,QACV,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,QACrC,cAAc;AAAA,QACd,YAAW;AAAA,MAAA;AAAA,IACb;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,MAAM,yBAAyB;AAAA,QACtC,UAAU,CAAC,MAAM,oCAAoC;AAAA,QACrD,UAAU,CAAS,UAAA;AACjB,mBAAS,2BAA2B;AAAA,YAClC,GAAG,UAAU,yBAAyB;AAAA,YACtC,GAAG;AAAA,UAAA,CACJ;AAAA,QACH;AAAA,QACA,WAAU;AAAA,MAAA;AAAA,IACZ;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,eAAc;AAAA,QACd,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,QACtC,WAAU;AAAA,QACV,MAAK;AAAA,QAEL,UAAA;AAAA,UAAA,oBAAC,QAAK,OAAM,eACV,8BAAC,OAAM,EAAA,SAAQ,gBAAe,EAChC,CAAA;AAAA,UACA,oBAAC,QAAK,OAAM,gBACV,8BAAC,OAAM,EAAA,SAAQ,gBAAe,EAChC,CAAA;AAAA,UACA,oBAAC,QAAK,OAAM,eACV,8BAAC,OAAM,EAAA,SAAQ,eAAc,EAC/B,CAAA;AAAA,QAAA;AAAA,MAAA;AAAA,IACF;AAAA,IACC,MAAM,kCAAkC,MAAM,qCAC5C,yBAAwB,CAAA,CAAA;AAAA,IAE3B;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,QACrC,WAAU;AAAA,QACV,MAAK;AAAA,QACL,kBAAiB;AAAA,QACjB,MAAM;AAAA,QACN,SAAS,MAAM;AACG,4BAAE,QAAQ,aAAa,6BAA6B;AAAA,QACtE;AAAA,MAAA;AAAA,IACF;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA;AAAA,QACxC,WAAU;AAAA,QACV,kBAAiB;AAAA,QACjB,MAAM;AAAA,QACN,MAAK;AAAA,QACL,SAAS,MAAM;AACb,0BAAA,EAAkB,QAAQ;AAAA,YACxB;AAAA,UAAA;AAAA,QAEJ;AAAA,MAAA;AAAA,IACF;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,2BAA2B,CAAA;AAAA,QACjD,WAAU;AAAA,QACV,MAAK;AAAA,QACL,kBAAiB;AAAA,QACjB,MAAM;AAAA,QACN,SAAS,MAAM;AACb,0BAAA,EAAkB,QAAQ;AAAA,YACxB;AAAA,UAAA;AAAA,QAEJ;AAAA,MAAA;AAAA,IACF;AAAA,IACA,oBAAC,YAAW,EAAA,WAAU,SAAQ,MAAK,gCACjC,UAAC,oBAAA,OAAA,EAAM,SAAQ,cAAA,CAAc,EAC/B,CAAA;AAAA,EACF,EAAA,CAAA;AAEJ;AAEA,SAAS,0BAA0B;AAE/B,SAAA,qBAAC,OAAI,EAAA,WAAU,wBACb,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,wBAAwB,CAAA;AAAA,QAC9C,qBAAoB;AAAA,QACpB,aACE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MACE,oBAAC,OAAM,EAAA,SAAQ,0EAA0E,CAAA;AAAA,UAAA;AAAA,QAE7F;AAAA,QAEF,MAAK;AAAA,QACL,WAAU;AAAA,QACV,KAAI;AAAA,QACJ,KAAI;AAAA,MAAA;AAAA,IACN;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,QACzC,aACE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MACE,oBAAC,OAAM,EAAA,SAAQ,yFAAyF,CAAA;AAAA,UAAA;AAAA,QAE5G;AAAA,QAEF,qBAAoB;AAAA,QACpB,WAAU;AAAA,QACV,MAAK;AAAA,QACL,KAAI;AAAA,QACJ,KAAI;AAAA,MAAA;AAAA,IACN;AAAA,IACA,oBAAC,cAAW,MAAK,0CACf,8BAAC,OAAM,EAAA,SAAQ,yBAAwB,EACzC,CAAA;AAAA,EACF,EAAA,CAAA;AAEJ;AC7IO,MAAM,mBAAmB;AAAA,EAC9B,CAAC,EAAC,WAAW,UAAU,WAAW,aAAa,GAAG,MAAK,GAAG,QAAQ;AAE9D,WAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC;AAAA,QACA,SAAQ;AAAA,QACR,WAAW;AAAA,UACT;AAAA,UACA;AAAA,QACF;AAAA,QACA,SAAS;AAAA,QACR,GAAG;AAAA,QAEH,UAAA;AAAA,UAAA;AAAA,UACD,qBAAC,QAAK,EAAA,WAAU,iBACd,UAAA;AAAA,YAAC,oBAAA,QAAA,EAAK,WAAU,SAAS,SAAS,CAAA;AAAA,YACjC,eACC,oBAAC,QAAK,EAAA,WAAU,gFACb,UACH,aAAA;AAAA,UAAA,GAEJ;AAAA,UACA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,eAAW;AAAA,cACX,WAAU;AAAA,YAAA;AAAA,UACZ;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAGN;AACF;AChCO,SAAS,uBAAuB;AACrC,8BACG,UACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,QAAQ,CAAA;AAAA,QAC9B,WAAU;AAAA,QACV,MAAK;AAAA,QACL,kBAAiB;AAAA,QACjB,MAAM;AAAA,MAAA;AAAA,IACR;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,QACvC,WAAU;AAAA,QACV,MAAK;AAAA,QACL,kBAAiB;AAAA,QACjB,MAAM;AAAA,MAAA;AAAA,IACR;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,QACtC,WAAU;AAAA,QACV,MAAK;AAAA,QACL,kBAAiB;AAAA,QACjB,MAAM;AAAA,MAAA;AAAA,IACR;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,QAC1C,WAAU;AAAA,QACV,MAAK;AAAA,QACL,kBAAiB;AAAA,QACjB,MAAM;AAAA,MAAA;AAAA,IACR;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,qBAAqB,CAAA;AAAA,QAC3C,WAAU;AAAA,QACV,MAAK;AAAA,QACL,kBAAiB;AAAA,QACjB,MAAM;AAAA,MAAA;AAAA,IACR;AAAA,IACA,qBAAC,OAAI,EAAA,WAAU,wBACb,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,UACtC,WAAU;AAAA,UACV,MAAK;AAAA,UACL,kBAAiB;AAAA,UACjB,MAAM;AAAA,QAAA;AAAA,MACR;AAAA,MACA,oBAAC,kBAAiB,EAAA,IAAG,WAAU,aAAa,MAC1C,UAAC,oBAAA,OAAA,EAAM,SAAQ,eAAA,CAAe,EAChC,CAAA;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;AClDO,SAAS,oBAAoB;AAClC,QAAM,EAAC,QAAQ,QAAQ,OAAA,IAAU,cAAc;AAAA,IAC7C,MAAM;AAAA,EAAA,CACP;AACD,QAAM,CAAC,gBAAgB,iBAAiB,IAAI,SAAS,CAAC,CAAC,CAAC;AACxD,8BACG,OACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR;AAAA,QACA,kBAAkB,CAAU,WAAA;AAC1B,4BAAkB,MAAkB;AAAA,QACtC;AAAA,QAEC,UAAO,OAAA,IAAI,CAAC,OAAO,UAAU;AAE1B,iBAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cAEC,OAAO;AAAA,cACP,OAAQ,oBAAA,OAAA,EAAM,SAAS,eAAe,QAAQ,CAAC,IAAI;AAAA,cAEnD,UAAA;AAAA,gBAAA,oBAAC,cAAW,OAAc;AAAA,gBAC1B,oBAAC,OAAI,EAAA,WAAU,cACb,UAAA;AAAA,kBAAC;AAAA,kBAAA;AAAA,oBACC,MAAK;AAAA,oBACL,SAAQ;AAAA,oBACR,OAAM;AAAA,oBACN,SAAS,MAAM;AACb,6BAAO,KAAK;AAAA,oBACd;AAAA,oBAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,kBAAA;AAAA,gBAAA,GAE5B;AAAA,cAAA;AAAA,YAAA;AAAA,YAhBK,MAAM;AAAA,UAAA;AAAA,QAiBb,CAEH;AAAA,MAAA;AAAA,IACH;AAAA,IACA,oBAAC,OAAI,EAAA,WAAU,oBACb,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,SAAQ;AAAA,QACR,OAAM;AAAA,QACN,+BAAY,SAAQ,EAAA;AAAA,QACpB,SAAS,MAAM;AACb,iBAAO,CAAE,CAAA;AACS,4BAAA,CAAC,OAAO,MAAM,CAAC;AAAA,QACnC;AAAA,QAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,MAAA;AAAA,IAAA,GAEjC;AAAA,EACF,EAAA,CAAA;AAEJ;AAKA,SAAS,WAAW,EAAC,SAAyB;AAC5C,8BACG,UACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAM,gDAAgD,KAAK;AAAA,QAC3D,OAAO,oBAAC,OAAM,EAAA,SAAQ,QAAQ,CAAA;AAAA,QAC9B,WAAU;AAAA,QACV,kBAAiB;AAAA,QACjB,MAAM;AAAA,MAAA;AAAA,IACR;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAM,gDAAgD,KAAK;AAAA,QAC3D,OAAO,oBAAC,OAAM,EAAA,SAAQ,UAAU,CAAA;AAAA,QAChC,WAAU;AAAA,QACV,kBAAiB;AAAA,QACjB,MAAM;AAAA,MAAA;AAAA,IACR;AAAA,EACF,EAAA,CAAA;AAEJ;AC3EO,MAAM,sBAAyC;AAAA,EACpD,SAAS;AAAA,IACP,cAAc;AAAA,IACd,kBAAkB,CAAC,GAAG;AAAA,EACxB;AAAA,EACA,UAAU;AAAA,IACR,gBAAgB;AAAA,MACd,OAAO,QAAQ,cAAc;AAAA,MAC7B,UAAU;AAAA,MACV,cAAc;AAAA,MACd,QAAQ,CAAC,EAAC,MAAM,gBAAgB,SAAS,oBAAC,oBAAmB,CAAA,CAAA,GAAG;AAAA,MAChE,iBAAiB,MAAM;AAAA,QACrB;AAAA,UACE,OAAO,QAAQ,cAAc;AAAA,UAC7B,UAAU;AAAA,QACZ;AAAA,MACF;AAAA,IACF;AAAA,IACA,cAAc;AAAA,MACZ,OAAO,QAAQ,iBAAiB;AAAA,MAChC,UAAU;AAAA,MACV,cAAc;AAAA,MACd,QAAQ;AAAA,QACN,EAAC,MAAM,cAAc,SAAS,oBAAC,wBAAqB,EAAE;AAAA,QACtD;AAAA,UACE,MAAM;AAAA,UACN,6BAAU,mBAAkB,EAAA;AAAA,QAC9B;AAAA,MACF;AAAA,MACA,iBAAiB,CAAe,gBAAA;AAC9B,cAAM,aAA+C;AAAA,UACnD;AAAA,YACE,OAAO,QAAQ,iBAAiB;AAAA,YAChC,UAAU;AAAA,UACZ;AAAA,QAAA;AAEE,YAAA,YAAY,SAAS,SAAS,GAAG;AACnC,qBAAW,KAAK;AAAA,YACd,OAAO,QAAQ,SAAS;AAAA,YACxB,UAAU;AAAA,UAAA,CACX;AAAA,QACH;AACO,eAAA;AAAA,MACT;AAAA,IACF;AAAA;AAAA;AAAA,IAGA,OAAO;AAAA,MACL,QAAQ;AAAA,QACN,WAAW;AAAA,UACT;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,QACF;AAAA,QACA,iBAAiB;AAAA,UACf;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA;AAAA,IAEA,gBAAgB;AAAA,MACd,QAAQ;AAAA,QACN,OAAO;AAAA,UACL;AAAA,YACE,KAAK;AAAA,YACL,OAAO,QAAQ,cAAc;AAAA,UAC/B;AAAA,UACA;AAAA,YACE,KAAK;AAAA,YACL,OAAO,QAAQ,cAAc;AAAA,UAC/B;AAAA,UACA;AAAA,YACE,KAAK;AAAA,YACL,OAAO,QAAQ,eAAe;AAAA,UAChC;AAAA,UACA;AAAA,YACE,KAAK;AAAA,YACL,OAAO,QAAQ,aAAa;AAAA,UAC9B;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACF;AC/FA,MAAM,yBAAyB,UAAU,IAAI;AAAA,EAC3C;AAAA,EACA;AACF,CAAC;AC+CM,MAAM,qBAAqB,OAAwB;AAAA,EACxD;AAAA,IACE,MAAM,CAAC,KAAK,SAAS;AAAA,MACnB,UAAU;AAAA,MACV,cAAc;AAAA,MACd,QAAQ;AAAA,MACR,aAAa,CAAS,UAAA;AACpB,YAAI,CAAS,UAAA;AACL,gBAAA,WAAW,EAAC,GAAG;QAAK,CAC3B;AAAA,MACH;AAAA,MACA,iBAAiB,CAAS,UAAA;AACxB,YAAI,MAAM;AACD,iBAAA,EAAC,cAAc;QAAK,CAC5B;AAAA,MACH;AAAA,MAEA,SAAS;AAAA,QACP,UAAU,CAAe,gBAAA;;AACvB,gBAAM,WAAUA,MAAA,IAAM,EAAA,WAAN,gBAAAA,IAAc,SAAS;AACjC,gBAAA,SAAQ,mCAAS,iBAAgB;AACjC,gBAAA,UAAU,IAAM,EAAA;AACtB,cAAI,OAAO;AACT,wBAAY,SAAS,EAAC,MAAM,YAAY,IAAI,OAAM;AAAA,UACpD;AAAA,QACF;AAAA,QACA,WAAW,CAAU,WAAA;AACb,gBAAA,UAAU,IAAM,EAAA;AACtB,sBAAY,SAAS,EAAC,MAAM,aAAa,OAAO,CAAA;AAAA,QAClD;AAAA,QACA,cAAc,CAAQ,SAAA;AACd,gBAAA,UAAU,IAAM,EAAA;AACtB,sBAAY,SAAS,EAAC,MAAM,gBAAgB,OAAO,MAAK;AAAA,QAC1D;AAAA,QACA,eAAe,CAAC,MAAM,UAAU;AACxB,gBAAA,UAAU,IAAM,EAAA;AACtB,sBAAY,SAAS,EAAC,MAAM,iBAAiB,MAAM,OAAM;AAAA,QAC3D;AAAA,QACA,gBAAgB,CAAW,YAAA;AACnB,gBAAA,UAAU,IAAM,EAAA;AACtB,sBAAY,SAAS,EAAC,MAAM,kBAAkB,QAAQ,CAAA;AAAA,QACxD;AAAA,QACA,eAAe,CAAC,MAAM,UAAU;AACxB,gBAAA,UAAU,IAAM,EAAA;AACtB,sBAAY,SAAS,EAAC,MAAM,iBAAiB,MAAM,OAAM;AAAA,QAC3D;AAAA,QACA,cAAc,CAAY,aAAA;AACxB,cAAI,MAAM;;AACR,gBAAI,OAA2B;AACzB,kBAAAM,aAAWN,MAAA,MAAM,iBAAN,gBAAAA,IAAoB;AACrC,gBAAIM,aAAY,UAAU;AACjB,qBAAAA,UAAS,cAAc,QAAQ;AAAA,YACxC;AACA,gBAAI,MAAM;AACR,oCAAsB,MAAM;AAC1B,oBAAI,CAAC;AAAM;AACX,qBAAK,eAAe;AAAA,kBAClB,UAAU;AAAA,kBACV,OAAO;AAAA,kBACP,QAAQ;AAAA,gBAAA,CACT;AAAA,cAAA,CACF;AAAA,YACH;AAAA,UAAA,CACD;AAAA,QACH;AAAA,MACF;AAAA,IAAA,EACA;AAAA,EACJ;AACF;AAEA,SAAS,YAAYC,SAAuB,SAAsB;AAChE,MAAIA,SAAQ;AACV,IAAAA,QAAO,YAAY,EAAC,QAAQ,wBAAwB,GAAG,QAAA,GAAU,GAAG;AAAA,EACtE;AACF;AAEO,SAAS,kBAAkB;AAChC,SAAO,mBAAmB;AAC5B;AC3HO,SAAS,2BAA2B;AACzC,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,WACX,sBAAsB,MAAM;AAAA,IAC9B,WAAW,YAAY;AACrB,YAAM,YAAY,kBAAkB;AAAA,QAClC,UAAU,CAAC,yBAAyB;AAAA,MAAA,CACrC;AACK,YAAA,QAAQ,eAAe,CAAC;AAAA,IAChC;AAAA,IACA,SAAS,CAAO,QAAA,mBAAmB,GAAG;AAAA,EAAA,CACvC;AACH;AAEA,SAAS,sBACP,SACmB;AACZ,SAAA,UAAU,KAAK,oBAAoB,EAAC,SAAQ,EAAE,KAAK,CAAK,MAAA,EAAE,IAAI;AACvE;AClBO,SAAS,sBAAsB;AACpC,SAAO,SAAS;AAAA,IACd,UAAU,CAAC,yBAAyB;AAAA,IACpC,SAAS,MAAM,sBAAsB;AAAA,IACrC,WAAW;AAAA,EAAA,CACZ;AACH;AAEA,SAAS,wBAAgE;AACvE,SAAO,UACJ,IAAI,yBAAyB,EAC7B,KAAK,CAAA,aAAY,SAAS,IAAI;AACnC;ACTO,SAAS,gBAAgB;AACxB,QAAA,EAAC,aAAY;AACb,QAAA,EAAC,cAAa;AACpB,QAAM,CAAC,YAAY,aAAa,IAAI,SAElC,IAAI;AAEN,YAAU,MAAM;;AACd,UAAM,KAAK,WAAW,IAAI,SAAS,MAAM,GAAG,EAAE,OAAO,CAAK,MAAA,CAAC,CAAC,CAAC;AAC7D,QAAI,aAAa;AACf,YAAM,WAAUP,MAAA,gBAAkB,EAAA,WAAlB,gBAAAA,IAA0B,SAAS;AACnD,UAAI,SAAS;AACG,sBAAA;AAAA,UACZ;AAAA,YACE,OAAO,QAAQ,YAAY;AAAA,YAC3B,UAAU;AAAA,UACZ;AAAA,UACA,GAAG,QAAQ,gBAAgB,UAAU,WAAW;AAAA,QAAA,CACjD;AAED;AAAA,MACF;AAAA,IACF;AACA,kBAAc,IAAI;AAAA,EAAA,GACjB,CAAC,UAAU,SAAS,CAAC;AAGxB,MAAI,CAAC,cAAc,WAAW,SAAS,GAAG;AACjC,WAAA;AAAA,EACT;AAGE,SAAA,qBAAC,OAAI,EAAA,WAAU,iDACb,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,UAAS;AAAA,QACT,QAAO;AAAA,QACP,WAAU;AAAA,QACV,aAAa;AAAA,QACb,IAAI,qBAAqB,WAAW,WAAW,SAAS,CAAC,EAAE,QAAQ;AAAA,QAEnE,8BAAC,uBAAsB,EAAA;AAAA,MAAA;AAAA,IACzB;AAAA,IACA,qBAAC,OAAI,EAAA,WAAU,yBACb,UAAA;AAAA,MAAA,oBAAC,SAAI,WAAU,sBACb,8BAAC,OAAM,EAAA,SAAQ,eAAc,EAC/B,CAAA;AAAA,MACA,oBAAC,SAAI,WAAU,wCACZ,qBAAW,IAAI,CAAC,MAAM,UAAU;AACzB,cAAA,SAAS,WAAW,SAAS,MAAM;AACzC,cAAM,UAAU,UAAU;AAC1B,cAAM,QAAQ,oBAAC,WAAU,EAAA,OAAO,KAAK,MAAO,CAAA;AAE5C,YAAI,SAAS;AACJ,iBAAA;AAAA,QACT;AAEA,oCACG,UACC,EAAA,UAAA;AAAA,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAW;AAAA,gBACT;AAAA,gBACA,UAAU;AAAA;AAAA,gBAEV,SAAS,kBAAkB;AAAA,cAC7B;AAAA,cAEC,UAAA;AAAA,YAAA;AAAA,UACH;AAAA,UACC,CAAC,UACC,oBAAA,wBAAA,EAAuB,WAAU,mCAAmC,CAAA;AAAA,QAAA,EAAA,GAZ1D,KAcf;AAAA,MAEH,CAAA,GACH;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;ACzEO,SAAS,mBAAmB;AAC3B,QAAA,EAAC,6BAA4B;AAC7B,QAAA,EAAC,SAAQ;AACT,QAAA,EAAC,aAAY;AACb,QAAA,YAAY,OAA0B,IAAI;AAC1C,QAAA,EAAC,aAAY;AAEnB,YAAU,MAAM;AAEd,SAAI,6BAAM,aAAY,CAAC,gBAAA,EAAkB,UAAU;AACjC,wBAAE,YAAY,KAAK,QAAQ;AAAA,IAC7C;AAAA,EAAA,GACC,CAAC,IAAI,CAAC;AAET,YAAU,MAAM;AACd,QAAI,UAAU,SAAS;AACrB,sBAAkB,EAAA,gBAAgB,UAAU,QAAQ,aAAc;AAAA,IACpE;AAAA,EACF,GAAG,CAAE,CAAA;AAEL,YAAU,MAAM;AACd,UAAM,cAAc,SAAS,MAAM,GAAG,EAAE,CAAC;AACzB,sBAAE,QAAQ,SAAS,WAAW;AAAA,EAAA,GAC7C,CAAC,QAAQ,CAAC;AAGb,MAAI,0BAA0B;AACrB,WAAA,oBAAC,UAAS,EAAA,IAAG,SAAS,CAAA;AAAA,EAC/B;AAGE,SAAA,qBAAC,OAAI,EAAA,WAAU,iCACb,UAAA;AAAA,IAAA,oBAAC,iBACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA,GAC9B;AAAA,IACC,oBAAA,SAAA,EAAQ,QAAQ,6BAAM,OAAQ,CAAA;AAAA,IAC/B,oBAAC,OAAI,EAAA,WAAU,6BACb,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,KAAK;AAAA,QACL,WAAU;AAAA,QACV,KAAK,GAAG,QAAQ;AAAA,MAAA;AAAA,IAAA,GAEpB;AAAA,EACF,EAAA,CAAA;AAEJ;AAKA,SAAS,QAAQ,EAAC,UAAuB;AACjC,QAAA,UACH,oBAAA,OAAA,EAAI,WAAU,qDACb,UAAC,oBAAA,gBAAA,EAAe,iBAAe,MAAC,cAAW,iBAAA,CAAiB,EAC9D,CAAA;AAIA,SAAA,oBAAC,OAAI,EAAA,WAAU,yEACZ,UAAA,6BAAU,gBAAe,EAAA,eAAe,OAAQ,CAAA,IAAK,QACxD,CAAA;AAEJ;AAMA,SAAS,eAAe,EAAC,iBAAqC;AAC5D,QAAM,OAAO,QAA0B,EAAC,cAAc,CAAA;AAChD,QAAA,EAAC,OAAO,MAAS,IAAA;AACvB,QAAM,cAAc;AAEpB,YAAU,MAAM;AACR,UAAA,eAAe,MAAM,CAAS,UAAA;AAClB,wBAAE,QAAQ,UAAU,KAAyB;AAAA,IAAA,CAC9D;AACM,WAAA,MAAM,aAAa;EAAY,GACrC,CAAC,KAAK,CAAC;AAGR,SAAA;AAAA,IAACQ;AAAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV;AAAA,MACA,UAAU,CAAU,WAAA;AAClB,oBAAY,OAAO,QAAQ;AAAA,UACzB,WAAW,MAAM,MAAM,MAAM;AAAA,QAAA,CAC9B;AAAA,MACH;AAAA,MAEA,UAAA;AAAA,QAAC,oBAAAC,UAAA,EAAO,WAAW,YAAY,UAAW,CAAA;AAAA,4BACzC,eAAc,EAAA;AAAA,QACf,oBAAC,SAAI,WAAU,yCACb,8BAAC,oBACC,EAAA,UAAA,oBAAC,QAAO,CAAA,CAAA,EAAA,CACV,EACF,CAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAKA,SAASA,SAAO,EAAC,aAAyB;AAClC,QAAA;AAAA,IACJ,WAAW,EAAC,YAAW;AAAA,MACrB,eAAiC;AACrC,QAAM,UAAU,OAAO,KAAK,WAAW,EAAE;AAEvC,SAAA,qBAAC,OAAI,EAAA,WAAU,uDACb,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,QAAO;AAAA,QACP,WAAU;AAAA,QACV,aAAa;AAAA,QACb,IAAG;AAAA,QAEH,8BAAC,WAAU,EAAA;AAAA,MAAA;AAAA,IACb;AAAA,IACA,oBAAC,SAAI,WAAU,SACb,8BAAC,OAAM,EAAA,SAAQ,qBAAoB,EACrC,CAAA;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,OAAM;AAAA,QACN,WAAU;AAAA,QACV,UAAU,CAAC,WAAW;AAAA,QACtB,MAAK;AAAA,QAEJ,UAAA,8BAAW,OAAM,EAAA,SAAQ,QAAO,IAAK,oBAAC,OAAM,EAAA,SAAQ,QAAQ,CAAA;AAAA,MAAA;AAAA,IAC/D;AAAA,EACF,EAAA,CAAA;AAEJ;AC3IO,SAAS,WAAW;AACzB,QAAM,WAAW;AACX,QAAA,EAAC,UAAS;AAChB,QAAM,EAAC,QAAQ,OAAM,IAAI,cAIvB;AAAA,IACA,MAAM;AAAA,IACN,SAAS;AAAA,EAAA,CACV;AAED,8BACG,UACC,EAAA,UAAA;AAAA,IAAA,oBAAC,SACE,UAAO,OAAA,IAAI,CAAC,OAAO,8BACjB,kBAAiB,EAAA,IAAI,GAAG,KAAK,IAAoB,aAAa,MAC5D,UAAA,MAAM,QAD8B,MAAM,GAE7C,CACD,EACH,CAAA;AAAA,IACA,oBAAC,OAAI,EAAA,WAAU,cACb,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,OAAM;AAAA,QACN,+BAAY,SAAQ,EAAA;AAAA,QACpB,MAAK;AAAA,QACL,SAAS,MAAM;AACP,gBAAA,KAAK,OAAO,EAAE;AACb,iBAAA;AAAA,YACL,MAAM;AAAA,cACJ,QAAQ,oBAAoB;AAAA,gBAC1B,QAAQ,EAAC,QAAQ,OAAO,SAAS,EAAC;AAAA,cAAA,CACnC;AAAA,YACH;AAAA,YACA;AAAA,YACA,WAAW,CAAC;AAAA,YACZ,OAAO,CAAC;AAAA,UAAA,CACT;AACQ,mBAAA,GAAG,OAAO,MAAM,EAAE;AAAA,QAC7B;AAAA,QAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,MAAA;AAAA,IAAA,GAEjC;AAAA,EACF,EAAA,CAAA;AAEJ;ACvDO,SAAS,qBAAgD;AACxD,QAAA,aAAa,uBAAuB,SAAS,MAAM;AAEzD,MAAI,CAAC;AAAY,WAAO;AAEhB,SAAA,WAAiC,gBAAgB,IAAI,CAAS,UAAA;AAC7D,WAAA;AAAA,MACL,IAAI;AAAA,MACJ,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,QAAQ;AAAA,IAAA;AAAA,EACV,CACD;AACH;AClBO,SAAS,QAA0B,QAAc;AACtD,MAAI,CAAC;AAAe,WAAA;AACZ,SAAA,OAAO,OAAO,CAAC,EAAE,gBAAgB,OAAO,MAAM,CAAC;AACzD;ACmBO,SAAS,kBAAkB;AAAA,EAChC,QAAQ,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AACzC,GAA2B;AACzB,QAAM,EAAC,KAAI,IAAI,cAAc,CAAC,oBAAoB,CAAC;AAC7C,QAAA,cAAa,6BAAM,uBAAsB;AAC/C,QAAM,aAAa;AAGjB,SAAA,qBAAC,QAAO,EAAA,MAAK,MACX,UAAA;AAAA,IAAA,oBAAC,gBAAc,UAAM,MAAA,CAAA;AAAA,IACpB,oBAAA,YAAA,EACC,UAAC,qBAAA,WAAA,EAAU,SAAQ,WACjB,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,UAC7B,eAAc;AAAA,UAEd,8BAAC,eAAc,EAAA;AAAA,QAAA;AAAA,MACjB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,QAAQ,CAAA;AAAA,UAC9B,eAAc;AAAA,UAEd,UAAA,oBAAC,UAAS,EAAA,OAAO,WAAY,CAAA;AAAA,QAAA;AAAA,MAC/B;AAAA,MACC,WAAW,IAAI,CACd,aAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UAEC,OAAO,oBAAC,OAAM,EAAA,SAAS,SAAS,MAAM;AAAA,UAEtC,UAAC,oBAAA,UAAA,EAAS,OAAO,SAAS,OAAO;AAAA,QAAA;AAAA,QAH5B,SAAS;AAAA,MAAA,CAKjB;AAAA,IAAA,EAAA,CACH,EACF,CAAA;AAAA,EACF,EAAA,CAAA;AAEJ;AAEA,SAAS,gBAAgB;AACvB,QAAM,OAAO,QAAwB;AAAA,IACnC,eAAe;AAAA,MACb,IAAI,OAAO,CAAC;AAAA,MACZ,MAAM;AAAA,MACN,QAAQ;AAAA,IACV;AAAA,EAAA,CACD;AACK,QAAA,EAAC,UAAS;AAGd,SAAA;AAAA,IAACD;AAAAA,IAAA;AAAA,MACC;AAAA,MACA,UAAU,CAAS,UAAA;AACjB,cAAM,KAAK;AAAA,MACb;AAAA,MAEA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,UAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,QAAQ,CAAA;AAAA,YAC9B,WAAU;AAAA,UAAA;AAAA,QACZ;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,UAAQ;AAAA,YACR,MAAK;AAAA,YACL,MAAK;AAAA,YACL,aAAY;AAAA,YACZ,OAAO,oBAAC,OAAM,EAAA,SAAQ,MAAM,CAAA;AAAA,YAC5B,WAAU;AAAA,UAAA;AAAA,QACZ;AAAA,4BACC,OAAI,EAAA,WAAU,cACb,UAAC,oBAAA,QAAA,EAAO,MAAK,UAAS,SAAQ,QAAO,OAAM,WAAU,MAAK,MACxD,UAAA,oBAAC,SAAM,SAAQ,eAAc,GAC/B,EACF,CAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAKA,SAAS,SAAS,EAAC,SAAuB;AAClC,QAAA,EAAC,UAAS;AAEhB,SACG,oBAAA,MAAA,EACE,UAAM,MAAA,IAAI,CAAQ,SAAA;AAEf,WAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,WAAW,oBAAC,SAAQ,EAAA,MAAK,KAAK,CAAA;AAAA,QAC9B,YAAY,MAAM;AAChB,cAAI,KAAK,OAAO;AACd,kBAAM,OAAO,KAAK,MAAM,MAAM,GAAG,EAAE;AACnC,iBAAK,QAAQ,OAAO,QAAQ,IAAI,IAAI,KAAK;AACpC,iBAAA,KAAK,OAAO,CAAC;AAAA,UACpB;AACA,gBAAM,IAAI;AAAA,QACZ;AAAA,QAEC,UAAK,KAAA;AAAA,MAAA;AAAA,MAXD,KAAK;AAAA,IAAA;AAAA,EAcf,CAAA,EACH,CAAA;AAEJ;AC9HO,MAAM,oBAAoB;AAAA,EAC/B,oBAAC,QAAK,EAAA,GAAE,sSAAsS,CAAA;AAAA,EAC9S;AAAuB;ACJzB,MAAe,eAAA;ACyBR,SAAS,kBAAkB;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAKsB;AACb,SAAA;AAAA,IACL;AAAA,IACA,GAAG,EAAE;AAAA,IACL,GAAG,EAAE;AAAA,IACL,QAAQ,UAAU;AAAA,IAClB,QAAQ,UAAU;AAAA,IAClB,aAAa;AAAA,EAAA;AAEjB;AC1CO,IAAI,oBAAqC;AAEzC,SAAS,qBAAqB,MAAuB;AACtC,sBAAA;AACtB;ACJO,SAAS,aAAa,MAAiC;AACrD,SAAA;AAAA,IACL,MAAM,KAAK;AAAA,IACX,KAAK,KAAK;AAAA,IACV,OAAO,KAAK;AAAA,IACZ,QAAQ,KAAK;AAAA,EAAA;AAEjB;ACHO,SAAS,YACd,SACA;AACM,QAAA,WAAW,IAAI,qBAAqB,CAAW,YAAA;AACnD,YAAQ,QAAQ,CAAS,UAAA;AACvB,YAAM,EAAC,OAAO,QAAQ,MAAM,QAAO,MAAM;AACzC,YAAM,CAAC,IAAI,MAAM,IACf,CAAC,GAAG,OAAO,EAAE;AAAA,QACX,CAAC,CAAA,EAAGE,OAAM,MAAMA,QAAO,IAAI,YAAY,MAAM;AAAA,WAC1C;AACH,UAAA,MAAM,QAAQ,UAAU;AAAM;AAElC,YAAM,OAAyB;AAAA,QAC7B;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MAAA;AAEF,cAAQ,IAAI,IAAI,EAAC,GAAG,QAAQ,MAAK;AAAA,IAAA,CAClC;AACD,aAAS,WAAW;AAAA,EAAA,CACrB;AAED,GAAC,GAAG,QAAQ,OAAA,CAAQ,EAAE,QAAQ,CAAU,WAAA;AAClC,QAAA,OAAO,IAAI,SAAS;AACb,eAAA,QAAQ,OAAO,IAAI,OAAO;AAAA,IACrC;AAAA,EAAA,CACD;AACH;ACWO,SAAS,aAAa;AAAA,EAC3B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAAiB;AACT,QAAA,gBAAgB,OAA0B,IAAI;AACpD,QAAM,EAAC,mBAAmB,yBAAwB,IAAI,mBAAmB;AAEzE,QAAM,QAAQ,OAAkB;AAAA,IAC9B,cAAc,EAAC,GAAG,GAAG,GAAG,EAAC;AAAA,EAC1B,CAAA,EAAE;AAEG,QAAA,aAAa,OAAO,OAAO;AACjC,aAAW,UAAU;AAErB,kBAAgB,MAAM;AACpB,QAAI,CAAC,UAAU;AACb,iBAAW,IAAI,IAAI;AAAA,QACjB,GAAG,WAAW,IAAI,EAAE;AAAA,QACpB;AAAA,QACA;AAAA,QACA,MAAM,WAAW,QAAQ;AAAA,QACzB,SAAS,WAAW,QAAQ;AAAA,MAAA,CAC7B;AAAA,IAAA,OACI;AACL,iBAAW,OAAO,EAAE;AAAA,IACtB;AACA,WAAO,MAAM;AACX,iBAAW,OAAO,EAAE;AAAA,IAAA;AAAA,KAErB,CAAC,IAAI,UAAU,YAAY,GAAG,CAAC;AAG5B,QAAA,iBAAiB,CAAC,aAAuC;AAC7D,iBAAa,QAAQ,CAAW,YAAA;;AAC9B,UAAI,QAAQ,WAASV,MAAA,WAAW,IAAI,EAAE,MAAjB,gBAAAA,IAAoB,OAAM;AAC7C,iBAAS,OAAO;AAAA,MAClB;AAAA,IAAA,CACD;AAAA,EAAA;AAGG,QAAA,cAAc,CAAC,MAAoC;;AACjD,UAAA,YAAY,WAAW,IAAI,EAAE;AACnC,UAAM,KAAK,IAAI;AACT,UAAA,kBACJ,CAAC,cAAc,WACf,CAAC,MAAM,aACP,cAAc,QAAQ,SAAS,MAAM,SAAS;AAGhD,QAAI,qBAAqB,CAAC,MAAM,CAAC,aAAa,CAAC,iBAAiB;AAC9D,QAAE,eAAe;AACjB,QAAE,gBAAgB;AAClB;AAAA,IACF;AAEA,gBAAY,UAAU;AACtB,yBAAqB,MAAM;AAG3B,QAAI,aAAa;AACf,2BAAqB,CAAC;AAAA,IACxB;AAEA,MAAE,aAAa,gBAAgB;AAE/B,UAAM,eAAe,EAAC,GAAG,EAAE,SAAS,GAAG,EAAE;AACzC,UAAM,cAAc,aAAa,GAAG,sBAAuB,CAAA;AAC3D,UAAM,KAAK,kBAAkB,EAAC,MAAM,MAAM,aAAc,GAAE;AAI1D,QAAI,mCAAS,SAAS;AACZ,cAAA,QAAQ,WAAW,CAAQ,SAAA;AACjC,UAAE,aAAa,aAAa,MAAM,GAAG,CAAC;AAAA,MAAA,CACvC;AAAA,IACH;AAEA,gBAAY,SAAS;AACrB,gBAAY,eAAe;AAC3B,QAAI,IAAI,SAAS;AACX,UAAA,QAAQ,QAAQ,WAAW;AAAA,IACjC;AAEW,WAAAA,MAAA,WAAA,SAAQ,gBAAR,wBAAAA,KAAsB,IAAI;AAGrC,0BAAsB,MAAM;AAC1B,qBAAe,CAAKW;;AAAA,gBAAAX,MAAAW,GAAE,gBAAF,gBAAAX,IAAA,KAAAW,IAAgB,IAAI;AAAA,OAAU;AAAA,IAAA,CACnD;AAGiB,sBAAA,QAAQ,YAAY,YAAY,IAAI;AAAA,EAAA;AAGlD,QAAA,aAAa,CAAC,MAAgD;;AAClE,MAAE,eAAe;AAEjB,QAAI,CAAC,MAAM;AAAa;AAExB,UAAM,SAAS,EAAE,UAAU,MAAM,aAAa;AAC9C,UAAM,SAAS,EAAE,UAAU,MAAM,aAAa;AAE9C,UAAM,UAAU;AAAA,MACd,GAAG,MAAM;AAAA,MACT,MAAM,MAAM,YAAY,OAAO;AAAA,MAC/B,KAAK,MAAM,YAAY,MAAM;AAAA,IAAA;AAGzB,UAAA,KAAK,kBAAkB,EAAC,MAAM,SAAS,GAAG,QAAQ,QAAO;AAEzD,UAAA,SAAS,WAAW,IAAI,EAAE;AAChC,QAAI,QAAQ;AACC,aAAAX,MAAA,WAAA,SAAQ,eAAR,wBAAAA,KAAqB,IAAI;AACpC,qBAAe,CAAKW;;AAAA,gBAAAX,MAAAW,GAAE,eAAF,gBAAAX,IAAA,KAAAW,IAAe,IAAI;AAAA,OAAO;AAAA,IAChD;AAEA,UAAM,eAAe,EAAC,GAAG,EAAE,SAAS,GAAG,EAAE;AACzC,UAAM,cAAc;AAAA,EAAA;AAGhB,QAAA,YAAY,CAAC,MAAoC;;AAC5B;AACzB,QAAI,CAAC,MAAM;AAAa;AAExB,yBAAqB,IAAI;AACzB,QAAI,YAAY;AACd,iBAAW,OAAO;AAAA,IACpB;AAEA,UAAM,KAAK,kBAAkB,EAAC,MAAM,MAAM,aAAa,GAAE;AAEnD,UAAA,YAAY,WAAW,IAAI,EAAE;AACnC,QAAI,WAAW;AACF,aAAAX,MAAA,WAAA,SAAQ,cAAR,wBAAAA,KAAoB,IAAI;AACnC,qBAAe,QAAK;;AAAA,gBAAAA,MAAAW,GAAE,cAAF,gBAAAX,IAAA,KAAAW,IAAc,IAAI,WAAW,YAAa;AAAA,OAAO;AAAA,IACvE;AAGA,0BAAsB,MAAM;AAC1B,kBAAY,eAAe;AAC3B,kBAAY,SAAS;AACrB,UAAI,IAAI,SAAS;AACR,eAAA,IAAI,QAAQ,QAAQ;AAAA,MAC7B;AAAA,IAAA,CACD;AAAA,EAAA;AAGH,QAAM,iBAAiB;AAAA,IACrB,WAAW,CAAC;AAAA,IACZ;AAAA,IACA;AAAA,IACA,eAAe,CAAC,MAA0B;AACxC,YAAM,YAAY,EAAE;AAAA,IACtB;AAAA,EAAA;AAGK,SAAA,EAAC,gBAAgB;AAC1B;AAEA,IAAI;AACJ,SAAS,qBAAqB,GAAoB;AAChD,MAAI,CAAC,YAAY;AACf,iBAAa,IAAI;AAER,aAAA,KAAK,OAAO,UAAU;AAC/B,eAAW,MACT;AAAA,EACJ;AAEA,IAAE,aAAa,aAAa,YAAY,GAAG,CAAC;AAC9C;ACzNgB,SAAA,gBACd,OACA,WACA,SACK;AACL,QAAM,OAAO,MAAM,WAAW,GAAG,MAAM,SAAS,CAAC;AACjD,QAAM,KAAK,MAAM,SAAS,GAAG,MAAM,SAAS,CAAC;AAE7C,MAAI,SAAS,IAAI;AACR,WAAA;AAAA,EACT;AAEM,QAAA,SAAS,MAAM,IAAI;AACnB,QAAA,QAAQ,KAAK,OAAO,KAAK;AAE/B,WAAS,IAAI,MAAM,MAAM,IAAI,KAAK,OAAO;AACvC,UAAM,CAAC,IAAI,MAAM,IAAI,KAAK;AAAA,EAC5B;AAEA,QAAM,EAAE,IAAI;AAEL,SAAA;AACT;ACxBgB,SAAA,mBACd,OACA,MACA,IACK;AACC,QAAA,WAAW,MAAM;AACd,WAAA;AAAA,IACP,KAAK,IAAI,SAAS,SAAS,KAAK;AAAA,IAChC;AAAA,IACA,SAAS,OAAO,MAAM,CAAC,EAAE,CAAC;AAAA,EAAA;AAGrB,SAAA;AACT;ACJA,IAAI,cAiBA;AAiBG,SAAS,YAAY;AAAA,EAC1B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,iBAAiB;AACnB,GAAqB;AACb,QAAA,eAAe,OAAqB,IAAI;AAK9C,YAAU,MAAM;AACd,QAAI,eAAe,YAAY,UAAU,WAAW,MAAM,QAAQ;AACpD,kBAAA,YAAY,CAAC,GAAG,KAAK;AACrB,kBAAA,cAAc,MAAM,QAAQ,IAAI;AAAA,IAC9C;AAAA,EAAA,GACC,CAAC,OAAO,IAAI,CAAC;AAEhB,QAAM,EAAC,gBAAgB,cAAa,IAAI,aAAa;AAAA,IACnD,IAAI;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,aAAa,MAAM;;AACjB,mBAAa,UAAU;AACT,oBAAA;AAAA,QACZ,WAAW,CAAC,GAAG,KAAK;AAAA,QACpB,gBAAgB;AAAA,QAChB,aAAa,MAAM,QAAQ,IAAI;AAAA,QAC/B,YAAY,MAAM,QAAQ,IAAI;AAAA,QAC9B,cAAc;AAAA,QACd,cAAc,IAAI,UAAU,gBAAgB,IAAI,OAAO,IAAI;AAAA,QAC3D,gBAAgB,MAAM;AACpB,sBAAY,UAAU;AAAA,QACxB;AAAA,MAAA;AAGF,UAAI,mBAAmB,YAAY;AACnB;MAChB;AACc;AACd,OAAAX,MAAA,YAAY,iBAAZ,gBAAAA,IAA0B;AAAA,QACxB;AAAA,QACA,YAAY;AAAA;AAAA,IAEhB;AAAA,IACA,WAAW,MAAM;;AACf,UAAI,CAAC;AAAa;AAElB,UAAI,mBAAmB,YAAY;AAChB;MACnB;AAEA,kBAAY,eAAe;AAC3B,mEAAuB,YAAY;AAC/B,UAAA,YAAY,gBAAgB,YAAY,YAAY;AAC1C,+CAAA,YAAY,aAAa,YAAY;AAAA,MACnD;AACA,OAAAA,MAAA,YAAY,iBAAZ,gBAAAA,IAA0B;AAAA,QACxB;AAAA,QACA,YAAY;AAAA;AAEG;AAEL;AACE,oBAAA;AAAA,IAChB;AAAA,IACA,SAAS,MAAM;AAAA,IAAC;AAAA,EAAA,CACjB;AAEK,QAAA,EAAC,eAAc,IAAI,aAAa;AAAA,IACpC,IAAI;AAAA,IACJ;AAAA,IACA,OAAO,CAAC,IAAI;AAAA,IACZ;AAAA,IACA,2BAA2B;AAAA,IAC3B,YAAY,CAAC,QAAQ,MAAM;;AACrB,UAAA,CAAC,eAAe,mBAAmB,QAAQ;AAC7C;AAAA,MACF;AAEA,YAAM,mBAAmB,YAAY;AACrC,UAAI,cAA4B;AAEhC,YAAM,QAAOA,MAAA,WAAW,IAAI,IAAI,MAAnB,gBAAAA,IAAsB;AACnC,UAAI,MAAM;AACR,cAAM,OAAO,KAAK,MAAM,KAAK,SAAS;AAClC,YAAA,EAAE,WAAW,MAAM;AACP,wBAAA;AAAA,QAAA,WACL,EAAE,WAAW,MAAM;AACd,wBAAA;AAAA,QAChB;AAAA,MACF;AAEA,UAAI,gBAAgB,kBAAkB;AACpC,cAAM,YAAY,YAAY,UAAU,QAAQ,IAAI;AACpD,oBAAY,eAAe;AAC3B,qEAAuB,YAAY;AAElB;AACjB,YAAI,IAAI,SAAS;AACX,cAAA,YAAY,iBAAiB,SAAS;AACzB,2BAAA,IAAI,SAAS,QAAQ;AAAA,UAAA,OAC/B;AAEL,gBAAI,cAAc,GAAG;AACJ,6BAAA,IAAI,SAAS,KAAK;AAAA,YAAA,OAE5B;AACL,oBAAM,cAAc,YAAY,UAAU,YAAY,CAAC;AACjD,oBAAA,YAAY,WAAW,IAAI,WAAW;AACxC,kBAAA,uCAAW,IAAI,SAAS;AACX,+BAAA,UAAU,IAAI,SAAS,QAAQ;AAAA,cAChD;AAAA,YACF;AAAA,UACF;AAAA,QACF;AAEM,cAAA,YAAY,MAAM,QAAQ,IAAI;AAGhC,YAAA,YAAY,gBAAgB,WAAW;AACzC,sBAAY,aAAa,YAAY;AACrC;AAAA,QACF;AAIA,cAAM,gBACJ,YAAY,YAAY,cAAc,UAAU;AAClD,YAAI,kBAAkB,SAAS;AAC7B,sBAAY,aACV,YAAY,iBAAiB,WAAW,YAAY,IAAI;AAAA,QAAA,OACrD;AACL,sBAAY,aACV,YAAY,iBAAiB,UAAU,YAAY,IAAI;AAAA,QAC3D;AAAA,MACF;AAAA,IACF;AAAA,IACA,aAAa,MAAM;AACb,UAAA,CAAC,eAAe,mBAAmB;AAAQ;AAE/C,YAAM,YAAY,YAAY,UAAU,QAAQ,IAAI;AAC9C,YAAA,WAAW,YAAY,UAAU;AAAA,QACrC,YAAY;AAAA,MAAA;AAGE,sBAAA,YAAY,WAAW,UAAU,SAAS;AACpD,YAAA,QAAQ,YAAY,UAAU,IAAI,OAAK;;AAAA,gBAAAA,MAAA,WAAW,IAAI,CAAC,MAAhB,gBAAAA,IAAmB;AAAA,OAAI;AAEpE,kBAAY,UAAU,QAAQ,CAAC,UAAU,UAAU;AACjD,YAAI,CAAC;AAAa;AAElB,cAAM,WAAW;AAAA,UACf;AAAA,UACA;AAAA,UACA,YAAY;AAAA,QAAA;AAER,cAAA,UAAU,MAAM,KAAK;AACrB,cAAA,UAAU,SAAS,KAAK;AACxB,cAAA,iBAAiB,WAAW,IAAI,QAAQ;AAE9C,aAAI,iDAAgB,IAAI,YAAW,WAAW,SAAS;AAC/C,gBAAA,IAAI,QAAQ,OAAO,QAAQ;AAC3B,gBAAA,IAAI,QAAQ,MAAM,QAAQ;AAChC,yBAAe,IAAI,QAAQ,MAAM,YAAY,eAAe,CAAC,OAAO,CAAC;AAAA,QACvE;AAAA,MAAA,CACD;AAED,kBAAY,aAAa;AAAA,IAC3B;AAAA,IACA,aAAa,MAAM;AACb,UAAA,CAAC,eAAe,mBAAmB,QAAQ;AAC7C;AAAA,MACF;AACA,kBAAY,eAAe;AAC3B,mEAAuB,YAAY;AAAA,IACrC;AAAA,EAAA,CACD;AAEM,SAAA;AAAA,IACL,eAAe,EAAC,GAAG,WAAW,gBAAgB,cAAc,EAAC;AAAA,IAC7D;AAAA,EAAA;AAEJ;AAEA,MAAM,aAAa;AAEnB,SAAS,gBAAgB;AACvB,MAAI,CAAC;AAAa;AAClB,cAAY,UAAU,QAAQ,CAAC,UAAU,UAAU;AAC3C,UAAA,YAAY,WAAW,IAAI,QAAQ;AACrC,QAAA,EAAC,uCAAW,IAAI;AAAS;AAEnB,cAAA,IAAI,QAAQ,MAAM,aAAa;AAErC,SAAA,2CAAa,iBAAgB,OAAO;AAC5B,gBAAA,IAAI,QAAQ,MAAM,UAAU;AAAA,IACxC;AAAA,EAAA,CACD;AACH;AAGA,SAAS,mBAAmB;AAC1B,MAAI,CAAC;AAAa;AACN,cAAA,UAAU,QAAQ,CAAY,aAAA;AAClC,UAAA,YAAY,WAAW,IAAI,QAAQ;AACrC,QAAA,uCAAW,IAAI,SAAS;AAChB,gBAAA,IAAI,QAAQ,MAAM,YAAY;AAC9B,gBAAA,IAAI,QAAQ,MAAM,aAAa;AAC/B,gBAAA,IAAI,QAAQ,MAAM,UAAU;AAC5B,gBAAA,IAAI,QAAQ,MAAM,SAAS;AAAA,IACvC;AAAA,EAAA,CACD;AACH;AAEA,SAAS,mBAAmB;AAC1B,MAAI,2CAAa,eAAe;AAClB,gBAAA,cAAc,MAAM,oBAAoB;AACxC,gBAAA,cAAc,MAAM,iBAAiB;AACjD,gBAAY,gBAAgB;AAAA,EAC9B;AACF;AAEA,SAAS,eAAe,IAAiB,MAAwB;AAC/D,QAAM,QAAQ;AACd,MAAI,SAAS,OAAO;AAClB,OAAG,MAAM,iBAAiB;AAAA,EAAA,OACrB;AACL,OAAG,MAAM,oBAAoB;AAAA,EAC/B;AACA,MAAI,aAAa;AACf,gBAAY,gBAAgB;AAAA,EAC9B;AACF;ACvPO,SAAS,aAAa;AACrB,QAAA,EAAC,cAAa;AACpB,QAAM,WAAW;AAEX,QAAA,EAAC,cAAa;AACd,QAAA,WAAW,kBAAkB,SAAU;AACvC,QAAA,OAAO,UAAU,QAAQ;AAE/B,YAAU,MAAM;AAEd,QAAI,CAAC,MAAM;AACT,eAAS,yBAAyB;AAAA,IAAA,OAC7B;AACL,wBAAkB,QAAQ,aAAa,kBAAkB,KAAK,EAAE,IAAI;AAAA,IACtE;AAAA,EAAA,GACC,CAAC,UAAU,IAAI,CAAC;AAEnB,MAAI,CAAC,MAAM;AACF,WAAA;AAAA,EACT;AAEO,SAAA,oBAAC,qBAAkB,SAAoB,CAAA;AAChD;AAKA,SAAS,kBAAkB,EAAC,YAAgC;AACpD,QAAA;AAAA,IACJ,MAAM,EAAC,eAAc;AAAA,MACnB,YAAY;AAChB,QAAM,oBAAoB;AAAA,IACxB,CAAK,MAAA;;AAAA,cAAAA,MAAA,EAAE,WAAF,gBAAAA,IAAU,SAAS,MAAM;AAAA;AAAA,EAAA;AAG1B,QAAA,gBAAgB,QAAQ,MAAM;AAClC,UAAM,YAAY,CAAC,GAAG,uDAAmB,SAAS;AAClD,QAAI,gBAAgB;AAClB,gBAAU,KAAK,kBAAkB;AAAA,IACnC;AACO,WAAA,UAAU,IAAI,CAAa,cAAA;AAAA,MAChC,KAAK;AAAA,MACL,MAAM,SAAS,WAAW,KAAK,GAAG;AAAA,IAClC,EAAA;AAAA,EAAA,GACD,CAAC,mBAAmB,cAAc,CAAC;AAEtC,QAAM,aAAa,cAIjB;AAAA,IACA,MAAM,GAAG,QAAQ;AAAA,IACjB,SAAS;AAAA,EAAA,CACV;AAED,8BACG,UACC,EAAA,UAAA;AAAA,IAAC,qBAAA,OAAA,EAAI,WAAU,wBACb,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAM,GAAG,QAAQ;AAAA,UACjB,OAAO,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,UAClC,WAAU;AAAA,UACV,WAAS;AAAA,QAAA;AAAA,MACX;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAS;AAAA,UACT,MAAM,GAAG,QAAQ;AAAA,UACjB,UAAS;AAAA,UACT,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,UACvC,aACE,oBAAC,OAAM,EAAA,SAAQ,4CAA4C,CAAA;AAAA,UAG5D,UAAc,cAAA,IAAI,CACjB,SAAA,oBAACY,QAAsB,OAAO,KAAK,KAAK,iBAAe,MACpD,UAAA,KAAK,QADK,KAAK,GAElB,CACD;AAAA,QAAA;AAAA,MACH;AAAA,IAAA,GACF;AAAA,IACA,oBAAC,oBAAiB,YAAwB;AAAA,wBACzC,OAAI,EAAA,WAAU,cACb,UAAA,oBAAC,oBAAkB,CAAA,GACrB;AAAA,EACF,EAAA,CAAA;AAEJ;AASA,SAAS,iBAAiB,EAAC,YAAY,EAAC,QAAQ,QAAQ,KAAA,KAAuB;AAC7E,QAAM,WAAW;AAEjB,8BACG,UACC,EAAA,UAAA;AAAA,IAAC,qBAAA,OAAA,EAAI,WAAU,0DACb,UAAA;AAAA,MAAC,oBAAA,OAAA,EAAM,SAAQ,aAAa,CAAA;AAAA,MAC5B;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,WAAU;AAAA,UACV,QAAQ;AAAA,UACR,SAAS,CAAC,mBAAoC;AAC5C,gBAAI,gBAAgB;AACX,qBAAA,EAAC,GAAG,eAAA,CAAe;AACjB,uBAAA,SAAS,OAAO,MAAM,EAAE;AAAA,YACnC;AAAA,UACF;AAAA,UAEA,UAAA;AAAA,YAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,SAAQ;AAAA,gBACR,OAAM;AAAA,gBACN,MAAK;AAAA,gBACL,+BAAY,SAAQ,EAAA;AAAA,gBAEpB,UAAA,oBAAC,OAAM,EAAA,SAAQ,MAAM,CAAA;AAAA,cAAA;AAAA,YACvB;AAAA,gCACC,mBAAkB,EAAA;AAAA,UAAA;AAAA,QAAA;AAAA,MACrB;AAAA,IAAA,GACF;AAAA,IACA,qBAAC,OAAI,EAAA,WAAU,uBACZ,UAAA;AAAA,MAAO,OAAA,IAAI,CAAC,MAAM,UACjB;AAAA,QAAC;AAAA,QAAA;AAAA,UAEC;AAAA,UACA,OAAO;AAAA,UACP;AAAA,UACA,WAAW,CAAC,UAAU,aAAa;AACjC,iBAAK,UAAU,QAAQ;AAAA,UACzB;AAAA,QAAA;AAAA,QANK,KAAK;AAAA,MAAA,CAQb;AAAA,MACA,CAAC,OAAO,SACP;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,WAAU;AAAA,UACV,OAAO,oBAAC,UAAS,EAAA,KAAK,aAAc,CAAA;AAAA,UACpC,OAAO,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,UAC1C,aACE,oBAAC,OAAM,EAAA,SAAQ,yFAAyF,CAAA;AAAA,QAAA;AAAA,MAAA,IAG1G;AAAA,IAAA,GACN;AAAA,EACF,EAAA,CAAA;AAEJ;AAEA,SAAS,oBAAoB;AAC3B,QAAM,WAAW;AACX,QAAA,EAAC,cAAa;AACpB,QAAM,EAAC,QAAQ,OAAM,IAAI,cAIvB;AAAA,IACA,MAAM;AAAA,IACN,SAAS;AAAA,EAAA,CACV;AACD,MAAI,CAAC;AAAkB,WAAA;AACjB,QAAA,OAAO,OAAO,CAAC,SAAS;AAG5B,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,SAAS,CAAe,gBAAA;AACtB,YAAI,aAAa;AACf,gBAAM,QAAQ,OAAO,UAAU,QAAKD,GAAE,OAAO,KAAK,EAAE;AACpD,iBAAO,KAAK;AACZ,mBAAS,yBAAyB;AAAA,QACpC;AAAA,MACF;AAAA,MAEA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAQ;AAAA,YACR,OAAM;AAAA,YACN,MAAK;AAAA,YACL,+BAAY,YAAW,EAAA;AAAA,YAEvB,UAAA,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,UAAA;AAAA,QAC/B;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,UAAQ;AAAA,YACR,OAAO,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,YACpC,MACE;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,SAAQ;AAAA,gBACR,QAAQ,EAAC,MAAM,KAAK,KAAI;AAAA,cAAA;AAAA,YAC1B;AAAA,YAEF,SAAS,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,UAAA;AAAA,QACnC;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAQA,SAAS,aAAa,EAAC,MAAM,OAAO,OAAO,aAA+B;AAClE,QAAA,MAAM,OAA0B,IAAI;AAC1C,QAAM,EAAC,eAAe,cAAa,IAAI,YAAY;AAAA,IACjD;AAAA,IACA;AAAA,IACA,MAAM;AAAA,IACN;AAAA,IACA;AAAA,IACA,gBAAgB;AAAA,EAAA,CACjB;AAED,QAAM,OAAO,KAAK,QAAQ,sBAAsB,KAAK,IAAI;AACzD,QAAM,gBACJ,qBAAC,OAAI,EAAA,WAAU,8CACZ,UAAA;AAAA,IAAQ,QAAA,oBAAC,MAAK,EAAA,MAAK,KAAK,CAAA;AAAA,IAAG;AAAA,IAC3B,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,IAAE;AAAA,EAClC,EAAA,CAAA;AAGF,6BACG,UACC,EAAA,UAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,aAAa;AAAA,MACb,IAAI,SAAS,KAAK;AAAA,MAClB;AAAA,MACC,GAAG;AAAA,MAEJ,UAAA,qBAAC,OAAI,EAAA,WAAU,4BACb,UAAA;AAAA,QAAC,oBAAA,YAAA,EAAW,KAAK,eAAe,MAAK,MACnC,UAAC,oBAAA,mBAAA,EAAkB,WAAU,+BAAA,CAA+B,EAC9D,CAAA;AAAA,QACC,oBAAA,OAAA,EAAK,UAAK,KAAA,SAAS,eAAc;AAAA,MAAA,GACpC;AAAA,IAAA;AAAA,EAEJ,EAAA,CAAA;AAEJ;ACnQa,MAAAE,uBAAqB,MAAM,WAGtC,CAAC,EAAC,eAAe,eAAe,GAAG,MAAK,GAAG,QAAQ;AACnD,QAAM,EAAC,KAAI,IAAI,cAAc,CAAC,YAAY,CAAC;AACrC,QAAA,eAAc,6BAAM,iBAAe,6BAAM;AAEzC,QAAA,CAAC,OAAO,QAAQ,IAAI,mBAAmB,MAAM,OAAO,CAAI,GAAA,MAAM,QAAQ;AAC5E,QAAM,CAAC,cAAc,eAAe,IAAI,SAAS,KAAK;AAEtD,MAAI,CAAC;AAAoB,WAAA;AAEzB,QAAM,qBAAqB;AAAA,IACzB;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAGI,QAAA,sBAAsB,CAAC,kBAA8B;AACnD,UAAA,WAAW,CAAC,GAAG,KAAK;AAC1B,UAAM,QAAQ,SAAS,UAAU,OAAK,EAAE,OAAO,cAAc,EAAE;AAC/D,QAAI,QAAQ,IAAI;AACL,eAAA,OAAO,OAAO,GAAG,aAAa;AAAA,IACzC;AACA,aAAS,QAAQ;AAAA,EAAA;AAGnB,8BACG,UACC,EAAA,UAAA;AAAA,IAAC,oBAAA,WAAA,EAAU,SAAQ,WAAU,KAC1B,UAAA,mBAAmB,IAAI,CAAC,EAAC,WAAW,OAAO,WAC1C,MAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAQ,oBAAA,OAAA,EAAM,SAAS,WAAW,SAAS,GAAG;AAAA,QAE9C,WAAW,aAAa,oBAAC,aAAY,EAAA,MAAK,MAAK,IAAK;AAAA,QAEpD,UAAC,oBAAA,MAAA,EACE,UAAM,MAAA,IAAI,CAAc,eAAA;AACvB,gBAAM,QAAQ,MAAM,UAAU,OAAK,EAAE,OAAO,WAAW,EAAE;AACzD,gBAAM,YAAY,QAAQ;AAE1B,sCACG,OACC,EAAA,UAAA;AAAA,YAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,YAAY,MAAM;AAChB,sBAAI,WAAW;AACP,0BAAA,WAAW,CAAC,GAAG,KAAK;AACjB,6BAAA,OAAO,OAAO,CAAC;AACxB,6BAAS,QAAQ;AAAA,kBAAA,OACZ;AACL,6BAAS,CAAC,GAAG,OAAO,UAAU,CAAC;AAAA,kBACjC;AAAA,gBACF;AAAA,gBACA,YACE;AAAA,kBAAC;AAAA,kBAAA;AAAA,oBACC,UAAU;AAAA,oBACV,SAAS;AAAA,oBACT,UAAU,MAAM;AAAA,oBAAC;AAAA,kBAAA;AAAA,gBACnB;AAAA,gBAEF,aAAa,oBAAC,OAAM,EAAA,SAAS,WAAW,aAAa;AAAA,gBAErD,UAAA;AAAA,kBAAC;AAAA,kBAAA;AAAA,oBACC,SAAS,WAAW,gBAAgB,WAAW;AAAA,kBAAA;AAAA,gBACjD;AAAA,cAAA;AAAA,YACF;AAAA,YACC,aACC;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC;AAAA,gBACA,UAAU;AAAA,cAAA;AAAA,YACZ;AAAA,UAAA,KA5BM,WAAW,EA8BrB;AAAA,QAEH,CAAA,GACH;AAAA,MAAA;AAAA,MA1CK;AAAA,IA4CR,CAAA,GACH;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,SAAS;AAAA,QACT,UAAU,CAAK,MAAA;AACG,0BAAA,EAAE,OAAO,OAAO;AAAA,QAClC;AAAA,QAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,4BAA4B,CAAA;AAAA,MAAA;AAAA,IAC7C;AAAA,EACF,EAAA,CAAA;AAEJ,CAAC;AAMD,SAAS,aAAa,EAAC,YAAY,YAA8B;;AAC3D,MAAA,GAACb,MAAA,yCAAY,iBAAZ,gBAAAA,IAA0B;AAAe,WAAA;AAExC,QAAA,sBAAsB,CAC1B,MACA,UACG;AACG,UAAA,YAAY,QAAQ,YAAY,CAAc,eAAA;AAClD,YAAM,cAAc,WAAW,aAAa,KAAK,CAAK,MAAA,EAAE,SAAS,IAAI;AACrE,UAAI,aAAa;AACf,oBAAY,QAAQ;AAAA,MACtB;AAAA,IAAA,CACD;AACD,yCAAW;AAAA,EAAS;AAIpB,SAAA,oBAAC,SAAI,WAAU,eACZ,qBAAW,aAAa,IAAI,CAAC,aAAa,UAAU;AACnD,UAAM,SAAS,UAAU,WAAW,aAAa,SAAS;AAE1D,UAAM,OAAQ,oBAAA,OAAA,EAAM,SAAS,WAAW,YAAY,IAAI,EAAG,CAAA;AACrD,UAAA,cAAc,YAAY,cAC9B,oBAAC,SAAM,SAAS,YAAY,aAAa,IACvC;AAEA,QAAA,YAAY,SAAS,QAAQ;AAE7B,aAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC;AAAA,UAEA,WAAW,KAAK,CAAC,UAAU,OAAO;AAAA,UAClC,SAAS,QAAQ,YAAY,KAAK;AAAA,UAClC,UAAU,CAAK,MAAA;AACb,gCAAoB,YAAY,MAAM,EAAE,OAAO,OAAO;AAAA,UACxD;AAAA,UAEC,UAAA;AAAA,QAAA;AAAA,QAPI,YAAY;AAAA,MAAA;AAAA,IAUvB;AAGE,WAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAO;AAAA,QACP;AAAA,QACA,MAAK;AAAA,QAEL,WAAW,KAAK,CAAC,UAAU,OAAO;AAAA,QAClC,OAAQ,YAAY,SAAoB;AAAA,QACxC,UAAU,CAAK,MAAA;AACb;AAAA,YACE,YAAY;AAAA,YACZ,EAAE,OAAO,UAAU,KAAK,SAAY,SAAS,EAAE,OAAO,KAAK;AAAA,UAAA;AAAA,QAE/D;AAAA,MAAA;AAAA,MARK,YAAY;AAAA,IAAA;AAAA,EAWtB,CAAA,EACH,CAAA;AAEJ;AAKO,SAAS,uBAAuB,OAA2B;AAC1D,QAAA;AAAA,IACJ,OAAO,EAAC,UAAU,QAAQ,CAAA,GAAI,IAAG;AAAA,MAC/B,cAAc;AAAA,IAChB,MAAM,MAAM;AAAA,EAAA,CACb;AAED,QAAM,YAA8C;AAAA,IAClD;AAAA,IACA;AAAA,EAAA;AAGF,6BAAQa,sBAAmB,EAAA,KAAW,GAAG,WAAW,WAAW,KAAK,EAAG,CAAA;AACzE;AAEa,MAAA,aAAa,CAAC,SAAiB;AAC1C,SAAO,QAAQ,KAAK,QAAQ,KAAK,GAAG,CAAC;AACvC;AAUgB,SAAA,oBACd,gBACA,qBACA,cACA;AACA,QAAM,qBAAwC,CAAA;AAE9C,iBAAe,QAAQ,CAAc,eAAA;AACnC,UAAM,QAAQ,oBAAoB,UAAU,OAAK,EAAE,OAAO,WAAW,EAAE;AACnE,QAAA,CAAC,gBAAgB,WAAW;AAAU;AAE1C,QAAI,QAAqC,mBAAmB;AAAA,MAC1D,CAAA,MAAK,EAAE,cAAc,WAAW;AAAA,IAAA;AAElC,QAAI,CAAC,OAAO;AACF,cAAA,EAAC,WAAW,WAAW,OAAO,YAAY,OAAO,OAAO,CAAA;AAChE,yBAAmB,KAAK,KAAK;AAAA,IAC/B;AAEA,QAAI,QAAQ,IAAI;AACd,YAAM,mBAAmB;AAAA,QACvB,GAAG;AAAA,QACH,cAAc;AAAA,UACZ,WAAW;AAAA,UACX,oBAAoB,KAAK,EAAE;AAAA,QAC7B;AAAA,MAAA;AAEF,YAAM,aAAa;AACb,YAAA,MAAM,KAAK,gBAAgB;AAAA,IAAA,OAC5B;AACC,YAAA,MAAM,KAAK,UAAU;AAAA,IAC7B;AAAA,EAAA,CACD;AAEM,SAAA;AACT;AAEA,SAAS,kBACP,iBACA,sBACyB;AAClB,SAAA,mDAAiB,IAAI,CAAe,gBAAA;AACzC,UAAM,WAAW,qBAAqB;AAAA,MACpC,CAAA,MAAK,EAAE,SAAS,YAAY;AAAA,IAAA;AAE9B,QAAI,UAAU;AACZ,aAAO,EAAC,GAAG,aAAa,OAAO,SAAS,MAAK;AAAA,IAAA,OACxC;AACE,aAAA;AAAA,IACT;AAAA,EAAA;AAEJ;ACtQO,MAAM,gBAAgB;AAAA,EAC3B,MAAM;AAAA,EACN,QACE;AACJ;ACKA,MAAM,YAAY,CAAC,GAAG,MAAM,EAAE,EAAE,KAAM,CAAA;AAEtC,MAAM,WAAW,MAAM,KAAK,MAAM,OAAO,0BAAa,CAAC;AAK/B,SAAA,WAAW,EAAC,kBAAgC;AAC5D,QAAA,EAAC,UAAS;AAChB,QAAM,CAAC,OAAO,QAAQ,IAAI,MAAM,SAAS,EAAE;AAGzC,SAAA,qBAAC,OAAI,EAAA,WAAU,QACb,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV;AAAA,QACA,UAAU,CAAK,MAAA;AACJ,mBAAA,EAAE,OAAO,KAAK;AAAA,QACzB;AAAA,QACA,aAAa,MAAM,EAAC,SAAS,mBAAkB;AAAA,MAAA;AAAA,IACjD;AAAA,IACA,oBAAC,iBAAgB,EAAA,MAAK,QACpB,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,UACG,oBAAA,EAAE,KAAF,EAAO,GAAG,kBAAkB,WAAW,cAAc,MACnD,UAAA,UAAU,IAAI,CAAC,GAAG,UAChB,oBAAA,OAAA,EAAI,WAAW,cAAc,QAC5B,UAAA,oBAAC,UAAS,EAAA,SAAQ,OAAO,CAAA,EAAA,GADgB,KAE3C,CACD,EACH,CAAA;AAAA,QAGF,UAAC,oBAAA,EAAE,KAAF,EAAO,GAAG,kBAAkB,WAAW,cAAc,MACpD,UAAC,oBAAA,UAAA,EAAS,aAAa,OAAO,eAAgC,CAAA,GAChE;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,EACF,EAAA,CAAA;AAEJ;ACzCO,SAAS,mBAAmB;AACjC,SACG,qBAAA,QAAA,EAAO,MAAK,SAAQ,WAAU,gBAC7B,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA,GAC/B;AAAA,IACC,oBAAA,YAAA,EACC,UAAC,oBAAA,mBAAA,CAAkB,CAAA,GACrB;AAAA,EACF,EAAA,CAAA;AAEJ;AAEA,SAAS,oBAAoB;AACrB,QAAA,EAAC,UAAS;AAEd,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,gBAAgB,CAAS,UAAA;AACvB,cAAM,KAAK;AAAA,MACb;AAAA,IAAA;AAAA,EAAA;AAGN;ACGO,SAAS,aAAa;AAAA,EAC3B;AAAA,EACA;AACF,GAAsB;AACd,QAAA,EAAC,UAAS;AACV,QAAA,aAAa,CAAC,SAAyB;AAC3C,WAAO,iBAAiB,GAAG,cAAc,IAAI,IAAI,KAAK;AAAA,EAAA;AAGxD,8BACG,UACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAM,WAAW,OAAO;AAAA,QACxB,OAAO,oBAAC,OAAM,EAAA,SAAQ,QAAQ,CAAA;AAAA,QAC9B,aAAa,MAAM,QAAQ,aAAa,CAAC;AAAA,QACzC,aAAc,oBAAA,mBAAA,EAAkB,WAAwB,CAAA;AAAA,MAAA;AAAA,IAC1D;AAAA,IACA,oBAAC,uBAAoB,YAAwB;AAAA,IAC5C,CAAC,+BACA,qBAAC,UACC,EAAA,UAAA;AAAA,MAAA,oBAACC,kBAAa,YAAwB;AAAA,MACtC,oBAAC,sBAAmB,YAAwB;AAAA,IAAA,GAC9C;AAAA,IAEF,oBAAC,gBAAa,YAAwB;AAAA,EACxC,EAAA,CAAA;AAEJ;AAGA,SAAS,kBAAkB;AAAA,EACzB;AAAA,EACA,GAAG;AACL,GAA2B;AACzB,QAAM,EAAC,OAAO,SAAQ,IAAI,eAA+B;AACnD,QAAA,YAAY,WAAW,MAAM;AAC7B,QAAA,kBAAkB,MAAM,SAAS;AACjC,QAAA,OAAO,mBAAmB,sBAAsB,eAAe;AAEnE,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,SAAS,CAAC,aAAiC;AAErC,YAAA,YAAY,aAAa,MAAM;AACjC,mBAAS,WAAW,UAAU;AAAA,YAC5B,aAAa;AAAA,UAAA,CACd;AAAA,QACH;AAAA,MACF;AAAA,MAEA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,SAAQ;AAAA,YACR,MAAK;AAAA,YACJ,GAAG;AAAA,YAEH,UAAO,OAAA,oBAAC,MAAK,CAAA,CAAA,wBAAM,UAAS,EAAA;AAAA,UAAA;AAAA,QAC/B;AAAA,4BACC,kBAAiB,EAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGxB;AAEA,SAAS,oBAAoB,EAAC,cAAwB;AACpD,QAAM,OAAO;AACb,QAAM,cAAc,KAAK,MAAM,WAAW,MAAM,CAAW;AACrD,QAAA,eAAe,YAAY,WAAW;AAC5C,QAAM,EAAC,KAAI,IAAI,cAAc,CAAC,oBAAoB,CAAC;AAC7C,QAAA,cAAa,6BAAM,uBAAsB;AAC/C,QAAM,mBAAmB,WAAW,KAAK,CAAK,MAAA,EAAE,SAAS,WAAW;AAC9D,QAAA,EAAC,UAAS;AAChB,QAAM,aAAa;AAGnB,YAAU,MAAM;AACV,QAAA,gBAAgB,iBAAiB,aAAa;AAChD,WAAK,SAAS,WAAW,QAAQ,GAAe,EAAE;AAAA,IACpD;AAAA,KACC,CAAC,aAAa,cAAc,MAAM,UAAU,CAAC;AAEhD,8BACG,UACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAM,WAAW,MAAM;AAAA,QACvB,eAAc;AAAA,QACd,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAE7B,UAAA;AAAA,UAAA,oBAACF,QAAO,OAAM,QACZ,8BAAC,OAAM,EAAA,SAAQ,eAAc,EAC/B,CAAA;AAAA,UACA,oBAACA,QAAO,OAAM,SACZ,8BAAC,OAAM,EAAA,SAAQ,aAAY,EAC7B,CAAA;AAAA,UACC,WAAW,IAAI,CACd,aAAA,oBAACA,MAA2B,EAAA,OAAO,SAAS,MACzC,UAAS,SAAA,KAAA,GADC,SAAS,IAEtB,CACD;AAAA,QAAA;AAAA,MAAA;AAAA,IACH;AAAA,IACC,gBAAgB,UACf;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,UAAQ;AAAA,QACR,MAAK;AAAA,QACL,MAAM,WAAW,QAAQ;AAAA,QACzB,aAAa,MAAM,EAAC,SAAS,kBAAiB;AAAA,QAC9C,OAAO,oBAAC,OAAM,EAAA,SAAQ,MAAM,CAAA;AAAA,MAAA;AAAA,IAC9B;AAAA,IAED,gBAAgB,WACf;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,UAAQ;AAAA,QACR,OAAO;AAAA,QACP,MAAM,WAAW,QAAQ;AAAA,QACzB,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAC7B,mBAAmB,MAAM,QAAQ,cAAc,CAAC;AAAA,QAChD,iBAAe;AAAA,QACf,eAAc;AAAA,QAEb,UAAA,CAAA,6BACE,MAAK,EAAA,OAAO,KAAK,IACf,UAAA,KAAK,MADmB,GAAA,KAAK,EAEhC;AAAA,MAAA;AAAA,IAEJ;AAAA,IAED,oBACC;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,UAAQ;AAAA,QACR,OAAO,iBAAiB;AAAA,QACxB,MAAM,WAAW,QAAQ;AAAA,QACzB,iBAAe;AAAA,QACf,mBAAmB,MAAM,QAAQ,WAAW,CAAC;AAAA,QAC7C,eAAc;AAAA,QACd,OAAO,oBAAC,OAAM,EAAA,SAAS,iBAAiB,MAAM;AAAA,QAE7C,UAAA,CAAA,SACE,oBAAA,MAAA,EAAK,OAAO,KAAK,QAChB,UAAA,oBAAC,OAAM,EAAA,SAAS,KAAK,MAAO,CAAA,GAC9B;AAAA,MAAA;AAAA,IAEJ;AAAA,EAEJ,EAAA,CAAA;AAEJ;AAEA,SAASE,eAAa,EAAC,cAAwB;AAC7C,QAAM,EAAC,KAAI,IAAI,cAAc,CAAC,SAAS,aAAa,CAAC;AAC/C,QAAA,SAAQ,6BAAM,UAAS;AACvB,QAAA,EAAC,UAAS;AAGd,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,aAAa,MAAM,EAAC,SAAS,eAAc;AAAA,MAC3C,OAAO,oBAAC,OAAM,EAAA,SAAQ,6BAA6B,CAAA;AAAA,MACnD,MAAM,WAAW,OAAO;AAAA,MACxB,UAAS;AAAA,MACT,aAAa;AAAA,MACb,UAAS;AAAA,MACT,aAAa;;AAAK,gBAAAd,MAAA,MAAM,KAAK,OAAK,EAAE,OAAO,EAAE,EAAE,MAA7B,gBAAAA,IAAgC;AAAA;AAAA,MAEjD,UACC,CAAA,SAAA,oBAAC,MAAK,EAAA,OAAO,KAAK,IAAkB,iBAAe,MACjD,UAAA,oBAAC,SAAM,SAAS,KAAK,MAAM,EAAA,GADF,KAAK,EAEhC;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA,SAAS,mBAAmB,EAAC,cAAwB;AACnD,QAAM,EAAC,KAAI,IAAI,cAAc,CAAC,SAAS,aAAa,CAAC;AAC/C,QAAA,EAAC,UAAS;AAEV,QAAA,qBAAqB,QAAQ,MAAM;AACvC,WAAO,qBAAoB,6BAAM,gBAAe,CAAA,GAAI,CAAA,GAAI,KAAK;AAAA,EAAA,GAC5D,CAAC,6BAAM,WAAW,CAAC;AAGpB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,oCAAoC,CAAA;AAAA,MAC1D,aAAa,MAAM,EAAC,SAAS,qBAAoB;AAAA,MACjD,UAAS;AAAA,MACT,aAAa;AAAA,MACb,MAAM,WAAW,aAAa;AAAA,MAC9B,UAAS;AAAA,MAER,UAAC,CAAA,EAAC,WAAW,MAAA,MACZ,oBAAC,SAAQ,EAAA,OAAO,WAAW,SAAS,GACjC,UAAA,MAAM,IAAI,CACT,eAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UAEC,OAAO,WAAW;AAAA,UAClB,aAAa,oBAAC,OAAM,EAAA,SAAS,WAAW,aAAa;AAAA,UAErD,8BAAC,OAAM,EAAA,SAAS,WAAW,gBAAgB,WAAW,MAAM;AAAA,QAAA;AAAA,QAJvD,WAAW;AAAA,MAAA,CAMnB,KATyC,SAU5C;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA,SAAS,aAAa,EAAC,cAAwB;AAC7C,QAAM,OAAO;AACb,QAAM,cAAc,KAAK,MAAM,WAAW,MAAM,CAAW;AAG3D,MAAI,gBAAgB,QAAQ;AACnB,WAAA;AAAA,EACT;AAGE,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,eAAc;AAAA,MACd,MAAM,WAAW,QAAQ;AAAA,MACzB,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,MAErC,UAAA;AAAA,QAAA,oBAACY,QAAO,OAAM,SACZ,8BAAC,OAAM,EAAA,SAAQ,eAAc,EAC/B,CAAA;AAAA,QACA,oBAACA,QAAO,OAAM,UACZ,8BAAC,OAAM,EAAA,SAAQ,cAAa,EAC9B,CAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AC9PO,SAAS,iBAAiB;AAC/B,QAAM,EAAC,WAAW,cAAa,IAAI,UAAU;AAC7C,QAAM,WAAWG;AAEX,QAAA,EAAC,cAAa;AAEpB,QAAM,WAAW,kBAAkB,SAAS,UAAU,aAAa;AAC7D,QAAA,OAAO,UAAU,QAAe;AAGtC,YAAU,MAAM;AACd,QAAI,CAAC;AAAM;AAAA,SAEJ;AACL,sBAAA,EAAkB,QAAQ;AAAA,QACxB,uBAAuB,KAAK,EAAE;AAAA,MAAA;AAAA,IAElC;AAAA,EAAA,GACC,CAAC,UAAU,IAAI,CAAC;AAGf,MAAA,CAAC,QAAQ,iBAAiB,MAAM;AAC3B,WAAA;AAAA,EACT;AAEO,SAAA,oBAAC,yBAAsB,SAAoB,CAAA;AACpD;AAKA,SAAS,sBAAsB,EAAC,YAAuC;AACrE,8BACG,UACC,EAAA,UAAA;AAAA,IAAC,oBAAA,cAAA,EAAa,gBAAgB,SAAU,CAAA;AAAA,wBACvC,OAAI,EAAA,WAAU,oBACb,UAAA,oBAAC,oBAAkB,CAAA,GACrB;AAAA,EACF,EAAA,CAAA;AAEJ;AAEA,SAAS,oBAAoB;AAC3B,QAAM,WAAWA;AACjB,QAAM,EAAC,WAAW,cAAa,IAAI,UAAU;AAC7C,QAAM,EAAC,QAAQ,OAAM,IAAI,cAAgC;AAAA,IACvD,MAAM,kBAAkB,CAAC,SAAU;AAAA,EAAA,CACpC;AAED,MAAI,CAAC;AAAsB,WAAA;AAErB,QAAA,OAAO,OAAO,CAAC,aAAa;AAGhC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,SAAS,CAAe,gBAAA;AACtB,YAAI,aAAa;AACf,cAAI,eAAe;AACjB,mBAAO,CAAC,aAAa;AACZ,qBAAA,2BAA2B,SAAS,EAAE;AAAA,UACjD;AAAA,QACF;AAAA,MACF;AAAA,MAEA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAQ;AAAA,YACR,OAAM;AAAA,YACN,MAAK;AAAA,YACL,+BAAY,YAAW,EAAA;AAAA,YAEvB,UAAA,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,UAAA;AAAA,QACpC;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,UAAQ;AAAA,YACR,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,YACzC,MACE;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,SAAQ;AAAA,gBACR,QAAQ,EAAC,MAAM,KAAK,MAAK;AAAA,cAAA;AAAA,YAC3B;AAAA,YAEF,SAAS,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,UAAA;AAAA,QACnC;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AC5FO,SAAS,iBAAiB;AAC/B,8BACG,UACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,UAAU,CAAA;AAAA,QAChC,aACE,oBAAC,OAAM,EAAA,SAAQ,wFAAwF,CAAA;AAAA,QAEzG,MAAK;AAAA,MAAA;AAAA,IACP;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA;AAAA,QACnC,aAAa,oBAAC,OAAM,EAAA,SAAQ,oCAAoC,CAAA;AAAA,QAChE,MAAK;AAAA,MAAA;AAAA,IACP;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,QAClC,aACE,oBAAC,OAAM,EAAA,SAAQ,+EAA+E,CAAA;AAAA,QAEhG,MAAK;AAAA,MAAA;AAAA,IACP;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,QAC1C,aACE,oBAAC,OAAM,EAAA,SAAQ,2FAA2F,CAAA;AAAA,QAE5G,MAAK;AAAA,MAAA;AAAA,IACP;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,QACzC,aACE,oBAAC,OAAM,EAAA,SAAQ,qFAAqF,CAAA;AAAA,QAEtG,MAAK;AAAA,MAAA;AAAA,IACP;AAAA,wBACC,mBAAkB,EAAA;AAAA,wBAClB,yBAAwB,EAAA;AAAA,EAC3B,EAAA,CAAA;AAEJ;AAOA,SAAS,sBAAsB,EAAC,OAAO,aAAa,QAA2B;AAC7E,QAAM,eAAe;AAAA,IACnB,CAAK,MAAA;;AAAA,cAAAf,MAAA,EAAE,aAAF,gBAAAA,IAAY,SAAS,SAAS;AAAA;AAAA,EAAI;AAGvC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAM,qBAAqB,IAAI;AAAA,MAC/B,WAAU;AAAA,MACV;AAAA,MACA;AAAA,MACA,YAAW;AAAA,MACX;AAAA,MACA,UAAU,MAAM;AACE,0BAAE,QAAQ,aAAa,sBAAsB;AAAA,MAC/D;AAAA,IAAA;AAAA,EAAA;AAGN;AACA,SAAS,oBAAoB;AAEzB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,UAAQ;AAAA,MACR,WAAU;AAAA,MACV,OAAO,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,IAAA;AAAA,EAAA;AAGxC;AAEA,SAAS,0BAA0B;AAE/B,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,WAAU;AAAA,MACV,kBAAiB;AAAA,MACjB,MAAM;AAAA,MACN,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,IAAA;AAAA,EAAA;AAG/C;AC7FO,SAAS,aAAa,MAAc,GAAG,MAAc,KAAO;AAC3D,QAAA,eAAe,IAAI,YAAY,CAAC;AAE/B,SAAA,OAAO,gBAAgB,YAAY;AAE1C,QAAM,SAAS,aAAa,CAAC,KAAK,aAAa;AAEzC,QAAA,KAAK,KAAK,GAAG;AACb,QAAA,KAAK,MAAM,GAAG;AACpB,SAAO,KAAK,MAAM,UAAU,MAAM,MAAM,EAAE,IAAI;AAChD;ACGO,SAAS,YAAY;AACpB,QAAA,EAAC,UAAS;AAChB,QAAM,WAAW;AACX,QAAA;AAAA,IACJ,MAAM,EAAC,OAAM;AAAA,MACX,iBAAiB;AACrB,QAAM,EAAC,QAAQ,OAAM,IAAI,cAIvB;AAAA,IACA,MAAM;AAAA,IACN,SAAS;AAAA,EAAA,CACV;AAED,YAAU,MAAM;AACd,QAAI,OAAO,iBAAiB;AAC1B,sBAAkB,EAAA,QAAQ,eAAe,OAAO,eAAe;AAAA,IACjE;AAAA,EAAA,GACC,CAAC,OAAO,eAAe,CAAC;AAE3B,8BACG,UACC,EAAA,UAAA;AAAA,IAAC,oBAAA,OAAA,EAAI,WAAU,SACb,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,SAAQ;AAAA,QACR,OAAM;AAAA,QACN,+BAAY,SAAQ,EAAA;AAAA,QACpB,SAAS,MAAM;;AACb,gBAAM,oBACJA,MAAA,gBAAkB,EAAA,aAAlB,gBAAAA,IAA4B,WAAW,OAAO;AACzC,iBAAA;AAAA,YACL,IAAI,aAAa;AAAA,YACjB,MAAM,MAAM,QAAQ,WAAW,CAAC;AAAA,YAChC,QAAQ;AAAA,UAAA,CACT;AACD,mBAAS,GAAG,OAAO,SAAS,CAAC,EAAE;AAAA,QACjC;AAAA,QAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,MAAA;AAAA,IAAA,GAE/B;AAAA,IACC,OAAO,IAAI,CAAC,OAAO,8BACjB,kBAAiC,EAAA,IAAI,GAAG,KAAK,IAAI,aAAa,SAC5D,gBAAM,KADc,GAAA,MAAM,GAE7B,CACD;AAAA,EACH,EAAA,CAAA;AAEJ;ACpDA,MAAM,YAAY,MAAM,KAAK,MAAM,OAAO,2BAAc,CAAC;AAYlD,SAAS,UAAU;AAAA,EACxB;AAAA,EACA,OAAO;AAAA,EACP;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAoC;AAClC,QAAM,CAAC,OAAO,QAAQ,IAAI,SAAS,YAAY;AAC/C,QAAM,CAAC,SAAS,UAAU,IAAI,SAAkB,IAAI;AAEpD,SACG,qBAAA,QAAA,EAAO,MAAK,cAAa,WAAU,iBAClC,UAAA;AAAA,IAAA,oBAAC,gBAAc,UAAM,MAAA,CAAA;AAAA,IACpB,oBAAA,YAAA,EAAW,WAAU,sBAAqB,SAAQ,OACjD,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,UACE,oBAAC,OAAI,EAAA,WAAU,iDACb,UAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,cAAW;AAAA,YACX,iBAAe;AAAA,YACf,MAAK;AAAA,UAAA;AAAA,QAAA,GAET;AAAA,QAGF,UAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC;AAAA,YACA;AAAA,YACA,UAAU,CAAY,aAAA,SAAS,QAAQ;AAAA,YACvC,cAAc,SAAS;AAAA,YACvB,iBAAiB;AAAA,YACjB;AAAA,UAAA;AAAA,QACF;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,UAAU,CAAC,WAAW;AAAA,QACtB;AAAA,QACA;AAAA,QACA,aAAa;AAAA,MAAA;AAAA,IACf;AAAA,EACF,EAAA,CAAA;AAEJ;AAQA,SAAS,OAAO,EAAC,UAAU,OAAO,QAAQ,eAA2B;AAC7D,QAAA,EAAC,UAAS;AAChB,SACG,qBAAA,cAAA,EAAa,YAAU,MAAC,aACvB,UAAA;AAAA,IAAC,oBAAA,QAAA,EAAO,SAAS,MAAM,MAAA,GACrB,UAAC,oBAAA,OAAA,EAAM,SAAQ,SAAA,CAAS,EAC1B,CAAA;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC;AAAA,QACA,SAAQ;AAAA,QACR,OAAM;AAAA,QACN,SAAS,MAAM;AACb,cAAI,QAAQ;AACV,mBAAO,KAAK;AAAA,UAAA,OACP;AACL,kBAAM,KAAK;AAAA,UACb;AAAA,QACF;AAAA,QAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,MAAA;AAAA,IACxB;AAAA,EACF,EAAA,CAAA;AAEJ;ACjGO,SAAS,WAAW,MAAyB;AAClD,SAAO,SAAS;AAAA,IACd,UAAU,CAAC,SAAS,YAAY,IAAI;AAAA,IACpC,SAAS,MAAM,UAAU,IAAI;AAAA,EAAA,CAC9B;AACH;AAEA,SAAS,UAAU,MAAyB;AACnC,SAAA,UACJ,IAQC,6BAA6B,IAAI,EAAE,EACpC,KAAK,CAAY,aAAA,SAAS,IAAI;AACnC;ACbO,SAAS,iBAAiB,MAAc;AAC7C,QAAMgB,eAAc;AACpB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,YAA4B,WAAW,MAAM,QAAQ,IAAI;AAAA,IACtE,WAAW,YAAY;AACrB,YAAMA,aAAY,kBAAkB;AAAA,QAClC,UAAU,CAAC,SAAS,YAAY,IAAI;AAAA,MAAA,CACrC;AACK,YAAA,QAAQ,kBAAkB,CAAC;AAAA,IACnC;AAAA,IACA,SAAS,CAAO,QAAA,mBAAmB,GAAG;AAAA,EAAA,CACvC;AACH;AAEA,SAAS,WAAW,MAAc,MAAiC;AACjE,SAAO,UACJ,IAAI,6BAA6B,IAAI,IAAI,EAAC,KAAK,CAAA,EAC/C,KAAK,CAAK,MAAA,EAAE,IAAI;AACrB;ACZA,MAAM,UAEF,4BAAuB,SAAS,cAAc,EAC3C,WADH,mBAEC,UAAS;AAEd,MAAM,QAAQ,MAAM,IAAI,CAAA,SAAQ,KAAK,GAAG;AAEjC,SAAS,aAAa;AAC3B,QAAM,EAAC,UAAA,IAAa,WAAW,KAAK;AAEpC,MAAI,WAAW;AACb,+BAAQ,gBAAe,CAAA,CAAA;AAAA,EACzB;AAEA,6BACG,UACE,EAAA,UAAA,MAAM,IAAI,CAAA,6BACR,kBAAgC,EAAA,OAAO,KAAK,OAAO,MAAM,KAAK,IAAA,GAAxC,KAAK,GAAwC,CACrE,EACH,CAAA;AAEJ;AAMA,SAAS,iBAAiB,EAAC,OAAO,QAA8B;AAC9D,QAAM,EAAC,MAAM,UAAS,IAAI,WAAW,KAAK;AAGxC,SAAA,qBAAC,eAAc,EAAA,MAAK,SAClB,UAAA;AAAA,IAAA,oBAAC,oBAAiB,UAAU,WAC1B,8BAAC,OAAO,EAAA,GAAG,OAAO,EACpB,CAAA;AAAA,IACC,2BAAQ,kBAAiB,EAAA,MAAY,OAAO,KAAK,IAAI,EAAG,CAAA,IAAK;AAAA,EAChE,EAAA,CAAA;AAEJ;AAMA,SAAS,iBAAiB,EAAC,MAAM,SAA+B;AACxD,QAAA,EAAC,UAAS;AACV,QAAAC,cAAa,iBAAiB,IAAI;AAClC,QAAA,YAAY,OAAwB,IAAI;AAE9C,QAAM,cACJ;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,SAAQ;AAAA,MACR,OAAM;AAAA,MACN,SAAS,MAAM;AACb,YAAI,UAAU,SAAS;AACrB,oBAAU,QAAQ,OAAO,SAAS,MAAM,QAAQ;AAAA,QAClD;AAAA,MACF;AAAA,MAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,IAAA;AAAA,EAAA;AAKrC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,qBAAqB,CAAA;AAAA,MAC3C,mBAAmB;AAAA,MACnB;AAAA,MACA,cAAc,MAAM,UAAU,MAAM;AAAA,MACpC,UAAUA,YAAW;AAAA,MACrB,UAAU;AAAA,MACV,QAAQ,CAAY,aAAA;AAClB,YAAI,YAAY,MAAM;AACT,UAAAA,YAAA;AAAA,YACT,EAAC,MAAM,SAAQ;AAAA,YACf;AAAA,cACE,WAAW,MAAM,MAAM;AAAA,YACzB;AAAA,UAAA;AAAA,QAEJ;AAAA,MACF;AAAA,IAAA;AAAA,EAAA;AAGN;ACzFO,SAAS,oBAAoB;AAClC,8BACG,UACC,EAAA,UAAA;AAAA,IAAC,oBAAA,yBAAA,EAAwB,MAAK,MAAM,CAAA;AAAA,IACpC,oBAAC,yBAAwB,EAAA,MAAK,OAAO,CAAA;AAAA,EACvC,EAAA,CAAA;AAEJ;AAKA,SAAS,wBAAwB,EAAC,QAAqC;AAC/D,QAAA,EAAC,cAAa;AACd,QAAA,EAAC,aAAY;AAEb,QAAA,QACJ,SAAS,SACN,oBAAA,OAAA,EAAM,SAAQ,2BAAA,CAA2B,IAE1C,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA;AAI9B,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,SAAS,CAAY,aAAA;AACnB,YAAI,YAAY,MAAM;AACX,mBAAA,0BAA0B,IAAI,IAAI,UAAU;AAAA,YACnD,aAAa;AAAA,UAAA,CACd;AACD,0BAAkB,EAAA,QAAQ,cAAc,MAAM,QAAQ;AAAA,QACxD;AAAA,MACF;AAAA,MAEA,UAAA;AAAA,QAAA,oBAAC,oBAAkB,UAAM,MAAA,CAAA;AAAA,QACzB;AAAA,UAAC;AAAA,UAAA;AAAA,YACC;AAAA,YACA,cAAc,UAAU,0BAA0B,IAAI,EAAE,KAAK;AAAA,YAC7D;AAAA,UAAA;AAAA,QACF;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;ACtDA,MAAe,cAAA;ACaF,MAAA,6BAA6B,CACxC,WACoB;AACpB,QAAM,iBACJ,OAAO,YAAY,MAAM,SAAS,IAC9B;AAAA,IACE;AAAA,MACE,SAAS;AAAA,QACP,MAAM,kBAAkB;AAAA,QACxB,cAAc;AAAA,QACd,SAAS,OAAO,YAAY,MAAM,IAAI,CAAS,UAAA;AAAA,UAC7C,OAAO,KAAK;AAAA,UACZ,OAAO,KAAK;AAAA,UACZ,KAAK,KAAK;AAAA,QAAA,EACV;AAAA,MACJ;AAAA,MAEA,KAAK;AAAA,MACL,OAAO,QAAQ,MAAM;AAAA,MACrB,aAAa,QAAQ,kBAAkB;AAAA,MACvC,iBAAiB,eAAe;AAAA,IAClC;AAAA,MAEF;AAEC,SAAA;AAAA,IACL;AAAA,MACE,KAAK;AAAA,MACL,OAAO,QAAQ,MAAM;AAAA,MACrB,aAAa,QAAQ,0BAA0B;AAAA,MAC/C,iBAAiB,eAAe;AAAA,MAChC,SAAS;AAAA,QACP,MAAM,kBAAkB;AAAA,QACxB,OAAO;AAAA,MACT;AAAA,IACF;AAAA,IACA,GAAG;AAAA,IACH,gBAAgB;AAAA,MACd,aAAa,QAAQ,uBAAuB;AAAA,IAAA,CAC7C;AAAA,IACD,gBAAgB;AAAA,MACd,aAAa,QAAQ,4BAA4B;AAAA,IAAA,CAClD;AAAA,EAAA;AAEL;AC9CO,MAAM,6BAAyD;AAAA,EACpE;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,OAAO;AAAA,IACP,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA;AAAA,IACpC,MAAM,CAAA,SACH,oBAAA,MAAA,EAAK,QAAO,UAAS,IAAI,UAAU,KAAK,IAAI,IAAI,WAAW,WACzD,eAAK,MACR;AAAA,EAEJ;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,OAAO;AAAA,IACP,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,QAAQ,CAAA;AAAA,IACrC,MAAM,CACJ,SAAA,KAAK,QACH;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,KAAK,KAAK;AAAA,QACjB,OAAO,KAAK,KAAK;AAAA,QACjB,aAAa,KAAK,KAAK;AAAA,MAAA;AAAA,IACzB;AAAA,EAEN;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,UAAU;AAAA,IACV,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA;AAAA,IACpC,MAAM,CAAQ,SAAA,oBAAC,OAAM,EAAA,SAAS,KAAK,MAAM;AAAA,EAC3C;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,OAAO;AAAA,IACP,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,eAAe,CAAA;AAAA,IAC5C,MAAM,CAAQ,SAAA,oBAAC,eAAc,EAAA,MAAM,KAAK,YAAY;AAAA,EACtD;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,UAAU,CAAA;AAAA,IACvC,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,OAAO;AAAA,IACP,eAAe;AAAA,IACf,MAAM,CACJ,SAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,WAAU;AAAA,QACV,aAAa;AAAA,QACb,IAAI,GAAG,KAAK,EAAE;AAAA,QAEd,8BAAC,UAAS,EAAA;AAAA,MAAA;AAAA,IACZ;AAAA,EAEJ;AACF;ACzDO,SAAS,wBAAwB;AAChC,QAAA,SAAS,WAAW,iBAAiB;AACrC,QAAA,UAAU,QAAQ,MAAM;AAC5B,WAAO,2BAA2B,MAAM;AAAA,EAAA,GACvC,CAAC,MAAM,CAAC;AAGT,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAS;AAAA,MACT,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,MACrC;AAAA,MACA,SAAS;AAAA,MACT,aAAa,EAAC,MAAM,OAAM;AAAA,MAC1B,6BAAUb,WAAQ,EAAA;AAAA,MAClB,qCAAkB,2BAA0B,EAAA;AAAA,MAC5C,mBACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAO;AAAA,UACP,OAAO,oBAAC,OAAM,EAAA,SAAQ,iCAAiC,CAAA;AAAA,UACvD,gBAAgB,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,QAAA;AAAA,MACrD;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA,SAASA,YAAU;AAEf,SAAA,oBAAC,wBAAuB,EAAA,aAAa,MAAM,IAAG,OAC5C,UAAC,oBAAA,OAAA,EAAM,SAAQ,WAAW,CAAA,EAC5B,CAAA;AAEJ;ACzCO,MAAM,uBAA0C;AAAA,EACrD,EAAC,OAAO,QAAQ,QAAQ,GAAG,IAAI,SAAQ;AAAA,EACvC,EAAC,OAAO,QAAQ,gBAAgB,GAAG,IAAI,iBAAgB;AAAA,EACvD,EAAC,OAAO,QAAQ,aAAa,GAAG,IAAI,KAAI;AAAA,EACxC,EAAC,OAAO,QAAQ,QAAQ,GAAG,IAAI,SAAQ;AACzC;ACGA,MAAM,4BAAyD;AAAA,EAC7D,EAAC,OAAO,QAAQ,SAAS,GAAG,IAAI,UAAS;AAAA,EACzC,EAAC,OAAO,QAAQ,UAAU,GAAG,IAAI,WAAU;AAAA,EAC3C,GAAG;AAAA,EACH,mBAAmB,SAAS,QAAQ,cAAc;AAAA,IAChD,OAAO,QAAQ,eAAe;AAAA,IAC9B,IAAI;AAAA,EACN;AAAA,EACA,EAAC,OAAO,QAAQ,cAAc,GAAG,IAAI,eAAc;AAAA,EACnD;AAAA,IACE,OAAO,QAAQ,gBAAgB;AAAA,IAC/B,IAAI;AAAA,EACN;AAAA,EACA,EAAC,OAAO,QAAQ,WAAW,GAAG,IAAI,YAAW;AAAA,EAC7C,EAAC,OAAO,QAAQ,gBAAgB,GAAG,IAAI,iBAAgB;AAAA,EACvD,EAAC,OAAO,QAAQ,OAAO,GAAG,IAAI,QAAO;AAAA,EACrC,EAAC,OAAO,QAAQ,WAAW,GAAG,IAAI,YAAW;AAAA,EAC7C,EAAC,OAAO,QAAQ,SAAS,GAAG,IAAI,UAAS;AAAA,EACzC,EAAC,OAAO,QAAQ,OAAO,GAAG,IAAI,QAAO;AAAA,EACrC,EAAC,OAAO,QAAQ,WAAW,GAAG,IAAI,YAAW;AAAA,EAC7C,EAAC,OAAO,QAAQ,MAAM,GAAG,IAAI,OAAM;AAAA,EACnC;AAAA,IACE,OAAO,QAAQ,OAAO;AAAA,IACtB,IAAI;AAAA,EACN;AAAA,EACA;AAAA,IACE,OAAO,QAAQ,KAAK;AAAA,IACpB,IAAI;AAAA,EACN;AAAA,EACA;AAAA,IACE,OAAO,QAAQ,QAAQ;AAAA,IACvB,IAAI;AAAA,EACN;AACF,EAAE,OAAO,OAAO;AAET,MAAM,oBAAoB;ACnCjB,SAAA,eAAe,EAAC,aAAmB;AACjD,QAAM,WAAW;AAEf,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW;AAAA,QACT;AAAA,QACA;AAAA,MACF;AAAA,MAEA,UAAA;AAAA,QAAA,oBAAC,iBACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,WAAW,CAAA,GAC5B;AAAA,QACC,WAAW,oBAAC,WAAU,CAAA,CAAA,wBAAM,YAAW,EAAA;AAAA,4BACvC,OAAI,EAAA,WAAU,yCACb,UAAA,oBAAC,SAAO,CAAA,GACV;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAEA,SAAS,YAAY;AACb,QAAA,EAAC,aAAY;AACnB,QAAM,WAAW;AACjB,QAAM,QAAQ,SAAS,MAAM,GAAG,EAAE,IAAI;AAGpC,SAAA;AAAA,IAACc;AAAAA,IAAA;AAAA,MACC,UAAS;AAAA,MACT,WAAU;AAAA,MACV,eAAc;AAAA,MACd,eAAe;AAAA,MACf,mBAAmB,CAAW,YAAA;AAC5B,iBAAS,OAAiB;AAAA,MAC5B;AAAA,MAEC,4BAAkB,IAAI,CAAA,SACpB,oBAAAN,MAAA,EAA+B,OAAO,KAAK,IAC1C,UAAC,oBAAA,OAAA,EAAO,GAAG,KAAK,MAAA,CAAO,EADZ,GAAA,KAAK,EAElB,CACD;AAAA,IAAA;AAAA,EAAA;AAGP;AAEA,SAAS,aAAa;AACpB,6BACG,OAAI,EAAA,WAAU,qCACZ,UAAA,kBAAkB,IAAI,CACrB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MAEC,IAAI,KAAK;AAAA,MACT,WAAW,CAAC,EAAC,SAAA,MACX;AAAA,QACE;AAAA,QACA,WACI,4CACA;AAAA,MACN;AAAA,MAGF,UAAC,oBAAA,OAAA,EAAO,GAAG,KAAK,MAAO,CAAA;AAAA,IAAA;AAAA,IAXlB,KAAK;AAAA,EAab,CAAA,EACH,CAAA;AAEJ;ACnEO,SAAS,mBAAmB;AACjC,SAAO,SAAS;AAAA,IACd,UAAU,CAAC,oBAAoB;AAAA,IAC/B,SAAS,MAAM,mBAAmB;AAAA;AAAA,IAElC,WAAW;AAAA,EAAA,CACZ;AACH;AAEA,SAAS,qBAA0D;AACjE,SAAO,UAAU,IAAI,UAAU,EAAE,KAAK,CAAA,aAAY,SAAS,IAAI;AACjE;ACXA,SAAS,kBAAqC;AAC5C,SAAO,UAAU,KAAK,kBAAkB,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AAC5D;AAEO,SAAS,qBAAqB;AACnC,SAAO,YAAY;AAAA,IACjB,YAAY,MAAM,gBAAgB;AAAA,IAClC,WAAW,MAAM;AACT,YAAA,QAAQ,mBAAmB,CAAC;AAAA,IACpC;AAAA,IACA,SAAS,CAAO,QAAA,mBAAmB,GAAG;AAAA,EAAA,CACvC;AACH;ACDO,SAAS,uBACd,MACA;AACA,QAAM,EAAC,MAAM,SAAQ,IAAI,iBAAiB;AAE1C,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UAAkC;;AAEzC,WAAA,MAAAZ,MAAA,MAAM,WAAN,gBAAAA,IAAc,kBAAd,mBAA6B,QAAQ;AACjC,cAAA,OAAO,cAAc,SAAS,KAAK;AAAA,UACvC,MAAM,OAAO,cAAc;AAAA,QAAA;AAAA,MAE/B;AACI,WAAA,iBAAM,WAAN,mBAAc,iBAAd,mBAA4B,UAAU;AAClC,cAAA,OAAO,aAAa,WAAW,KAAK;AAAA,UACxC,MAAM,OAAO,aAAa;AAAA,QAAA;AAAA,MAE9B;AACK,WAAA,iBAAM,WAAN,mBAAsB,eAAtB,mBAAkC,MAAM;AAC1C,cAAM,OAAe,WAAW,OAAO,KAAK;AAAA,UAC1C,MAAM,OAAe,WAAW;AAAA,QAAA;AAAA,MAErC;AACK,WAAA,iBAAM,WAAN,mBAAsB,eAAtB,mBAAkC,UAAU;AAC9C,cAAM,OAAe,WAAW,WAAW,KAAK;AAAA,UAC9C,MAAM,OAAe,WAAW;AAAA,QAAA;AAAA,MAErC;AACK,WAAA,WAAM,WAAN,mBAAsB,gBAAgB;AACxC,cAAM,OAAe,iBAAiB,KAAK;AAAA,UACzC,MAAM,OAAe;AAAA,QAAA;AAAA,MAE1B;AAEM,YAAA,SAAS,MAAM,SAAS,KAAK,SAAU,QAAQ,MAAM,MAAM,IAAI;AAC/D,YAAA,SAAS,MAAM,SAAS,KAAK,SAAU,QAAQ,MAAM,MAAM,IAAI;AACrE,aAAO,oBAAoB;AAAA,QACzB;AAAA,QACA;AAAA,QACA,OAAO,MAAM;AAAA,MAAA,CACG;AAAA,IACpB;AAAA,IACA,WAAW,MAAM;AACT,YAAA,QAAQ,kBAAkB,GAAG;AAAA,QACjC,UAAU;AAAA,MAAA,CACX;AACD,kBAAY,kBAAkB,EAAC,UAAU,CAAC,oBAAoB,EAAE,CAAA;AAAA,IAClE;AAAA,IACA,SAAS,CAAA,MAAK,iBAAiB,GAAG,IAAI;AAAA,EAAA,CACvC;AACH;AAEA,SAAS,oBAAoB;AAAA,EAC3B;AAAA,EACA;AAAA,EACA;AACF,GAA8C;AACtC,QAAA,WAAW,IAAI;AACrB,MAAI,QAAQ;AACD,aAAA,IAAI,UAAU,KAAK,UAAU,IAAI,IAAI,MAAM,CAAC,CAAC;AAAA,EACxD;AACA,MAAI,QAAQ;AACD,aAAA,IAAI,UAAU,KAAK,UAAU,IAAI,IAAI,MAAM,CAAC,CAAC;AAAA,EACxD;AACO,SAAA,QAAQ,SAAS,CAAE,CAAA,EAAE,QAAQ,CAAC,CAAC,KAAK,IAAI,MAAM;AAC1C,aAAA,IAAI,KAAK,IAAI;AAAA,EAAA,CACvB;AACM,SAAA,UACJ,KAAK,YAAY,UAAU;AAAA,IAC1B,SAAS;AAAA,MACP,gBAAgB;AAAA,IAClB;AAAA,EACD,CAAA,EACA,KAAK,CAAA,MAAK,EAAE,IAAI;AACrB;AC1EO,SAAS,cAAc;AAAA,EAC5B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAU;AACF,QAAA,EAAC,SAAQ;AAEf,8BACG,WACC,EAAA,UAAA;AAAA,IAAC,qBAAA,OAAA,EAAI,WAAU,SACb,UAAA;AAAA,MAAC,oBAAA,MAAA,EAAG,WAAU,gBAAgB,UAAM,OAAA;AAAA,MACnC,oBAAA,OAAA,EAAI,WAAU,sBAAsB,UAAY,aAAA;AAAA,IAAA,GACnD;AAAA,IACC,OACC,oBAAC,aAAY,EAAA,eAAe,MAAM,iBAC/B,SACH,CAAA,IAEC,oBAAA,gBAAA,EAAe,iBAAe,MAAC,cAAW,uBAAsB;AAAA,EAErE,EAAA,CAAA;AAEJ;AAOA,SAAS,YAAY;AAAA,EACnB;AAAA,EACA;AAAA,EACA;AACF,GAAqB;AACnB,QAAM,OAAO,QAAgC,EAAC,cAAc,CAAA;AACtD,QAAA,iBAAiB,uBAAuB,IAAI;AAClD,8BACG,UACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAACQ;AAAAA,MAAA;AAAA,QACC;AAAA,QACA,gBAAgB,MAAM;AAGd,gBAAA,SAAS,KAAK,UAAU;AAC9B,gBAAM,OAAO,OAAO,KAAK,MAAM,EAAE,OAAO,CAAO,QAAA;AACtC,mBAAA,IAAI,SAAS,QAAQ;AAAA,UAAA,CAC7B;AACD,eAAK,YAAY,IAAW;AAAA,QAC9B;AAAA,QACA,UAAU,CAAS,UAAA;AACT,kBAAA,kBAAkB,gBAAgB,KAAK,IAAI;AACnD,yBAAe,OAAO,KAAK;AAAA,QAC7B;AAAA,QAEC,UAAA;AAAA,UAAA;AAAA,UACD,oBAAC,OAAI,EAAA,WAAU,SACb,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,MAAK;AAAA,cACL,SAAQ;AAAA,cACR,OAAM;AAAA,cACN,UAAU,eAAe;AAAA,cAEzB,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,YAAA;AAAA,UAAA,GAE5B;AAAA,QAAA;AAAA,MAAA;AAAA,IACF;AAAA,IACC,eAAe,aACd;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,WAAU;AAAA,QACV,iBAAe;AAAA,QACf,cAAW;AAAA,MAAA;AAAA,IACb;AAAA,EAEJ,EAAA,CAAA;AAEJ;ACjGO,SAAS,oBAAoB;AAC3B,SAAA,oBAAC,OAAI,EAAA,WAAU,uBAAuB,CAAA;AAC/C;ACQO,SAAS,cAAc,EAAC,MAAM,aAAgC;AAC7D,QAAA,EAAC,SAAQ;AACf,MAAI,KAAK,kBAAkB;AAClB,WAAA;AAAA,EACT;AACA,8BACG,OAAI,EAAA,WAAW,KAAK,2BAA2B,SAAS,GACvD,UAAA;AAAA,IAAC,oBAAA,UAAA,EAAS,MAAK,KAAK,CAAA;AAAA,IACpB,oBAAC,gBAAa,MAAM,MAClB,8BAAC,OAAM,EAAA,SAAQ,cAAa,EAC9B,CAAA;AAAA,EACF,EAAA,CAAA;AAEJ;ACJO,SAAS,kBAAkB;AAE9B,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,UAAU,CAAA;AAAA,MAChC,aACE,oBAAC,OAAM,EAAA,SAAQ,kEAAkE,CAAA;AAAA,MAGnF,UAAA;AAAA,QAAA,oBAAC,gBAAe,EAAA;AAAA,4BACf,mBAAkB,EAAA;AAAA,4BAClB,iBAAgB,EAAA;AAAA,4BAChB,mBAAkB,EAAA;AAAA,4BAClB,cAAa,EAAA;AAAA,4BACb,mBAAkB,EAAA;AAAA,4BAClB,gBAAe,EAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGtB;AAEA,SAAS,iBAAiB;AAClB,QAAA,EAAC,SAAQ;AAEf,MAAI,CAAC;AAAa,WAAA;AAElB,MAAI,SAAS;AACb,QAAM,SAAS,KAAM;AACrB,QAAM,YAAY,OAAO,aAAa,OAAO,cAAc,OAAO;AAClE,MAAI,WAAW;AAEX,aAAA,oBAAC,OAAI,EAAA,WAAU,6BACb,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,QAAQ;AAAA,UACN,SAAS,OAAO;AAAA,UAChB,YAAY,OAAO;AAAA,UACnB,GAAG,CAAA,WAAW,oBAAA,KAAA,EAAG,UAAO,QAAA;AAAA,QAC1B;AAAA,QACA,SAAQ;AAAA,MAAA;AAAA,IAEZ,EAAA,CAAA;AAAA,EAEJ;AAGE,SAAA,qBAACW,UAAA,EACC,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS,CAAC,CAAC;AAAA,QACX,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,QACzC,aACE,oBAAC,eAAc,EAAA,MAAK,qEAAqE,CAAA;AAAA,MAAA;AAAA,IAE7F;AAAA,IACC;AAAA,EACH,EAAA,CAAA;AAEJ;AAEA,SAAS,kBAAkB;;AACnB,QAAA,EAAC,UAAS;AAChB,QAAM,EAAC,SAAA,IAAY,WAAW,iBAAiB;AAC/C,QAAM,EAAC,KAAI,IAAI,cAAc,CAAC,oBAAoB,CAAC;AAC7C,QAAA,eAAe,MAAM,sBAAsB;AAEjD,8BACG,OACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,eAAc;AAAA,QACd,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,QACvC,aACE,oBAAC,OAAM,EAAA,SAAQ,8CAA8C,CAAA;AAAA,QAG9D,UAAA;AAAA,UAAA,SAAS,QAAQ,IAAI,CAAA,WACnB,oBAAAP,MAAA,EAA0B,OAAO,OAAO,OACvC,UAAC,oBAAA,OAAA,EAAO,GAAG,OAAO,MAAA,CAAO,EADd,GAAA,OAAO,KAEpB,CACD;AAAA,WACAZ,MAAA,6BAAM,uBAAN,gBAAAA,IAA0B,IAAI,CAAA,aAC5B,oBAAAY,MAAA,EAA2B,OAAO,SAAS,MACzC,UAAA,SAAS,KADC,GAAA,SAAS,IAEtB;AAAA,QACD;AAAA,MAAA;AAAA,IACH;AAAA,KACC,kCAAM,uBAAN,mBAA0B,IAAI,CAAY,aAAA;AAClC,aAAA,iBAAiB,SAAS,OAC/B;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAU;AAAA,UACV,MAAK;AAAA,UAEL,eAAc;AAAA,UACd,OACG,oBAAA,OAAA,EAAM,SAAQ,kBAAiB,QAAQ,EAAC,MAAM,SAAS,KAAO,EAAA,CAAA;AAAA,UAGhE,UAAS,SAAA,MAAM,IAAI,CAAA,SACjB,oBAAAA,MAAA,EAAwB,OAAO,KAAK,UAClC,UAAA,KAAK,SADK,KAAK,KAElB,CACD;AAAA,QAAA;AAAA,QAVI,SAAS;AAAA,MAYd,IAAA;AAAA,IAAA;AAAA,EAER,EAAA,CAAA;AAEJ;AAEA,SAAS,eAAe;AAChB,QAAA;AAAA,IACJ,MAAM,EAAC,OAAM;AAAA,MACX,iBAAiB;AAEnB,SAAA,qBAACO,UAAA,EACC,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAK;AAAA,QACL,eAAc;AAAA,QACd,OAAO,oBAAC,OAAM,EAAA,SAAQ,qBAAqB,CAAA;AAAA,QAC3C,aACE,oBAAC,OAAM,EAAA,SAAQ,sEAAsE,CAAA;AAAA,QAGvF,UAAA;AAAA,UAAA,oBAACP,QAAO,OAAO,GACb,8BAAC,OAAM,EAAA,SAAQ,UAAS,EAC1B,CAAA;AAAA,UACC,OAAO,IAAI,IAAI,CAAA,UACb,oBAAAA,MAAA,EAAsB,OAAO,MAAM,IACjC,UAAA,MAAM,KADI,GAAA,MAAM,EAEnB,CACD;AAAA,QAAA;AAAA,MAAA;AAAA,IACH;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,aACE,oBAAC,OAAM,EAAA,SAAQ,6CAA6C,CAAA;AAAA,QAG9D,UAAA,oBAAC,OAAM,EAAA,SAAQ,qBAAqB,CAAA;AAAA,MAAA;AAAA,IACtC;AAAA,EACF,EAAA,CAAA;AAEJ;AAEA,SAAS,iBAAiB;AACxB,QAAM,kBAAkB;AAClB,QAAA,EAAC,aAAY;AAEb,QAAA,MAAM,GAAG,QAAQ;AACvB,QAAM,OAAO,oBAAC,cAAa,EAAA,MAAM,KAAM,UAAI,IAAA,CAAA;AAE3C,SAEI,qBAAAO,YAAA,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,MAAK;AAAA,QACL,OAAM;AAAA,QACN,UAAU,gBAAgB;AAAA,QAC1B,SAAS,MAAM;AACb,0BAAgB,OAAO;AAAA,QACzB;AAAA,QAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,MAAA;AAAA,IACpC;AAAA,IACA,oBAAC,OAAI,EAAA,WAAU,4BACb,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,QAAQ;AAAA,UACN,KAAK;AAAA,QACP;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,EACF,EAAA,CAAA;AAEJ;AClLa,MAAA,YAAY,OAAO,SAAsC;AACpE,QAAM,OAAO;AAAA,IACX,eAAe,KAAK;AAAA,IACpB,eAAe,KAAK;AAAA,IACpB,cAAc,KAAK;AAAA,EAAA;AAEd,SAAA,UAAU,KAAK,kBAAkB,IAAI,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AAChE;ACRO,SAAS,oBAAoB;AAClC,QAAM,CAAC,cAAc,eAAe,IAAI,SAAS,EAAE;AACnD,QAAM,CAAC,QAAQ,SAAS,IAAI,SAAS,KAAK;AACpC,QAAA,EAAC,UAAS;AAEV,QAAA,qCAAqC,OAAOC,kBAAyB;AACzE,UAAM,gBAAgB;AAEhB,UAAA,cAAc,IAAI;AACZ,gBAAA,OAAO,cAAc,eAAe;AACpC,gBAAA,OAAO,iBAAiBA,aAAY;AAE5C,QAAA;AACI,YAAA,WAAW,MAAM,MAAM,eAAe;AAAA,QAC1C,QAAQ;AAAA,QACR,SAAS;AAAA,UACP,gBAAgB;AAAA,QAClB;AAAA,QACA,MAAM;AAAA,MAAA,CACP;AAEK,YAAA,eAAe,MAAM,SAAS;AACpC,sBAAgB,EAAE;AACX,aAAA;AAAA,aACA,OAAO;AACd,YAAM,MAAM;AACN,YAAA;AAAA,QACJ;AAAA,UACE,QAAQ,2BAAK,iBAAiB;AAAA,QAChC;AAAA,MAAA;AAAA,IAEJ;AAAA,EAAA;AAGF,QAAM,uBAAuB,YAAY;AACvC,cAAU,IAAI;AACV,QAAA;AACI,YAAA,cAAc,MAAM,mCAAmC,YAAY;AACzE,YAAM,UAAU,WAAW;AACrB,YAAA;AAAA,QACJ;AAAA,UACE,QAAQ,qBAAqB;AAAA,QAC/B;AAAA,MAAA;AAEF,gBAAU,KAAK;AACf,sBAAgB,EAAE;AAAA,aACX,OAAO;AACN,cAAA,MAAM,UAAU,KAAK;AAC7B,sBAAgB,EAAE;AACZ,YAAA;AAAA,QACJ;AAAA,UACE,QAAQ,8BAA8B;AAAA,QACxC;AAAA,MAAA;AAAA,IAEJ;AAAA,EAAA;AAGF,SAEI,qBAAAD,YAAA,EAAA,UAAA;AAAA,IAAC,qBAAA,OAAA,EAAI,WAAU,iBACb,UAAA;AAAA,MAAA,oBAAC,WAAM,WAAU,0EAAyE,IAAG,iBAAgB,SAAQ,iBAAgB,UAAa,gBAAA,CAAA;AAAA,MAClJ,oBAAC,OAAI,EAAA,WAAU,oBACb,UAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,IAAG;AAAA,UACH,MAAK;AAAA,UACL,UAAQ;AAAA,UACR,mBAAgB;AAAA,UAChB,oBAAiB;AAAA,UACjB,WAAU;AAAA,UACV,UAAU,CAAA,MAAK,gBAAgB,EAAE,OAAO,KAAK;AAAA,QAAA;AAAA,MAAA,GAEjD;AAAA,0BACC,OAAI,EAAA,WAAU,4BAA2B,IAAG,iBAAiB,UAAiJ,kJAAA;AAAA,0BAC9M,OAAI,EAAA,WAAU,6BAA4B,UAAC,oBAAA,KAAA,EAAE,qDAAuC,EAAI,CAAA;AAAA,MACzF,qBAAC,OAAI,EAAA,WAAU,mDAAkD,UAAA;AAAA,QAAA,oBAAC,OAAE,UAA2C,8CAAA,CAAA;AAAA,QAAI;AAAA,QAAC,oBAAC,eAAc,EAAA,MAAK,iFAAiF,CAAA;AAAA,MAAA,GAAE;AAAA,IAAA,GAC7N;AAAA,IAEA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,UAAU,UAAU,CAAC;AAAA,QACrB,SAAQ;AAAA,QACR,OAAM;AAAA,QACN,SAAS;AAAA,QAET,UAAA,oBAAC,OAAM,EAAA,SAAQ,wBAAwB,CAAA;AAAA,MAAA;AAAA,IACzC;AAAA,EACF,EAAA,CAAA;AAEJ;AClGO,SAAS,mBAAmB;AACjC,8BACG,WACC,EAAA,UAAA;AAAA,IAAC,qBAAA,OAAA,EAAI,WAAU,SACb,UAAA;AAAA,MAAC,oBAAA,MAAA,EAAG,WAAU,gBAAe,UAAQ,YAAA;AAAA,MACpC,oBAAA,OAAA,EAAI,WAAU,sBAAqB,UAA2B,+BAAA;AAAA,IAAA,GACjE;AAAA,wBACC,mBAAkB,EAAA;AAAA,EACrB,EAAA,CAAA;AAEJ;ACVO,MAAM,YAAY;AAAA,EACvB;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,QAAO;AAAA,MACP,GAAE;AAAA,IAAA;AAAA,EACJ;AACF;ACLO,SAAS,kBAAkB,OAAuB;AACvD,SAAO,WAAW,KAAK,EACpB,SAAS,KAAK,EACd,QAAQ,QAAQ,EAAE,EAClB,QAAQ,KAAK,EAAE,EACf,QAAQ,QAAQ,GAAG;AACxB;ACNO,SAAS,gBAAgB,OAAuB;AACjD,MAAA;AACF,WAAO,WAAW,OAAO,MAAM,MAAM,GAAG,EAAE,KAAK,GAAG,CAAC,GAAG,EAAE,SAAS,KAAK;AAAA,WAC/D,GAAG;AACH,WAAA;AAAA,EACT;AACF;ACNO,MAAM,WAAW;AAAA,EACtB,oBAAC,QAAK,EAAA,GAAE,0HAA0H,CAAA;AAAA,EAClI;AAAc;ACcT,SAAS,6BAA6B;AAC3C,QAAM,EAAC,WAAW,SAAQ,IAAI,eAAiC;AACzD,QAAA,EAAC,eAAc;AACrB,QAAM,QAAQ,UAAU,yBAAyB,CAAC,UAAW,EAAE;AAG7D,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,SAAS,CAAC,UAAqB;AAC7B,YAAI,CAAC;AAAO;AAEZ,kBAAU,uBAAuB,EAAE,QAAQ,CAAC,cAAc,UAAU;AAE9D,cAAA,aAAa,OAAO,MAAM,IAAI;AACvB,qBAAA,yBAAyB,KAAK,IAAI,OAAO;AAAA,cAChD,aAAa;AAAA,YAAA,CACd;AACD;AAAA,UACF;AAGA,cAAI,MAAM,eAAe;AACvB;AAAA,cACE,yBAAyB,KAAK;AAAA,cAC9B,EAAC,GAAG,cAAc,eAAe,MAAK;AAAA,cACtC,EAAC,aAAa,KAAI;AAAA,YAAA;AAEpB;AAAA,UACF;AACA,cAAI,MAAM,cAAc;AACtB;AAAA,cACE,yBAAyB,KAAK;AAAA,cAC9B,EAAC,GAAG,cAAc,cAAc,MAAK;AAAA,cACrC,EAAC,aAAa,KAAI;AAAA,YAAA;AAEpB;AAAA,UACF;AAAA,QAAA,CACD;AAAA,MACH;AAAA,MAEA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,SAAQ;AAAA,YACR,OAAM;AAAA,YACN,+BAAY,UAAS,EAAA;AAAA,YAErB,UAAA,oBAAC,OAAM,EAAA,SAAQ,WAAW,CAAA;AAAA,UAAA;AAAA,QAC5B;AAAA,QACA,oBAAC,kBAAe,OAAc;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGpC;AAKA,SAAS,eAAe,EAAC,SAA6B;AACpD,QAAM,OAAO,QAAkB,EAAC,eAAe,MAAM,CAAA;AACrD,QAAM,EAAC,OAAO,OAAM,IAAI,iBAAiB;AAEzC,YAAU,MAAM;AACd,UAAM,eAAe,KAAK,MAAM,CAAC,OAAO,EAAC,WAAU;AAE7C,UAAA,SAAS,mBAAmB,MAAM,eAAe;AAC9C,aAAA,SAAS,gBAAgB,KAAK;AAAA,MACrC;AACI,UAAA,SAAS,kBAAkB,MAAM,cAAc;AAC5C,aAAA,SAAS,iBAAiB,KAAK;AAAA,MACtC;AAAA,IAAA,CACD;AACM,WAAA,MAAM,aAAa;EAAY,GACrC,CAAC,IAAI,CAAC;AAET,8BACG,QACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA,GACnC;AAAA,wBACC,YACC,EAAA,UAAA;AAAA,MAACX;AAAAA,MAAA;AAAA,QACC;AAAA,QACA,IAAI;AAAA,QACJ,UAAU,CAAU,WAAA;AAClB,gBAAM,MAAM;AAAA,QACd;AAAA,QAEA,UAAA;AAAA,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,MAAK;AAAA,cACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,cAC7B,WAAU;AAAA,cACV,WAAS;AAAA,YAAA;AAAA,UACX;AAAA,UACA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,MAAK;AAAA,cACL,WAAU;AAAA,cACV,aACE,oBAAC,OAAM,EAAA,SAAQ,wDAAwD,CAAA;AAAA,cAGzE,UAAA,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA;AAAA,YAAA;AAAA,UAC9B;AAAA,UACA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,MAAK;AAAA,cACL,WAAU;AAAA,cACV,aACE,oBAAC,OAAM,EAAA,SAAQ,wDAAwD,CAAA;AAAA,cAGzE,UAAA,oBAAC,OAAM,EAAA,SAAQ,yBAAyB,CAAA;AAAA,YAAA;AAAA,UAC1C;AAAA,UACA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,MAAK;AAAA,cACL,aACE,oBAAC,OAAM,EAAA,SAAQ,uDAAuD,CAAA;AAAA,cAGxE,UAAA,oBAAC,OAAM,EAAA,SAAQ,wBAAwB,CAAA;AAAA,YAAA;AAAA,UACzC;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAS,MAAM;AACP;UACR;AAAA,UAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,QAAA;AAAA,MAC1B;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,MAAK;AAAA,UACL,MAAM;AAAA,UACN,UAAU,CAAC,KAAK,UAAU;AAAA,UAE1B,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAAA;AAAA,MACxB;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;AC5JO,MAAM,iBAAiB;AAAA,EAC5B,oBAAC,QAAK,EAAA,GAAE,kTAAkT,CAAA;AAAA,EAC1T;AAAoB;ACgBf,SAAS,yBAAyB;AACvC,QAAM,WAAWO;AACX,QAAA,EAAC,eAAc;AACrB,QAAM,CAAC,mBAAmB,oBAAoB,IAAI,SAAS,KAAK;AAChE,QAAM,EAAC,UAAU,UAAS,IAAI,eAAiC;AAC/D,QAAM,EAAC,QAAQ,OAAM,IAAI,cAAgC;AAAA,IACvD,MAAM;AAAA,EAAA,CACP;AAED,QAAM,cAAc,MAAM;AACpB,QAAA,OAAO,UAAU,GAAG;AAChB,YAAA,OAAO,QAAQ,gCAAgC,CAAC;AACtD;AAAA,IACF;AACA,QAAI,YAAY;AACd,eAAS,0BAA0B;AACnC,aAAO,CAAC,UAAU;AAClB,eAAS,qCAAqC,IAAI;AAAA,IACpD;AAAA,EAAA;AAGF,8BACG,UACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,gBAAgB,CAAO,QAAA;AACrB,cAAI,QAAQ,UAAU;AACpB,iCAAqB,IAAI;AAAA,UAAA,WAChB,QAAQ,SAAS;AACpB,kBAAA,OACJ,yBAAyB,CAAC,UAAW;AACvC,kBAAM,gBAAgB,UAAU,GAAG,IAAI,UAAU,IAC7C,kBAAkB,SAAU,WAAW,OAAO,OAC9C,gBAAA,EAAkB,SAAU,WAAW,OAAO;AAE3C,mBAAA,QAAQ,aAAa,EAAE,QAAQ,CAAC,CAAC,WAAW,UAAU,MAAM;AACjE,8BAAkB,EAAA,QAAQ,cAAc,WAAW,UAAU;AAAA,YAAA,CAC9D;AACe,8BAAE,QAAQ,aAAa,IAAI;AAElC,qBAAA,GAAG,IAAI,WAAW,eAAe;AAAA,cACxC,aAAa;AAAA,YAAA,CACd;AACQ,qBAAA,GAAG,IAAI,SAAS,QAAW;AAAA,cAClC,aAAa;AAAA,YAAA,CACd;AAAA,UACH;AAAA,QACF;AAAA,QAEA,UAAA;AAAA,UAAA,oBAAC,cAAW,MAAK,MAAK,WAAU,cAC9B,UAAA,oBAAC,gBAAa,EAChB,CAAA;AAAA,+BACC,MACC,EAAA,UAAA;AAAA,YAAC,oBAAAM,MAAA,EAAS,OAAM,SAAQ,WAAW,oBAAC,gBAAe,CAAA,CAAA,GACjD,UAAC,oBAAA,OAAA,EAAM,SAAQ,eAAe,CAAA,GAChC;AAAA,YACC,oBAAAA,MAAA,EAAS,OAAM,UAAS,WAAW,oBAAC,YAAW,CAAA,CAAA,GAC9C,UAAC,oBAAA,OAAA,EAAM,SAAQ,SAAS,CAAA,GAC1B;AAAA,UAAA,GACF;AAAA,QAAA;AAAA,MAAA;AAAA,IACF;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,QAAQ;AAAA,QACR,SAAS,CAAe,gBAAA;AACtB,cAAI,aAAa;AACH;UACd;AACA,+BAAqB,KAAK;AAAA,QAC5B;AAAA,QAEA,UAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,UAAQ;AAAA,YACR,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,YACrC,MAAM,oBAAC,OAAM,EAAA,SAAQ,8CAA8C,CAAA;AAAA,YACnE,SAAS,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,UAAA;AAAA,QACnC;AAAA,MAAA;AAAA,IACF;AAAA,EACF,EAAA,CAAA;AAEJ;AC1FO,SAAS,YAAY,EAAC,UAAU,OAAO,UAAgB;AACtD,QAAA,gBAAgB,OAAO,IAAI,CAAS,UAAA;AACxC,UAAM,aAAa,UAAU;AAE3B,WAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,SAAS,MAAM;AACb,+CAAW;AAAA,QACb;AAAA,QACA,WAAW;AAAA,UACT;AAAA,UACA,cAAc;AAAA,QAChB;AAAA,QACA,OAAO,EAAC,iBAAiB,MAAK;AAAA,QAE7B,UACC,cAAA,oBAAC,QAAK,EAAA,WAAU,yDAAwD;AAAA,MAAA;AAAA,MAXrE;AAAA,IAAA;AAAA,EAaP,CAEH;AAED,SAAQ,oBAAA,OAAA,EAAI,WAAU,wBAAwB,UAAc,cAAA,CAAA;AAC9D;AC7BO,MAAM,eAIP;AAAA,EACJ;AAAA,IACE,OAAO;AAAA,IACP,MAAM,QAAQ,OAAO;AAAA,EACvB;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,MAAM,QAAQ,UAAU;AAAA,EAC1B;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,MAAM,QAAQ,OAAO;AAAA,EACvB;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,MAAM,QAAQ,YAAY;AAAA,EAC5B;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,MAAM,QAAQ,YAAY;AAAA,EAC5B;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,MAAM,QAAQ,OAAO;AAAA,IACrB,YAAY;AAAA,EACd;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,MAAM,QAAQ,YAAY;AAAA,IAC1B,YAAY;AAAA,EACd;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,MAAM,QAAQ,cAAc;AAAA,EAC9B;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,MAAM,QAAQ,WAAW;AAAA,IACzB,YAAY;AAAA,EACd;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,MAAM,QAAQ,SAAS;AAAA,EACzB;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,MAAM,QAAQ,UAAU;AAAA,IACxB,YAAY;AAAA,EACd;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,MAAM,QAAQ,YAAY;AAAA,IAC1B,YAAY;AAAA,EACd;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,MAAM,QAAQ,iBAAiB;AAAA,IAC/B,YAAY;AAAA,EACd;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,MAAM,QAAQ,WAAW;AAAA,IACzB,YAAY;AAAA,EACd;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,MAAM,QAAQ,OAAO;AAAA,IACrB,YAAY;AAAA,EACd;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,MAAM,QAAQ,aAAa;AAAA,IAC3B,YAAY;AAAA,EACd;AAAA,EACA;AAAA,IACE,OAAO;AAAA,IACP,MAAM,QAAQ,OAAO;AAAA,IACrB,YAAY;AAAA,EACd;AACF;AC/EA,MAAM,iBAAiB,aAAa,IAAI,CAAC,EAAC,MAAK,MAAM,KAAK,EAAE,MAAM,GAAG,EAAE;AAQhE,SAAS,YAAY;AAAA,EAC1B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAU;AACR,QAAM,CAAC,OAAO,QAAQ,IAAI,SAA6B,YAAY;AAEnE,QAAM,UAAoB,gBAAgB;AAE1C,QAAM,QAAQ,wBAAwB,EAAC,MAAM,KAAK,CAAA;AAElD,8BACG,OACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV;AAAA,QACA,UAAU,CAAY,aAAA;AACpB,+CAAW;AACX,mBAAS,QAAQ;AAAA,QACnB;AAAA,MAAA;AAAA,IACF;AAAA,IACA,qBAAC,OAAI,EAAA,WAAU,eACZ,UAAA;AAAA,MACC,WAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ;AAAA,UACR,UAAU,CAAY,aAAA;AACpB,gBAAI,UAAU;AACZ,oBAAM,MAAM,WAAW,QAAQ,EAAE,SAAS,KAAK;AAC/C,mDAAW;AACX,uBAAS,GAAG;AAAA,YACd;AAAA,UACF;AAAA,UACA,OAAO;AAAA,QAAA;AAAA,MACT;AAAA,MAED,aACC,oBAAC,OAAI,EAAA,WAAU,SACb,UAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,cAAa;AAAA,UACb,MAAK;AAAA,UACL,aAAY;AAAA,UACZ,YAAW;AAAA,UACX,UAAQ;AAAA,UACR,cAAW;AAAA,UACX,UAAQ;AAAA,UACR,WAAW,MAAM;AAAA,UACjB;AAAA,UACA,UAAU,CAAY,aAAA;AACpB,iDAAW;AACX,qBAAS,QAAQ;AAAA,UACnB;AAAA,QAAA;AAAA,MAAA,GAEJ;AAAA,IAAA,GAEJ;AAAA,EACF,EAAA,CAAA;AAEJ;AC3DO,SAAS,kBAAkB;AAAA,EAChC;AAAA,EACA;AAAA,EACA,aAAa;AAAA,EACb,YAAY;AACd,GAA2B;AACnB,QAAA,EAAC,UAAS;AAChB,QAAM,CAAC,OAAO,QAAQ,IAAI,SAAS,gBAAgB,EAAE;AAKnD,SAAA,qBAAC,QAAO,EAAA,MAAK,OACX,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC;AAAA,QACA,cAAc;AAAA,QACd,UAAU,CAAY,aAAA;AACpB,mBAAS,QAAQ;AACjB,+CAAW;AAAA,QACb;AAAA,MAAA;AAAA,IACF;AAAA,IACC,CAAC,cACC,qBAAA,cAAA,EAAa,YAAU,MACtB,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAQ;AAAA,UACR,MAAK;AAAA,UACL,SAAS,MAAM;AACP;UACR;AAAA,UAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,QAAA;AAAA,MAC1B;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,MAAK;AAAA,UACL,SAAS,MAAM;AACb,kBAAM,KAAK;AAAA,UACb;AAAA,UAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,QAAQ,CAAA;AAAA,QAAA;AAAA,MACzB;AAAA,IAAA,GACF;AAAA,EAEJ,EAAA,CAAA;AAEJ;ACjDA,MAAM,iBAAiB;AAAA,EACrB;AAAA,IACE,OAAO,QAAQ,QAAQ;AAAA,IACvB,OAAO;AAAA,IACP,SAAS;AAAA,IACT,gBAAgB;AAAA,EAClB;AAAA,EACA;AAAA,IACE,OAAO,QAAQ,YAAY;AAAA,IAC3B,OAAO;AAAA,IACP,SAAS;AAAA,IACT,gBAAgB;AAAA,EAClB;AAAA,EACA;AAAA,IACE,OAAO,QAAQ,gBAAgB;AAAA,IAC/B,OAAO;AAAA,IACP,SAAS;AAAA,IACT,gBAAgB;AAAA,EAClB;AAAA,EACA;AAAA,IACE,OAAO,QAAQ,aAAa;AAAA,IAC5B,OAAO;AAAA,IACP,SAAS;AAAA,IACT,gBAAgB;AAAA,EAClB;AACF;AAEO,SAAS,oBAAoB;;AAC5B,QAAA,EAAC,eAAc;AACrB,QAAM,EAAC,OAAO,SAAQ,IAAI,eAAiC;AACrD,QAAA,MACJ,yBAAyB,UAAW;AAChC,QAAA,gBAAgB,MAAM,GAAG;AACzB,QAAA,gBAAerB,MAAA,eAAe,KAAK,CAAC,EAAC,MAAK,MAAM,UAAU,aAAa,MAAxD,gBAAAA,IACjB;AAEF,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,eAAc;AAAA,MACd;AAAA,MACA,mBAAmB,CAAS,UAAA;AAC1B,iBAAS,KAAK,OAAiB,EAAC,aAAa,KAAK,CAAA;AAAA,MACpD;AAAA,MAEA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WACE;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,SAAQ;AAAA,gBACR,WAAW,KAAK,WAAW,YAAY;AAAA,cAAA;AAAA,YACzC;AAAA,YAGF,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,UAAA;AAAA,QAC1B;AAAA,QACA,oBAAC,QACE,UAAe,eAAA,IAAI,CAAC,EAAC,OAAO,OAAO,QAAA,MAClC;AAAA,UAAC;AAAA,UAAA;AAAA,YAEC;AAAA,YACA,WACG,oBAAA,OAAA,EAAI,WAAW,KAAK,4BAA4B,OAAO,GAAG;AAAA,YAG7D,UAAA,oBAAC,OAAO,EAAA,GAAG,MAAO,CAAA;AAAA,UAAA;AAAA,UANb;AAAA,QAQR,CAAA,GACH;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AC5DA,MAAM,YAAY;AAAA,EAChB;AAAA,IACE,OAAO,QAAQ,YAAY;AAAA,IAC3B,KAAK;AAAA,EACP;AAAA,EACA;AAAA,IACE,OAAO,QAAQ,gBAAgB;AAAA,IAC/B,KAAK;AAAA,EACP;AAAA,EACA;AAAA,IACE,OAAO,QAAQ,YAAY;AAAA,IAC3B,KAAK;AAAA,EACP;AAAA,EACA;AAAA,IACE,OAAO,QAAQ,cAAc;AAAA,IAC7B,KAAK;AAAA,EACP;AAAA,EACA;AAAA,IACE,OAAO,QAAQ,QAAQ;AAAA,IACvB,KAAK;AAAA,EACP;AAAA,EACA;AAAA,IACE,OAAO,QAAQ,aAAa;AAAA,IAC5B,KAAK;AAAA,EACP;AAAA,EACA;AAAA,IACE,OAAO,QAAQ,gBAAgB;AAAA,IAC/B,KAAK;AAAA,EACP;AAAA,EACA;AAAA,IACE,OAAO,QAAQ,MAAM;AAAA,IACrB,KAAK;AAAA,EACP;AACF;AAEO,SAAS,cAAc;AAC5B,QAAM,WAAW;AACX,QAAA,EAAC,eAAc;AACrB,QAAM,EAAC,WAAW,MAAK,IAAI,eAAiC;AAE5D,QAAM,QAAQ,UAAU,yBAAyB,CAAC,UAAW,EAAE;AAC/D,QAAM,eAAe;AAAA,IACnB,yBAAyB,CAAC,UAAW;AAAA,EAAA;AAIvC,YAAU,MAAM;AACd,QAAI,CAAC,OAAO;AACV,eAAS,0BAA0B;AAAA,IACrC;AAAA,EAAA,GACC,CAAC,UAAU,KAAK,CAAC;AAGpB,YAAU,MAAM;AACd,QAAI,+BAAO,IAAI;AACb,sBAAkB,EAAA,QAAQ,eAAe,MAAM,EAAE;AAAA,IACnD;AAAA,EAAA,GACC,CAAC,+BAAO,EAAE,CAAC;AAEd,MAAI,CAAC;AAAc,WAAA;AAEnB,8BACG,UACC,EAAA,UAAA;AAAA,IAAC,qBAAA,OAAA,EAAI,WAAU,kDACb,UAAA;AAAA,MAAA,oBAAC,4BAA2B,EAAA;AAAA,0BAC3B,wBAAuB,EAAA;AAAA,IAAA,GAC1B;AAAA,yBACC,OACC,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,aAAa;AAAA,UACb,IAAG;AAAA,UACH,aAAa,eAAe,eAAgB,oBAAA,OAAA,EAAM,SAAQ,UAAS;AAAA,UAEnE,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAAA;AAAA,MACxB;AAAA,MACA,oBAAC,kBAAiB,EAAA,aAAa,MAAM,IAAG,UACtC,UAAC,oBAAA,OAAA,EAAM,SAAQ,WAAA,CAAW,EAC5B,CAAA;AAAA,MACA,oBAAC,SAAI,WAAU,oCACb,8BAAC,OAAM,EAAA,SAAQ,UAAS,EAC1B,CAAA;AAAA,0BACC,mBAAkB,EAAA;AAAA,MAClB,UAAU,IAAI,CACb,UAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UAEC,WAAW,MAAM;AAAA,UACjB,OAAO,oBAAC,OAAO,EAAA,GAAG,MAAM,MAAO,CAAA;AAAA,UAC/B,mBAAmB,MAAM,OAAO,MAAM,GAAG;AAAA,UACzC;AAAA,QAAA;AAAA,QAJK,MAAM;AAAA,MAAA,CAMd;AAAA,IAAA,GACH;AAAA,EACF,EAAA,CAAA;AAEJ;AAQA,SAAS,mBAAmB;AAAA,EAC1B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA4B;AACpB,QAAA,EAAC,aAAY;AACb,QAAA,EAAC,eAAc;AACrB,QAAM,CAAC,oBAAoB,qBAAqB,IAC9C,SAAiB,iBAAiB;AAI9B,QAAA,mBAAmB,CAAC,eAAuB;AAC/C,0BAAsB,UAAU;AAChC,oBAAkB,EAAA,QAAQ,cAAc,WAAW,UAAU;AAAA,EAAA;AAG/D,YAAU,MAAM;AAEd,0BAAsB,iBAAiB;AAAA,EAAA,GACtC,CAAC,iBAAiB,CAAC;AAEhB,QAAA,uBAAuB,gBAAgB,iBAAiB;AAG5D,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,cAAc;AAAA,MACd,MAAK;AAAA,MACL,WAAU;AAAA,MACV,QAAQ;AAAA,MACR,SAAS,CAAY,aAAA;AACf,YAAA,YAAY,aAAa,sBAAsB;AACjD;AAAA,YACE,yBAAyB,CAAC,UAAW,WAAW,SAAS;AAAA,YACzD;AAAA,YACA,EAAC,aAAa,KAAI;AAAA,UAAA;AAEX,mBAAA,qCAAqC,MAAM,EAAE;AAAA,QAAA,OACjD;AAEL,2BAAiB,iBAAiB;AAAA,QACpC;AAAA,MACF;AAAA,MAEA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,WACE;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,SAAQ;AAAA,gBACR,WAAU;AAAA,gBACV,OAAO,EAAC,MAAM,OAAO,kBAAkB,IAAG;AAAA,cAAA;AAAA,YAC5C;AAAA,YAGD,UAAA;AAAA,UAAA;AAAA,QACH;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,cAAc;AAAA,YACd,UAAU,CAAS,UAAA;AACA,+BAAA,kBAAkB,KAAK,CAAC;AAAA,YAC3C;AAAA,UAAA;AAAA,QACF;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;ACjLO,SAAS,mBAAmB;AAAA,EACjC;AAAA,EACA;AAAA,EACA,kBAAkB;AAAA,EAClB,eAAe;AACjB,GAAU;AACF,QAAA;AAAA,IACJ,WAAW,EAAC,OAAM;AAAA,MAChB,eAAuC;AAErC,QAAA,MAAM,OAAuB,IAAI;AACjC,QAAA,QAAQ,OAAO,IAAI;AAEzB,YAAU,MAAM;;AACd,QAAI,OAAO;AACT,OAAAA,MAAA,IAAI,YAAJ,gBAAAA,IAAa,eAAe,EAAC,UAAU,SAAS;AAAA,IAClD;AAAA,EAAA,GACC,CAAC,KAAK,CAAC;AAGR,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW;AAAA,QACT,mBAAmB;AAAA,QACnB,gBAAgB;AAAA,QAChB,SAAS;AAAA,MACX;AAAA,MACA;AAAA,MAEC,UAAA;AAAA,QAAS,SAAA,CAAC,CAAC,KAAK;AAAA,QAChB,SACC;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,yBAAyB,EAAC,QAAQ,MAAM,QAAQ;AAAA,UAAA;AAAA,QAClD;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAIR;ACvCO,SAAS,kBAAkB;AAChC,SAAO,SAAS;AAAA,IACd,UAAU,CAAC,eAAe;AAAA,IAC1B,SAAS,MAAM,YAAY;AAAA,EAAA,CAC5B;AACH;AAEA,SAAS,cAAiC;AACxC,SAAO,UAAU,IAAI,qBAAqB,EAAE,KAAK,CAAA,aAAY,SAAS,IAAI;AAC5E;ACLO,SAAS,wBAAwB;AAChC,QAAA,EAAC,UAAS;AAChB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,YAAqB,aAAa,OAAO;AAAA,IACtD,WAAW,MAAM;AACf,YAAM,MAAM,QAAQ,wBAAwB,CAAC,CAAC;AAAA,IAChD;AAAA,IACA,SAAS,CAAO,QAAA,mBAAmB,GAAG;AAAA,EAAA,CACvC;AACH;AAEA,SAAS,aAAa,SAAqC;AAClD,SAAA,UAAU,KAAK,uBAAuB,OAAO,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AACxE;ACXO,SAAS,iBAAiB;AAE7B,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,MAC/B,aACE,oBAAC,OAAM,EAAA,SAAQ,sFAAsF,CAAA;AAAA,MAGvG,UAAA;AAAA,QAAA,oBAAC,oBAAmB,EAAA;AAAA,4BACnB,oBAAmB,EAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAG1B;AAEA,SAAS,qBAAqB;AACtB,QAAA,EAAC,UAAS;AACV,QAAA,iBAAiB,MAAM,qBAAqB;AAGhD,SAAA,oBAAC,sBAAmB,MAAK,gBAAe,iBAAiB,OACtD,UAAA,CAAA,mCACE,UACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,MAAK;AAAA,QACL,eAAc;AAAA,QACd,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,QACtC,aACE,oBAAC,OAAM,EAAA,SAAQ,gFAAgF,CAAA;AAAA,QAGjG,UAAA;AAAA,UAAC,oBAAA,MAAA,EAAK,OAAM,SAAQ,UAAK,SAAA;AAAA,UACxB,oBAAA,MAAA,EAAK,OAAM,eAAc,UAAW,eAAA;AAAA,UACpC,oBAAA,MAAA,EAAK,OAAM,aAAY,UAAS,aAAA;AAAA,UAChC,oBAAA,MAAA,EAAK,OAAM,8DAA0D,UAEtE,iBAAA;AAAA,UACC,oBAAA,MAAA,EAAK,OAAM,WAAU,UAAO,WAAA;AAAA,QAAA;AAAA,MAAA;AAAA,IAC/B;AAAA,IACC,mBAAmB,WAAW,oBAAC,aAAY,CAAA,CAAA;AAAA,IAC3C,mBAAmB,iBAAiB,oBAAC,mBAAkB,CAAA,CAAA;AAAA,IACvD,mBAAmB,aAAa,oBAAC,eAAc,CAAA,CAAA;AAAA,IAC/C,mBACC,gEACA,oBAAC,oBAAmB,CAAA,CAAA;AAAA,EAAA,EAExB,CAAA,EAEJ,CAAA;AAEJ;AAEA,SAAS,cAAc;AACf,QAAA,EAAC,gBAAe;AAEpB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,MAAK;AAAA,MACL,eAAc;AAAA,MACd,OAAO,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA;AAAA,MACnC,mBAAmB,MAAM;AACX;MACd;AAAA,MAEA,UAAA;AAAA,QAAA,oBAAC,QAAK,OAAM,SACV,8BAAC,OAAM,EAAA,SAAQ,SAAQ,EACzB,CAAA;AAAA,QACA,oBAAC,QAAK,OAAM,YACV,8BAAC,OAAM,EAAA,SAAQ,YAAW,EAC5B,CAAA;AAAA,QACA,oBAAC,QAAK,OAAM,YACV,8BAAC,OAAM,EAAA,SAAQ,YAAW,EAC5B,CAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAEA,SAAS,oBAAoB;AAEzB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,OAAM;AAAA,MACN,OAAO,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA;AAAA,MACnC,aACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAQ;AAAA,UACR,QAAQ;AAAA,YACN,GAAG,CACD,UAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,MAAK;AAAA,gBACL,QAAO;AAAA,gBACP,KAAI;AAAA,gBAEH,UAAA;AAAA,cAAA;AAAA,YACH;AAAA,UAEJ;AAAA,QAAA;AAAA,MACF;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA,SAAS,qBAAqB;AAE1B,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,OAAM;AAAA,MACN,OAAO,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA;AAAA,MACnC,aACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAQ;AAAA,UACR,QAAQ;AAAA,YACN,GAAG,CACD,UAAA,oBAAC,KAAE,EAAA,MAAK,0BAAyB,QAAO,UAAS,KAAI,cAClD,UACH,MAAA,CAAA;AAAA,UAEJ;AAAA,QAAA;AAAA,MACF;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA,SAAS,gBAAgB;AACvB,8BACG,UACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,QACvC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,qBAAqB,CAAA;AAAA,QAC3C,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,EACF,EAAA,CAAA;AAEJ;AAEA,SAAS,qBAAqB;AACtB,QAAA,EAAC,cAAa;AACd,QAAA,EAAC,SAAQ;AACf,QAAMsB,gBAAe;AACrB,QAAM,CAAC,eAAe,gBAAgB,IAAI,SAAS,GAAG;AAEpD,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,OAAM;AAAA,MACN,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,MACvC,kCACG,QACC,EAAA,UAAA;AAAA,QAAC,oBAAA,OAAA,EAAM,SAAQ,yMAAyM,CAAA;AAAA,4BACvN,MAAG,EAAA;AAAA,4BACH,MAAG,EAAA;AAAA,QACJ,oBAAC,OAAM,EAAA,SAAQ,+HAA+H,CAAA;AAAA,MAAA,GAChJ;AAAA,MAEF,SACE,qBAAC,OAAI,EAAA,WAAU,wBACb,UAAA;AAAA,QAAA;AAAA,UAACJ;AAAAA,UAAA;AAAA,YACC,eAAc;AAAA,YACd,OAAO,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA;AAAA,YACxC,eAAe;AAAA,YACf,mBAAmB,CAAY,aAAA;AAC7B,+BAAiB,QAAkB;AAAA,YACrC;AAAA,YAEA,UAAA;AAAA,cAAA,oBAAC,QAAK,OAAM,KACV,8BAAC,OAAM,EAAA,SAAQ,cAAa,EAC9B,CAAA;AAAA,cACC,6BAAM,OAAO,IAAI,CAChB,SAAA,oBAAC,QAAK,OAAO,KAAK,OAChB,UAAA,oBAAC,SAAM,SAAS,KAAK,MAAM,EADC,GAAA,KAAK,KAEnC;AAAA,YACD;AAAA,UAAA;AAAA,QACH;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAQ;AAAA,YACR,OAAM;AAAA,YACN,WAAU;AAAA,YACV,UAAUI,cAAa;AAAA,YACvB,SAAS,MAAM;AACb,cAAAA,cAAa,OAAO;AAAA,gBAClB,OAAO;AAAA,gBACP,QAAQ,UAAU,qBAAqB;AAAA,cAAA,CACxC;AAAA,YACH;AAAA,YAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA;AAAA,UAAA;AAAA,QAC9B;AAAA,MAAA,GACF;AAAA,IAAA;AAAA,EAAA;AAIR;AC9MO,SAAS,uBAAuB;AAC/B,QAAA,EAAC,UAAS;AAChB,SAAO,YAAY;AAAA,IACjB,YAAY,MAAM,YAAY;AAAA,IAC9B,WAAW,MAAM;AACf,YAAM,MAAM,QAAQ,uBAAuB,CAAC,CAAC;AAAA,IAC/C;AAAA,IACA,SAAS,CAAO,QAAA,mBAAmB,GAAG;AAAA,EAAA,CACvC;AACH;AAEA,SAAS,cAAiC;AACxC,SAAO,UAAU,KAAK,qBAAqB,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AAC/D;ACbO,SAAS,iBAAiB;AAE7B,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,MAC/B,aACE,oBAAC,OAAM,EAAA,SAAQ,4EAA4E,CAAA;AAAA,MAG7F,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YACV,aACE,oBAAC,OAAM,EAAA,SAAQ,8FAA8F,CAAA;AAAA,YAG/G,UAAA,oBAAC,OAAM,EAAA,SAAQ,qBAAqB,CAAA;AAAA,UAAA;AAAA,QACtC;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YACV,aACE;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,SAAQ;AAAA,cAAA;AAAA,YAEV;AAAA,YAGF,UAAA,oBAAC,OAAM,EAAA,SAAQ,uBAAuB,CAAA;AAAA,UAAA;AAAA,QACxC;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YACV,aACE,oBAAC,OAAM,EAAA,SAAQ,iGAAiG,CAAA;AAAA,YAGlH,UAAA,oBAAC,OAAM,EAAA,SAAQ,wBAAwB,CAAA;AAAA,UAAA;AAAA,QACzC;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YACV,aACE,oBAAC,OAAM,EAAA,SAAQ,+EAA+E,CAAA;AAAA,YAGhG,UAAA,oBAAC,OAAM,EAAA,SAAQ,4BAA4B,CAAA;AAAA,UAAA;AAAA,QAC7C;AAAA,4BACC,kBAAiB,EAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGxB;AAEA,SAAS,mBAAmB;AAC1B,QAAMC,eAAc;AAElB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,OAAM;AAAA,MACN,OAAO,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA;AAAA,MAC5C,aACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAQ;AAAA,QAAA;AAAA,MAEV;AAAA,MAEF,SACE,oBAAC,OAAI,EAAA,WAAU,wBACb,UAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,UAAUA,aAAY;AAAA,UACtB,MAAK;AAAA,UACL,SAAS,MAAM;AACb,YAAAA,aAAY,OAAO;AAAA,UACrB;AAAA,UAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA;AAAA,QAAA;AAAA,MAAA,GAEhC;AAAA,IAAA;AAAA,EAAA;AAIR;AC7EO,SAAS,yBAAyB;AACjC,QAAA,EAAC,UAAS;AAChB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,YAAqB,WAAW,OAAO;AAAA,IACpD,WAAW,MAAM;AACf,YAAM,MAAM,QAAQ,2BAA2B,CAAC,CAAC;AAAA,IACnD;AAAA,IACA,SAAS,CAAO,QAAA,mBAAmB,GAAG;AAAA,EAAA,CACvC;AACH;AAEA,SAAS,WAAW,SAAqC;AACjD,QAAA,WAAW,IAAI;AACrB,WAAS,OAAO,QAAQ,QAAQ,KAAK,MAAM;AACpC,SAAA,UAAU,KAAK,qBAAqB,QAAQ,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AACvE;ACzBO,MAAM,YAAY;AAAA,EACvB,qBAAE,QAAK,EAAA,GAAE,0VAA2V,GAAI,GAAI,oBAAA,UAAA,EAAO,IAAG,MAAK,IAAG,KAAI,GAAE,OAAQ,GAAI,uBAAI,QAAK,EAAA,GAAE,kDAAsD,GAAA,GAAI,CAAG;AAAA,EACxd;AAAe;ACcV,SAAS,aAAa;AAEzB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,MACpC,kCACG,OACC,EAAA,UAAA;AAAA,QAAC,oBAAA,OAAA,EAAM,SAAQ,qEAAqE,CAAA;AAAA,QACpF,qBAAC,OAAI,EAAA,WAAU,iCACb,UAAA;AAAA,UAAA,oBAAC,WAAU,EAAA,MAAK,MAAK,WAAU,gBAAe;AAAA,UAC9C;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,IAAG;AAAA,cACH,WAAW;AAAA,cACX,QAAO;AAAA,cAEP,UAAA,oBAAC,OAAM,EAAA,SAAQ,8BAA8B,CAAA;AAAA,YAAA;AAAA,UAC/C;AAAA,QAAA,GACF;AAAA,MAAA,GACF;AAAA,MAGF,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,wBAAwB,CAAA;AAAA,YAC9C,MAAK;AAAA,YACL,WAAU;AAAA,YACV,eAAc;AAAA,YACd,aACE,oBAAC,OAAM,EAAA,SAAQ,iEAAiE,CAAA;AAAA,YAGlF,UAAA;AAAA,cAAA,oBAAC,QAAK,OAAM,iBACV,8BAAC,OAAM,EAAA,SAAQ,YAAW,EAC5B,CAAA;AAAA,cACA,oBAAC,QAAK,OAAM,cACV,8BAAC,OAAM,EAAA,SAAQ,qBAAoB,EACrC,CAAA;AAAA,cACA,oBAAC,QAAK,OAAM,oBACV,8BAAC,OAAM,EAAA,SAAQ,sBAAqB,EACtC,CAAA;AAAA,cACA,oBAAC,QAAK,OAAM,mBACV,8BAAC,OAAM,EAAA,SAAQ,gBAAe,EAChC,CAAA;AAAA,cACA,oBAAC,QAAK,OAAM,aACV,8BAAC,OAAM,EAAA,SAAQ,UAAS,EAC1B,CAAA;AAAA,YAAA;AAAA,UAAA;AAAA,QACF;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YACV,aACE;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,SAAS;AAAA,cAAA;AAAA,YACX;AAAA,YAGF,UAAA,oBAAC,OAAM,EAAA,SAAQ,uBAAuB,CAAA;AAAA,UAAA;AAAA,QACxC;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,6BAA6B,CAAA;AAAA,YACnD,MAAK;AAAA,YACL,eAAc;AAAA,YAEd,UAAA;AAAA,cAAA,oBAAC,QAAK,OAAM,gBACV,8BAAC,OAAM,EAAA,SAAQ,gBAAe,EAChC,CAAA;AAAA,cACA,oBAAC,QAAK,OAAM,sBACV,8BAAC,OAAM,EAAA,SAAQ,2BAA0B,EAC3C,CAAA;AAAA,cACA,oBAAC,QAAK,OAAM,kBACV,8BAAC,OAAM,EAAA,SAAQ,0BAAyB,EAC1C,CAAA;AAAA,YAAA;AAAA,UAAA;AAAA,QACF;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YACV,aACE,oBAAC,OAAM,EAAA,SAAQ,0FAA0F,CAAA;AAAA,YAG3G,UAAA,oBAAC,OAAM,EAAA,SAAQ,uBAAuB,CAAA;AAAA,UAAA;AAAA,QACxC;AAAA,4BACC,aAAY,EAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGnB;AAEA,SAAS,cAAc;AAEnB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,OAAM;AAAA,MACN,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,MACzC,aACE,oBAAC,OAAM,EAAA,SAAQ,kHAAkH,CAAA;AAAA,MAEnI,SACE,qBAAC,OAAI,EAAA,WAAU,wBACb,UAAA;AAAA,QAAA,oBAAC,cAAa,EAAA;AAAA,4BACb,cAAa,EAAA;AAAA,MAAA,GAChB;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA,SAAS,eAAe;AACtB,QAAMC,cAAa;AAEjB,SAAA,qBAAC,eAAc,EAAA,MAAK,SAClB,UAAA;AAAA,IAAA,oBAAC,QAAO,EAAA,SAAQ,QAAO,OAAM,WAAU,MAAK,MAAK,WAAU,SACzD,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA,GAC1B;AAAA,IACC,CAAC,EAAC,MAAA,MACD;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,UAAQ;AAAA,QACR,OAAO,oBAAC,OAAM,EAAA,SAAQ,0BAA0B,CAAA;AAAA,QAChD,2BACG,OACC,EAAA,UAAA;AAAA,UAAC,oBAAA,OAAA,EAAM,SAAQ,oDAAoD,CAAA;AAAA,UACnE,oBAAC,SAAI,WAAU,kBACb,8BAAC,OAAM,EAAA,SAAQ,yDAAwD,EACzE,CAAA;AAAA,QAAA,GACF;AAAA,QAEF,SAAS,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,QACjC,WAAWA,YAAW;AAAA,QACtB,WAAW,YAAY;AACf,gBAAA,QAAQ,MAAM,iBAAiB;AAAA,YACnC,YAAY,CAAC,KAAK;AAAA,UAAA,CACnB;AACD,UAAAA,YAAW,OAAO,EAAC,MAAM,MAAM,CAAC,EAAI,GAAA,EAAC,WAAW,MAAM,MAAM,EAAE,CAAA;AAAA,QAChE;AAAA,MAAA;AAAA,IACF;AAAA,EAEJ,EAAA,CAAA;AAEJ;AAEA,SAAS,eAAe;AAChB,QAAA,EAAC,aAAY;AACb,QAAA,aAAa,CAAC,WAA4B;AAC9C,UAAM,MAAM,GAAG,QAAQ,oCAAoC,MAAM;AACjE,wBAAoB,KAAK,gBAAgB;AAAA,EAAA;AAIzC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,gBAAgB,CAAS,UAAA;AACvB,mBAAW,KAAwB;AAAA,MACrC;AAAA,MAEA,UAAA;AAAA,QAAC,oBAAA,QAAA,EAAO,SAAQ,QAAO,OAAM,WAAU,MAAK,MAC1C,UAAC,oBAAA,OAAA,EAAM,SAAQ,SAAS,CAAA,GAC1B;AAAA,6BACC,MACC,EAAA,UAAA;AAAA,UAAA,oBAAC,QAAK,OAAM,QACV,8BAAC,OAAM,EAAA,SAAQ,uBAAsB,EACvC,CAAA;AAAA,UACA,oBAAC,QAAK,OAAM,QACV,8BAAC,OAAM,EAAA,SAAQ,QAAO,EACxB,CAAA;AAAA,QAAA,GACF;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;ACjKgB,SAAA,6BAA6B,EAAC,cAAoB;AAChE,QAAM,OAAO,QAAmC;AAAA,IAC9C,eAAe,aACX,aACA;AAAA,MACE,IAAI,OAAO,CAAC,EAAE,YAAY;AAAA,MAC1B,eAAe;AAAA,MACf,eAAe;AAAA,IACjB;AAAA,EAAA,CACL;AACD,QAAM,EAAC,QAAQ,MAAK,IAAI,iBAAiB;AAEzC,8BACG,QACC,EAAA,UAAA;AAAA,IAAC,oBAAA,cAAA,EACE,UACC,aAAA,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA,IAEhC,oBAAA,OAAA,EAAM,SAAQ,iBAAiB,CAAA,GAEpC;AAAA,IACA,oBAAC,YACC,EAAA,UAAA,qBAAChB,QAAK,EAAA,MAAY,IAAI,QAAQ,UAAU,CAAA,WAAU,MAAM,MAAM,GAC5D,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAS;AAAA,UACT,UAAQ;AAAA,UACR,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,UAC7B,WAAU;AAAA,QAAA;AAAA,MACZ;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAQ;AAAA,UACR,MAAK;AAAA,UACL,aAAY;AAAA,UACZ,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,UAC7B,WAAU;AAAA,QAAA;AAAA,MACZ;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAQ;AAAA,UACR,MAAK;AAAA,UACL,aAAY;AAAA,UACZ,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,WAAW,CAAA;AAAA,UACjC,WAAU;AAAA,QAAA;AAAA,MACZ;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAQ;AAAA,UACR,MAAK;AAAA,UACL,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,WAAW,CAAA;AAAA,UACjC,WAAU;AAAA,QAAA;AAAA,MACZ;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,UAC7B,aAAY;AAAA,UACZ,WAAU;AAAA,QAAA;AAAA,MACZ;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,UAC/B,WAAU;AAAA,UACV,aACE,oBAAC,OAAM,EAAA,SAAQ,8FAA8F,CAAA;AAAA,QAAA;AAAA,MAEjH;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,WAAU;AAAA,UACV,aACE,oBAAC,OAAM,EAAA,SAAQ,+DAA+D,CAAA;AAAA,UAGhF,UAAA,oBAAC,OAAM,EAAA,SAAQ,qBAAqB,CAAA;AAAA,QAAA;AAAA,MACtC;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,aACE,oBAAC,OAAM,EAAA,SAAQ,+DAA+D,CAAA;AAAA,UAGhF,UAAA,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,QAAA;AAAA,MAClC;AAAA,IAAA,EAAA,CACF,EACF,CAAA;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAC,oBAAA,QAAA,EAAO,SAAS,MAAM,MAAA,GACrB,UAAC,oBAAA,OAAA,EAAM,SAAQ,SAAA,CAAS,EAC1B,CAAA;AAAA,MACC,oBAAA,QAAA,EAAO,MAAK,UAAS,MAAM,QAAQ,SAAQ,QAAO,OAAM,WACvD,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA,GACxB;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;AClHO,MAAM,YAAY;AAAA,EACvB;AAAA,IACE;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,MAAK;AAAA,QACL,GAAE;AAAA,MAAA;AAAA,MAFE;AAAA,IAGN;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,MAAK;AAAA,QACL,GAAE;AAAA,MAAA;AAAA,MAFE;AAAA,IAGN;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,MAAK;AAAA,QACL,QAAO;AAAA,MAAA;AAAA,MAFH;AAAA,IAGN;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,MAAK;AAAA,QACL,GAAE;AAAA,MAAA;AAAA,MAFE;AAAA,IAGN;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,MAAK;AAAA,QACL,GAAE;AAAA,MAAA;AAAA,MAFE;AAAA,IAGN;AAAA,EACF;AAAA,EACA;AAAA,EACA;AACF;ACtBO,SAAS,oBAAoB;AAClC,QAAM,EAAC,OAAO,SAAQ,IAAI,eAA8B;AAClD,QAAA,EAAC,kBAAiB;AAClB,QAAA,iBAAiB,MAAM,8BAA8B;AAE3D,QAAM,qBAAqB,YAAY;AAC/B,UAAA,IAAI,MAAM,cAAc,oCAAoC;AAC9D,SAAA,uBAAG,YAAW,WAAW;AACrB,YAAA,QAAS,EAAE,aAAqB,QAAQ;AAC9C,eAAS,gCAAgC,KAAK;AACxC,YAAA,QAAQ,mCAAmC,EAAC,QAAQ,EAAC,MAAK,EAAE,CAAA,CAAC;AAAA,IACrE;AAAA,EAAA;AAGF,QAAM,gBACJ;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,SAAQ;AAAA,MACR,OAAM;AAAA,MACN,+BAAY,WAAU,EAAA;AAAA,MACtB,SAAS,MAAM;AACM;MACrB;AAAA,MAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,wBAAwB,CAAA;AAAA,IAAA;AAAA,EAAA;AAI3C,QAAM,iBACJ,qBAAC,OAAI,EAAA,WAAU,qEACb,UAAA;AAAA,IAAC,oBAAA,WAAA,EAAU,MAAK,KAAK,CAAA;AAAA,IACpB;AAAA,IACD;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,OAAM;AAAA,QACN,WAAU;AAAA,QACV,SAAS,MAAM;AACM;QACrB;AAAA,QAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,MAAA;AAAA,IAC7B;AAAA,EACF,EAAA,CAAA;AAGF,8BACG,UACC,EAAA,UAAA;AAAA,IAAA,oBAAC,SAAI,WAAU,gBACb,8BAAC,OAAM,EAAA,SAAQ,iBAAgB,EACjC,CAAA;AAAA,IACC,iBAAiB,iBAAiB;AAAA,EACrC,EAAA,CAAA;AAEJ;ACjDO,SAAS,yBAAyB;AAErC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,MACvC,aACE,oBAAC,OAAM,EAAA,SAAQ,2EAA2E,CAAA;AAAA,MAG5F,UAAA;AAAA,QAAA,oBAAC,0BAAyB,EAAA;AAAA,QAC1B;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,MAAK;AAAA,YACL,aACE,oBAAC,OAAM,EAAA,SAAQ,oFAAoF,CAAA;AAAA,YAGrG,UAAA,oBAAC,OAAM,EAAA,SAAQ,uBAAuB,CAAA;AAAA,UAAA;AAAA,QACxC;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,MAAK;AAAA,YACL,aACE,oBAAC,OAAM,EAAA,SAAQ,yEAAyE,CAAA;AAAA,YAG1F,UAAA,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA;AAAA,UAAA;AAAA,QACvC;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,aACE,oBAAC,OAAM,EAAA,SAAQ,+CAA+C,CAAA;AAAA,YAGhE,UAAA,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA;AAAA,UAAA;AAAA,QACnC;AAAA,4BACC,eAAc,EAAA;AAAA,4BACd,eAAc,EAAA;AAAA,4BACd,iBAAgB,EAAA;AAAA,4BAChB,gBAAe,EAAA;AAAA,4BACf,mBAAkB,EAAA;AAAA,QACnB;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,kBAAiB;AAAA,YACjB,MAAM;AAAA,YACN,WAAU;AAAA,YACV,MAAK;AAAA,YACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,YACzC,aACE,oBAAC,OAAM,EAAA,SAAQ,8HAA8H,CAAA;AAAA,UAAA;AAAA,QAEjJ;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAEO,SAAS,sBAAsB;AAC9B,QAAA,EAAC,UAAS;AACV,QAAA,YAAY,MAAM,mBAAmB;AACvC,MAAA;AAAkB,WAAA;AAGpB,SAAA,oBAAC,KAAE,EAAA,WAAU,uDACX,UAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,SAAQ;AAAA,MACR,QAAQ;AAAA,QACN,GAAG,CACD,SAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,aAAa;AAAA,YACb,SAAQ;AAAA,YACR,MAAK;AAAA,YACL,SAAQ;AAAA,YACR,WAAU;AAAA,YACV,IAAG;AAAA,YAEF,UAAA;AAAA,UAAA;AAAA,QACH;AAAA,MAEJ;AAAA,IAAA;AAAA,EAEJ,EAAA,CAAA;AAEJ;AAEA,SAAS,2BAA2B;AAEhC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,MAAK;AAAA,MACL,aACGW,qBAAAA,UAAA,EACC,UAAA;AAAA,QAAC,oBAAA,OAAA,EAAM,SAAQ,6FAA6F,CAAA;AAAA,4BAC3G,qBAAoB,EAAA;AAAA,MAAA,GACvB;AAAA,MAGF,UAAA,oBAAC,OAAM,EAAA,SAAQ,6BAA6B,CAAA;AAAA,IAAA;AAAA,EAAA;AAGlD;AAEA,SAAS,gBAAgB;;AACjB,QAAA,EAAC,UAAS;AAChB,QAAM,WAAW;AACX,QAAA,qBAAqB,MAAM,6BAA6B;AAE1D,MAAA,GAAEnB,MAAA,SAAiB,WAAjB,gBAAAA,IAAyB;AAAe,WAAA;AAE9C,6BACG,oBAAmB,EAAA,iBAAiB,OAAO,MAAK,gBAC9C,yBAEG,qBAAAmB,YAAA,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,MAAK;AAAA,QACL,aACE,oBAAC,OAAM,EAAA,SAAQ,2CAA2C,CAAA;AAAA,QAG5D,UAAA,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,MAAA;AAAA,IAChC;AAAA,IACC,CAAC,CAAC,sBAEC,qBAAAA,YAAA,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAS;AAAA,UACT,WAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,UAClC,UAAQ;AAAA,QAAA;AAAA,MACV;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAS;AAAA,UACT,WAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,UACtC,UAAQ;AAAA,QAAA;AAAA,MACV;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAS;AAAA,UACT,WAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,wBAAwB,CAAA;AAAA,UAC9C,UAAQ;AAAA,QAAA;AAAA,MACV;AAAA,IAAA,GACF;AAAA,EAAA,EAEJ,CAAA,EAEJ,CAAA;AAEJ;AAEA,SAAS,gBAAgB;AACjB,QAAA,EAAC,UAAS;AACV,QAAA,qBAAqB,MAAM,6BAA6B;AAE9D,SACG,oBAAA,oBAAA,EAAmB,MAAK,gBACtB,yBAEG,qBAAAA,YAAA,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,MAAK;AAAA,QACL,aACE,oBAAC,OAAM,EAAA,SAAQ,2CAA2C,CAAA;AAAA,QAG5D,UAAA,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,MAAA;AAAA,IAChC;AAAA,IACC,CAAC,CAAC,sBAEC,qBAAAA,YAAA,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAS;AAAA,UACT,WAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,UACzC,UAAQ;AAAA,QAAA;AAAA,MACV;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,uBAAuB,CAAA;AAAA,UAC7C,UAAQ;AAAA,QAAA;AAAA,MACV;AAAA,IAAA,GACF;AAAA,EAAA,EAEJ,CAAA,EAEJ,CAAA;AAEJ;AAEA,SAAS,kBAAkB;AACnB,QAAA,EAAC,UAAS;AACV,QAAA,uBAAuB,MAAM,+BAA+B;AAElE,6BACG,oBAAmB,EAAA,MAAK,kBAAiB,cAAc,OACrD,yBAEG,qBAAAA,YAAA,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,MAAK;AAAA,QACL,aACE,oBAAC,OAAM,EAAA,SAAQ,6CAA6C,CAAA;AAAA,QAG9D,UAAA,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,MAAA;AAAA,IAClC;AAAA,IACC,CAAC,CAAC,wBAEC,qBAAAA,YAAA,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAS;AAAA,UACT,WAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA;AAAA,UACxC,UAAQ;AAAA,QAAA;AAAA,MACV;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAS;AAAA,UACT,WAAU;AAAA,UACV,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA;AAAA,UAC5C,UAAQ;AAAA,QAAA;AAAA,MACV;AAAA,IAAA,GACF;AAAA,EAAA,EAEJ,CAAA,EAEJ,CAAA;AAEJ;AAEA,SAAS,iBAAiB;AAClB,QAAA,EAAC,UAAS;AACV,QAAA,sBAAsB,MAAM,8BAA8B;AAG9D,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,cAAc;AAAA,MACd,iBAAiB;AAAA,MAEhB,yBAEG,qBAAAA,YAAA,EAAA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAS;AAAA,YACT,MAAK;AAAA,YACL,aACE,oBAAC,OAAM,EAAA,SAAQ,4CAA4C,CAAA;AAAA,YAG7D,UAAA,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,UAAA;AAAA,QACjC;AAAA,QACC,CAAC,CAAC,uBAEC,qBAAAA,YAAA,EAAA,UAAA;AAAA,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,SAAS;AAAA,cACT,WAAU;AAAA,cACV,MAAK;AAAA,cACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA;AAAA,cACnC,UAAQ;AAAA,YAAA;AAAA,UACV;AAAA,UACA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,SAAS;AAAA,cACT,WAAU;AAAA,cACV,MAAK;AAAA,cACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,cACvC,UAAQ;AAAA,YAAA;AAAA,UACV;AAAA,QAAA,GACF;AAAA,MAAA,GAEJ;AAAA,IAAA;AAAA,EAAA;AAIR;ACrQA,MAAM,mBAAmB,CAAC,WAAmC;;AACvD,OAAAnB,MAAA,OAAO,WAAP,gBAAAA,IAAe,gBAAgB;AACL,gCAAA,OAAO,OAAO,gBAAgB;AAAA,MACxD,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,MAAM;AAAA,IAAA,CACP;AAAA,EACH;AAEE,QAAA,YAAO,WAAP,mBAAe,mBACf,OAAO,KAAK,OAAO,OAAO,cAAc,EAAE,WAAW,GACrD;AACA,WAAO,OAAO,OAAO;AAAA,EACvB;AACO,SAAA;AACT;AAEO,SAAS,wBAAwB;AAChC,QAAA;AAAA,IACJ,UAAU,EAAC,UAAS;AAAA,MAClB,YAAY;AACV,QAAA,CAAC,gBAAgB,iBAAiB,IAAI;AAAA,IAC1C;AAAA,IACA,CAAC,GAAG,GAAG,CAAC;AAAA,EAAA;AAGR,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,MACvC,iBAAiB;AAAA,MACjB,kCACG,UACC,EAAA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAQ;AAAA,YACR,QAAQ,EAAC,MAAM,UAAS;AAAA,UAAA;AAAA,QAC1B;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,MAAK;AAAA,UAAA;AAAA,QACP;AAAA,MAAA,GACF;AAAA,MAGF,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YACV,aACE,oBAAC,OAAM,EAAA,SAAQ,6EAA6E,CAAA;AAAA,YAG9F,UAAA,oBAAC,OAAM,EAAA,SAAQ,yBAAyB,CAAA;AAAA,UAAA;AAAA,QAC1C;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YACV,aACE,oBAAC,OAAM,EAAA,SAAQ,iGAAiG,CAAA;AAAA,YAGlH,UAAA,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA;AAAA,UAAA;AAAA,QACvC;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YACV,aACE,oBAAC,OAAM,EAAA,SAAQ,gGAAgG,CAAA;AAAA,YAGjH,UAAA,oBAAC,OAAM,EAAA,SAAQ,+BAA+B,CAAA;AAAA,UAAA;AAAA,QAChD;AAAA,4BACC,4BAA2B,EAAA;AAAA,4BAC3B,mBAAkB,EAAA;AAAA,QACnB;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YACV,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,YACvC,aACE;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,MACE;AAAA,kBAAC;AAAA,kBAAA;AAAA,oBACC,SAAQ;AAAA,oBACR,QAAQ;AAAA,sBACN,yBACG,UACC,EAAA,UAAA;AAAA,wBAAA,oBAAC,MAAG,EAAA;AAAA,4CACH,MAAG,EAAA;AAAA,sBAAA,GACN;AAAA,oBAEJ;AAAA,kBAAA;AAAA,gBACF;AAAA,cAAA;AAAA,YAEJ;AAAA,YAEF,qBAAoB;AAAA,UAAA;AAAA,QACtB;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAQ;AAAA,YACR,MAAK;AAAA,YACL;AAAA,YACA,kBAAkB,CAAU,WAAA,kBAAkB,MAAkB;AAAA,YAEhE,UAAA;AAAA,cAAC,oBAAA,eAAA,EAAc,OAAQ,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA,GAC1C,UAAC,oBAAA,WAAA,CAAA,CAAU,EACb,CAAA;AAAA,cACA,oBAAC,eAAc,EAAA,OAAQ,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA,GAC1C,UAAC,oBAAA,WAAA,CAAA,CAAU,EACb,CAAA;AAAA,cACA,oBAAC,eAAc,EAAA,OAAQ,oBAAA,OAAA,EAAM,SAAQ,WAAW,CAAA,GAC9C,UAAC,oBAAA,UAAA,CAAA,CAAS,EACZ,CAAA;AAAA,cACA,oBAAC,eAAc,EAAA,OAAQ,oBAAA,OAAA,EAAM,SAAQ,YAAY,CAAA,GAC/C,UAAC,oBAAA,YAAA,CAAA,CAAW,EACd,CAAA;AAAA,cACA,oBAAC,eAAc,EAAA,OAAQ,oBAAA,OAAA,EAAM,SAAQ,UAAU,CAAA,GAC7C,UAAC,oBAAA,cAAA,CAAA,CAAa,EAChB,CAAA;AAAA,YAAA;AAAA,UAAA;AAAA,QACF;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAEA,SAAS,WAAW;AACZ,QAAA;AAAA,IACJ;AAAA,IACA,UAAU,EAAC,UAAS;AAAA,MAClB,YAAY;AAChB,8BACG,OACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cAAW,MAAK,qCACf,8BAAC,OAAM,EAAA,SAAQ,WAAU,EAC3B,CAAA;AAAA,IACA,oBAAC,KAAE,EAAA,WAAU,4BACX,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,QAAQ,EAAC,UAAU,UAAS;AAAA,MAAA;AAAA,IAAA,GAEhC;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAM,GAAG,QAAQ;AAAA,MAAA;AAAA,IACnB;AAAA,EACF,EAAA,CAAA;AAEJ;AAEA,SAAS,eAAe;AAChB,QAAA;AAAA,IACJ,UAAU,EAAC,UAAS;AAAA,MAClB,YAAY;AAChB,8BACG,OACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cAAW,MAAK,yCACf,8BAAC,OAAM,EAAA,SAAQ,WAAU,EAC3B,CAAA;AAAA,IACA,oBAAC,KAAE,EAAA,WAAU,4BACX,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,QAAQ,EAAC,UAAU,UAAS;AAAA,MAAA;AAAA,IAAA,GAEhC;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA;AAAA,MAAA;AAAA,IAC1C;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAK;AAAA,QACL,aACE,oBAAC,OAAM,EAAA,SAAQ,kKAAkK,CAAA;AAAA,QAGnL,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,MAAA;AAAA,IAC1B;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAK;AAAA,MAAA;AAAA,IACP;AAAA,EACF,EAAA,CAAA;AAEJ;AAEA,SAAS,aAAa;AACd,QAAA;AAAA,IACJ,UAAU,EAAC,UAAS;AAAA,MAClB,YAAY;AACV,QAAA,EAAC,UAAS;AACV,QAAA,YAAY,MAAM,qCAAqC;AAE3D,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,iBAAiB;AAAA,MACjB,cAAc;AAAA,MAEb,UAAA,CAAA,mCACE,UACC,EAAA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,SAAS;AAAA,YAET,UAAA,oBAAC,OAAM,EAAA,SAAQ,UAAU,CAAA;AAAA,UAAA;AAAA,QAC3B;AAAA,QACA,oBAAC,KAAE,EAAA,WAAU,4BACX,UAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAQ;AAAA,YACR,QAAQ,EAAC,UAAU,UAAS;AAAA,UAAA;AAAA,QAAA,GAEhC;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAS;AAAA,YACT,MAAK;AAAA,YACL,WAAW;AAAA,YACX,UAAU;AAAA,YACV,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,YACzC,aAAa,oBAAC,OAAM,EAAA,SAAQ,mCAAmC,CAAA;AAAA,YAC/D,WAAU;AAAA,YACV,MAAK;AAAA,UAAA;AAAA,QACP;AAAA,4BACC,mBAAkB,EAAA;AAAA,MAAA,GACrB;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA,SAAS,YAAY;AACb,QAAA;AAAA,IACJ,UAAU,EAAC,UAAS;AAAA,MAClB,YAAY;AAChB,8BACG,OACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cAAW,MAAK,sCACf,8BAAC,OAAM,EAAA,SAAQ,WAAU,EAC3B,CAAA;AAAA,IACA,oBAAC,KAAE,EAAA,WAAU,4BACX,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,QAAQ,EAAC,UAAU,UAAS;AAAA,MAAA;AAAA,IAAA,GAEhC;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAK;AAAA,MAAA;AAAA,IACP;AAAA,EACF,EAAA,CAAA;AAEJ;AAEA,SAAS,YAAY;AACb,QAAA;AAAA,IACJ,UAAU,EAAC,UAAS;AAAA,MAClB,YAAY;AAChB,QAAM,EAAC,QAAQ,QAAQ,QAAQ,OAAA,IAAU,cAIvC;AAAA,IACA,MAAM;AAAA,IACN,SAAS;AAAA,EAAA,CACV;AAGC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,iBAAiB;AAAA,MACjB,cAAc;AAAA,MAEb,UAAA,CAAA,mCACE,UACC,EAAA,UAAA;AAAA,QAAC,oBAAA,KAAA,EAAE,WAAU,4BACX,UAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAQ;AAAA,YACR,QAAQ,EAAC,UAAU,UAAS;AAAA,UAAA;AAAA,QAAA,GAEhC;AAAA,QACA,oBAAC,SAAI,WAAU,oBACZ,iBAAO,IAAI,CAAC,OAAO,UAClB;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAW;AAAA,cACT;AAAA,cACA,aAAa;AAAA,YACf;AAAA,YAGA,UAAA;AAAA,cAAC,qBAAA,OAAA,EAAI,WAAU,WACb,UAAA;AAAA,gBAAC,oBAAA,OAAA,EAAK,gBAAM,KAAK,CAAA;AAAA,gBAChB,oBAAA,OAAA,EAAI,WAAU,sBAAsB,gBAAM,UAAS;AAAA,cAAA,GACtD;AAAA,cACA;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,MAAK;AAAA,kBACL,SAAS,CAAqB,sBAAA;AAC5B,wBAAI,mBAAmB;AACrB,6BAAO,OAAO,iBAAiB;AAAA,oBACjC;AAAA,kBACF;AAAA,kBAEA,UAAA;AAAA,oBAAA,oBAAC,WAAQ,OAAO,oBAAC,OAAM,EAAA,SAAQ,QAAO,GACpC,UAAA,oBAAC,YAAW,EAAA,MAAK,MAAK,WAAU,cAC9B,UAAC,oBAAA,cAAA,CAAA,CAAa,EAChB,CAAA,GACF;AAAA,oBACA,oBAAC,8BAA6B,EAAA,YAAY,MAAO,CAAA;AAAA,kBAAA;AAAA,gBAAA;AAAA,cACnD;AAAA,kCACC,SAAQ,EAAA,2BAAQ,OAAM,EAAA,SAAQ,UAAS,GACtC,UAAA;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,MAAK;AAAA,kBACL,WAAU;AAAA,kBACV,SAAS,MAAM,OAAO,KAAK;AAAA,kBAE3B,8BAAC,YAAW,EAAA;AAAA,gBAAA;AAAA,cAAA,GAEhB;AAAA,YAAA;AAAA,UAAA;AAAA,UA7BK,MAAM;AAAA,QA+Bd,CAAA,GACH;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,SAAS,CAAc,eAAA;AACrB,kBAAI,YAAY;AACd,uBAAO,UAAU;AAAA,cACnB;AAAA,YACF;AAAA,YAEA,UAAA;AAAA,cAAA;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,SAAQ;AAAA,kBACR,OAAM;AAAA,kBACN,+BAAY,SAAQ,EAAA;AAAA,kBACpB,MAAK;AAAA,kBAEL,UAAA,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,gBAAA;AAAA,cAClC;AAAA,kCACC,8BAA6B,EAAA;AAAA,YAAA;AAAA,UAAA;AAAA,QAChC;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,MAAK;AAAA,UAAA;AAAA,QACP;AAAA,MAAA,GACF;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA,SAAS,6BAA6B;AAC9B,QAAA,EAAC,UAAS;AAChB,MAAI,MAAM,mCAAmC;AAAU,WAAA;AAErD,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,WAAU;AAAA,MACV,aACE,oBAAC,OAAM,EAAA,SAAQ,wHAAwH,CAAA;AAAA,MAGzI,UAAA,oBAAC,OAAM,EAAA,SAAQ,+BAA+B,CAAA;AAAA,IAAA;AAAA,EAAA;AAGpD;AAEA,SAAS,oBAAoB;AACrB,QAAA,EAAC,UAAS;AAEd,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,WAAU;AAAA,MACV,UAAU,CAAC,MAAM,mBAAmB;AAAA,MACpC,kCACG,UACC,EAAA,UAAA;AAAA,QAAC,oBAAA,OAAA,EAAM,SAAQ,+EAA+E,CAAA;AAAA,4BAC7F,qBAAoB,EAAA;AAAA,MAAA,GACvB;AAAA,MAGF,UAAA,oBAAC,OAAM,EAAA,SAAQ,yBAAyB,CAAA;AAAA,IAAA;AAAA,EAAA;AAG9C;AC5YO,MAAM,oBAAmC;AAAA,EAC9C;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,gBAAe,EAAA;AAAA,EAC3B;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,gBAAe,EAAA;AAAA,EAC3B;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,YAAW,EAAA;AAAA,EACvB;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,uBAAsB,EAAA;AAAA,EAClC;AACF;ACdO,SAAS,cAAc,EAAC,UAAU,GAAG,SAAiC;AACrE,QAAA;AAAA,IACJ,OAAO,EAAC,UAAU,QAAQ,QAAQ,CAAA,GAAI,IAAG;AAAA,IACzC,YAAY,EAAC,SAAS,MAAK;AAAA,MACzB,cAAc;AAAA,IAChB,MAAM,MAAM;AAAA,EAAA,CACb;AAEK,QAAA,aAAa,QAAQ,MAAM;AAC/B,UAAM,aAAa;AACnB,WAAO,OAAO,eAAe,WAAW,KAAK,MAAM,UAAU,IAAI;AAAA,EAAA,GAChE,CAAC,KAAK,CAAC;AAEV,QAAM,YAAoD;AAAA,IACxD,UAAU,CAAY,aAAA;AACd,YAAA,YAAY,KAAK,UAAU,SAAS,IAAI,CAAQ,SAAA,KAAK,IAAI,CAAC;AAChE,eAAS,SAAS;AAAA,IACpB;AAAA,IACA;AAAA,IACA,OAAO;AAAA,IACP;AAAA,IACA,cAAc,+BAAO;AAAA,EAAA;AAGvB,6BAAQ,WAAU,EAAA,KAAW,GAAG,WAAW,WAAW,KAAK,EAAG,CAAA;AAChE;ACdO,SAAS,UAAU,EAAC,UAAU,aAA4B;AAC/D,QAAM,EAAC,aAAa,OAAM,IAAI,WAAW,UAAU;AAG7C,QAAA,aAAa,SAAS,QAAQ,QAAQ,EAAE,OAAO,CAAA,MAAK,CAAC,CAAC,CAAC;AAEzD,MAAA;AACJ,MAAI,QAAQ;AACJ,UAAA,KAAK,WAAW,WAAW;AACjC,eAAW,eAAe,EAAE,IACxB,aAA4B,WAAW,WAAW,GAAmB;AAAA,MACnE,OAAO;AAAA,IACR,CAAA,IACD;AAAA,EAAA,OACC;AACL,eAAW,WAAW,IAAI,CAAC,OAAO,UAAU;AACtC,UAAA,eAA+B,KAAK,GAAG;AACzC,cAAM,aAAa,UAAU;AAC7B,eAAO,aAA4B,OAAO;AAAA,UACxC;AAAA,UACA,eAAe,CAAC;AAAA,UAChB,WAAW,CAAC,aACR,KAAK,MAAM,MAAM,WAAW,QAAQ,IACpC,MAAM,MAAM;AAAA,QAAA,CACjB;AAAA,MACH;AACO,aAAA;AAAA,IAAA,CACR;AAAA,EACH;AAEO,SAAA,oBAAC,OAAI,EAAA,WAAuB,UAAS,SAAA,CAAA;AAC9C;AAOO,SAAS,SAAS;AAAA,EACvB;AAAA,EACA;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAAkB;AAChB,QAAM,EAAC,GAAA,IAAM,WAAW,UAAU;AAElC,QAAM,CAAC,UAAU,WAAW,IAAI,SAA6B,CAAC;AACxD,QAAA,MAAM,OAAuB,IAAI;AAKvCyB,oBAAgB,MAAM;AACpB,QAAI,2BAAK,SAAS;AAChB,YAAM,SAAS,MAAM;AAEnB,cAAM,SAAS,uBAAuB,IAAI,SAAU,EAAC,UAAU,MAAK;AACpE,oBAAY,OAAO,SAAA,IAAa,SAAY,CAAC;AAAA,MAAA;AAGxC;AAGD,YAAA,WAAW,IAAI,iBAAiB,MAAM;AACnC,eAAA,QAAQ,IAAI,SAAS;AAAA,QAC5B,SAAS;AAAA,QACT,WAAW;AAAA,QACX,YAAY;AAAA,QACZ,iBAAiB,CAAC,YAAY,UAAU;AAAA,MAAA,CACzC;AAED,aAAO,MAAM;AACX,iBAAS,WAAW;AAAA,MAAA;AAAA,IAExB;AAAA,EAAA,GACC,CAAC,GAAG,CAAC;AAGN,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA;AAAA,MACA,IAAI,GAAG,EAAE,IAAI,KAAK;AAAA,MAClB,mBAAiB,GAAG,EAAE,IAAI,KAAK;AAAA,MAC/B,WAAW,KAAK,WAAW,qCAAqC;AAAA,MAChE,MAAK;AAAA,MACJ,GAAG;AAAA,MAEH;AAAA,IAAA;AAAA,EAAA;AAGP;AC7FO,SAAS,uBAAuB;AAC/B,QAAA,EAAC,UAAS;AAEd,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,MACtC,aACE,oBAAC,OAAM,EAAA,SAAQ,sFAAsF,CAAA;AAAA,MAGvG,+BAAC,MACC,EAAA,UAAA;AAAA,QAAA,qBAAC,SACC,EAAA,UAAA;AAAA,UAAA,oBAAC,KACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,UAAU,CAAA,GAC3B;AAAA,8BACC,KACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,WAAW,CAAA,GAC5B;AAAA,QAAA,GACF;AAAA,QACA,qBAAC,WAAU,EAAA,WAAU,SACnB,UAAA;AAAA,UAAA,qBAAC,UACC,EAAA,UAAA;AAAA,YAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,MAAK;AAAA,gBACL,aACE,oBAAC,OAAM,EAAA,SAAQ,4EAA4E,CAAA;AAAA,gBAG7F,UAAA,oBAAC,OAAM,EAAA,SAAQ,uBAAuB,CAAA;AAAA,cAAA;AAAA,YACxC;AAAA,gCACC,mBAAkB,EAAA;AAAA,gCAClB,eAAc,EAAA;AAAA,gCACd,eAAc,EAAA;AAAA,gCACd,mBAAkB,EAAA;AAAA,YACnB;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,gBACvC,MAAK;AAAA,gBACL,aAAa,MAAM,EAAC,SAAS,mBAAkB;AAAA,cAAA;AAAA,YACjD;AAAA,UAAA,GACF;AAAA,+BACC,UACC,EAAA,UAAA;AAAA,YAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,kBAAiB;AAAA,gBACjB,MAAM;AAAA,gBACN,OAAO,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA;AAAA,gBACxC,MAAK;AAAA,gBACL,WAAU;AAAA,cAAA;AAAA,YACZ;AAAA,YACA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,kBAAiB;AAAA,gBACjB,MAAM;AAAA,gBACN,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,gBACtC,aACE,oBAAC,OAAM,EAAA,SAAQ,yEAAyE,CAAA;AAAA,gBAE1F,MAAK;AAAA,cAAA;AAAA,YACP;AAAA,UAAA,GACF;AAAA,QAAA,GACF;AAAA,MAAA,GACF;AAAA,IAAA;AAAA,EAAA;AAGN;AAEA,SAAS,gBAAgB;AACjB,QAAA,EAAC,UAAS;AACV,QAAA,kBAAkB,MAAM,8BAA8B;AAE1D,SAAA,qBAAC,OAAI,EAAA,WAAU,SACb,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,kCACG,OACC,EAAA,UAAA;AAAA,UAAC,oBAAA,OAAA,EAAM,SAAQ,6CAA6C,CAAA;AAAA,UAC5D;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAU;AAAA,cACV,MAAK;AAAA,YAAA;AAAA,UACP;AAAA,QAAA,GACF;AAAA,QAGF,UAAA,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,MAAA;AAAA,IAClC;AAAA,IACC,kBACE,oBAAA,oBAAA,EAAmB,MAAK,gBACtB,UAAA,CAAA,mCACE,UACC,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,UACzC,UAAQ;AAAA,UACR,SAAS;AAAA,UACT,WAAU;AAAA,QAAA;AAAA,MACZ;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,UACtC,UAAQ;AAAA,UACR,SAAS;AAAA,UACT,WAAU;AAAA,QAAA;AAAA,MACZ;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,UAC1C,UAAQ;AAAA,UACR,SAAS;AAAA,UACT,WAAU;AAAA,QAAA;AAAA,MACZ;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,SAAS;AAAA,UACT,aACG,oBAAA,OAAA,EACC,8BAAC,OAAM,EAAA,SAAQ,wDAAwD,CAAA,GACzE;AAAA,UAGF,UAAA,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,QAAA;AAAA,MACpC;AAAA,IAAA,EACF,CAAA,EAEJ,CAAA,IACE;AAAA,EACN,EAAA,CAAA;AAEJ;AAEA,SAAS,gBAAgB;AACjB,QAAA,EAAC,UAAS;AACV,QAAA,gBAAgB,MAAM,8BAA8B;AAC1D,8BACG,UACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,kCACG,OACC,EAAA,UAAA;AAAA,UAAC,oBAAA,OAAA,EAAM,SAAQ,6CAA6C,CAAA;AAAA,UAC5D;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAU;AAAA,cACV,MAAK;AAAA,YAAA;AAAA,UACP;AAAA,QAAA,GACF;AAAA,QAGF,UAAA,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,MAAA;AAAA,IAClC;AAAA,IACC,oCACE,oBAAmB,EAAA,MAAK,gBAAe,iBAAiB,OACtD,UACC,CAAA,cAAA,qBAAC,UACC,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,yBAAyB,CAAA;AAAA,UAC/C,UAAQ;AAAA,UACR,WAAU;AAAA,UACV,SAAS;AAAA,QAAA;AAAA,MACX;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,UAC1C,UAAQ;AAAA,UACR,WAAU;AAAA,UACV,SAAS;AAAA,QAAA;AAAA,MACX;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,gCAAgC,CAAA;AAAA,UACtD,WAAU;AAAA,UACV,SAAS;AAAA,QAAA;AAAA,MACX;AAAA,IAAA,EACF,CAAA,EAEJ,CAAA,IACE;AAAA,EACN,EAAA,CAAA;AAEJ;AClLO,SAAS,uBAAuB;AACrC,QAAM,EAAC,KAAI,IAAI,cAAc,CAAC,aAAa,eAAe,CAAC;AAC3D,QAAM,QAAQ;AACR,QAAA,EAAC,UAAS;AAEd,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,MACrC,aACE,oBAAC,OAAM,EAAA,SAAQ,qDAAqD,CAAA;AAAA,MAGtE,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,UAAQ;AAAA,YACR,MAAK;AAAA,YACL,iBAAe;AAAA,YACf,eAAc;AAAA,YACd,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,YACzC,mBAAmB,MAAM,QAAQ,kBAAkB,CAAC;AAAA,YACpD,aACE,oBAAC,OAAM,EAAA,SAAQ,yEAAyE,CAAA;AAAA,YAG1F,UAAA;AAAA,cAAC,oBAAAb,MAAA,EAAkB,OAAM,QACvB,UAAA,oBAAC,SAAM,SAAQ,QAAO,KADZ,MAEZ;AAAA,cACC,OAAO,SAAQ,6BAAM,cAAa,CAAE,CAAA,EAAE,IAAI,CAAC,CAAC,WAAW,SAAS,0BAC9D,SAAwB,EAAA,OAAO,WAC7B,UAAA,UAAU,IAAI,CAAA,aACZ,oBAAAA,MAAA,EAA4B,OAAO,SAAS,OAC1C,UAAS,SAAA,KAAA,GADC,SAAS,KAEtB,CACD,EAAA,GALW,SAMd,CACD;AAAA,YAAA;AAAA,UAAA;AAAA,QACH;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YACV,eAAc;AAAA,YACd,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,YACzC,aACE,oBAAC,OAAM,EAAA,SAAQ,6EAA6E,CAAA;AAAA,YAG9F,UAAA;AAAA,cAAC,oBAAAA,MAAA,EAAkB,OAAM,QACvB,UAAA,oBAAC,SAAM,SAAQ,QAAO,KADZ,MAEZ;AAAA,gBACE,6BAAM,kBAAiB,IAAI,IAAI,YAC9B,oBAAAA,MAAA,EAA6B,OAAO,OAAO,UAAU,iBAAe,MAClE,iBAAO,KADG,GAAA,OAAO,QAEpB,CACD;AAAA,YAAA;AAAA,UAAA;AAAA,QACH;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,UAAQ;AAAA,YACR,WAAU;AAAA,YACV,MAAK;AAAA,YACL,MAAK;AAAA,YACL,aAAY;AAAA,YACZ,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,YACvC,aACE,oBAAC,OAAM,EAAA,SAAQ,oJAAoJ,CAAA;AAAA,YAGrK,UAAA;AAAA,cAAC,oBAAA,WAAA,EAAqB,OAAM,QAC1B,UAAA,oBAAC,SAAM,SAAQ,QAAO,KADT,MAEf;AAAA,cACC,OAAO,QAAQ,iBAAiB,EAAE,IAAI,CAAC,CAAC,QAAQ,OAAO,0BACrD,WAAuB,EAAA,OAAO,QAC7B,UAAC,oBAAA,eAAA,EAAc,MAAM,OAAO,QAAkB,CAAA,KADhC,MAEhB,CACD;AAAA,YAAA;AAAA,UAAA;AAAA,QACH;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,aACE,oBAAC,OAAM,EAAA,SAAQ,+GAA+G,CAAA;AAAA,YAGhI,UAAA,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA;AAAA,UAAA;AAAA,QACvC;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;ACzFA,SAAS,2BAAsE;AAC7E,SAAO,UACJ,IAAI,8BAA8B,EAClC,KAAK,CAAA,aAAY,SAAS,IAAI;AACnC;AAEO,SAAS,yBAAyB;AACvC,SAAO,SAAS;AAAA,IACd,UAAU,CAAC,qBAAqB;AAAA,IAChC,SAAS,MAAM,yBAAyB;AAAA,EAAA,CACzC;AACH;ACnBO,MAAM,aAAa,CAAC,KAAK,MAAM,MAAM,MAAM,MAAM,IAAI;ACE5C,SAAA,eAAe,OAAe,MAAyB;AACrE,MAAI,SAAS;AAAa,WAAA;AAC1B,UAAQ,MAAM;AAAA,IACZ,KAAK;AACH,aAAO,QAAQ;AAAA,IACjB,KAAK;AACH,aAAO,QAAQ,QAAQ;AAAA,IACzB,KAAK;AACH,aAAO,QAAQ,QAAQ;AAAA,IACzB,KAAK;AACH,aAAO,QAAQ,QAAQ;AAAA,IACzB,KAAK;AACH,aAAO,QAAQ,QAAQ;AAAA,IACzB;AACS,aAAA;AAAA,EACX;AACF;ACAA,MAAM,WAAW;AAEJ,MAAA,oBAAoB,MAAM,WAGrC,CAAC,EAAC,MAAM,GAAG,MAAK,GAAG,QAAQ;AACrB,QAAA;AAAA,IACJ,OAAO;AAAA,MACL,UAAU;AAAA,MACV;AAAA,MACA,OAAO,YAAY;AAAA,MACnB,KAAK;AAAA,IACP;AAAA,IACA,YAAY,EAAC,SAAS,MAAK;AAAA,MACzB,cAAc;AAAA,IAChB;AAAA,EAAA,CACD;AAED,QAAM,CAAC,WAAW,YAAY,IAAI,SAA0B,EAAE;AAC9D,QAAM,CAAC,MAAM,OAAO,IAAI,SAA6B,IAAI;AAEzD,YAAU,MAAM;AACV,QAAA,aAAa,QAAQ,cAAc,IAAI;AACzC,mBAAa,EAAE;AACf;AAAA,IACF;AACA,UAAM,EAAC,QAAQ,MAAM,QAAA,IAAW,UAAU;AAAA,MACxC,OAAO,KAAK,IAAI,WAAW,QAAQ;AAAA,IAAA,CACpC;AACD,YAAQ,WAAW,IAAI;AACvB,iBAAa,OAAO,MAAM,MAAM,IAAI,KAAK,MAAM;AAAA,EAAA,GAC9C,CAAC,WAAW,IAAI,CAAC;AAEpB,QAAM,YAA4B;AAAA,IAChC,UAAU,CAAK,MAAA;AACb,YAAM,QAAQ,SAAS,EAAE,OAAO,KAAK;AACjC,UAAA,OAAO,MAAM,KAAK,GAAG;AACvB,qBAAa,KAAK;AAAA,MAAA,OACb;AACL,cAAM,WAAW;AAAA,UACf,SAAS,EAAE,OAAO,KAAK;AAAA,UACvB;AAAA,QAAA;AAEF,qBAAa,QAAQ;AAAA,MACvB;AAAA,IACF;AAAA,IACA;AAAA,IACA,OAAO;AAAA,IACP;AAAA,IACA,cAAc,+BAAO;AAAA,IACrB;AAAA,EAAA;AAGF,QAAM,aACJ;AAAA,IAACM;AAAAA,IAAA;AAAA,MACC,UAAS;AAAA,MACT,eAAc;AAAA,MACd,eAAe;AAAA,MACf,UAAU,CAAC;AAAA,MACX,mBAAmB,CAAW,YAAA;AAC5B,cAAM,WAAW;AAAA,UACd,aAAa;AAAA,UACd;AAAA,QAAA;AAEF,qBAAa,QAAQ;AAAA,MACvB;AAAA,MAEC,qBAAW,MAAM,GAAG,CAAC,EAAE,IAAI,CAC1B,MAAA,oBAACN,MAAO,EAAA,OAAO,GACZ,UAAM,MAAA,MAAM,UAAU,KADF,CAEvB,CACD;AAAA,IAAA;AAAA,EAAA;AAKH,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACE,GAAG,WAAW,WAAW,KAAK;AAAA,MAC/B,MAAK;AAAA,MACL;AAAA,MACA,WAAW;AAAA,IAAA;AAAA,EAAA;AAGjB,CAAC;AAED,MAAM,YAAY;AAAA,EAChB,CAAC,EAAC,MAAA,MAAwE;AAClE,UAAA,SAAS,YAAY,KAAK;AAChC,QAAI,CAAC;AAAQ,aAAO,EAAC,QAAQ,IAAI,MAAM,KAAI;AAC3C,QAAI,SAAS,SAAS,OAAO,MAAM,GAAG,EAAE,CAAC,CAAC;AAEjC,aAAA,KAAK,MAAM,MAAM;AACnB,WAAA,EAAC,QAAQ,MAAM,OAAO,MAAM,GAAG,EAAE,CAAC;EAC3C;AACF;ACtGO,SAAS,kBAAkB;AAC1B,QAAA,EAAC,UAAS;AAChB,SAAO,YAAY;AAAA,IACjB,YAAY,MAAM,WAAW;AAAA,IAC7B,WAAW,MAAM;AACf,YAAM,MAAM,QAAQ,mBAAmB,CAAC,CAAC;AAAA,IAC3C;AAAA,IACA,SAAS,CAAO,QAAA,mBAAmB,GAAG;AAAA,EAAA,CACvC;AACH;AAEA,SAAS,aAAgC;AACvC,SAAO,UAAU,KAAK,gBAAgB,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AAC1D;ACRO,SAAS,iCAAiC;AAC/C,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UAAmB,cAAc,KAAK;AAAA,IACnD,SAAS,CAAO,QAAA,mBAAmB,GAAG;AAAA,EAAA,CACvC;AACH;AAEA,SAAS,cAAc,SAAqC;AACnD,SAAA,UACJ,KAAK,4CAA4C,OAAO,EACxD,KAAK,CAAA,MAAK,EAAE,IAAI;AACrB;ACVgB,SAAA,YAAY,EAAC,aAAiC;AAC5D,QAAM,EAAC,OAAO,SAAQ,IAAI,eAA8B;AAClD,QAAA,SAAS,MAAM,gCAAgC;AAC/C,QAAA,YAAY,MAAM,mCAAmC;AAE3D,8BACG,UACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,0BAA0B,CAAA;AAAA,QAChD,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,6BAA6B,CAAA;AAAA,QACnD,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,wBAAwB,CAAA;AAAA,QAC9C,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,SAAS,CAAgB,iBAAA;AACvB,cAAI,cAAc;AAChB,qBAAS,wCAAwC,YAAY;AAAA,UAC/D;AAAA,QACF;AAAA,QAEA,UAAA;AAAA,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,SAAQ;AAAA,cACR,OAAM;AAAA,cACN,MAAK;AAAA,cACL,UAAU,CAAC,UAAU,CAAC;AAAA,cAEtB,UAAA,oBAAC,OAAM,EAAA,SAAQ,4BAA4B,CAAA;AAAA,YAAA;AAAA,UAC7C;AAAA,UACA,oBAAC,2BAA0B,EAAA,QAAiB,UAAuB,CAAA;AAAA,QAAA;AAAA,MAAA;AAAA,IACrE;AAAA,EACF,EAAA,CAAA;AAEJ;AAMA,SAAS,0BAA0B;AAAA,EACjC;AAAA,EACA;AACF,GAAmC;AACjC,QAAM,OAAO;AACb,QAAM,EAAC,QAAQ,MAAK,IAAI,iBAAiB;AACzC,QAAM,uBAAuB;AAC7B,8BACG,QACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,4BAA4B,CAAA,GAC7C;AAAA,wBACC,YACC,EAAA,UAAA;AAAA,MAACJ;AAAAA,MAAA;AAAA,QACC,IAAI;AAAA,QACJ;AAAA,QACA,UAAU,CAAQ,SAAA;AACK,+BAAA;AAAA,YACnB;AAAA,cACE,SAAS;AAAA,cACT,YAAY;AAAA,cACZ,aAAa,KAAK;AAAA,YACpB;AAAA,YACA;AAAA,cACE,WAAW,CAAY,aAAA;AACrB,sBAAM,SAAS,YAAY;AAAA,cAC7B;AAAA,YACF;AAAA,UAAA;AAAA,QAEJ;AAAA,QAEA,UAAA;AAAA,UAAC,qBAAA,OAAA,EAAI,WAAU,wBACb,UAAA;AAAA,YAAA,oBAAC,SAAI,WAAU,4BACb,8BAAC,OAAM,EAAA,SAAQ,sGAAqG,EACtH,CAAA;AAAA,YACA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,SAAQ;AAAA,gBACR,OAAM;AAAA,gBACN,MAAK;AAAA,gBACL,aAAY;AAAA,gBACZ,QAAO;AAAA,gBACP,MAAM,sDAAsD,MAAM;AAAA,gBAElE,UAAA,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA;AAAA,cAAA;AAAA,YACnC;AAAA,UAAA,GACF;AAAA,UACA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,MAAK;AAAA,cACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA;AAAA,cAC5C,UAAQ;AAAA,YAAA;AAAA,UACV;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAS,MAAM;AACP;UACR;AAAA,UAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,QAAA;AAAA,MAC1B;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,MAAM;AAAA,UACN,MAAK;AAAA,UACL,UAAU,CAAC,UAAU,CAAC,aAAa,qBAAqB;AAAA,UAExD,UAAA,oBAAC,OAAM,EAAA,SAAQ,UAAU,CAAA;AAAA,QAAA;AAAA,MAC3B;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;ACxHO,SAAS,oBAAoB;AAC5B,QAAA,EAAC,UAAS;AAEd,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,MAClC,aACE,oBAAC,OAAM,EAAA,SAAQ,gHAAgH,CAAA;AAAA,MAGjI,UAAA;AAAA,QAAA,oBAAC,sBAAqB,EAAA;AAAA,4BACrB,qBAAoB,EAAA;AAAA,4BACpB,oBAAmB,EAAA;AAAA,QACnB,oBAAA,oBAAA,EAAmB,MAAK,yBACtB,UACC,CAAA,cAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAS;AAAA,YACT,MAAK;AAAA,YACL,MAAK;AAAA,YACL,aAAY;AAAA,YACZ,OAAO,oBAAC,OAAM,EAAA,SAAQ,6BAA6B,CAAA;AAAA,YACnD,aACE,oBAAC,OAAM,EAAA,SAAQ,iMAAiM,CAAA;AAAA,YAGlN,UAAA;AAAA,cAAA,oBAAC,aAAU,OAAM,IACf,8BAAC,OAAM,EAAA,SAAQ,QAAO,EACxB,CAAA;AAAA,cACA,oBAAC,aAAU,OAAM,aACf,8BAAC,OAAM,EAAA,SAAQ,uBAAsB,EACvC,CAAA;AAAA,cACA,oBAAC,aAAU,OAAM,UACf,8BAAC,OAAM,EAAA,SAAQ,mBAAkB,EACnC,CAAA;AAAA,YAAA;AAAA,UAAA;AAAA,QAAA,GAGN;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,MAAK;AAAA,YACL,KAAK;AAAA,YACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA;AAAA,YACnC,aAAY;AAAA,YACZ,aACE,oBAAC,OAAM,EAAA,SAAQ,0NAA0N,CAAA;AAAA,UAAA;AAAA,QAE7O;AAAA,4BACC,sBAAqB,EAAA;AAAA,4BACrB,mBAAkB,EAAA;AAAA,QACnB;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,KAAK;AAAA,YACL,MAAK;AAAA,YACL,WAAU;AAAA,YACV,OAAO,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,YAC1C,aACE,oBAAC,OAAM,EAAA,SAAQ,6DAA6D,CAAA;AAAA,UAAA;AAAA,QAEhF;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,KAAK;AAAA,YACL,MAAK;AAAA,YACL,WAAU;AAAA,YACV,OAAO,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA;AAAA,YACxC,aACE,oBAAC,OAAM,EAAA,SAAQ,mGAAmG,CAAA;AAAA,UAAA;AAAA,QAEtH;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YACV,OAAO,oBAAC,OAAM,EAAA,SAAQ,qBAAqB,CAAA;AAAA,YAC3C,aAAa,MAAM,QAAQ,kBAAkB,CAAC;AAAA,YAC9C,aACE,oBAAC,OAAM,EAAA,SAAQ,wFAAwF,CAAA;AAAA,UAAA;AAAA,QAE3G;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,qBAAqB,CAAA;AAAA,YAC3C,aAAa,MAAM,QAAQ,kBAAkB,CAAC;AAAA,YAC9C,aACE,oBAAC,OAAM,EAAA,SAAQ,yEAAyE,CAAA;AAAA,UAAA;AAAA,QAE5F;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAEA,SAAS,uBAAuB;AACxB,QAAA,EAAC,SAAQ;AAEb,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAM;AAAA,MACN,aACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAQ;AAAA,UACR,QAAQ,EAAC,MAAM,6BAAM,SAAS,GAAG,CAAU,WAAA,oBAAC,KAAG,EAAA,UAAA,OAAO,CAAA,EAAI;AAAA,QAAA;AAAA,MAC5D;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA,SAAS,uBAAuB;AAC9B,QAAM,EAAC,OAAO,YAAW,IAAI,eAA8B;AACrD,QAAA,YAAY,MAAM,4BAA4B;AAEpD,MAAI,CAAC;AAAkB,WAAA;AAGrB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,eAAc;AAAA,MACd,MAAK;AAAA,MACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,8BAA8B,CAAA;AAAA,MACpD,aACE,oBAAC,OAAM,EAAA,SAAQ,oDAAoD,CAAA;AAAA,MAErE,mBAAmB,MAAM;AACX;MACd;AAAA,MAEA,UAAA;AAAA,QAAA,oBAACI,QAAO,OAAM,SACZ,8BAAC,OAAM,EAAA,SAAQ,wBAAuB,EACxC,CAAA;AAAA,QACC,oBAAAA,MAAA,EAAO,OAAM,OAAM,UAAG,OAAA;AAAA,QACtB,oBAAAA,MAAA,EAAO,OAAM,mBAAkB,UAAmB,uBAAA;AAAA,QAClD,oBAAAA,MAAA,EAAO,OAAM,gBAAe,UAAS,aAAA;AAAA,QACrC,oBAAAA,MAAA,EAAO,OAAM,MAAK,UAAiC,qCAAA;AAAA,QACnD,oBAAAA,MAAA,EAAO,OAAM,WAAU,UAAO,WAAA;AAAA,QAC9B,oBAAAA,MAAA,EAAO,OAAM,aAAY,UAAS,aAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGzC;AAEA,SAAS,sBAAsB;AAC7B,QAAM,EAAC,OAAO,YAAW,IAAI,eAA8B;AACrD,QAAA,YAAY,MAAM,2BAA2B;AAEnD,MAAI,CAAC;AAAkB,WAAA;AAGrB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,gCAAgC,CAAA;AAAA,MACtD,eAAc;AAAA,MACd,MAAK;AAAA,MACL,aACE,oBAAC,OAAM,EAAA,SAAQ,6DAA6D,CAAA;AAAA,MAE9E,mBAAmB,MAAM;AACX;MACd;AAAA,MAEA,UAAA;AAAA,QAAA,oBAACA,QAAO,OAAM,SACZ,8BAAC,OAAM,EAAA,SAAQ,wBAAuB,EACxC,CAAA;AAAA,QACC,oBAAAA,MAAA,EAAO,OAAM,MAAK,UAAS,aAAA;AAAA,QAC3B,oBAAAA,MAAA,EAAO,OAAM,OAAM,UAAG,OAAA;AAAA,QACtB,oBAAAA,MAAA,EAAO,OAAM,mBAAkB,UAAmB,uBAAA;AAAA,QAClD,oBAAAA,MAAA,EAAO,OAAM,gBAAe,UAAS,aAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAG5C;AAEA,SAAS,qBAAqB;AACtB,QAAA,EAAC,UAAS;AAChB,QAAM,SAAS;AAAA,IACb,MAAM,4BAA4B;AAAA,IAClC,MAAM,2BAA2B;AAAA,EAAA;AAGnC,MAAI,OAAO,CAAC,MAAM,WAAW,OAAO,CAAC,MAAM,SAAS;AAC3C,WAAA;AAAA,EACT;AAEA,6BACG,oBAAmB,EAAA,iBAAiB,OAAO,MAAK,iBAC9C,UAAa,CAAA,cAAA;AACR,QAAA,OAAO,SAAS,IAAI,GAAG;AAClB,aAAA,oBAAC,UAAO,UAAsB,CAAA;AAAA,IACvC;AACI,QAAA,OAAO,SAAS,KAAK,GAAG;AACnB,aAAA,oBAAC,WAAQ,UAAsB,CAAA;AAAA,IACxC;AACI,QAAA,OAAO,SAAS,SAAS,GAAG;AACvB,aAAA,oBAAC,eAAY,UAAsB,CAAA;AAAA,IAC5C;AACI,QAAA,OAAO,SAAS,iBAAiB,GAAG;AAC/B,aAAA,oBAAC,oBAAiB,UAAsB,CAAA;AAAA,IACjD;AACI,QAAA,OAAO,SAAS,cAAc,GAAG;AAC5B,aAAA,oBAAC,iBAAc,UAAsB,CAAA;AAAA,IAC9C;AAAA,EAEJ,EAAA,CAAA;AAEJ;AAKA,SAAS,OAAO,EAAC,aAAiC;AAE9C,SAAA,qBAACO,UAAA,EACC,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,QACtC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,QACzC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,QACzC,SAAQ;AAAA,QACR,aAAY;AAAA,MAAA;AAAA,IACd;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,QACzC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,qBAAqB,CAAA;AAAA,QAC3C,aACE,oBAAC,OAAM,EAAA,SAAQ,+EAA+E,CAAA;AAAA,MAAA;AAAA,IAElG;AAAA,IACA,oBAAC,qBAAoB,EAAA,SAAS,UAAW,CAAA;AAAA,EAC3C,EAAA,CAAA;AAEJ;AAEA,SAAS,iBAAiB,EAAC,aAAiC;AAExD,SAAA,qBAACA,UAAA,EACC,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,QACzC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA;AAAA,QAC5C,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA;AAAA,QAC5C,SAAQ;AAAA,QACR,aAAY;AAAA,QACZ,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA;AAAA,QAC5C,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA,oBAAC,qBAAoB,EAAA,SAAS,UAAW,CAAA;AAAA,EAC3C,EAAA,CAAA;AAEJ;AAEA,SAAS,cAAc,EAAC,aAAiC;AAErD,SAAA,qBAACA,UAAA,EACC,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA;AAAA,QACxC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,2BAA2B,CAAA;AAAA,QACjD,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,QACzC,SAAQ;AAAA,QACR,aAAY;AAAA,QACZ,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,wBAAwB,CAAA;AAAA,QAC9C,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA,oBAAC,qBAAoB,EAAA,SAAS,UAAW,CAAA;AAAA,EAC3C,EAAA,CAAA;AAEJ;AAKA,SAAS,oBAAoB,EAAC,WAAoC;;AAChE,QAAMO,cAAa;AACnB,QAAM,EAAC,MAAM,gBAAe,IAAI,iBAAiB;AAE3C,QAAA,oBACJ1B,MAAA,mDAAiB,OAAO,wBAAxB,gBAAAA,IAA6C,SAAS,YACtD,wDAAiB,OAAO,uBAAxB,mBAA4C,SAAS;AAGrD,SAAA,qBAACmB,UAAA,EACC,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV;AAAA,QACA,MAAK;AAAA,QACL,kCACG,OACC,EAAA,UAAA;AAAA,UAAA,oBAAC,KACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,gPAAgP,CAAA,GACjQ;AAAA,UACA,oBAAC,OAAE,WAAU,SACX,8BAAC,OAAM,EAAA,SAAQ,2JAA0J,EAC3K,CAAA;AAAA,QAAA,GACF;AAAA,QAGF,UAAA,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,MAAA;AAAA,IACjC;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,OAAM;AAAA,QACN,MAAK;AAAA,QACL,WAAU;AAAA,QACV,SAAS,MAAM;AACb,UAAAO,YAAW,OAAO;AAAA,QACpB;AAAA,QACA,UAAU,CAAC,mBAAmBA,YAAW;AAAA,QAEzC,UAAA,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,MAAA;AAAA,IAClC;AAAA,EACF,EAAA,CAAA;AAEJ;AAEA,SAAS,QAAQ,EAAC,aAAiC;AACjD,SAEI,qBAAAP,YAAA,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,QACrC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,QACrC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,QACrC,MAAK;AAAA,QACL,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,QACtC,aAAY;AAAA,MAAA;AAAA,IACd;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,WAAW,CAAA;AAAA,QACjC,MAAK;AAAA,QACL,KAAK;AAAA,QACL,aAAY;AAAA,MAAA;AAAA,IACd;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,MAAK;AAAA,QACL,WAAU;AAAA,QAEV,UAAA,oBAAC,OAAM,EAAA,SAAQ,UAAU,CAAA;AAAA,MAAA;AAAA,IAC3B;AAAA,IACA,oBAAC,YAAW,EAAA,SAAS,WAAW,MAAK,0BACnC,UAAC,oBAAA,OAAA,EAAM,SAAQ,MAAA,CAAM,EACvB,CAAA;AAAA,EACF,EAAA,CAAA;AAEJ;ACpbgB,SAAA,mBAAmB,EAAC,aAAqC;AACvE,8BACG,UACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,QACvC,aACE,oBAAC,OAAM,EAAA,SAAQ,6CAA6C,CAAA;AAAA,QAE9D,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA;AAAA,QACxC,aAAa,oBAAC,OAAM,EAAA,SAAQ,2BAA2B,CAAA;AAAA,QACvD,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,QACzC,aACE,oBAAC,OAAM,EAAA,SAAQ,kEAAkE,CAAA;AAAA,QAEnF,aAAY;AAAA,MAAA;AAAA,IACd;AAAA,EACF,EAAA,CAAA;AAEJ;ACjCgB,SAAA,gBAAgB,EAAC,aAAkC;AACjE,SAEI,qBAAAA,YAAA,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,QAClC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,QACtC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,QACtC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,MAAA;AAAA,IACpC;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA;AAAA,MAAA;AAAA,IAC1C;AAAA,EACF,EAAA,CAAA;AAEJ;ACvCgB,SAAA,eAAe,EAAC,aAAiC;AAC/D,8BACG,UACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,UAAU,CAAA;AAAA,QAChC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA;AAAA,QACnC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA;AAAA,QACnC,aAAY;AAAA,QACZ,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,EACF,EAAA,CAAA;AAEJ;AC3BgB,SAAA,oBAAoB,EAAC,aAAsC;AAEvE,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,SAAS;AAAA,MACT,MAAK;AAAA,MACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,MACvC,UAAQ;AAAA,IAAA;AAAA,EAAA;AAGd;ACFO,SAAS,oBAAoB;AAClC,QAAM,EAAC,OAAO,YAAW,IAAI,eAA8B;AAErD,QAAA,iBAAiB,MAAM,oBAAoB;AACjD,QAAM,kBAAyD,CAAA;AAE/D,MAAI,mBAAmB,WAAW;AAChC,oBAAgB,KAAK,kBAAkB;AAAA,EACzC;AACA,MAAI,mBAAmB,QAAQ;AAC7B,oBAAgB,KAAK,eAAe;AAAA,EACtC;AACA,MAAI,mBAAmB,OAAO;AAC5B,oBAAgB,KAAK,cAAc;AAAA,EACrC;AACA,MAAI,mBAAmB,YAAY;AACjC,oBAAgB,KAAK,mBAAmB;AAAA,EAC1C;AACA,MAAI,mBAAmB,YAAY;AACjC,oBAAgB,KAAK,iBAAiB;AAAA,EACxC;AAGE,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,cAAc;AAAA,MACd,iBAAiB;AAAA,MACjB,MAAK;AAAA,MAEJ,UAAA,CAAA,mCACE,UACC,EAAA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,mBAAmB,MAAM;AACX;YACd;AAAA,YACA,SAAS;AAAA,YACT,eAAc;AAAA,YACd,MAAK;AAAA,YACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,uBAAuB,CAAA;AAAA,YAC7C,kCACG,OACC,EAAA,UAAA;AAAA,cAAC,oBAAA,OAAA,EAAM,SAAQ,uGAAuG,CAAA;AAAA,cACtH;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,WAAU;AAAA,kBACV,MAAK;AAAA,gBAAA;AAAA,cACP;AAAA,YAAA,GACF;AAAA,YAGF,UAAA;AAAA,cAAC,oBAAAP,MAAA,EAAO,OAAM,WAAU,UAAO,WAAA;AAAA,cAC9B,oBAAAA,MAAA,EAAO,OAAM,YAAW,UAAS,aAAA;AAAA,cACjC,oBAAAA,MAAA,EAAO,OAAM,QAAO,UAAI,QAAA;AAAA,cACxB,oBAAAA,MAAA,EAAO,OAAM,YAAW,UAAQ,YAAA;AAAA,cAChC,oBAAAA,MAAA,EAAO,OAAM,OAAM,UAAiC,qCAAA;AAAA,cACpD,oBAAAA,MAAA,EAAO,OAAM,YAAW,UAAQ,YAAA;AAAA,cAChC,oBAAAA,MAAA,EAAO,OAAM,OAAM,UAAsC,0CAAA;AAAA,YAAA;AAAA,UAAA;AAAA,QAC5D;AAAA,QACC,gBAAgB,SACf,oBAAC,OAAI,EAAA,WAAU,SACZ,UAAgB,gBAAA,IAAI,CAAC,iBAAiB,UACpC,oBAAA,iBAAA,EAA4B,aAAP,KAA6B,CACpD,EACH,CAAA,IACE;AAAA,MAAA,GACN;AAAA,IAAA;AAAA,EAAA;AAIR;ACvEO,SAAS,wBAAwB;AAEpC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,0BAA0B,CAAA;AAAA,MAChD,aACE,oBAAC,OAAM,EAAA,SAAQ,gFAAgF,CAAA;AAAA,MAGjG,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,IAAG;AAAA,YACH,WAAU;AAAA,YACV,MAAK;AAAA,YACL,MAAK;AAAA,YACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,YACrC,aACE,oBAAC,OAAM,EAAA,SAAQ,wEAAwE,CAAA;AAAA,YAEzF,UAAQ;AAAA,UAAA;AAAA,QACV;AAAA,4BACC,uBAAsB,EAAA;AAAA,QACvB;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,MAAK;AAAA,YACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,YAClC,aACE,oBAAC,OAAM,EAAA,SAAQ,gEAAgE,CAAA;AAAA,YAEjF,UAAQ;AAAA,UAAA;AAAA,QACV;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,OAAM;AAAA,YACN,aACE,oBAAC,OAAM,EAAA,SAAQ,2FAA2F,CAAA;AAAA,UAAA;AAAA,QAE9G;AAAA,4BACC,mBAAkB,EAAA;AAAA,4BAClB,mBAAkB,EAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGzB;AAEA,SAAS,wBAAwB;AACzB,QAAA,EAAC,aAAY;AACb,QAAA,iBAAiB,GAAG,QAAQ;AAClC,QAAM,OACJ,oBAAC,cAAa,EAAA,MAAM,gBAAiB,UAAe,eAAA,CAAA;AAGpD,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,MAAK;AAAA,MACL,MAAK;AAAA,MACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,uBAAuB,CAAA;AAAA,MAC7C,aACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ;AAAA,YACN,gBAAgB;AAAA,UAClB;AAAA,UACA,SAAQ;AAAA,QAAA;AAAA,MACV;AAAA,IAAA;AAAA,EAAA;AAIR;AC/DA,SAAS,aAAgC;AACvC,SAAO,UAAU,KAAK,aAAa,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AACvD;AAEO,SAAS,gBAAgB;AAC9B,SAAO,YAAY;AAAA,IACjB,YAAY,MAAM,WAAW;AAAA,IAC7B,WAAW,MAAM;AACT,YAAA,QAAQ,eAAe,CAAC;AAAA,IAChC;AAAA,IACA,SAAS,CAAO,QAAA,mBAAmB,GAAG;AAAA,EAAA,CACvC;AACH;ACTO,SAAS,gBAAgB;AAC9B,QAAMe,cAAa;AAEjB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,MACvC,aACE,oBAAC,OAAM,EAAA,SAAQ,kDAAkD,CAAA;AAAA,MAGnE,UAAA;AAAA,QAAA,oBAAC,aAAY,EAAA;AAAA,QACb;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,SAAQ;AAAA,YACR,MAAK;AAAA,YACL,OAAM;AAAA,YACN,UAAUA,YAAW;AAAA,YACrB,SAAS,MAAM;AACb,cAAAA,YAAW,OAAO;AAAA,YACpB;AAAA,YAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,UAAA;AAAA,QAC/B;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,OAAM;AAAA,YACN,WAAU;AAAA,YACV,aACE;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,SACE;AAAA,cAAA;AAAA,YAEJ;AAAA,UAAA;AAAA,QAEJ;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAEA,SAAS,cAAc;AACrB,QAAM,EAAC,OAAO,YAAW,IAAI,eAA8B;AACrD,QAAA,cAAc,MAAM,qBAAqB;AAE/C,MAAI,oBAA2D;AAC/D,MAAI,gBAAgB,aAAa;AACX,wBAAA;AAAA,EACtB;AAEA,6BACG,oBAAmB,EAAA,cAAc,OAAO,MAAK,eAC3C,UAAa,CAAA,cAAA;AACZ,WAEI,qBAAAR,YAAA,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAS;AAAA,UACT,mBAAmB,MAAM;AACX;UACd;AAAA,UACA,eAAc;AAAA,UACd,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,UACrC,aACE,oBAAC,OAAM,EAAA,SAAQ,uEAAuE,CAAA;AAAA,UAGxF,UAAA;AAAA,YAAA,oBAACP,QAAO,OAAM,QACZ,8BAAC,OAAM,EAAA,SAAQ,kBAAiB,EAClC,CAAA;AAAA,YACA,oBAACA,QAAO,OAAM,SACZ,8BAAC,OAAM,EAAA,SAAQ,QAAO,EACxB,CAAA;AAAA,YACC,oBAAAA,MAAA,EAAO,OAAM,OAAM,UAAG,OAAA;AAAA,YACtB,oBAAAA,MAAA,EAAO,OAAM,aAAY,UAAS,aAAA;AAAA,YAClC,oBAAAA,MAAA,EAAO,OAAM,SAAQ,UAAK,SAAA;AAAA,UAAA;AAAA,QAAA;AAAA,MAC7B;AAAA,MACC,yCACE,OAAI,EAAA,WAAU,SACb,UAAC,oBAAA,mBAAA,EAAkB,WAAsB,EAC3C,CAAA;AAAA,IAEJ,EAAA,CAAA;AAAA,EAGN,EAAA,CAAA;AAEJ;AAKA,SAAS,qBAAqB,EAAC,aAA6B;AAC1D,SAEI,qBAAAO,YAAA,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,QACvC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,MAAK;AAAA,QACL,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,QACvC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,EACF,EAAA,CAAA;AAEJ;AC/GO,SAAS,kBAAkB;AAE9B,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,MACtC,aACE,oBAAC,OAAM,EAAA,SAAQ,mEAAmE,CAAA;AAAA,MAGpF,UAAA;AAAA,QAAA,oBAAC,eAAc,EAAA;AAAA,QACf;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,OAAM;AAAA,YACN,aACE;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,QAAQ;AAAA,kBACN,GAAG,CACD,UAAA,oBAAC,cAAa,EAAA,MAAK,qBAAqB,UAAM,OAAA;AAAA,gBAElD;AAAA,gBACA,SAAQ;AAAA,cAAA;AAAA,YACV;AAAA,UAAA;AAAA,QAEJ;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAEA,SAAS,gBAAgB;AACjB,QAAA,EAAC,gBAAe;AAEpB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,cAAc;AAAA,MACd,iBAAiB;AAAA,MACjB,MAAK;AAAA,MAEJ,UAAa,CAAA,cAAA;AAEV,eAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,UAAU,MAAM;AACF;YACd;AAAA,YACA,SAAS;AAAA,YACT,MAAK;AAAA,YACL,MAAK;AAAA,YACL,WAAW;AAAA,YACX,OAAO,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA;AAAA,UAAA;AAAA,QAAA;AAAA,MAGzC;AAAA,IAAA;AAAA,EAAA;AAGN;ACjDO,SAAS,gBAAgB;AAE5B,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,QAAQ,CAAA;AAAA,MAC9B,aACE,oBAAC,OAAM,EAAA,SAAQ,mEAAmE,CAAA;AAAA,MAGpF,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,OAAM;AAAA,YACN,WAAU;AAAA,YACV,aACE,oBAAC,OAAM,EAAA,SAAQ,gKAAgK,CAAA;AAAA,UAAA;AAAA,QAEnL;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,OAAM;AAAA,YACN,WAAU;AAAA,YACV,aACE,oBAAC,OAAM,EAAA,SAAQ,4JAA4J,CAAA;AAAA,UAAA;AAAA,QAE/K;AAAA,4BACC,eAAc,EAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGrB;AAEA,SAAS,gBAAgB;AACvB,QAAM,EAAC,OAAO,YAAW,IAAI,eAA8B;AACrD,QAAA,cAAc,MAAM,qBAAqB;AAE/C,MAAI,oBAA2D;AAC/D,MAAI,gBAAgB,OAAO;AACL,wBAAA;AAAA,EACtB;AAEE,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,cAAc;AAAA,MACd,iBAAiB;AAAA,MACjB,MAAK;AAAA,MAEJ,UAAa,CAAA,cAAA;AACZ,eAEI,qBAAAA,YAAA,EAAA,UAAA;AAAA,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,SAAS;AAAA,cACT,mBAAmB,MAAM;AACX;cACd;AAAA,cACA,eAAc;AAAA,cACd,MAAK;AAAA,cACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,cACrC,UAAQ;AAAA,cAER,UAAA;AAAA,gBAAA,oBAACP,QAAO,OAAM,QACZ,8BAAC,OAAM,EAAA,SAAQ,kBAAiB,EAClC,CAAA;AAAA,gBACC,oBAAAA,MAAA,EAAO,OAAM,cAAa,UAAU,cAAA;AAAA,gBACrC,oBAACA,QAAO,OAAM,YACZ,8BAAC,OAAM,EAAA,SAAQ,YAAW,EAC5B,CAAA;AAAA,gBACA,oBAACA,QAAO,OAAM,OACZ,8BAAC,OAAM,EAAA,SAAQ,qCAAoC,EACrD,CAAA;AAAA,gBACC,oBAAAA,MAAA,EAAO,OAAM,SAAQ,UAAK,SAAA;AAAA,cAAA;AAAA,YAAA;AAAA,UAC7B;AAAA,UACC,yCACE,OAAI,EAAA,WAAU,SACb,UAAC,oBAAA,mBAAA,EAAkB,WAAsB,EAC3C,CAAA;AAAA,QAEJ,EAAA,CAAA;AAAA,MAEJ;AAAA,IAAA;AAAA,EAAA;AAGN;AAKA,SAAS,eAAe,EAAC,aAA6B;AACpD,SAEI,qBAAAO,YAAA,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,QACtC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,QACzC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,QACzC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,QACvC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,QACzC,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,EACF,EAAA,CAAA;AAEJ;AC1HO,SAAS,oBAAoB;AAClC,QAAM,EAAC,SAAA,IAAY,WAAW,iBAAiB;AAE7C,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,MAClC,aACE,oBAAC,OAAM,EAAA,SAAQ,0DAA0D,CAAA;AAAA,MAG1E,UAAA;AAAA,SAAA,qCAAU,4BACT;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,MAAK;AAAA,YACL,aACE,oBAAC,OAAM,EAAA,SAAQ,oFAAoF,CAAA;AAAA,YAGrG,UAAA,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,UAAA;AAAA,QACjC;AAAA,QAEF;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,MAAK;AAAA,YACL,aACE;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,SAAS;AAAA,cAAA;AAAA,YACX;AAAA,YAGF,UAAA,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,UAAA;AAAA,QAChC;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,MAAK;AAAA,YACL,aACE,oBAAC,OAAM,EAAA,SAAQ,sDAAsD,CAAA;AAAA,YAGvE,UAAA,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,UAAA;AAAA,QACrC;AAAA,4BACC,kBAAiB,EAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGxB;AAEA,SAAS,mBAAmB;AACpB,QAAA,EAAC,gBAAe;AAEpB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,cAAc;AAAA,MACd,iBAAiB;AAAA,MACjB,MAAK;AAAA,MAEJ,UAAa,CAAA,cAAA;AACZ,eAEI,qBAAAA,YAAA,EAAA,UAAA;AAAA,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAU;AAAA,cACV,UAAU,MAAM;AACF;cACd;AAAA,cACA,SAAS;AAAA,cACT,MAAK;AAAA,cACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,wBAAwB,CAAA;AAAA,YAAA;AAAA,UAChD;AAAA,UACA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,UAAU,MAAM;AACF;cACd;AAAA,cACA,SAAS;AAAA,cACT,MAAK;AAAA,cACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,0BAA0B,CAAA;AAAA,YAAA;AAAA,UAClD;AAAA,QACF,EAAA,CAAA;AAAA,MAEJ;AAAA,IAAA;AAAA,EAAA;AAGN;ACxEO,MAAM,YAAY,MAAM;AAAA,EAC7B,CAAC,OAAO,QAAQ;AACR,UAAA,WAAW,aAAa,GAAG;AAE3B,UAAA,EAAC,YAAY,WAAA,IAAc,SAAS,EAAC,GAAG,OAAO,UAAU,SAAA,CAAS;AAElE,UAAA,uBAAuB,wBAAwB,KAAK;AAE1D,+BACG,OAAM,EAAA,KAAU,iBAAiB,sBAAuB,GAAG,YAC1D,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,KAAK;AAAA,QACJ,GAAG;AAAA,QACJ,WAAW;AAAA,UACT,qBAAqB;AAAA,UACrB;AAAA,UACA;AAAA,QACF;AAAA,MAAA;AAAA,IAEJ,EAAA,CAAA;AAAA,EAEJ;AACF;AAKO,SAAS,cAAc,EAAC,MAAM,GAAG,SAA4B;AAC5D,QAAA;AAAA,IACJ,OAAO,EAAC,UAAU,QAAQ,IAAG;AAAA,IAC7B,YAAY,EAAC,SAAS,MAAK;AAAA,MACzB,cAAc;AAAA,IAChB;AAAA,EAAA,CACD;AAED,QAAM,CAAC,OAAO,QAAQ,IAAI,MAAM,SAAS,EAAE;AAE3C,QAAM,YAA4B;AAAA,IAChC,UAAU,CAAK,MAAA;;AACb,gBAASnB,MAAA,EAAE,OAAO,UAAT,gBAAAA,IAAiB,EAAE;AACnB,eAAA,EAAE,OAAO,KAAK;AAAA,IACzB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,cAAc,+BAAO;AAAA,EAAA;AAGvB,6BAAQ,WAAU,EAAA,KAAW,GAAG,WAAW,WAAW,KAAK,EAAG,CAAA;AAChE;ACzDO,SAAS,kBAAkB;AAE9B,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,MAClC,aACE,oBAAC,OAAM,EAAA,SAAQ,0DAA0D,CAAA;AAAA,MAG3E,8BAAC,kBAAiB,EAAA;AAAA,IAAA;AAAA,EAAA;AAGxB;AAEA,SAAS,mBAAmB;AACpB,QAAA,EAAC,gBAAe;AAEpB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,cAAc;AAAA,MACd,iBAAiB;AAAA,MACjB,MAAK;AAAA,MAEJ,UAAA,CAAA,mCACE,UACC,EAAA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,UAAU,MAAM;AACF;YACd;AAAA,YACA,SAAS;AAAA,YACT,MAAK;AAAA,YACL,QAAO;AAAA,YACP,OAAO,oBAAC,OAAM,EAAA,SAAQ,0CAA0C,CAAA;AAAA,UAAA;AAAA,QAClE;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,UAAU,MAAM;AACF;YACd;AAAA,YACA,SAAS;AAAA,YACT,MAAK;AAAA,YACL,MAAK;AAAA,YACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,+BAA+B,CAAA;AAAA,UAAA;AAAA,QACvD;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,UAAU,MAAM;AACF;YACd;AAAA,YACA,SAAS;AAAA,YACT,MAAK;AAAA,YACL,aAAY;AAAA,YACZ,KAAI;AAAA,YACJ,KAAI;AAAA,YACJ,aACE,oBAAC,OAAM,EAAA,SAAQ,0EAA0E,CAAA;AAAA,YAE3F,OAAO,oBAAC,OAAM,EAAA,SAAQ,oCAAoC,CAAA;AAAA,UAAA;AAAA,QAC5D;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,iCAAiC,CAAA;AAAA,YACvD,aACE,oBAAC,OAAM,EAAA,SAAQ,+EAA+E,CAAA;AAAA,UAAA;AAAA,QAElG;AAAA,MAAA,GACF;AAAA,IAAA;AAAA,EAAA;AAIR;ACzDO,SAAS,cAAc,MAAwC;AACpE,QAAM,WAAWe;AACjB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UAA6B,WAAW,KAAK;AAAA,IAC1D,WAAW,CAAC,UAAU,UAAU;AACxB,YAAA,QAAQ,cAAc,CAAC;AAC7B,kBAAY,kBAAkB,EAAC,UAAU,CAAC,OAAO,EAAE,CAAA;AACnD,eAAS,cAAc;AAAA,IACzB;AAAA,IACA,SAAS,CAAA,MAAK,iBAAiB,GAAG,IAAI;AAAA,EAAA,CACvC;AACH;AAEA,SAAS,WAAW,EAAC,IAAI,GAAG,SAA8C;AACxE,MAAI,MAAM,OAAO;AACf,UAAM,QAAQ,MAAM,MAAM,IAAI,CAAA,MAAK,EAAE,EAAE;AAAA,EACzC;AACO,SAAA,UAAU,IAAI,SAAS,EAAE,IAAI,KAAK,EAAE,KAAK,CAAK,MAAA,EAAE,IAAI;AAC7D;ACpCO,SAAS,oBAAoB;AAClC,QAAM,CAAC,UAAU,WAAW,IAAI,SAAS,KAAK;AAE9C,QAAM,cAAc;AAEd,QAAA,cAAc,YAAY,CAAC,aAAoC;;AACnE,QAAI,UAAU;AACZ,YAAM,WAAW,IAAI;AAAA,QACnB,CAAC,CAAC,CAAC,MAAM,YAAY,EAAE,oBAAoB,CAAC;AAAA,QAC5C,EAAC,WAAW,CAAC,CAAC,EAAC;AAAA,MAAA;AAEjB,kBAAY,UAAU;AACtB,eAAS,QAAQ,QAAQ;AAAA,IAAA,WAChB,YAAY,SAAS;AAC9B,OAAAf,MAAA,YAAY,YAAZ,gBAAAA,IAAqB;AAAA,IACvB;AAAA,EACF,GAAG,CAAE,CAAA;AAEE,SAAA,EAAC,UAAU;AACpB;ACDO,SAAS,uBAA8C;AAAA,EAC5D;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,YAAY;AAAA,EACZ,0BAA0B;AAAA,EAC1B,kBAAkB;AACpB,GAAa;AACX,QAAM,EAAC,UAAU,YAAW,IAAI,kBAAkB;AAC5C,QAAA,UAAU,CAAC,0BACb,OACA,OAAO,KAAK,KAAK,UAAU,WAAW,EAAE;AAG1C,SAAA;AAAA,IAACQ;AAAAA,IAAA;AAAA,MACC;AAAA,MACA,gBAAgB,MAAM,KAAK,YAAY;AAAA,MACvC;AAAA,MAEA,UAAA;AAAA,QAAC,oBAAA,OAAA,EAAI,KAAK,YAAa,CAAA;AAAA,QACvB;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAW;AAAA,cACT;AAAA,cACA,YAAY;AAAA,YACd;AAAA,YAEA,UAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAW;AAAA,kBACT;AAAA,kBACA,mBAAmB;AAAA,gBACrB;AAAA,gBAEC,UAAA;AAAA,kBAAA;AAAA,kBACD,qBAAC,OAAI,EAAA,WAAU,8CACb,UAAA;AAAA,oBAAC,oBAAA,MAAA,EAAG,WAAU,2EACX,UACH,OAAA;AAAA,oBACC,YAAY,oBAAC,OAAI,EAAA,WAAU,QAAQ,UAAS,UAAA;AAAA,kBAAA,GAC/C;AAAA,kBACA,oBAAC,OAAI,EAAA,WAAU,UAAU,CAAA;AAAA,kBACxB;AAAA,kBACD;AAAA,oBAAC;AAAA,oBAAA;AAAA,sBACC,SAAQ;AAAA,sBACR,OAAM;AAAA,sBACN,MAAK;AAAA,sBACL,UAAU,aAAa,CAAC;AAAA,sBAExB,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,oBAAA;AAAA,kBACxB;AAAA,gBAAA;AAAA,cAAA;AAAA,YACF;AAAA,UAAA;AAAA,QACF;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WACE,kBAAkB,kCAAkC;AAAA,YAGtD,UAAC,oBAAA,OAAA,EAAI,WAAU,WAAW,UAAS;AAAA,UAAA;AAAA,QACrC;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AC5EO,SAAS,WAAW;AACzB,SAAO,SAAS;AAAA,IACd,UAAU,CAAC,WAAW;AAAA,IACtB,SAAS,MAAM,WAAW;AAAA,EAAA,CAC3B;AACH;AAEA,SAAS,aAAa;AACb,SAAA,UACJ,IAAc,SAAS;AAAA,IACtB,QAAQ;AAAA,MACN,SAAS;AAAA,MACT,MAAM;AAAA,MACN,SAAS;AAAA,MACT,UAAU;AAAA,MACV,mBAAmB;AAAA,MACnB,UAAU;AAAA,IACZ;AAAA,EACD,CAAA,EACA,KAAK,CAAA,aAAY,SAAS,IAAI;AACnC;ACCO,SAAS,iBAAwC;AAAA,EACtD;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAa;;AACL,QAAA,EAAC,+BAA8B;AAC/B,QAAA,EAAC,MAAM,WAAU,IAAI,cAAc,CAAC,SAAS,aAAa,CAAC;AACjE,QAAM,QAAQ;AAGZ,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MAEA,UAAA;AAAA,QAAC,qBAAA,OAAA,EAAI,WAAU,2CACZ,UAAA;AAAA,UAAA;AAAA,UACD,qBAAC,OAAI,EAAA,WAAU,aACZ,UAAA;AAAA,YAAA;AAAA,YACD;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAU;AAAA,gBACV,MAAK;AAAA,gBACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA;AAAA,cAAA;AAAA,YACrC;AAAA,YACA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,MAAK;AAAA,gBACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,cAAA;AAAA,YACpC;AAAA,UAAA,GACF;AAAA,QAAA,GACF;AAAA,QAEA,qBAAC,OAAI,EAAA,WAAU,uCACb,UAAA;AAAA,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAW,KAAK,qBAAqB,OAAO;AAAA,cAC5C,UAAU,CAAC;AAAA,cACX,MAAK;AAAA,cACL,aACE,oBAAC,OAAM,EAAA,SAAQ,2JAA2J,CAAA;AAAA,cAG5K,UAAA,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA;AAAA,YAAA;AAAA,UACnC;AAAA,UACC;AAAA,QAAA,GACH;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,MAAK;AAAA,YACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,wBAAwB,CAAA;AAAA,YAC9C,aACE;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,QAAQ;AAAA,kBACN,GAAG,CACD,UAAA;AAAA,oBAAC;AAAA,oBAAA;AAAA,sBACC,WAAW;AAAA,sBACX,QAAO;AAAA,sBACP,IAAG;AAAA,sBAEF,UAAA;AAAA,oBAAA;AAAA,kBACH;AAAA,gBAEJ;AAAA,gBACA,SAAQ;AAAA,cAAA;AAAA,YACV;AAAA,UAAA;AAAA,QAEJ;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,MAAK;AAAA,YACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,QAAQ,CAAA;AAAA,YAC9B,aAAa,yCAAY;AAAA,YAExB,UAAA,CAAA,6BACE,MAAmB,EAAA,OAAO,KAAK,IAC7B,UAAA,KAAK,KADG,GAAA,KAAK,EAEhB;AAAA,UAAA;AAAA,QAEJ;AAAA,QACC,SACC;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,eAAc;AAAA,YACd,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,YAE5B,WAAOR,MAAA,+BAAA,SAAA,gBAAAA,IAAM,WAAW,KAAK,IAAI,CAChC,WAAA,oBAACY,MAAuB,EAAA,OAAO,OAAO,IACnC,UAAA,OAAO,aADG,GAAA,OAAO,EAEpB;AAAA,UACD;AAAA,QACH;AAAA,QAEF,qBAAC,OAAI,EAAA,WAAU,wBACb,UAAA;AAAA,UAAA,oBAAC,SAAI,WAAU,iBACb,8BAAC,OAAM,EAAA,SAAQ,eAAc,EAC/B,CAAA;AAAA,UACA,oBAAC,wBAAuB,EAAA,MAAK,cAAc,CAAA;AAAA,QAAA,GAC7C;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;ACpIO,MAAM,aAAa;AAAA,EACxB,qBAAE,QAAK,EAAA,GAAE,wHAAyH,GAAI,GAAI,oBAAA,UAAA,EAAO,IAAG,MAAK,IAAG,MAAK,GAAE,OAAQ,GAAI,uBAAI,QAAK,EAAA,GAAE,gBAAoB,GAAA,GAAI,CAAG;AAAA,EACrN;AAAgB;ACgBX,SAAS,iBAAiB;;AAC/B,QAAM,OAAO;AACP,QAAA,EAAC,+BAA8B;AAC/B,QAAA,EAAC,WAAU;AACX,QAAAgB,cAAa,cAAc,IAAI;AACrC,QAAM,0BAA0B;AAChC,QAAM,EAAC,MAAM,cAAa,QAAQ,QAAS;AAAA,IACzC,MAAM,CAAC,iBAAiB,SAAS,eAAe,MAAM;AAAA,EAAA,CACvD;AACD,QAAM,aAAY,MAAA5B,MAAA,6BAAM,KAAK,SAAX,gBAAAA,IAAkB,OAAlB,mBAAsB;AAExC,YAAU,MAAM;AACd,SAAI,6BAAM,SAAQ,CAAC,KAAK,UAAA,EAAY,IAAI;AACtC,WAAK,MAAM;AAAA,QACT,YAAY,KAAK,KAAK;AAAA,QACtB,WAAW,KAAK,KAAK;AAAA,QACrB,OAAO,KAAK,KAAK;AAAA,QACjB,aAAa,KAAK,KAAK;AAAA,QACvB,IAAI,KAAK,KAAK;AAAA,QACd,mBAAmB,QAAQ,KAAK,KAAK,iBAAiB;AAAA,QACtD,iBAAiB,KAAK,KAAK;AAAA,QAC3B,QAAQ,KAAK,KAAK;AAAA,QAClB,SAAS,KAAK,KAAK;AAAA,MAAA,CACpB;AAAA,IACH;AAAA,EACC,GAAA,CAAC,6BAAM,MAAM,IAAI,CAAC;AAErB,MAAI,WAAW;AACb,+BAAQ,gBAAe,CAAA,CAAA;AAAA,EACzB;AAEA,QAAM,oBACJ;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,SAAQ;AAAA,MACR,OAAM;AAAA,MACN,UACE,CAAC,8BACD,wBAAwB,eACxB,kCAAM,SAAN,mBAAY,sBAAqB;AAAA,MAEnC,SAAS,MAAM;AACb,gCAAwB,OAAO,EAAC,OAAO,KAAM,KAAK,OAAM;AAAA,MAC1D;AAAA,MAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,IAAA;AAAA,EAAA;AAKhC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAU,CAAa,cAAA;AACrB,QAAA4B,YAAW,OAAO,SAAS;AAAA,MAC7B;AAAA,MACA;AAAA,MACA,OACG,oBAAA,OAAA,EAAM,QAAQ,EAAC,OAAO,6BAAM,KAAK,MAAA,GAAQ,SAAQ,gBAAgB,CAAA;AAAA,MAEpE,UACE,aACG,qBAAA,OAAA,EAAI,WAAU,+CACb,UAAA;AAAA,QAAA,oBAAC,YAAW,EAAA;AAAA,4BACX,OACC,EAAA,UAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAQ;AAAA,YACR,QAAQ,EAAC,QAAQ,UAAS;AAAA,UAAA;AAAA,QAAA,GAE9B;AAAA,MAAA,GACF;AAAA,MAGJ,WAAWA,YAAW;AAAA,MACtB,eACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAM,KAAM;AAAA,UACZ,UAAU,MAAM;AACd,wBAAY,kBAAkB,EAAC,UAAU,CAAC,OAAO,EAAE,CAAA;AAAA,UACrD;AAAA,QAAA;AAAA,MACF;AAAA,MAEF;AAAA,MAEA,UAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAU;AAAA,UACV,MAAK;AAAA,UACL,MAAK;AAAA,UACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,QAAA;AAAA,MACvC;AAAA,IAAA;AAAA,EAAA;AAGN;AAMA,SAAS,cAAc,EAAC,MAAM,YAA+B;AAC3D,QAAM,eAAe,gBAAgB,EAAC,KAAK,CAAA;AAC3C,QAAM,eAAe,gBAAgB,EAAC,KAAK,CAAA;AAC3C,6BACG,oBACC,EAAA,UAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,YAAW;AAAA,MACX,SAAQ;AAAA,MACR,gBAAc;AAAA,MACd,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,MACtC,aAAY;AAAA,MACZ,kBAAgB;AAAA,MAChB,UAAU,CAAO,QAAA;AACf,YAAI,KAAK;AACM,uBAAA,OAAO,EAAC,IAAA,CAAI;AAAA,QAAA,OACpB;AACL,uBAAa,OAAO;AAAA,QACtB;AACS;MACX;AAAA,IAAA;AAAA,EAEJ,EAAA,CAAA;AAEJ;ACxHO,SAAS,cAAc,MAAwC;AACpE,QAAM,WAAWb;AACjB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UAA6B,WAAW,KAAK;AAAA,IAC1D,WAAW,MAAM;AACT,YAAA,QAAQ,cAAc,CAAC;AAC7B,kBAAY,kBAAkB,EAAC,UAAU,sBAAsB,OAAO,GAAE;AACxE,eAAS,cAAc;AAAA,IACzB;AAAA,IACA,SAAS,CAAA,MAAK,iBAAiB,GAAG,IAAI;AAAA,EAAA,CACvC;AACH;AAEA,SAAS,WAAW,SAA+C;AACjE,MAAI,QAAQ,OAAO;AACjB,YAAQ,QAAQ,QAAQ,MAAM,IAAI,CAAA,MAAK,EAAE,EAAE;AAAA,EAC7C;AACO,SAAA,UAAU,KAAK,SAAS,OAAO,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AAC1D;AC7BO,SAAS,iBAAiB;AAC/B,QAAM,OAAO;AACP,QAAAZ,cAAa,cAAc,IAAI;AAE/B,QAAA,oCACH,oBACC,EAAA,UAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,YAAW;AAAA,MACX,SAAQ;AAAA,MACR,gBAAc;AAAA,MACd,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,MACtC,aAAY;AAAA,MACZ,kBAAgB;AAAA,IAAA;AAAA,EAEpB,EAAA,CAAA;AAIA,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAU,CAAa,cAAA;AACrB,QAAAA,YAAW,OAAO,SAAS;AAAA,MAC7B;AAAA,MACA;AAAA,MACA,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,MACrC,WAAWA,YAAW;AAAA,MACtB;AAAA,MAEA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,MAAK;AAAA,YACL,MAAK;AAAA,YACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,QAAQ,CAAA;AAAA,UAAA;AAAA,QAChC;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,MAAK;AAAA,YACL,MAAK;AAAA,YACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,WAAW,CAAA;AAAA,UAAA;AAAA,QACnC;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;ACjDO,MAAM,gBAAgB;AAAA,EAC3B,oBAAC,QAAK,EAAA,GAAE,0SAA0S,CAAA;AAAA,EAClT;AAAmB;ACKR,MAAA,4BAA4B,CAAC,aAA+B;AACjE,QAAA,MAA2B,CAAC,oBAAoB;AACtD,MAAI,YAAY,MAAM;AACpB,QAAI,KAAK,QAAQ;AAAA,EACnB;AACO,SAAA;AACT;AAEO,SAAS,mBAAmB,UAA2B;AAC5D,SAAO,SAAS;AAAA,IACd,UAAU,0BAA0B,QAAQ;AAAA,IAC5C,SAAS,MAAM,qBAAqB,QAAQ;AAAA,IAC5C,WAAW;AAAA,EAAA,CACZ;AACH;AAEA,SAAS,qBACP,UACuC;AAChC,SAAA,UACJ,IAAI,iBAAiB,QAAQ,EAAE,EAC/B,KAAK,CAAY,aAAA,SAAS,IAAI;AACnC;ACfA,SAAS,mBAAmB;AAAA,EAC1B;AAAA,EACA,GAAG;AACL,GAA6C;AACpC,SAAA,UAAU,IAAI,iBAAiB,EAAE,IAAI,KAAK,EAAE,KAAK,CAAK,MAAA,EAAE,IAAI;AACrE;AAEO,SAAS,sBACd,MACA;AACA,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UAAiC,mBAAmB,KAAK;AAAA,IACtE,WAAW,MAAM;AACT,YAAA,QAAQ,sBAAsB,CAAC;AACrC,kBAAY,kBAAkB;AAAA,QAC5B,UAAU,sBAAsB,eAAe;AAAA,MAAA,CAChD;AACD,kBAAY,kBAAkB,EAAC,UAAU,0BAAA,EAA4B,CAAA;AAAA,IACvE;AAAA,IACA,SAAS,OAAM,OAAO,iBAAiB,GAAG,IAAI,IAAI,mBAAmB,CAAC;AAAA,EAAA,CACvE;AACH;ACjBO,SAAS,yBAAyB;AAAA,EACvC;AACF,GAAkC;AAC1B,QAAA,EAAC,UAAS;AAChB,QAAM,EAAC,QAAQ,MAAK,IAAI,iBAAiB;AACzC,QAAM,OAAO,QAA+B;AAAA,IAC1C,eAAe;AAAA,MACb,IAAI,aAAa;AAAA,MACjB,MAAM,aAAa;AAAA,MACnB,UAAU,aAAa;AAAA,IACzB;AAAA,EAAA,CACD;AAED,QAAM,EAAC,KAAI,IAAI,cAAc,CAAC,WAAW,CAAC;AACpC,QAAA,aAAY,6BAAM,cAAa;AAE/B,QAAA,qBAAqB,sBAAsB,IAAI;AAErD,8BACG,QACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA,GACvC;AAAA,wBACC,YACC,EAAA,UAAA;AAAA,MAACK;AAAAA,MAAA;AAAA,QACC;AAAA,QACA,IAAI;AAAA,QACJ,UAAU,CAAU,WAAA;AAClB,6BAAmB,OAAO,QAAQ,EAAC,WAAW,MAAM,CAAA;AAAA,QACtD;AAAA,QAEA,UAAA;AAAA,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,MAAK;AAAA,cACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,cAC7B,WAAU;AAAA,cACV,UAAQ;AAAA,YAAA;AAAA,UACV;AAAA,UACA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,UAAQ;AAAA,cACR,MAAK;AAAA,cACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,WAAW,CAAA;AAAA,cACjC,eAAc;AAAA,cACd,iBAAe;AAAA,cACf,mBAAmB,MAAM,QAAQ,kBAAkB,CAAC;AAAA,cAEnD,UAAU,UAAA,IAAI,CACb,aAAA,oBAACI,MAAO,EAAA,OAAO,SAAS,MACrB,UAAS,SAAA,KAAA,GADuB,SAAS,IAE5C,CACD;AAAA,YAAA;AAAA,UACH;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAA,oBAAC,UAAO,SAAS,OACf,8BAAC,OAAM,EAAA,SAAQ,UAAS,EAC1B,CAAA;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,MAAK;AAAA,UACL,MAAM;AAAA,UACN,UAAU,mBAAmB;AAAA,UAE7B,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAAA;AAAA,MACxB;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;ACtEA,SAAS,mBACP,SACmB;AACZ,SAAA,UAAU,KAAK,iBAAiB,OAAO,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AAClE;AAEO,SAAS,sBACd,MACA;AACA,QAAMI,eAAc;AACpB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UAAqC,mBAAmB,KAAK;AAAA,IAC1E,WAAW,MAAM;AACT,YAAA,QAAQ,sBAAsB,CAAC;AACrC,MAAAA,aAAY,kBAAkB;AAAA,QAC5B,UAAU,sBAAsB,eAAe;AAAA,MAAA,CAChD;AAAA,IACH;AAAA,IACA,SAAS,CAAA,MAAK,iBAAiB,GAAG,IAAI;AAAA,EAAA,CACvC;AACH;ACpBO,SAAS,uBAAuB;AAC/B,QAAA,EAAC,UAAS;AAChB,QAAM,EAAC,QAAQ,MAAK,IAAI,iBAAiB;AACzC,QAAM,OAAO,QAAmC;AAAA,IAC9C,eAAe;AAAA,MACb,UAAU;AAAA,IACZ;AAAA,EAAA,CACD;AAED,QAAM,EAAC,KAAI,IAAI,cAAc,CAAC,WAAW,CAAC;AACpC,QAAA,aAAY,6BAAM,cAAa;AAE/B,QAAAa,sBAAqB,sBAAsB,IAAI;AAErD,8BACG,QACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA,GACvC;AAAA,wBACC,YACC,EAAA,UAAA;AAAA,MAACrB;AAAAA,MAAA;AAAA,QACC;AAAA,QACA,IAAI;AAAA,QACJ,UAAU,CAAU,WAAA;AAClB,UAAAqB,oBAAmB,OAAO,QAAQ,EAAC,WAAW,MAAM,CAAA;AAAA,QACtD;AAAA,QAEA,UAAA;AAAA,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAS;AAAA,cACT,MAAK;AAAA,cACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,cAC7B,WAAU;AAAA,cACV,UAAQ;AAAA,YAAA;AAAA,UACV;AAAA,UACA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,UAAQ;AAAA,cACR,MAAK;AAAA,cACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,WAAW,CAAA;AAAA,cACjC,eAAc;AAAA,cACd,iBAAe;AAAA,cACf,mBAAmB,MAAM,QAAQ,kBAAkB,CAAC;AAAA,cAEnD,UAAU,UAAA,IAAI,CACb,aAAA,oBAACjB,MAAO,EAAA,OAAO,SAAS,MACrB,UAAS,SAAA,KAAA,GADuB,SAAS,IAE5C,CACD;AAAA,YAAA;AAAA,UACH;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAA,oBAAC,UAAO,SAAS,OACf,8BAAC,OAAM,EAAA,SAAQ,UAAS,EAC1B,CAAA;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,MAAK;AAAA,UACL,MAAM;AAAA,UACN,UAAUiB,oBAAmB;AAAA,UAE7B,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAAA;AAAA,MACxB;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;ACrFA,MAAe,oBAAA;ACmBf,MAAMC,iBAA6C;AAAA,EACjD;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,YAAY;AAAA,IACZ,eAAe;AAAA,IACf,OAAO;AAAA,IACP,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA;AAAA,IACpC,MAAM,YAAU,OAAO;AAAA,EACzB;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,YAAY;AAAA,IACZ,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,gBAAgB,CAAA;AAAA,IAC7C,MAAM,YAAU,OAAO;AAAA,EACzB;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,OAAO;AAAA,IACP,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,eAAe,CAAA;AAAA,IAC5C,MAAM,CAAU,WAAA,oBAAC,eAAc,EAAA,MAAM,OAAO,YAAY;AAAA,EAC1D;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,UAAU,CAAA;AAAA,IACvC,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,OAAO;AAAA,IACP,eAAe;AAAA,IACf,MAAM,CAAU,WAAA;AAEZ,aAAA,qBAAC,OAAI,EAAA,WAAU,cACb,UAAA;AAAA,QAAC,oBAAA,MAAA,EAAK,IAAI,GAAG,OAAO,EAAE,cACpB,UAAA,oBAAC,SAAQ,EAAA,OAAQ,oBAAA,OAAA,EAAM,SAAQ,YAAY,CAAA,GACzC,8BAAC,YAAW,EAAA,MAAK,MACf,UAAC,oBAAA,eAAA,CAAA,CAAc,EACjB,CAAA,EAAA,CACF,EACF,CAAA;AAAA,QACA,qBAAC,eAAc,EAAA,MAAK,SAClB,UAAA;AAAA,UAAA,oBAAC,SAAQ,EAAA,OAAQ,oBAAA,OAAA,EAAM,SAAQ,QAAO,GACpC,UAAA,oBAAC,YACC,EAAA,UAAA,oBAAC,UAAS,CAAA,CAAA,EACZ,CAAA,GACF;AAAA,UACA,oBAAC,0BAAyB,EAAA,cAAc,OAAQ,CAAA;AAAA,QAAA,GAClD;AAAA,MACF,EAAA,CAAA;AAAA,IAEJ;AAAA,EACF;AACF;AAEO,SAAS,oBAAoB;AAEhC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAS;AAAA,MACT,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,MACtC,SAASA;AAAAA,MACT,6BAAU1B,WAAQ,EAAA;AAAA,MAClB,qCAAkB,2BAA0B,EAAA;AAAA,MAC5C,mBACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAO;AAAA,UACP,OAAO,oBAAC,OAAM,EAAA,SAAQ,yCAAyC,CAAA;AAAA,UAC/D,gBAAgB,oBAAC,OAAM,EAAA,SAAQ,4BAA4B,CAAA;AAAA,QAAA;AAAA,MAC7D;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA,SAASA,YAAU;AACjB,SACG,oBAAA,UAAA,EACC,UAAC,qBAAA,eAAA,EAAc,MAAK,SAClB,UAAA;AAAA,IAAA,oBAAC,wBACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,uBAAuB,CAAA,GACxC;AAAA,wBACC,sBAAqB,EAAA;AAAA,EAAA,EACxB,CAAA,EACF,CAAA;AAEJ;ACvFO,SAAS,uBAAuB;AACrC,QAAM,EAAC,QAAQ,MAAK,IAAI,iBAAiB;AACzC,QAAM,OAAO;AAEb,8BACG,QACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA,GACnC;AAAA,wBACC,YACC,EAAA,UAAA;AAAA,MAACI;AAAAA,MAAA;AAAA,QACC;AAAA,QACA,IAAI;AAAA,QACJ,UAAU,CAAU,WAAA;AAClB,gBAAM,MAAM;AAAA,QACd;AAAA,QAEA,UAAA;AAAA,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAU;AAAA,cACV,OACE,oBAAC,OAAM,EAAA,SAAQ,uDAAuD,CAAA;AAAA,cAExE,aACE,oBAAC,OAAM,EAAA,SAAQ,sEAAsE,CAAA;AAAA,YAAA;AAAA,UAEzF;AAAA,UACA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,kBAAiB;AAAA,cACjB,MAAM;AAAA,cACN,WAAS;AAAA,cACT,MAAK;AAAA,cACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA;AAAA,cACxC,WAAU;AAAA,cACV,UAAQ;AAAA,YAAA;AAAA,UACV;AAAA,UACA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,kBAAiB;AAAA,cACjB,MAAM;AAAA,cACN,MAAK;AAAA,cACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,cAC1C,UAAQ;AAAA,YAAA;AAAA,UACV;AAAA,QAAA;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAA,oBAAC,UAAO,SAAS,OACf,8BAAC,OAAM,EAAA,SAAQ,UAAS,EAC1B,CAAA;AAAA,MACC,oBAAA,QAAA,EAAO,SAAQ,QAAO,OAAM,WAAU,MAAK,UAAS,MAAM,QACzD,UAAA,oBAAC,OAAM,EAAA,SAAQ,MAAM,CAAA,GACvB;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;AC/CO,SAAS,4BAA4B;AACpC,QAAA,EAAC,aAAY;AAEnB,QAAM,EAAC,MAAM,UAAS,IAAI,mBAAmB,QAAS;AACtD,QAAM,eAAe,6BAAM;AAEvB,MAAA,aAAa,CAAC,cAAc;AAC9B,+BAAQ,gBAAe,CAAA,CAAA;AAAA,EACzB;AAEO,SAAA,oBAAC,QAAK,aAA4B,CAAA;AAC3C;AAKA,SAAS,KAAK,EAAC,gBAA0B;AACjC,QAAA,CAAC,OAAO,QAAQ,IAAI,SAAgB,aAAa,SAAS,CAAA,CAAE;AAElE,QAAM,WAAWO;AACjB,QAAM,qBAAqB;AAC3B,QAAM,CAAC,aAAa,cAAc,IAAI,SAAiB,EAAE;AAGvD,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,UAAU,CAAK,MAAA;AACb,UAAE,eAAe;AACE,2BAAA;AAAA,UACjB,EAAC,IAAI,aAAa,IAAI,MAAK;AAAA,UAC3B;AAAA,YACE,WAAW,MAAM;AACf,uBAAS,sBAAsB;AAAA,YACjC;AAAA,UACF;AAAA,QAAA;AAAA,MAEJ;AAAA,MAEA,UAAA;AAAA,QAAA;AAAA,UAACN;AAAAA,UAAA;AAAA,YACC;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA,WAAW,mBAAmB;AAAA,UAAA;AAAA,QAChC;AAAA,QACC,oBAAA,WAAA,EAAU,OAAc,UAAoB,YAA0B,CAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAG7E;AAUA,SAASA,SAAO;AAAA,EACd;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAgB;AACd,QAAM,WAAWM;AACjB,QAAM,WAAW;AACX,QAAA,EAAC,UAAS;AAGd,SAAA,qBAAC,OAAI,EAAA,WAAU,iBACb,UAAA;AAAA,IAAA,qBAAC,YAAW,EAAA,MAAK,MAAK,WAAU,SAC9B,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,YAAY,MAAM;AAChB,qBAAS,sBAAsB;AAAA,UACjC;AAAA,UAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,QAAA;AAAA,MACjC;AAAA,0BACC,gBACC,EAAA,UAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAQ;AAAA,UACR,QAAQ,EAAC,QAAQ,aAAa,KAAI;AAAA,QAAA;AAAA,MAAA,GAEtC;AAAA,IAAA,GACF;AAAA,IACA,qBAAC,OAAI,EAAA,WAAU,4CACb,UAAA;AAAA,MAAC,oBAAA,OAAA,EAAI,WAAU,uBACb,UAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAO;AAAA,UACP,UAAU,CAAA,MAAK,eAAe,EAAE,OAAO,KAAK;AAAA,UAC5C,oCAAiB,YAAW,EAAA;AAAA,UAC5B,aAAa,MAAM,EAAC,SAAS,qBAAoB;AAAA,QAAA;AAAA,MAAA,GAErD;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,SAAS,CAAkB,mBAAA;AACzB,gBAAI,gBAAgB;AACZ,oBAAA,WAAW,EAAC,GAAG;AACZ,uBAAA,eAAe,GAAG,IAAI,eAAe;AAC9C,uBAAS,QAAQ;AAAA,YACnB;AAAA,UACF;AAAA,UAEC,UAAA;AAAA,YAAA,CAAC,YACA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAU;AAAA,gBACV,SAAQ;AAAA,gBACR,OAAM;AAAA,gBACN,+BAAY,SAAQ,EAAA;AAAA,gBAEpB,UAAA,oBAAC,OAAM,EAAA,SAAQ,UAAU,CAAA;AAAA,cAAA;AAAA,YAC3B;AAAA,gCAED,sBAAqB,EAAA;AAAA,UAAA;AAAA,QAAA;AAAA,MACxB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,MAAK;AAAA,UACL,UAAU;AAAA,UAET,UAAA,+BACE,OAAM,EAAA,SAAQ,QAAO,IAEtB,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,QAAA;AAAA,MAEvC;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;AAOA,SAAS,UAAU,EAAC,aAAa,OAAO,YAA2B;AAC3D,QAAA,gBAAgB,QAAQ,MAAM;AAC3B,WAAA,OAAO,QAAQ,KAAK,EAAE,OAAO,CAAC,CAAC,IAAI,WAAW,MAAM;AACnD,YAAA,iBAAiB,2CAAa;AACpC,aACE,CAAC,mBACD,yBAAI,cAAc,SAAS,qBAC3B,2CAAa,cAAc,SAAS;AAAA,IAAc,CAErD;AAAA,EAAA,GACA,CAAC,OAAO,WAAW,CAAC;AAEjB,QAAA,MAAM,OAAuB,IAAI;AACvC,QAAM,iBAAiB,eAAe;AAAA,IACpC,OAAO,cAAc;AAAA,IACrB,kBAAkB,MAAM,IAAI;AAAA,IAC5B,cAAc,MAAM;AAAA,EAAA,CACrB;AAED,SACG,oBAAA,OAAA,EAAI,WAAU,6BAA4B,KACzC,UAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,OAAO;AAAA,QACL,QAAQ,GAAG,eAAe,aAAA,CAAc;AAAA,MAC1C;AAAA,MAEC,UAAe,eAAA,gBAAkB,EAAA,IAAI,CAAe,gBAAA;AACnD,cAAM,CAAC,IAAI,WAAW,IAAI,cAAc,YAAY,KAAK;AAEvD,eAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YAEC,WAAU;AAAA,YACV,OAAO;AAAA,cACL,QAAQ,GAAG,YAAY,IAAI;AAAA,cAC3B,WAAW,cAAc,YAAY,KAAK;AAAA,YAC5C;AAAA,YAEA,UAAA,qBAAC,OAAI,EAAA,WAAU,iCACb,UAAA;AAAA,cAAC,qBAAA,OAAA,EAAI,WAAU,gEACb,UAAA;AAAA,gBAAA;AAAA,kBAAC;AAAA,kBAAA;AAAA,oBACC,WAAU;AAAA,oBACV,SAAS;AAAA,oBAER,UAAA;AAAA,kBAAA;AAAA,gBACH;AAAA,gBACA;AAAA,kBAAC;AAAA,kBAAA;AAAA,oBACC,MAAK;AAAA,oBACL,WAAU;AAAA,oBACV,SAAS,MAAM;AACP,4BAAA,WAAW,EAAC,GAAG;AACrB,6BAAO,SAAS,EAAE;AAClB,+BAAS,QAAQ;AAAA,oBACnB;AAAA,oBAEA,8BAAC,WAAU,EAAA;AAAA,kBAAA;AAAA,gBACb;AAAA,cAAA,GACF;AAAA,kCACC,OACC,EAAA,UAAA;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC;AAAA,kBACA,MAAM;AAAA,kBACN,cAAc;AAAA,kBACd,WAAU;AAAA,kBACV,MAAM;AAAA,kBACN,UAAU,CAAK,MAAA;AACP,0BAAA,WAAW,EAAC,GAAG;AACZ,6BAAA,EAAE,IAAI,EAAE,OAAO;AACxB,6BAAS,QAAQ;AAAA,kBACnB;AAAA,gBAAA;AAAA,cAAA,GAEJ;AAAA,YAAA,GACF;AAAA,UAAA;AAAA,UAzCK;AAAA,QAAA;AAAA,MA0CP,CAEH;AAAA,IAAA;AAAA,EAEL,EAAA,CAAA;AAEJ;ACnOO,SAAS,gBAAgB,OAAc;AACtC,QAAA,EAAC,UAAS;AACV,QAAA,EAAC,OAAO,OAAU,IAAA;AAClB,QAAA,CAAC,aAAa,cAAc,IAAI;AAAA,IACpC,MAAM;AAAA,IACN,MAAM;AAAA,IACN,MAAM;AAAA,EAAA;AAEF,QAAA,MAAM,UAAS,iCAAS;AAG5B,SAAA,oBAAC,QAAO,EAAA,MAAK,sBAAqB,YAAW,eAC3C,UAAA,qBAAC,YAAW,EAAA,SAAQ,OAAM,WAAU,iBAClC,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAM;AAAA,QACN,WAAU;AAAA,QACV,SAAS,MAAM;AACP;QACR;AAAA,QAEA,8BAAC,WAAU,EAAA;AAAA,MAAA;AAAA,IACb;AAAA,IACA,qBAAC,OAAI,EAAA,WAAU,gEACZ,UAAA;AAAA,OAAA,iCAAQ,UACP;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,OAAM;AAAA,UACN,SAAQ;AAAA,UACR,WAAU;AAAA,UACV,UAAU,cAAc;AAAA,UACxB,SAAS,MAAM;AACb,2BAAe,cAAc,CAAC;AAAA,UAChC;AAAA,UAEA,8BAAC,uBAAsB,EAAA;AAAA,QAAA;AAAA,MAAA,IAEvB;AAAA,MACJ;AAAA,QAAC;AAAA,QAAA;AAAA,UACC;AAAA,UACA,KAAI;AAAA,UACJ,WAAU;AAAA,QAAA;AAAA,MACZ;AAAA,OACC,iCAAQ,UACP;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,OAAM;AAAA,UACN,SAAQ;AAAA,UACR,WAAU;AAAA,UACV,UAAU,cAAc,OAAM,iCAAQ;AAAA,UACtC,SAAS,MAAM;AACb,2BAAe,cAAc,CAAC;AAAA,UAChC;AAAA,UAEA,8BAAC,wBAAuB,EAAA;AAAA,QAAA;AAAA,MAAA,IAExB;AAAA,IAAA,GACN;AAAA,EAAA,EACF,CAAA,EACF,CAAA;AAEJ;ACxDO,SAAS,UAAU;;AACxB,QAAM,QAAQ;AAGZ,SAAA,qBAAC,OAAI,EAAA,WAAU,kCACb,UAAA;AAAA,IAAA,oBAAC,iBACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,MAAM,CAAA,GACvB;AAAA,IACA,oBAAC,QAAG,WAAU,kDACZ,8BAAC,OAAM,EAAA,SAAQ,uBAAsB,EACvC,CAAA;AAAA,IACC,MAAM,YACJ,oBAAA,gBAAA,EAAe,iBAAe,KAAC,CAAA,IAE/B,oBAAA,SAAA,EAAQ,iBAAef,MAAA,MAAM,SAAN,gBAAAA,IAAY,OAAO,QAAO,CAAA,GAAI;AAAA,EAE1D,EAAA,CAAA;AAEJ;AAKA,SAAS,QAAQ,EAAC,iBAA8B;AACxC,QAAA;AAAA,IACJ,OAAO,EAAC,IAAG;AAAA,EAAA,IACT,WAAW,iBAAiB;AAEhC,QAAM,OAAO,QAAgC;AAAA,IAC3C,eAAe,EAAC,QAAQ,EAAC,KAAK,gBAAc;AAAA,EAAA,CAC7C;AACK,QAAA,iBAAiB,uBAAuB,IAAI;AAGhD,SAAA;AAAA,IAACQ;AAAAA,IAAA;AAAA,MACC;AAAA,MACA,UAAU,CAAS,UAAA;AACjB,uBAAe,OAAO,KAAK;AAAA,MAC7B;AAAA,MAEC,UAAA;AAAA,QAAA,IAAI,IAAI,CAAM,OAAA;AACb,iBAAQ,oBAAA,WAAA,EAAwB,UAAU,MAAnB,GAAG,IAAoB;AAAA,QAAA,CAC/C;AAAA,QACD;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YACV,aACE,oBAAC,OAAM,EAAA,SAAQ,yDAAyD,CAAA;AAAA,YAG1E,UAAA,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,UAAA;AAAA,QAC/B;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,SAAQ;AAAA,YACR,OAAM;AAAA,YACN,UAAU,eAAe;AAAA,YAEzB,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,UAAA;AAAA,QACxB;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAKA,SAAS,UAAU,EAAC,YAA2B;AAE3C,SAAA,qBAAC,OAAI,EAAA,WAAU,4BACb,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAM,UAAU,SAAS,IAAI;AAAA,QAC7B,kBAAiB;AAAA,QACjB,MAAM;AAAA,QACN,OAAO,oBAAC,OAAO,EAAA,GAAG,SAAS,YAAa,CAAA;AAAA,MAAA;AAAA,IAC1C;AAAA,IACA,qBAAC,eAAc,EAAA,MAAK,SAClB,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,WAAU;AAAA,UAEV,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,KAAK,SAAS;AAAA,cACd,WAAU;AAAA,cACV,KAAI;AAAA,YAAA;AAAA,UACN;AAAA,QAAA;AAAA,MACF;AAAA,MACC,oBAAA,iBAAA,EAAgB,OAAO,SAAS,MAAO,CAAA;AAAA,IAAA,GAC1C;AAAA,EACF,EAAA,CAAA;AAEJ;AC5GO,SAAS,cAAc;AAC5B,QAAM,WAAW,mBAAmB,CAAK,MAAA;;AAAA,YAAAR,MAAA,EAAE,WAAF,gBAAAA,IAAU;AAAA,GAAQ;AACrD,QAAA,gBAAgB,QAAQ,MAAM;AAClC,QAAI,CAAC;AAAU,aAAO;AACf,WAAA,OAAO,QAAQ,YAAY,CAAE,CAAA,EACjC,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM;AACd,aAAA;AAAA,QACL,GAAG;AAAA,QACH;AAAA,MAAA;AAAA,IAEH,CAAA,EACA,KAAK,CAAC,GAAG,QAAO,uBAAG,aAAY,OAAM,uBAAG,aAAY,EAAE;AAAA,EAAA,GACxD,CAAC,QAAQ,CAAC;AAEb,SACG,oBAAA,UAAA,EACE,UAAc,cAAA,IAAI,CAAW,YAAA;AAE1B,WAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,IAAI,QAAQ;AAAA,QACZ,aAAa;AAAA,QAEb,UAAC,oBAAA,OAAA,EAAO,GAAG,QAAQ,MAAO,CAAA;AAAA,MAAA;AAAA,MAJrB,QAAQ;AAAA,IAAA;AAAA,EAOlB,CAAA,EACH,CAAA;AAEJ;ACxBO,MAAM,uBAAwC;AAAA,EACnD;AAAA,IACE,KAAK;AAAA,IACL,OAAO,QAAQ,MAAM;AAAA,IACrB,aAAa,QAAQ,kBAAkB;AAAA,IACvC,iBAAiB,eAAe;AAAA,IAChC,SAAS;AAAA,MACP,MAAM,kBAAkB;AAAA,MACxB,cAAc;AAAA,MACd,SAAS;AAAA,QACP;AAAA,UACE,KAAK;AAAA,UACL,OAAO,QAAQ,UAAU;AAAA,UACzB,OAAO;AAAA,QACT;AAAA,QACA;AAAA,UACE,KAAK;AAAA,UACL,OAAO,QAAQ,WAAW;AAAA,UAC1B,OAAO;AAAA,QACT;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA,EACA,gBAAgB;AAAA,IACd,aAAa,QAAQ,uBAAuB;AAAA,EAAA,CAC7C;AAAA,EACD,gBAAgB;AAAA,IACd,aAAa,QAAQ,4BAA4B;AAAA,EAAA,CAClD;AACH;ACxBA,MAAM8B,iBAAqC;AAAA,EACzC;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA;AAAA,IACpC,MAAM,CACJ,SAAA,qBAAC,OACC,EAAA,UAAA;AAAA,MAAA,oBAAC,SACC,UAAC,oBAAA,OAAA,EAAM,SAAS,KAAK,KAAM,CAAA,GAC7B;AAAA,MACC,oBAAA,OAAA,EAAI,WAAU,0DACZ,UAAK,KAAA,cAAe,oBAAA,OAAA,EAAM,SAAS,KAAK,YAAa,CAAA,IAAK,QAC7D;AAAA,IAAA,GACF;AAAA,EAEJ;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,UAAU;AAAA,IACV,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA;AAAA,IACpC,MAAM,CAAQ,SAAA,oBAAC,OAAM,EAAA,SAAS,KAAK,MAAM;AAAA,EAC3C;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,UAAU;AAAA,IACV,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,eAAe,CAAA;AAAA,IAC5C,MAAM,CAAQ,SAAA,oBAAC,eAAc,EAAA,MAAM,KAAK,YAAY;AAAA,EACtD;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,UAAU,CAAA;AAAA,IACvC,YAAY;AAAA,IACZ,eAAe;AAAA,IACf,OAAO;AAAA,IACP,OAAO;AAAA,IACP,MAAM,CAAQ,SAAA;AACZ,iCACG,MAAK,EAAA,IAAI,GAAG,KAAK,EAAE,SAClB,UAAA,oBAAC,YAAW,EAAA,MAAK,MAAK,WAAU,cAC9B,UAAC,oBAAA,UAAA,CAAS,CAAA,GACZ,EACF,CAAA;AAAA,IAEJ;AAAA,EACF;AACF;AAEO,SAAS,iBAAiB;AAE7B,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAS;AAAA,MACT,OAAO,oBAAC,OAAM,EAAA,SAAQ,QAAQ,CAAA;AAAA,MAC9B,SAASA;AAAAA,MACT,SAAS;AAAA,MACT,6BAAU1B,WAAQ,EAAA;AAAA,MAClB,qCAAkB,2BAA0B,EAAA;AAAA,MAC5C,mBACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAOC;AAAAA,UACP,OAAO,oBAAC,OAAM,EAAA,SAAQ,iCAAiC,CAAA;AAAA,UACvD,gBAAgB,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,QAAA;AAAA,MACrD;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA,SAASD,YAAU;AACjB,8BACG,UACC,EAAA,UAAA;AAAA,IAAC,oBAAA,0BAAA,EAAyB,UAAS,mBAAmB,CAAA;AAAA,IACtD,oBAAC,wBAAuB,EAAA,aAAa,MAAM,IAAG,OAC5C,UAAC,oBAAA,OAAA,EAAM,SAAQ,eAAA,CAAe,EAChC,CAAA;AAAA,EACF,EAAA,CAAA;AAEJ;ACzFA,MAAM2B,aAAW,CAAC,OAAwB,SAAS,EAAE;AAM9C,SAAS,UAAU;AAClB,QAAA,EAAC,WAAU;AACjB,SAAO,SAAS;AAAA,IACd,UAAU,CAACA,WAAS,MAAO,CAAC;AAAA,IAC5B,SAAS,MAAM,UAAU,MAAO;AAAA,EAAA,CACjC;AACH;AAEA,SAAS,UAAU,QAAqD;AAC/D,SAAA,UAAU,IAAIA,WAAS,MAAM,CAAC,EAAE,KAAK,CAAY,aAAA,SAAS,IAAI;AACvE;ACHA,MAAMA,aAAW,CAAC,OAAe,SAAS,EAAE;AAErC,SAAS,gBAAgB;AACxB,QAAA,EAAC,UAAS;AAChB,QAAM,WAAWhB;AACjB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,YAAqB,WAAW,OAAO;AAAA,IACpD,WAAW,CAAY,aAAA;AACrB,YAAM,MAAM,QAAQ,cAAc,CAAC,CAAC;AACxB,kBAAA,kBAAkB,EAAC,UAAU,CAACgB,WAAS,SAAS,KAAK,EAAE,CAAC,EAAA,CAAE;AACtE,kBAAY,kBAAkB,EAAC,UAAU,sBAAsB,OAAO,GAAE;AACxE,eAAS,cAAc;AAAA,IACzB;AAAA,IACA,SAAS,CAAO,QAAA,mBAAmB,GAAG;AAAA,EAAA,CACvC;AACH;AAEA,SAAS,WAAW,EAAC,IAAI,GAAG,WAAsC;AACzD,SAAA,UAAU,IAAIA,WAAS,EAAE,GAAG,OAAO,EAAE,KAAK,CAAK,MAAA,EAAE,IAAI;AAC9D;ACvBO,SAAS,8BAA8B;AAAA,EAC5C,aAAa;AACf,GAAuC;AAC/B,QAAA,EAAC,UAAS;AACV,QAAA,EAAC,eAAc;AACf,QAAA,EAAC,UAAS;AACV,QAAA,cAAc,MAAM,MAAM;AAEhC,SAEI,qBAAAZ,YAAA,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAC7B,MAAK;AAAA,QACL,WAAU;AAAA,QACV,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,QACpC,MAAK;AAAA,QACL,kBAAiB;AAAA,QACjB,aAAa,MAAM,QAAQ,qBAAqB,CAAC;AAAA,QACjD,MAAM;AAAA,QACN,WAAU;AAAA,MAAA;AAAA,IACZ;AAAA,IACC,WAAW,cACV;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAC7B,MAAK;AAAA,QACL,eAAc;AAAA,QACd,WAAU;AAAA,QACV,aACE,oBAAC,OAAM,EAAA,SAAQ,8FAA8F,CAAA;AAAA,QAG/G,UAAA;AAAA,UAAA,oBAAC,QAAK,OAAM,YACV,8BAAC,OAAM,EAAA,SAAQ,YAAW,EAC5B,CAAA;AAAA,UACA,oBAAC,QAAK,OAAM,aACV,8BAAC,OAAM,EAAA,SAAQ,aAAY,EAC7B,CAAA;AAAA,QAAA;AAAA,MAAA;AAAA,IACF;AAAA,IAED,CAAC,cAEE,qBAAAA,YAAA,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,WAAU;AAAA,UACV,aACE,oBAAC,OAAM,EAAA,SAAQ,+CAA+C,CAAA;AAAA,UAGhE,UAAA,oBAAC,OAAM,EAAA,SAAQ,UAAU,CAAA;AAAA,QAAA;AAAA,MAC3B;AAAA,MACC,gBAAgB,cACf;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,aACE,oBAAC,OAAM,EAAA,SAAQ,oDAAoD,CAAA;AAAA,UAGrE,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,QAAA;AAAA,MAC1B;AAAA,IAAA,GAEJ;AAAA,IAEF,oBAAC,QAAG,WAAU,uBACZ,8BAAC,OAAM,EAAA,SAAQ,eAAc,EAC/B,CAAA;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,cACE,gBAAgB,aAAa,gBAAgB;AAAA,MAAA;AAAA,IAEjD;AAAA,EACF,EAAA,CAAA;AAEJ;ACtEgB,SAAA,iBAAiB,EAAC,kBAAwC;;AAClE,QAAA,EAAC,UAAS;AAChB,QAAM,CAAC,YAAY,aAAa,IAAI,SAAiB,EAAE;AACjD,QAAA,EAAC,UAAS;AACV,QAAA,QAAQ,oBAAoB,0BAA0B;AAAA,IAC1D,OAAO;AAAA,IACP,SAAS;AAAA,EAAA,CACV;AACD,QAAM,UAAQnB,MAAA,MAAM,SAAN,gBAAAA,IAAY,YAAW,CAAA;AAErC,QAAM,oBACJ;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,MAAK;AAAA,MACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,MAC1C,aAAa,oBAAC,OAAM,EAAA,SAAQ,2BAA2B,CAAA;AAAA,MACvD,OAAO,oBAAC,UAAS,EAAA,KAAKK,UAAS,CAAA;AAAA,IAAA;AAAA,EAAA;AAI7B,QAAA,aAAa,CAAC,SAA0B;AACtC;AACN,mBAAe,IAAI;AAAA,EAAA;AAGrB,8BACG,QACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA,GACjC;AAAA,yBACC,YACC,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAS;AAAA,UACT,WAAU;AAAA,UACV,oCAAiB,YAAW,EAAA;AAAA,UAC5B,aAAa,MAAM,QAAQ,kCAAkC,CAAC;AAAA,UAC9D,OAAO;AAAA,UACP,UAAU,CAAK,MAAA;AACC,0BAAA,EAAE,OAAO,KAAK;AAAA,UAC9B;AAAA,QAAA;AAAA,MACF;AAAA,MACC,CAAC,MAAM,aAAa,CAAC,MAAM,UAAU;AAAA,0BACrC,OAAI,EAAA,WAAU,6BACZ,UAAA,MAAM,IAAI,CACT,SAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UAEC;AAAA,UACA,gBAAgB;AAAA,QAAA;AAAA,QAFX,KAAK;AAAA,MAIb,CAAA,GACH;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;AAMA,SAAS,aAAa,EAAC,MAAM,kBAAoC;AAE7D,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MAEC,WAAU;AAAA,MACV,MAAK;AAAA,MACL,UAAU;AAAA,MACV,SAAS,MAAM;AACb,uBAAe,IAAI;AAAA,MACrB;AAAA,MACA,WAAW,CAAK,MAAA;AACd,YAAI,EAAE,QAAQ,WAAW,EAAE,QAAQ,KAAK;AACtC,YAAE,eAAe;AACjB,yBAAe,IAAI;AAAA,QACrB;AAAA,MACF;AAAA,MAEA,UAAA;AAAA,QAAC,oBAAA,QAAA,EAAO,KAAK,KAAK,MAAO,CAAA;AAAA,QACzB,qBAAC,OAAI,EAAA,WAAU,mBACb,UAAA;AAAA,UAAA,oBAAC,OAAI,EAAA,WAAU,iCAAiC,UAAA,KAAK,MAAK;AAAA,UACzD,oBAAA,OAAA,EAAI,WAAU,4CACZ,eAAK,aACR;AAAA,QAAA,GACF;AAAA,MAAA;AAAA,IAAA;AAAA,IApBK,KAAK;AAAA,EAAA;AAuBhB;AC7FO,SAAS,uBAAuB,MAAY;AACjD,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,EAAC,QAAO,MACnB,oBAAoB,EAAC,SAAS,QAAQ,KAAK,IAAG;AAAA,IAChD,WAAW,CAAC,UAAU,YAAY;AAChC;AAAA,QACE,QAAQ,yDAAyD;AAAA,UAC/D,QAAQ,EAAC,OAAO,QAAQ,QAAQ,QAAQ,MAAM,KAAK,KAAI;AAAA,QAAA,CACxD;AAAA,MAAA;AAAA,IAEL;AAAA,IACA,SAAS,CAAO,QAAA,mBAAmB,GAAG;AAAA,EAAA,CACvC;AACH;AAEA,SAAS,oBAAoB;AAAA,EAC3B;AAAA,EACA;AACF,GAAkD;AAChD,SAAO,UACJ,KAAK,SAAS,MAAM,iBAAiB,EAAC,QAAQ,CAAA,EAC9C,KAAK,CAAK,MAAA,EAAE,IAAI;AACrB;ACtBO,SAAS,kBAAkB,MAAY;AAC5C,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,EAAC,QAAO,MACnB,eAAe,EAAC,SAAS,QAAQ,KAAK,IAAG;AAAA,IAC3C,WAAW,CAAC,UAAU,YAAY;AAChC;AAAA,QACE,QAAQ,sDAAsD;AAAA,UAC5D,QAAQ,EAAC,OAAO,QAAQ,QAAQ,QAAQ,MAAM,KAAK,KAAI;AAAA,QAAA,CACxD;AAAA,MAAA;AAAA,IAEL;AAAA,IACA,SAAS,CAAO,QAAA,mBAAmB,GAAG;AAAA,EAAA,CACvC;AACH;AAEA,SAAS,eAAe;AAAA,EACtB;AAAA,EACA;AACF,GAAkD;AAChD,SAAO,UACJ,KAAK,SAAS,MAAM,cAAc,EAAC,QAAQ,CAAA,EAC3C,KAAK,CAAK,MAAA,EAAE,IAAI;AACrB;ACfA,MAAM,aAAiC;AAAA,EACrC,KAAK;AAAA,EACL,eAAe;AAAA,EACf,YAAY;AAAA,EACZ,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA;AAAA,EACpC,MAAM,CACJ,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,KAAK;AAAA,MACZ,OAAO,KAAK;AAAA,MACZ,aAAa,KAAK;AAAA,IAAA;AAAA,EACpB;AAAA,EAEF,OAAO;AACT;AAEA,MAAM,iBAAuC;AAAA,EAC3C;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,aAAa,CAAA;AAAA,IAC1C,MAAM,UAAQ,KAAK;AAAA,EACrB;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,YAAY,CAAA;AAAA,IACzC,MAAM,UAAQ,KAAK;AAAA,EACrB;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,cAAc,CAAA;AAAA,IAC3C,MAAM,CAAQ,SAAA,oBAAC,eAAc,EAAA,MAAM,KAAK,YAAY;AAAA,EACtD;AACF;AAEA,MAAM,gBAAsC,CAAC,UAAU;AAKhD,SAAS,uBAAuB;AAAA,EACrC;AACF,GAAoC;AAClC,QAAM,WAAW;AAEjB,MAAI,KAAK,UAAU,KAAK,SAAS,aAAa;AAE1C,WAAA,oBAAC,OAAI,EAAA,WAAU,eACb,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAOA;AAAAA,QACP,OAAO,oBAAC,OAAM,EAAA,SAAQ,uCAAuC,CAAA;AAAA,MAAA;AAAA,IAEjE,EAAA,CAAA;AAAA,EAEJ;AAGE,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAS;AAAA,MACT,SAAS,WAAW,gBAAgB;AAAA,MACpC,aAAa,EAAC,QAAQ,GAAG,KAAK,EAAE,GAAE;AAAA,MAClC,SAAU,oBAAA,kBAAA,EAAiB,KAAY,CAAA;AAAA,MACvC,iBAAkB,oBAAA,mBAAA,EAAkB,KAAY,CAAA;AAAA,MAChD,mBACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAOA;AAAAA,UACP,OACE,oBAAC,OAAM,EAAA,SAAQ,+CAA+C,CAAA;AAAA,UAEhE,gBAAgB,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,QAAA;AAAA,MACrD;AAAA,IAAA;AAAA,EAAA;AAIR;AAKA,SAAS,iBAAiB,EAAC,QAA8B;AACjD,QAAA,WAAW,kBAAkB,IAAI;AAErC,SAAA,qBAAC,eAAc,EAAA,MAAK,SAClB,UAAA;AAAA,IAAA,oBAAC,QAAO,EAAA,SAAQ,QAAO,OAAM,WAAU,UAAU,SAAS,WACxD,UAAC,oBAAA,OAAA,EAAM,SAAQ,cAAc,CAAA,GAC/B;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,gBAAgB,CAAQ,SAAA;AACb,mBAAA;AAAA,YACP,EAAC,SAAS,CAAC,KAAK,EAAY,EAAC;AAAA,YAC7B;AAAA,cACE,WAAW,MAAM;AACf,4BAAY,kBAAkB;AAAA,kBAC5B,UAAU,sBAAsB,SAAS;AAAA,oBACvC,QAAQ,GAAG,KAAK,EAAE;AAAA,kBAAA,CACnB;AAAA,gBAAA,CACF;AAAA,cACH;AAAA,YACF;AAAA,UAAA;AAAA,QAEJ;AAAA,MAAA;AAAA,IACF;AAAA,EACF,EAAA,CAAA;AAEJ;AAKgB,SAAA,kBAAkB,EAAC,QAA+B;AAC1D,QAAA,cAAc,uBAAuB,IAAI;AACzC,QAAA,EAAC,iBAAgB;AAGrB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,SAAS,CAAe,gBAAA;AACtB,YAAI,aAAa;AACH,sBAAA;AAAA,YACV,EAAC,SAAS,aAAwB;AAAA,YAClC;AAAA,cACE,WAAW,MAAM;AACf,4BAAY,kBAAkB;AAAA,kBAC5B,UAAU,sBAAsB,SAAS;AAAA,oBACvC,QAAQ,GAAG,KAAK,EAAE;AAAA,kBAAA,CACnB;AAAA,gBAAA,CACF;AAAA,cACH;AAAA,YACF;AAAA,UAAA;AAAA,QAEJ;AAAA,MACF;AAAA,MAEA,UAAA;AAAA,QAAA,oBAAC,QAAO,EAAA,SAAQ,QAAO,OAAM,UAAS,UAAU,YAAY,WAC1D,UAAC,oBAAA,OAAA,EAAM,SAAQ,eAAe,CAAA,GAChC;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,OACE;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,SAAQ;AAAA,gBACR,QAAQ,EAAC,OAAO,aAAa,QAAQ,MAAM,KAAK,KAAI;AAAA,cAAA;AAAA,YACtD;AAAA,YAEF,MAAM,oBAAC,OAAM,EAAA,SAAQ,0CAA0C,CAAA;AAAA,YAC/D,SAAS,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,YACjC,UAAQ;AAAA,UAAA;AAAA,QACV;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AC9JO,SAAS,eAAe;AAC7B,QAAM,QAAQ;AAEV,MAAA,MAAM,WAAW,WAAW;AAC9B,+BAAQ,gBAAe,CAAA,CAAA;AAAA,EACzB;AAEA,SAAQ,oBAAA2B,eAAA,EAAY,MAAM,MAAM,KAAK,KAAM,CAAA;AAC7C;AAKA,SAASA,cAAY,EAAC,QAAyB;AAC7C,QAAM,OAAO,QAAc,EAAC,eAAe,KAAK,CAAA;AAChD,QAAMC,cAAa;AAGjB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA,UAAU,CAAU,WAAA;AAClB,QAAAA,YAAW,OAAO,MAAM;AAAA,MAC1B;AAAA,MACA,OAAQ,oBAAA,OAAA,EAAM,SAAQ,qBAAoB,QAAQ,EAAC,MAAM,KAAK,KAAO,EAAA,CAAA;AAAA,MACrE,WAAWA,YAAW;AAAA,MAEtB,UAAA,qBAAC,MAAK,EAAA,QAAM,MACV,UAAA;AAAA,QAAA,qBAAC,SACC,EAAA,UAAA;AAAA,UAAA,oBAAC,KACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,WAAW,CAAA,GAC5B;AAAA,8BACC,KACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,QAAQ,CAAA,GACzB;AAAA,QAAA,GACF;AAAA,QACA,qBAAC,WAAU,EAAA,WAAU,SACnB,UAAA;AAAA,UAAA,oBAAC,YACC,UAAC,oBAAA,+BAAA,EAA8B,YAAY,KAAK,SAAU,CAAA,GAC5D;AAAA,UACC,oBAAA,UAAA,EACC,UAAC,oBAAA,wBAAA,EAAuB,KAAY,CAAA,GACtC;AAAA,QAAA,GACF;AAAA,MAAA,GACF;AAAA,IAAA;AAAA,EAAA;AAGN;AC3CA,MAAMF,aAAW;AAEV,SAAS,cAAc,MAAwC;AAC9D,QAAA,EAAC,UAAS;AAChB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,YAA+B,WAAW,OAAO;AAAA,IAC9D,WAAW,MAAM;AACf,YAAM,MAAM,QAAQ,kBAAkB,CAAC,CAAC;AACxC,kBAAY,kBAAkB,EAAC,UAAU,sBAAsB,OAAO,GAAE;AAAA,IAC1E;AAAA,IACA,SAAS,CAAA,MAAK,iBAAiB,GAAG,IAAI;AAAA,EAAA,CACvC;AACH;AAEA,SAAS,WAAW,EAAC,IAAI,GAAG,WAAgD;AACnE,SAAA,UAAU,KAAKA,YAAU,OAAO,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AAC3D;AC1BO,SAAS,iBAAiB;AACzB,QAAA,OAAO,QAA2B,EAAC,eAAe,EAAC,MAAM,cAAY;AACrE,QAAAG,cAAa,cAAc,IAAI;AACrC,QAAM,WAAWnB;AAGf,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA,UAAU,CAAU,WAAA;AAClB,QAAAmB,YAAW,OAAO,QAAQ;AAAA,UACxB,WAAW,CAAY,aAAA;AACrB,qBAAS,gBAAgB,SAAS,KAAK,EAAE,OAAO;AAAA,UAClD;AAAA,QAAA,CACD;AAAA,MACH;AAAA,MACA,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,MACrC,WAAWA,YAAW;AAAA,MAEtB,8BAAC,+BAA8B,EAAA;AAAA,IAAA;AAAA,EAAA;AAGrC;AChBa,MAAA,sBAAsB,CAAC,UAAsC;AACjE,SAAA;AAAA,IACL;AAAA,MACE,KAAK;AAAA,MACL,OAAO,QAAQ,MAAM;AAAA,MACrB,aAAa,QAAQ,iBAAiB;AAAA,MACtC,iBAAiB,eAAe;AAAA,MAChC,SAAS;AAAA,QACP,MAAM,kBAAkB;AAAA,QACxB,cAAc,MAAM,CAAC,EAAE;AAAA,QACvB,SAAS,MAAM,IAAI,CAAS,UAAA;AAAA,UAC1B,KAAK,KAAK;AAAA,UACV,OAAO,QAAQ,KAAK,IAAI;AAAA,UACxB,OAAO,KAAK;AAAA,QAAA,EACZ;AAAA,MACJ;AAAA,IACF;AAAA,IACA,gBAAgB;AAAA,MACd,aAAa,QAAQ,sBAAsB;AAAA,IAAA,CAC5C;AAAA,IACD,gBAAgB;AAAA,MACd,aAAa,QAAQ,2BAA2B;AAAA,IAAA,CACjD;AAAA,EAAA;AAEL;ACpCA,MAAe,wBAAA;ACeR,SAAS,gBAAgB;AAAA,EAC9B;AAAA,EACA;AAAA,EACA;AACF,GAAyB;AACjB,QAAA;AAAA,IACJ,MAAM,EAAC,MAAK;AAAA,EAAA,IACV,WAAW,iBAAiB;AAC1B,QAAA,cAAc,KAAK,MAAM,MAAM;AAC/B,QAAA,WAAW,CAAC,CAAC,MAAM,KAAK,OAAK,EAAE,SAAS,eAAe,EAAE,MAAM;AAErE,SACG,qBAAA1B,QAAA,EAAK,IAAI,QAAQ,MAAY,UAC5B,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAC7B,aAAa,oBAAC,OAAM,EAAA,SAAQ,yBAAyB,CAAA;AAAA,QACrD,WAAU;AAAA,QACV,UAAQ;AAAA,QACR,WAAS;AAAA,MAAA;AAAA,IACX;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,QACrC,aAAa,oBAAC,OAAM,EAAA,SAAQ,0BAA0B,CAAA;AAAA,QACtD,WAAU;AAAA,MAAA;AAAA,IACZ;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAC7B,MAAK;AAAA,QACL,eAAc;AAAA,QACd,UAAU;AAAA,QAET,UAAA,MACE,OAAO,CAAK,MAAA,CAAC,EAAE,MAAM,EACrB,IAAI,CAAA,SACF,oBAAA,MAAA,EAAqB,OAAO,KAAK,MAChC,8BAAC,OAAM,EAAA,SAAS,KAAK,KAAM,CAAA,EAAA,GADlB,KAAK,IAEhB,CACD;AAAA,MAAA;AAAA,IACL;AAAA,EACF,EAAA,CAAA;AAEJ;ACxCO,SAAS,gBAAgB,MAA8B;AACtD,QAAA,EAAC,UAAS;AAChB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UAAmB,aAAa,KAAK;AAAA,IAClD,WAAW,MAAM;AACf,YAAM,MAAM,QAAQ,aAAa,CAAC,CAAC;AACnC,kBAAY,kBAAkB,EAAC,UAAU,sBAAsB,MAAM,GAAE;AAAA,IACzE;AAAA,IACA,SAAS,CAAA,QAAO,iBAAiB,KAAK,IAAI;AAAA,EAAA,CAC3C;AACH;AAEA,SAAS,aAAa,SAAqC;AACjD,UAAA,OAAO,cAAc,QAAQ,IAAK;AACnC,SAAA,UAAU,KAAK,QAAQ,OAAO,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AACzD;ACnBO,SAAS,kBAAkB;AAChC,QAAM,EAAC,OAAO,OAAM,IAAI,iBAAiB;AACnC,QAAA;AAAA,IACJ,MAAM,EAAC,MAAK;AAAA,EAAA,IACV,WAAW,iBAAiB;AAChC,QAAM,OAAO,QAAsB;AAAA,IACjC,eAAe;AAAA,MACb,MAAM,MAAM,CAAC,EAAE;AAAA,IACjB;AAAA,EAAA,CACD;AACK,QAAA2B,gBAAe,gBAAgB,IAAI;AAEzC,8BACG,QACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA,GAC/B;AAAA,wBACC,YACC,EAAA,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC;AAAA,QACA;AAAA,QACA,UAAU,CAAU,WAAA;AAClB,UAAAA,cAAa,OAAO,QAAQ;AAAA,YAC1B,WAAW,MAAM;AACT;YACR;AAAA,UAAA,CACD;AAAA,QACH;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAS,MAAM;AACP;UACR;AAAA,UAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,QAAA;AAAA,MAC1B;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAM;AAAA,UACN,UAAUA,cAAa;AAAA,UACvB,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,MAAK;AAAA,UAEL,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAAA;AAAA,MACxB;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;AC5CO,SAAS,aAAa,MAAuC;AAC5D,QAAA,EAAC,UAAS;AAChB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UAA4B,UAAU,KAAK;AAAA,IACxD,WAAW,MAAM;AACf,YAAM,MAAM,QAAQ,aAAa,CAAC,CAAC;AACnC,kBAAY,kBAAkB,EAAC,UAAU,sBAAsB,MAAM,GAAE;AAAA,IACzE;AAAA,IACA,SAAS,CAAA,QAAO,iBAAiB,KAAK,IAAI;AAAA,EAAA,CAC3C;AACH;AAEA,SAAS,UAAU,EAAC,IAAI,GAAG,WAA+C;AACxE,MAAI,QAAQ,MAAM;AACR,YAAA,OAAO,cAAc,QAAQ,IAAK;AAAA,EAC5C;AACO,SAAA,UAAU,IAAI,QAAQ,EAAE,IAAI,OAAO,EAAE,KAAK,CAAK,MAAA,EAAE,IAAI;AAC9D;ACtBgB,SAAA,gBAAgB,EAAC,OAA4B;AAC3D,QAAM,EAAC,OAAO,OAAM,IAAI,iBAAiB;AACzC,QAAM,OAAO,QAA0B;AAAA,IACrC,eAAe;AAAA,MACb,IAAI,IAAI;AAAA,MACR,MAAM,IAAI;AAAA,MACV,cAAc,IAAI;AAAA,MAClB,MAAM,IAAI;AAAA,IACZ;AAAA,EAAA,CACD;AACK,QAAAC,aAAY,aAAa,IAAI;AAEnC,8BACG,QACC,EAAA,UAAA;AAAA,IAAC,oBAAA,cAAA,EACC,UAAC,oBAAA,OAAA,EAAM,SAAQ,sBAAqB,QAAQ,EAAC,MAAM,IAAI,KAAI,EAAA,CAAG,EAChE,CAAA;AAAA,wBACC,YACC,EAAA,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC;AAAA,QACA;AAAA,QACA,UAAU,CAAU,WAAA;AAClB,UAAAA,WAAU,OAAO,QAA4B;AAAA,YAC3C,WAAW,MAAM;AACT;YACR;AAAA,UAAA,CACD;AAAA,QACH;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAS,MAAM;AACP;UACR;AAAA,UAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,QAAA;AAAA,MAC1B;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAM;AAAA,UACN,UAAUA,WAAU;AAAA,UACpB,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,MAAK;AAAA,UAEL,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAAA;AAAA,MACxB;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;AC/CA,MAAMN,iBAAoC;AAAA,EACxC;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,eAAe;AAAA,IACf,OAAO;AAAA,IACP,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA;AAAA,IACpC,MAAM,SAAO,IAAI;AAAA,EACnB;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA;AAAA,IACpC,MAAM,SAAO,IAAI;AAAA,EACnB;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,eAAe,CAAA;AAAA,IAC5C,MAAM,SAAO,IAAI;AAAA,EACnB;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,OAAO;AAAA,IACP,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,eAAe,CAAA;AAAA,IAC5C,MAAM,CAAO,QAAA,oBAAC,eAAc,EAAA,MAAM,IAAI,YAAY;AAAA,EACpD;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,UAAU,CAAA;AAAA,IACvC,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,OAAO;AAAA,IACP,eAAe;AAAA,IACf,MAAM,CAAO,QAAA;AAET,aAAA,qBAAC,eAAc,EAAA,MAAK,SAClB,UAAA;AAAA,QAAA,oBAAC,cAAW,MAAK,MAAK,WAAU,cAC9B,UAAA,oBAAC,YAAS,EACZ,CAAA;AAAA,QACA,oBAAC,mBAAgB,KAAU;AAAA,MAC7B,EAAA,CAAA;AAAA,IAEJ;AAAA,EACF;AACF;AAEO,SAAS,eAAe;AAC7B,QAAM,EAAC,KAAA,IAAQ,WAAW,iBAAiB;AACrC,QAAA,UAAU,QAAQ,MAAM;AACrB,WAAA,oBAAoB,KAAK,KAAK;AAAA,EAAA,GACpC,CAAC,KAAK,KAAK,CAAC;AAGb,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAS;AAAA,MACT,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,MAC7B,SAASA;AAAAA,MACT;AAAA,MACA,6BAAU1B,WAAQ,EAAA;AAAA,MAClB,qCAAkB,2BAA0B,EAAA;AAAA,MAC5C,mBACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAOiC;AAAAA,UACP,OAAO,oBAAC,OAAM,EAAA,SAAQ,gCAAgC,CAAA;AAAA,UACtD,gBAAgB,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,QAAA;AAAA,MACpD;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA,SAASjC,YAAU;AACjB,SAEI,oBAAAe,YAAA,EAAA,UAAA,qBAAC,eAAc,EAAA,MAAK,SAClB,UAAA;AAAA,IAAA,oBAAC,wBACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA,GAC/B;AAAA,wBACC,iBAAgB,EAAA;AAAA,EAAA,EACnB,CAAA,EACF,CAAA;AAEJ;ACpGO,MAAM,iBAAiB;AAAA,EAC5B,oBAAC,QAAK,EAAA,GAAE,iVAAiV,CAAA;AAAA,EACzV;AAAoB;ACJtB,MAAe,YAAA;ACaR,MAAM,yBAA6D;AAAA,EACxE,KAAK;AAAA,EACL,OAAO,QAAQ,MAAM;AAAA,EACrB,aAAa,QAAQ,kBAAkB;AAAA,EACvC,iBAAiB,eAAe;AAAA,EAChC,SAAS;AAAA,IACP,MAAM,kBAAkB;AAAA,IACxB,cAAc;AAAA,IACd,SAAS;AAAA,MACP,EAAC,KAAK,MAAM,OAAO,QAAQ,MAAM,GAAG,OAAO,OAAM;AAAA,MACjD;AAAA,QACE,KAAK;AAAA,QACL,OAAO,QAAQ,OAAO;AAAA,QACtB,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,OAAO,QAAQ,OAAO;AAAA,QACtB,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,OAAO,QAAQ,OAAO;AAAA,QACtB,OAAO;AAAA,MACT;AAAA,MACA,EAAC,KAAK,MAAM,OAAO,QAAQ,KAAK,GAAG,OAAO,MAAK;AAAA,MAC/C;AAAA,QACE,KAAK;AAAA,QACL,OAAO,QAAQ,aAAa;AAAA,QAC5B,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,OAAO,QAAQ,eAAe;AAAA,QAC9B,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,OAAO,QAAQ,WAAW;AAAA,QAC1B,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,OAAO,QAAQ,SAAS;AAAA,QACxB,OAAO;AAAA,MACT;AAAA,MACA;AAAA,QACE,KAAK;AAAA,QACL,OAAO,QAAQ,QAAQ;AAAA,QACvB,OAAO;AAAA,MACT;AAAA,IACF;AAAA,EACF;AACF;AAEO,MAAM,2BAA4C;AAAA,EACvD;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,OAAO,QAAQ,YAAY;AAAA,IAC3B,aAAa,QAAQ,qCAAqC;AAAA,IAC1D,iBAAiB,eAAe;AAAA,IAChC,SAAS;AAAA,MACP,MAAM,kBAAkB;AAAA,MACxB,cAAc;AAAA,MACd,SAAS;AAAA,QACP,EAAC,KAAK,MAAM,OAAO,QAAQ,SAAS,GAAG,OAAO,MAAK;AAAA,QACnD,EAAC,KAAK,MAAM,OAAO,QAAQ,QAAQ,GAAG,OAAO,KAAI;AAAA,MACnD;AAAA,IACF;AAAA,EACF;AAAA,EACA,gBAAgB;AAAA,IACd,aAAa,QAAQ,wBAAwB;AAAA,EAAA,CAC9C;AAAA,EACD,gBAAgB;AAAA,IACd,aAAa,QAAQ,4BAA4B;AAAA,EAAA,CAClD;AAAA,EACD;AAAA,IACE,KAAK;AAAA,IACL,OAAO,QAAQ,UAAU;AAAA,IACzB,aAAa,QAAQ,qCAAqC;AAAA,IAC1D,iBAAiB,eAAe;AAAA,IAChC,SAAS;AAAA,MACP,MAAM,kBAAkB;AAAA,MACxB,OAAO;AAAA,IACT;AAAA,EACF;AACF;AC/EA,MAAMW,iBAA0C;AAAA,EAC9C;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,eAAe;AAAA,IACf,OAAO;AAAA,IACP,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA;AAAA,IACpC,MAAM,CACJ,UAAA,qBAAC,UACC,EAAA,UAAA;AAAA,MAAA,oBAAC,OAAI,EAAA,WAAU,uCAAuC,UAAA,MAAM,MAAK;AAAA,MAChE,oBAAA,OAAA,EAAI,WAAU,0DACZ,gBAAM,WACT;AAAA,IAAA,GACF;AAAA,EAEJ;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,OAAO;AAAA,IACP,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,WAAW,CAAA;AAAA,IACxC,MAAM,CAAS,UAAA;;AACP,YAAA,QAAO9B,MAAA,MAAM,UAAN,gBAAAA,IAAc;AAC3B,UAAI,CAAC;AAAa,eAAA;AAEhB,aAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAO,KAAK;AAAA,UACZ,OAAO,KAAK;AAAA,UACZ,aAAa,KAAK;AAAA,QAAA;AAAA,MAAA;AAAA,IAGxB;AAAA,EACF;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,OAAO;AAAA,IACP,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA;AAAA,IACpC,MAAM,CAAA,UACH,qBAAA,OAAA,EAAI,WAAU,4BACb,UAAA;AAAA,MAAA,oBAAC,cAAa,EAAA,MAAM,MAAM,MAAM,WAAU,6BAA4B;AAAA,MACrE,oBAAA,OAAA,EAAI,WAAU,cAAc,gBAAM,MAAK;AAAA,IAAA,GAC1C;AAAA,EAEJ;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,OAAO;AAAA,IACP,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,SAAS,CAAA;AAAA,IACtC,MAAM,CAAA,UACJ,MAAM,SACH,oBAAA,WAAA,EAAU,WAAU,wBAAA,CAAwB,IAE7C,oBAAC,WAAU,EAAA,WAAU,uBAAsB;AAAA,EAEjD;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,UAAU;AAAA,IACV,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,YAAY,CAAA;AAAA,IACzC,MAAM,CAAS,UAAA,oBAAC,gBAAe,EAAA,OAAO,MAAM,WAAW;AAAA,EACzD;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,OAAO;AAAA,IACP,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,eAAe,CAAA;AAAA,IAC5C,MAAM,CAAS,UAAA,oBAAC,eAAc,EAAA,MAAM,MAAM,YAAY;AAAA,EACxD;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,UAAU,CAAA;AAAA,IACvC,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,OAAO;AAAA,IACP,eAAe;AAAA,IACf,MAAM,CAAS,UAAA;AAEX,aAAA,qBAAC,eAAc,EAAA,MAAK,SAClB,UAAA;AAAA,QAAA,oBAAC,cAAW,MAAK,MAAK,WAAU,cAC9B,UAAA,oBAAC,kBAAe,EAClB,CAAA;AAAA,QACC,oBAAA,mBAAA,EAAkB,SAAS,CAAC,KAAK,EAAG,CAAA;AAAA,MACvC,EAAA,CAAA;AAAA,IAEJ;AAAA,EACF;AACF;AAEO,SAAS,qBAAqB;AAEjC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAS;AAAA,MACT,OAAO,oBAAC,OAAM,EAAA,SAAQ,6BAA6B,CAAA;AAAA,MACnD,SAAS8B;AAAAA,MACT,SAAS;AAAA,MACT,qCAAkB,2BAA0B,EAAA;AAAA,MAC5C,mBACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAO;AAAA,UACP,OAAO,oBAAC,OAAM,EAAA,SAAQ,gCAAgC,CAAA;AAAA,UACtD,gBAAgB,oBAAC,OAAM,EAAA,SAAQ,+BAA+B,CAAA;AAAA,QAAA;AAAA,MAChE;AAAA,IAAA;AAAA,EAAA;AAIR;ACrHO,MAAM,+BAAgD;AAAA,EAC3D;AAAA,IACE,KAAK;AAAA,IACL,OAAO,QAAQ,QAAQ;AAAA,IACvB,aAAa,QAAQ,6CAA6C;AAAA,IAClE,iBAAiB,eAAe;AAAA,IAChC,SAAS;AAAA,MACP,MAAM,kBAAkB;AAAA,MACxB,cAAc;AAAA,MACd,SAAS;AAAA,QACP;AAAA,UACE,KAAK;AAAA,UACL,OAAO,QAAQ,QAAQ;AAAA,UACvB,OAAO,EAAC,OAAO,MAAM,UAAU,eAAe,GAAE;AAAA,QAClD;AAAA,QACA;AAAA,UACE,KAAK;AAAA,UACL,OAAO,QAAQ,WAAW;AAAA,UAC1B,OAAO,EAAC,OAAO,MAAM,UAAU,eAAe,GAAE;AAAA,QAClD;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA,EACA;AAAA,IACE,SAAS;AAAA,MACP,MAAM,kBAAkB;AAAA,MACxB,cAAc;AAAA,MACd,SAAS;AAAA,QACP;AAAA,UACE,KAAK;AAAA,UACL,OAAO,QAAQ,QAAQ;AAAA,UACvB,OAAO;AAAA,QACT;AAAA,QACA;AAAA,UACE,KAAK;AAAA,UACL,OAAO,QAAQ,QAAQ;AAAA,UACvB,OAAO;AAAA,QACT;AAAA,QACA;AAAA,UACE,KAAK;AAAA,UACL,OAAO,QAAQ,MAAM;AAAA,UACrB,OAAO;AAAA,QACT;AAAA,MACF;AAAA,IACF;AAAA,IACA,KAAK;AAAA,IACL,OAAO,QAAQ,SAAS;AAAA,IACxB,aAAa;AAAA,MACX;AAAA,IACF;AAAA,IACA,iBAAiB,eAAe;AAAA,EAClC;AAAA,EACA,gBAAgB;AAAA,IACd,KAAK;AAAA,IACL,OAAO,QAAQ,YAAY;AAAA,IAC3B,aAAa,QAAQ,8BAA8B;AAAA,EAAA,CACpD;AAAA,EACD,gBAAgB;AAAA,IACd,aAAa,QAAQ,+BAA+B;AAAA,EAAA,CACrD;AAAA,EACD,gBAAgB;AAAA,IACd,aAAa,QAAQ,oCAAoC;AAAA,EAAA,CAC1D;AACH;AC3EA,MAAe,mBAAA;ACmBR,SAAS,sBACd,MACA;AACM,QAAA,EAAC,UAAS;AAChB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UAAqC,mBAAmB,KAAK;AAAA,IAC1E,WAAW,MAAM;AACf,YAAM,MAAM,QAAQ,sBAAsB,CAAC,CAAC;AAC5C,kBAAY,kBAAkB;AAAA,QAC5B,UAAU,sBAAsB,uBAAuB;AAAA,MAAA,CACxD;AAAA,IACH;AAAA,IACA,SAAS,CAAA,QAAO,iBAAiB,KAAK,IAAI;AAAA,EAAA,CAC3C;AACH;AAEA,SAAS,mBAAmB;AAAA,EAC1B;AAAA,EACA,GAAG;AACL,GAAiD;AACxC,SAAA,UACJ,IAAI,yBAAyB,EAAE,IAAI,OAAO,EAC1C,KAAK,CAAK,MAAA,EAAE,IAAI;AACrB;ACzBO,SAAS,yBAAyB;AAAA,EACvC;AAAA,EACA;AAAA,EACA;AACF,GAA6B;;AAC3B,QAAM,QAAQ;AAER,QAAA,mBAAmB,KAAK,MAAM,YAAY;AAC1C,QAAA,mBAAkB9B,MAAA,MAAM,SAAN,gBAAAA,IAAY,SAAS;AAAA,IAC3C,CAAA,MAAK,EAAE,OAAO;AAAA;AAGhB,SACG,qBAAAQ,QAAA,EAAK,IAAI,QAAQ,MAAY,UAC5B,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,WAAU;AAAA,QACV,UAAS;AAAA,QACT,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,MAAA;AAAA,IAC/B;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,eAAc;AAAA,QACd,WAAU;AAAA,QACV,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAE5B,WAAA,WAAM,SAAN,mBAAY,SACV,OAAO,CAAA,MAAK,CAAC,EAAE,MACf,IAAI,CACH,YAAA,oBAAC,QAAsB,OAAO,QAAQ,IACpC,UAAA,oBAAC,OAAM,EAAA,SAAS,QAAQ,KAAM,CAAA,EAAA,GADrB,QAAQ,EAEnB;AAAA,MACD;AAAA,IACL;AAAA,IACC,EAAC,mDAAiB,SACjB;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,eAAc;AAAA,QACd,WAAU;AAAA,QACV,OAAO,oBAAC,OAAM,EAAA,SAAQ,QAAQ,CAAA;AAAA,QAE7B,UAAiB,mDAAA,OAAO,IAAI,CAAA,8BAC1B,MAAoB,EAAA,OAAO,MAAM,IAChC,8BAAC,gBAAe,EAAA,MAAA,CAAc,EADrB,GAAA,MAAM,EAEjB;AAAA,MACD;AAAA,IACH;AAAA,IAEF;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,kBAAiB;AAAA,QACjB,MAAM;AAAA,QACN,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,QACpC,WAAU;AAAA,MAAA;AAAA,IACZ;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAK;AAAA,QACL,aAAY;AAAA,QACZ,OAAO,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,QAClC,aACE,oBAAC,OAAM,EAAA,SAAQ,uHAAuH,CAAA;AAAA,MAAA;AAAA,IAE1I;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAK;AAAA,QACL,aAAY;AAAA,QACZ,OAAO,oBAAC,OAAM,EAAA,SAAQ,UAAU,CAAA;AAAA,QAChC,aACE,oBAAC,OAAM,EAAA,SAAQ,uHAAuH,CAAA;AAAA,MAAA;AAAA,IAE1I;AAAA,EACF,EAAA,CAAA;AAEJ;AC1EO,SAAS,yBAAyB;AAAA,EACvC;AACF,GAAkC;AAChC,QAAM,EAAC,OAAO,OAAM,IAAI,iBAAiB;AACzC,QAAM,OAAO,QAAmC;AAAA,IAC9C,eAAe;AAAA,MACb,IAAI,aAAa;AAAA,MACjB,YAAY,aAAa;AAAA,MACzB,UAAU,aAAa;AAAA,MACvB,aAAa,aAAa;AAAA,MAC1B,WAAW,aAAa;AAAA,MACxB,SAAS,aAAa;AAAA,MACtB,SAAS,aAAa;AAAA,IACxB;AAAA,EAAA,CACD;AACK,QAAA8B,sBAAqB,sBAAsB,IAAI;AAGnD,SAAA,qBAAC,QAAO,EAAA,MAAK,MACX,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA,GACvC;AAAA,wBACC,YACC,EAAA,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC;AAAA,QACA;AAAA,QACA,UAAU,CAAU,WAAA;AAClB,UAAAA,oBAAmB,OAAO,QAAqC;AAAA,YAC7D,WAAW,MAAM;AACT;YACR;AAAA,UAAA,CACD;AAAA,QACH;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAS,MAAM;AACP;UACR;AAAA,UAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,QAAA;AAAA,MAC1B;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAM;AAAA,UACN,UAAUA,oBAAmB;AAAA,UAC7B,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,MAAK;AAAA,UAEL,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAAA;AAAA,MACxB;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;AC7DA,MAAMxC,aAAW;AAQV,SAAS,sBAAsB,MAA8B;AAC5D,QAAA,EAAC,UAAS;AAChB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UAAmB,sBAAsB,KAAK;AAAA,IAC3D,WAAW,MAAM;AACf,YAAM,MAAM,QAAQ,sBAAsB,CAAC,CAAC;AAC5C,kBAAY,kBAAkB;AAAA,QAC5B,UAAU,sBAAsBA,UAAQ;AAAA,MAAA,CACzC;AAAA,IACH;AAAA,IACA,SAAS,CAAA,QAAO,iBAAiB,KAAK,IAAI;AAAA,EAAA,CAC3C;AACH;AAEA,SAAS,sBAAsB,SAAqC;AAC3D,SAAA,UAAU,KAAKA,YAAU,OAAO,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AAC3D;ACxBO,SAAS,2BAA2B;AACzC,QAAM,EAAC,OAAO,OAAM,IAAI,iBAAiB;AACnC,QAAA,OAAO,QAA+B,CAAA,CAAE;AACxC,QAAA,qBAAqB,sBAAsB,IAAI;AAErD,8BACG,QACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,uBAAuB,CAAA,GACxC;AAAA,wBACC,YACC,EAAA,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC;AAAA,QACA;AAAA,QACA,UAAU,CAAU,WAAA;AAClB,6BAAmB,OAAO,QAAQ;AAAA,YAChC,WAAW,MAAM;AACT;YACR;AAAA,UAAA,CACD;AAAA,QACH;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAS,MAAM;AACP;UACR;AAAA,UAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,QAAA;AAAA,MAC1B;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAM;AAAA,UACN,UAAU,mBAAmB;AAAA,UAC7B,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,MAAK;AAAA,UAEL,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAAA;AAAA,MACxB;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;ACrDO,MAAM,YAAY;AAAA,EACvB,oBAAC,QAAK,EAAA,GAAE,kCAAkC,CAAA;AAAA,EAC1C;AAAe;ACFV,MAAM,gBAAgB;AAAA,EAC3B,oBAAC,QAAK,EAAA,GAAE,mDAAmD,CAAA;AAAA,EAC3D;AAAmB;ACwBrB,MAAMA,aAAW;AAEjB,MAAMgC,iBAA6C;AAAA,EACjD;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,OAAO;AAAA,IACP,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,WAAW,CAAA;AAAA,IACxC,MAAM,CACJ,iBAAA,aAAa,QACX;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,aAAa,KAAK;AAAA,QACzB,OAAO,aAAa,KAAK;AAAA,QACzB,aAAa,aAAa,KAAK;AAAA,MAAA;AAAA,IACjC;AAAA,EAEN;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,OAAO;AAAA,IACP,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,SAAS,CAAA;AAAA,IACtC,MAAM,CAAgB,iBAAA;AACpB,UAAI,aAAa,OAAO;AACtB,eACG,oBAAA,MAAA,EAAK,MAAK,MAAK,OAAM,YAAW,QAAO,WAAU,WAAU,SAC1D,UAAA,oBAAC,OAAM,EAAA,SAAQ,UAAS,EAC1B,CAAA;AAAA,MAEJ;AACA,aACG,oBAAA,MAAA,EAAK,MAAK,MAAK,QAAO,WAAU,WAAU,SACzC,UAAC,oBAAA,OAAA,EAAM,SAAQ,YAAA,CAAY,EAC7B,CAAA;AAAA,IAEJ;AAAA,EACF;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA;AAAA,IACpC,MAAM,CAAgB;;AAAA,cAAA9B,MAAA,aAAa,YAAb,gBAAAA,IAAsB;AAAA;AAAA,EAC9C;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,UAAU,CAAA;AAAA,IACvC,MAAM,CACJ,iBAAA,oBAAC,UAAK,WAAU,cAAc,uBAAa,cAAa;AAAA,EAE5D;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,YAAY,CAAA;AAAA,IACzC,MAAM,CAAgB,iBAAA,oBAAC,eAAc,EAAA,MAAM,aAAa,WAAW;AAAA,EACrE;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,UAAU,CAAA;AAAA,IACvC,MAAM,CAAgB,iBAAA,oBAAC,eAAc,EAAA,MAAM,aAAa,SAAS;AAAA,EACnE;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,aAAa,CAAA;AAAA,IAC1C,MAAM,CAAgB,iBAAA,oBAAC,eAAc,EAAA,MAAM,aAAa,YAAY;AAAA,EACtE;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,UAAU,CAAA;AAAA,IACvC,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,eAAe;AAAA,IACf,OAAO;AAAA,IACP,MAAM,CAAgB,iBAAA;AACb,aAAA,oBAAC,uBAAoB,aAA4B,CAAA;AAAA,IAC1D;AAAA,EACF;AACF;AAEO,SAAS,yBAAyB;AAErC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MAAA,UACCF;AAAAA,MACA,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,MACtC,SAASgC;AAAAA,MACT,SAAS;AAAA,MACT,6BAAU,aAAY,EAAA;AAAA,MACtB,iBAAiB;AAAA,MACjB,qCAAkB,2BAA0B,EAAA;AAAA,MAC5C,aAAa,EAAC,MAAM,UAAS;AAAA,MAC7B,mBACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAO;AAAA,UACP,OAAO,oBAAC,OAAM,EAAA,SAAQ,yCAAyC,CAAA;AAAA,UAC/D,gBAAgB,oBAAC,OAAM,EAAA,SAAQ,4BAA4B,CAAA;AAAA,QAAA;AAAA,MAC7D;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA,SAAS,cAAc;AACrB,SAEI,oBAAAX,YAAA,EAAA,UAAA,qBAAC,eAAc,EAAA,MAAK,SAClB,UAAA;AAAA,IAAA,oBAAC,wBACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,uBAAuB,CAAA,GACxC;AAAA,wBACC,0BAAyB,EAAA;AAAA,EAAA,EAC5B,CAAA,EACF,CAAA;AAEJ;AAKA,SAAS,oBAAoB,EAAC,gBAAyC;AAEnE,SAAA,qBAACA,UAAA,EACC,UAAA;AAAA,IAAC,qBAAA,eAAA,EAAc,MAAK,SAClB,UAAA;AAAA,MAAA,oBAAC,cAAW,MAAK,MAAK,WAAU,cAC9B,UAAA,oBAAC,YAAS,EACZ,CAAA;AAAA,MACA,oBAAC,4BAAyB,cAA4B;AAAA,IAAA,GACxD;AAAA,IACC,aAAa,YACX,oBAAA,0BAAA,EAAyB,cAA4B,IAEtD,oBAAC,6BAA0B,cAA4B;AAAA,IAEzD,oBAAC,4BAAyB,cAA4B;AAAA,EACxD,EAAA,CAAA;AAEJ;AAEA,SAAS,0BAA0B,EAAC,gBAAyC;AAC3E,QAAM,qBAAqB;AAE3B,QAAM,4BAA4B,MAAM;AACnB,uBAAA;AAAA,MACjB,EAAC,gBAAgB,aAAa,GAAE;AAAA,MAChC;AAAA,QACE,WAAW,MAAM;AACf,sBAAY,kBAAkB;AAAA,YAC5B,UAAU,sBAAsBrB,UAAQ;AAAA,UAAA,CACzC;AAAA,QACH;AAAA,MACF;AAAA,IAAA;AAAA,EACF;AAIA,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,SAAS,CAAa,cAAA;AACpB,YAAI,WAAW;AACa;QAC5B;AAAA,MACF;AAAA,MAEA,UAAA;AAAA,QAAA,oBAAC,WAAQ,OAAO,oBAAC,OAAM,EAAA,SAAQ,uBAAsB,GACnD,UAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YACV,UAAU,mBAAmB;AAAA,YAE7B,8BAAC,WAAU,EAAA;AAAA,UAAA;AAAA,QAAA,GAEf;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA;AAAA,YAC5C,2BACG,OACC,EAAA,UAAA;AAAA,cAAC,oBAAA,OAAA,EAAM,SAAQ,qDAAqD,CAAA;AAAA,cACpE,oBAAC,SAAI,WAAU,+BACb,8BAAC,OAAM,EAAA,SAAQ,uJAAsJ,EACvK,CAAA;AAAA,YAAA,GACF;AAAA,YAEF,SAAS,oBAAC,OAAM,EAAA,SAAQ,UAAU,CAAA;AAAA,UAAA;AAAA,QACpC;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAEA,SAAS,yBAAyB,EAAC,gBAAyC;AAC1E,QAAM,qBAAqB;AAC3B,QAAM,2BAA2B,MAAM;AAClB,uBAAA;AAAA,MACjB,EAAC,gBAAgB,aAAa,GAAE;AAAA,MAChC;AAAA,QACE,WAAW,MAAM;AACf,sBAAY,kBAAkB;AAAA,YAC5B,UAAU,sBAAsBA,UAAQ;AAAA,UAAA,CACzC;AAAA,QACH;AAAA,MACF;AAAA,IAAA;AAAA,EACF;AAIA,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,SAAS,CAAa,cAAA;AACpB,YAAI,WAAW;AACY;QAC3B;AAAA,MACF;AAAA,MAEA,UAAA;AAAA,QAAA,oBAAC,WAAQ,OAAO,oBAAC,OAAM,EAAA,SAAQ,sBAAqB,GAClD,UAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YACV,SAAS;AAAA,YACT,UAAU,mBAAmB;AAAA,YAE7B,8BAAC,eAAc,EAAA;AAAA,UAAA;AAAA,QAAA,GAEnB;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA;AAAA,YAC5C,2BACG,OACC,EAAA,UAAA;AAAA,cAAC,oBAAA,OAAA,EAAM,SAAQ,qDAAqD,CAAA;AAAA,cACpE,oBAAC,SAAI,WAAU,+BACb,8BAAC,OAAM,EAAA,SAAQ,gEAA+D,EAChF,CAAA;AAAA,YAAA,GACF;AAAA,YAEF,SAAS,oBAAC,OAAM,EAAA,SAAQ,UAAU,CAAA;AAAA,UAAA;AAAA,QACpC;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAEA,SAAS,yBAAyB,EAAC,gBAAyC;AAC1E,QAAM,qBAAqB;AAE3B,QAAM,2BAA2B,MAAM;AAClB,uBAAA;AAAA,MACjB,EAAC,gBAAgB,aAAa,IAAI,QAAQ,KAAI;AAAA,MAC9C;AAAA,QACE,WAAW,MAAM;AACf,sBAAY,kBAAkB;AAAA,YAC5B,UAAU,sBAAsBA,UAAQ;AAAA,UAAA,CACzC;AAAA,QACH;AAAA,MACF;AAAA,IAAA;AAAA,EACF;AAIA,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,SAAS,CAAa,cAAA;AACpB,YAAI,WAAW;AACY;QAC3B;AAAA,MACF;AAAA,MAEA,UAAA;AAAA,QAAA,oBAAC,WAAQ,OAAO,oBAAC,OAAM,EAAA,SAAQ,uBAAsB,GACnD,UAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YACV,UAAU,mBAAmB;AAAA,YAE7B,8BAAC,WAAU,EAAA;AAAA,UAAA;AAAA,QAAA,GAEf;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,UAAQ;AAAA,YACR,OAAO,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA;AAAA,YAC5C,2BACG,OACC,EAAA,UAAA;AAAA,cAAC,oBAAA,OAAA,EAAM,SAAQ,qDAAqD,CAAA;AAAA,cACpE,oBAAC,SAAI,WAAU,+BACb,8BAAC,OAAM,EAAA,SAAQ,2IAA0I,EAC3J,CAAA;AAAA,YAAA,GACF;AAAA,YAEF,SAAS,oBAAC,OAAM,EAAA,SAAQ,UAAU,CAAA;AAAA,UAAA;AAAA,QACpC;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AC1TO,MAAM,WAAW;AAAA,EACtB,oBAAC,QAAK,EAAA,GAAE,kOAAkO,CAAA;AAAA,EAC1O;AAAc;ACMT,SAAS,kBAAkB;AAC1B,QAAA,EAAC,UAAS;AAChB,SAAO,YAAY;AAAA,IACjB,YAAY,MAAM,UAAU;AAAA,IAC5B,WAAW,MAAM;AACf,YAAM,MAAM,QAAQ,cAAc,CAAC,CAAC;AAAA,IACtC;AAAA,IACA,SAAS,CAAO,QAAA,mBAAmB,KAAK,QAAQ,sBAAsB,CAAC;AAAA,EAAA,CACxE;AACH;AAEA,SAAS,YAA+B;AACtC,SAAO,UAAU,KAAK,uBAAuB,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AACjE;ACdA,MAAMA,aAAW,CAAC,OAAe,oBAAoB,EAAE;AAQhD,SAAS,mBAAmB;AAC3B,QAAA,EAAC,UAAS;AAChB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,YAAqByC,gBAAc,OAAO;AAAA,IACvD,WAAW,MAAM;AACf,YAAM,MAAM,QAAQ,cAAc,CAAC,CAAC;AACpC,kBAAY,kBAAkB;AAAA,QAC5B,UAAU,sBAAsB,kBAAkB;AAAA,MAAA,CACnD;AAAA,IACH;AAAA,IACA,SAAS,CAAO,QAAA,mBAAmB,GAAG;AAAA,EAAA,CACvC;AACH;AAEA,SAASA,gBAAc,EAAC,aAAwC;AACvD,SAAA,UAAU,OAAOzC,WAAS,SAAS,CAAC,EAAE,KAAK,CAAK,MAAA,EAAE,IAAI;AAC/D;ACtBO,MAAM,wBAAyC;AAAA,EACpD;AAAA,IACE,KAAK;AAAA,IACL,OAAO,QAAQ,eAAe;AAAA,IAC9B,aAAa,QAAQ,2CAA2C;AAAA,IAChE,iBAAiB,eAAe;AAAA,IAChC,SAAS;AAAA,MACP,MAAM,kBAAkB;AAAA,MACxB,cAAc;AAAA,MACd,SAAS;AAAA,QACP;AAAA,UACE,KAAK;AAAA,UACL,OAAO,QAAQ,0BAA0B;AAAA,UACzC,OAAO,EAAC,OAAO,KAAK,UAAU,eAAe,IAAG;AAAA,QAClD;AAAA,QACA;AAAA,UACE,KAAK;AAAA,UACL,OAAO,QAAQ,oCAAoC;AAAA,UACnD,OAAO,EAAC,OAAO,KAAK,UAAU,eAAe,WAAU;AAAA,QACzD;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA,EACA,gBAAgB;AAAA,IACd,aAAa,QAAQ,uBAAuB;AAAA,EAAA,CAC7C;AAAA,EACD,gBAAgB;AAAA,IACd,aAAa,QAAQ,4BAA4B;AAAA,EAAA,CAClD;AACH;AChBA,MAAMgC,iBAAwC;AAAA,EAC5C;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA;AAAA,IACpC,MAAM,CAAW,YAAA;AACT,YAAA,QAAQ,QAAQ,OAAO,CAAC;AAE5B,aAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAO,QAAQ;AAAA,UACf,aACE,QAAQ,OACL,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA,IAErB,oBAAA,gBAAA,EAAe,MAAc,CAAA;AAAA,QAAA;AAAA,MAAA;AAAA,IAKxC;AAAA,EACF;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,UAAU;AAAA,IACV,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,UAAU,CAAA;AAAA,IACvC,MAAM,CAAW,YAAA,oBAAC,eAAc,EAAA,MAAM,QAAQ,YAAY;AAAA,EAC5D;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,UAAU;AAAA,IACV,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,eAAe,CAAA;AAAA,IAC5C,MAAM,CAAW,YAAA,oBAAC,eAAc,EAAA,MAAM,QAAQ,YAAY;AAAA,EAC5D;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,UAAU,CAAA;AAAA,IACvC,eAAe;AAAA,IACf,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,UAAU;AAAA,IACV,MAAM,CAAW,YAAA;AACf,kCACG,UACC,EAAA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YACV,aAAa;AAAA,YACb,IAAI,gBAAgB,QAAQ,EAAE;AAAA,YAE9B,8BAAC,UAAS,EAAA;AAAA,UAAA;AAAA,QACZ;AAAA,QACA,oBAAC,uBAAoB,SAAkB;AAAA,MACzC,EAAA,CAAA;AAAA,IAEJ;AAAA,EACF;AACF;AAEO,SAAS,iBAAiB;AAC/B,QAAM,WAAWf;AAEf,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAS;AAAA,MACT,OAAO,oBAAC,OAAM,EAAA,SAAQ,qBAAqB,CAAA;AAAA,MAC3C,SAASe;AAAAA,MACT,6BAAU1B,WAAQ,EAAA;AAAA,MAClB,iBAAiB;AAAA,MACjB,SAAS;AAAA,MACT,aAAa,CAAQ,SAAA;AACV,iBAAA,gBAAgB,KAAK,EAAE,OAAO;AAAA,MACzC;AAAA,MACA,mBACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAOiC;AAAAA,UACP,OAAO,oBAAC,OAAM,EAAA,SAAQ,iCAAiC,CAAA;AAAA,UACvD,gBAAgB,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,QAAA;AAAA,MACrD;AAAA,IAAA;AAAA,EAAA;AAIR;AAKA,SAAS,oBAAoB,EAAC,WAAoC;AAChE,QAAM,gBAAgB;AAEpB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,SAAS,CAAa,cAAA;AACpB,YAAI,WAAW;AACb,wBAAc,OAAO,EAAC,WAAW,QAAQ,GAAG,CAAA;AAAA,QAC9C;AAAA,MACF;AAAA,MAEA,UAAA;AAAA,QAAA,oBAAC,WAAQ,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAc,GAC3C,UAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YACV,UAAU,cAAc;AAAA,YAExB,8BAAC,YAAW,EAAA;AAAA,UAAA;AAAA,QAAA,GAEhB;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,YACpC,MAAM,oBAAC,OAAM,EAAA,SAAQ,6CAA6C,CAAA;AAAA,YAClE,SAAS,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,UAAA;AAAA,QACnC;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAEA,SAASjC,YAAU;AACjB,QAAMoC,aAAY;AAClB,8BACG,UACC,EAAA,UAAA;AAAA,IAAA,oBAAC,WAAQ,OAAO,oBAAC,OAAM,EAAA,SAAQ,mCAAkC,GAC/D,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAM;AAAA,QACN,SAAQ;AAAA,QACR,MAAK;AAAA,QACL,UAAUA,WAAU;AAAA,QACpB,SAAS,MAAM;AACb,UAAAA,WAAU,OAAO;AAAA,QACnB;AAAA,QAEA,8BAAC,UAAS,EAAA;AAAA,MAAA;AAAA,IAAA,GAEd;AAAA,IACA,oBAAC,wBAAuB,EAAA,aAAa,MAAM,IAAG,oBAC5C,UAAC,oBAAA,OAAA,EAAM,SAAQ,eAAA,CAAe,EAChC,CAAA;AAAA,EACF,EAAA,CAAA;AAEJ;AC7JA,MAAMT,aAAW,CAAC,OAAwB,oBAAoB,EAAE;AAMzD,SAAS,aAAa;AACrB,QAAA,EAAC,cAAa;AACpB,SAAO,SAAS;AAAA,IACd,UAAU,CAACA,WAAS,SAAU,CAAC;AAAA,IAC/B,SAAS,MAAM,aAAa,SAAU;AAAA,EAAA,CACvC;AACH;AAEA,SAAS,aAAa,WAAwD;AACrE,SAAA,UAAU,IAAIA,WAAS,SAAS,CAAC,EAAE,KAAK,CAAY,aAAA,SAAS,IAAI;AAC1E;ACpBO,MAAM,uBAAuB;AAAA,EAClC;AAAA,IACE,KAAK;AAAA,IACL,OAAO,QAAQ,OAAO;AAAA,IACtB,UAAU;AAAA,IACV,gBAAgB;AAAA,EAClB;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,OAAO,QAAQ,QAAQ;AAAA,IACvB,UAAU;AAAA,IACV,gBAAgB;AAAA,EAClB;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,OAAO,QAAQ,SAAS;AAAA,IACxB,UAAU;AAAA,IACV,gBAAgB;AAAA,EAClB;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,OAAO,QAAQ,gBAAgB;AAAA,IAC/B,UAAU;AAAA,IACV,gBAAgB;AAAA,EAClB;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,OAAO,QAAQ,gBAAgB;AAAA,IAC/B,UAAU;AAAA,IACV,gBAAgB;AAAA,EAClB;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,OAAO,QAAQ,QAAQ;AAAA,IACvB,UAAU;AAAA,IACV,gBAAgB;AAAA,EAClB;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,OAAO,QAAQ,QAAQ;AAAA,IACvB,UAAU;AAAA,IACV,gBAAgB;AAAA,EAClB;AACF;AC3BO,SAAS,UAAU,EAAC,OAAO,iBAAgC;AAC1D,QAAA,EAAC,UAAS;AAChB,QAAM,QAAQ,cAAc,CAAC,YAAY,CAAC;AACpC,QAAA,aAAa,QAAQ,MAAM;;AACxB,aAAA/B,MAAA,MAAM,SAAN,gBAAAA,IAAY,cAAa,OAAO,OAAO,MAAM,KAAK,UAAU,IAAI;EAAC,GACvE,CAAC,MAAM,IAAI,CAAC;AACf,QAAM,EAAC,OAAO,UAAS,IAAI,eAAwB;AAC7C,QAAA,eAAe,CAAC,MAAM,IAAI;AAChC,QAAM,aAAa,MAAM,UAAU,KAAK,KAAK,KAAK;AAClD,QAAM,kBAAkB,MAAM,UAAU,KAAK,sBAAsB,KAAK;AAGxE,QAAM,CAAC,qBAAqB,sBAAsB,IAAI,SAAS,MAAM;AACnE,UAAM,WAAW,UAAU,UAAU,KAAK,WAAW;AACrD,UAAM,gBAAgB,UAAU,UAAU,KAAK,iBAAiB;AAChE,UAAM,SAAS,qBAAqB;AAAA,MAClC,OAAK,EAAE,QAAQ,GAAG,QAAQ,GAAG,aAAa;AAAA,IAAA;AAErC,WAAA,SAAS,OAAO,MAAM;AAAA,EAAA,CAC9B;AAEK,QAAA,oBAAoB,gBAAgB,cAAc,CAAC;AAEzD,8BACG,UACE,EAAA,UAAA;AAAA,IAAA,CAAC,qBACA,oBAAC,KAAE,EAAA,WAAU,sCACX,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,QAAQ,EAAC,OAAO,gBAAe;AAAA,MAAA;AAAA,IAAA,GAEnC;AAAA,IAGF;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,UAAQ;AAAA,QACR,UAAU,CAAC;AAAA,QACX,OAAO,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,QAC/B,MAAK;AAAA,QACL,KAAK;AAAA,QACL,MAAM;AAAA,QACN,MAAM,UAAU,KAAK;AAAA,QACrB,WAAU;AAAA,MAAA;AAAA,IACZ;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,UAAQ;AAAA,QACR,UAAU,CAAC;AAAA,QACX,OAAO,oBAAC,OAAM,EAAA,SAAQ,WAAW,CAAA;AAAA,QACjC,MAAM,UAAU,KAAK;AAAA,QACrB,OAAO;AAAA,QACP,iBAAe;AAAA,QACf,mBAAmB,MAAM,QAAQ,mBAAmB,CAAC;AAAA,QACrD,eAAc;AAAA,QACd,WAAU;AAAA,QAET,UACC,CAAA,SAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,OAAO,KAAK;AAAA,YAEZ,UAAG,GAAA,KAAK,IAAI,KAAK,KAAK,IAAI;AAAA,UAAA;AAAA,UADrB,KAAK;AAAA,QACmB;AAAA,MAAA;AAAA,IAEnC;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,UAAU,CAAC;AAAA,QACX;AAAA,QACA,OAAO;AAAA,QACP,eAAe;AAAA,MAAA;AAAA,IACjB;AAAA,IACC,wBAAwB,YACvB,oBAAC,4BAAyB,UAAU,CAAC,mBAAmB,OAAc;AAAA,IAExE,oBAAC,OAAI,EAAA,WAAU,cACb,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,SAAQ;AAAA,QACR,OAAM;AAAA,QACN,UAAU,CAAC;AAAA,QACX,SAAS,MAAM;AACC;QAChB;AAAA,QAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,MAAA;AAAA,IAAA,GAElC;AAAA,EACF,EAAA,CAAA;AAEJ;AAQA,SAAS,oBAAoB;AAAA,EAC3B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA6B;AAC3B,QAAM,EAAC,UAAU,aAAY,IAAI,eAAwB;AAGvD,SAAA;AAAA,IAACkB;AAAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,MACvC;AAAA,MACA,WAAU;AAAA,MACV,eAAc;AAAA,MACd,eAAe;AAAA,MACf,mBAAmB,CAAAuB,WAAS;AAC1B,sBAAcA,MAAe;AAC7B,YAAIA,WAAU;AAAU;AAAA,aACjB;AACL,gBAAM,SAAS,qBAAqB,KAAK,CAAK,MAAA,EAAE,QAAQA,MAAK;AAC7D,cAAI,QAAQ;AACV;AAAA,cACE,UAAU,KAAK;AAAA,cACf,OAAO;AAAA,YAAA;AAET;AAAA,cACE,UAAU,KAAK;AAAA,cACf,OAAO;AAAA,YAAA;AAAA,UAEX;AAAA,QACF;AAAA,MACF;AAAA,MAEC,+BAAqB,IAAI,CAAA,WACvB,oBAAA,MAAA,EAAsB,OAAO,OAAO,KACnC,UAAC,oBAAA,OAAA,EAAO,GAAG,OAAO,MAAA,CAAO,EADhB,GAAA,OAAO,GAElB,CACD;AAAA,IAAA;AAAA,EAAA;AAGP;AAMA,SAAS,yBAAyB;AAAA,EAChC;AAAA,EACA;AACF,GAAkC;AAC1B,QAAA,EAAC,UAAS;AAChB,QAAM,WAAW,MAAM,UAAU,KAAK,WAAW;AAC7C,MAAA;AAEJ,MAAI,aAAa,OAAO;AACH,uBAAA;AAAA,EAAA,WACV,aAAa,QAAQ;AACX,uBAAA;AAAA,EAAA,OACd;AACc,uBAAA;AAAA,EACrB;AAGE,SAAA,qBAAC,OAAI,EAAA,WAAU,6BACb,UAAA;AAAA,IAAA,oBAAC,SAAI,WAAU,mCACb,8BAAC,OAAM,EAAA,SAAQ,SAAQ,EACzB,CAAA;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,aAAY;AAAA,QACZ,aAAY;AAAA,QACZ,WAAU;AAAA,QACV,MAAM,UAAU,KAAK;AAAA,QACrB,MAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL;AAAA,QACA,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,aAAY;AAAA,QACZ,aAAY;AAAA,QACZ,MAAM,UAAU,KAAK;AAAA,QACrB,eAAc;AAAA,QACd;AAAA,QAEA,UAAA;AAAA,UAAA,oBAAC,QAAK,OAAM,OACV,8BAAC,OAAM,EAAA,SAAQ,QAAO,EACxB,CAAA;AAAA,UACA,oBAAC,QAAK,OAAM,QACV,8BAAC,OAAM,EAAA,SAAQ,SAAQ,EACzB,CAAA;AAAA,UACA,oBAAC,QAAK,OAAM,SACV,8BAAC,OAAM,EAAA,SAAQ,UAAS,EAC1B,CAAA;AAAA,QAAA;AAAA,MAAA;AAAA,IACF;AAAA,EACF,EAAA,CAAA;AAEJ;AC7LO,SAAS,mBAAmB;AACjC,8BACG,UACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAC7B,WAAU;AAAA,QACV,UAAQ;AAAA,QACR,WAAS;AAAA,MAAA;AAAA,IACX;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,QACpC,WAAU;AAAA,QACV,kBAAiB;AAAA,QACjB,MAAM;AAAA,MAAA;AAAA,IACR;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,eAAc;AAAA,QACd,OAAO,oBAAC,OAAM,EAAA,SAAQ,4BAA4B,CAAA;AAAA,QAClD,WAAU;AAAA,QAEV,UAAA;AAAA,UAAA,oBAAC,QAAK,OAAO,GACX,8BAAC,OAAM,EAAA,SAAQ,SAAQ,EACzB,CAAA;AAAA,UACA,oBAAC,QAAK,OAAO,GACX,8BAAC,OAAM,EAAA,SAAQ,UAAS,EAC1B,CAAA;AAAA,UACA,oBAAC,QAAK,OAAO,GACX,8BAAC,OAAM,EAAA,SAAQ,SAAQ,EACzB,CAAA;AAAA,UACA,oBAAC,QAAK,OAAO,GACX,8BAAC,OAAM,EAAA,SAAQ,UAAS,EAC1B,CAAA;AAAA,UACA,oBAAC,QAAK,OAAO,GACX,8BAAC,OAAM,EAAA,SAAQ,SAAQ,EACzB,CAAA;AAAA,QAAA;AAAA,MAAA;AAAA,IACF;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,wBAAwB,CAAA;AAAA,QAC9C,aACE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,QAAQ;AAAA,cACN,GAAG,CACD,UAAA;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,WAAW;AAAA,kBACX,QAAO;AAAA,kBACP,IAAG;AAAA,kBAEF,UAAA;AAAA,gBAAA;AAAA,cACH;AAAA,YAEJ;AAAA,YACA,SAAQ;AAAA,UAAA;AAAA,QACV;AAAA,MAAA;AAAA,IAEJ;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,WAAU;AAAA,QACV,aACE,oBAAC,OAAM,EAAA,SAAQ,2DAA2D,CAAA;AAAA,QAG5E,UAAA,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,MAAA;AAAA,IAC7B;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,WAAU;AAAA,QACV,aACE,oBAAC,OAAM,EAAA,SAAQ,sDAAsD,CAAA;AAAA,QAGvE,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,MAAA;AAAA,IAC1B;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,WAAU;AAAA,QACV,aACE,oBAAC,OAAM,EAAA,SAAQ,qEAAqE,CAAA;AAAA,QAGtF,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,MAAA;AAAA,IACxB;AAAA,wBACC,QACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA,GAChC;AAAA,wBACC,iBAAgB,EAAA;AAAA,wBAChB,iBAAgB,EAAA;AAAA,wBAChB,QACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA,GAC/B;AAAA,IACA,oBAAC,wBAAuB,EAAA,MAAK,cAAc,CAAA;AAAA,EAC7C,EAAA,CAAA;AAEJ;AAKA,SAAS,OAAO,EAAC,YAAwB;AACvC,SAAQ,oBAAA,MAAA,EAAG,WAAU,uCAAuC,SAAS,CAAA;AACvE;AAEA,SAAS,kBAAkB;AACzB,QAAM,EAAC,QAAQ,QAAQ,OAAA,IAAU,cAAoC;AAAA,IACnE,MAAM;AAAA,EAAA,CACP;AACD,8BACG,OACE,EAAA,UAAA;AAAA,IAAO,OAAA,IAAI,CAAC,OAAO,UAAU;AAE1B,aAAA,qBAAC,OAAmB,EAAA,WAAU,qBAC5B,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAM,gBAAgB,KAAK;AAAA,YAC3B,MAAK;AAAA,YACL,WAAU;AAAA,UAAA;AAAA,QACZ;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,OAAM;AAAA,YACN,WAAU;AAAA,YACV,SAAS,MAAM;AACb,qBAAO,KAAK;AAAA,YACd;AAAA,YAEA,8BAAC,WAAU,EAAA;AAAA,UAAA;AAAA,QACb;AAAA,MAAA,KAfQ,MAAM,EAgBhB;AAAA,IAAA,CAEH;AAAA,IACD;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,OAAM;AAAA,QACN,+BAAY,SAAQ,EAAA;AAAA,QACpB,MAAK;AAAA,QACL,SAAS,MAAM;AACN,iBAAA,EAAC,OAAO,GAAA,CAAG;AAAA,QACpB;AAAA,QAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,MAAA;AAAA,IACpC;AAAA,EACF,EAAA,CAAA;AAEJ;AAEA,SAAS,kBAAkB;;AACnB,QAAA;AAAA,IACJ;AAAA,IACA,WAAW,EAAC,OAAM;AAAA,MAChB,eAAqC;AACzC,QAAM,EAAC,QAAQ,QAAQ,OAAA,IAAU,cAI/B;AAAA,IACA,MAAM;AAAA,IACN,SAAS;AAAA,EAAA,CACV;AAGG,MAAA,MAAM,MAAM,GAAG;AACV,WAAA;AAAA,EACT;AAEA,8BACG,UACC,EAAA,UAAA;AAAA,IAAA,oBAAC,QACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,UAAU,CAAA,GAC3B;AAAA,MACCzC,MAAA,OAAO,WAAP,gBAAAA,IAAe,YACd,oBAAC,SAAI,WAAU,6BAA6B,UAAO,OAAA,OAAO,QAAQ,CAAA;AAAA,IAEpE,oBAAC,WAAU,EAAA,SAAQ,WAAU,WAAU,SACpC,UAAO,OAAA,IAAI,CAAC,OAAO,UAClB;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,gBAAe,EAAA,OAAO,MAAO,CAAA;AAAA,QAGrC,UAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC;AAAA,YACA,eAAe,MAAM;AACnB,qBAAO,KAAK;AAAA,YACd;AAAA,UAAA;AAAA,QACF;AAAA,MAAA;AAAA,MAPK,MAAM;AAAA,IASd,CAAA,GACH;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,OAAM;AAAA,QACN,+BAAY,SAAQ,EAAA;AAAA,QACpB,MAAK;AAAA,QACL,SAAS,MAAM;AACN,iBAAA;AAAA,YACL,UAAU;AAAA,YACV,QAAQ;AAAA,YACR,gBAAgB;AAAA,YAChB,UAAU;AAAA,UAAA,CACX;AAAA,QACH;AAAA,QAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,MAAA;AAAA,IACrC;AAAA,EACF,EAAA,CAAA;AAEJ;AChNA,MAAM+B,aAAW,CAAC,OAAe,oBAAoB,EAAE;AAEhD,SAAS,iBAAiB,MAA2C;AACpE,QAAA,EAAC,UAAS;AAChB,QAAM,WAAWhB;AACjB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,YAAkC,cAAc,OAAO;AAAA,IACpE,WAAW,CAAY,aAAA;AACrB,YAAM,MAAM,QAAQ,cAAc,CAAC,CAAC;AACpC,kBAAY,kBAAkB;AAAA,QAC5B,UAAU,CAACgB,WAAS,SAAS,QAAQ,EAAE,CAAC;AAAA,MAAA,CACzC;AACD,kBAAY,kBAAkB;AAAA,QAC5B,UAAU,sBAAsB,kBAAkB;AAAA,MAAA,CACnD;AACD,eAAS,cAAc;AAAA,IACzB;AAAA,IACA,SAAS,CAAA,QAAO,iBAAiB,KAAK,IAAI;AAAA,EAAA,CAC3C;AACH;AAEA,SAAS,cAAc;AAAA,EACrB;AAAA,EACA,GAAG;AACL,GAA4C;AAC1C,QAAM,iBAAiB;AAAA,IACrB,GAAG;AAAA,IACH,cAAc,QAAQ,aAAa,IAAI,CAAA,YAAW,QAAQ,KAAK;AAAA,EAAA;AAE1D,SAAA,UAAU,IAAIA,WAAS,EAAE,GAAG,cAAc,EAAE,KAAK,CAAK,MAAA,EAAE,IAAI;AACrE;ACvCO,SAAS,eAAe;AAC7B,QAAM,QAAQ;AAEV,MAAA,MAAM,WAAW,WAAW;AAC9B,+BAAQ,gBAAe,CAAA,CAAA;AAAA,EACzB;AAEA,SAAQ,oBAAAC,eAAA,EAAY,SAAS,MAAM,KAAK,QAAS,CAAA;AACnD;AAKA,SAASA,cAAY,EAAC,WAA4B;AAChD,QAAM,OAAO,QAA8B;AAAA,IACzC,eAAe;AAAA,MACb,GAAG;AAAA,MACH,cAAc,QAAQ,aAAa,IAAI,QAAM,EAAC,OAAO,IAAG;AAAA,IAC1D;AAAA,EAAA,CACD;AACK,QAAAO,iBAAgB,iBAAiB,IAAI;AAGzC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA,UAAU,CAAU,WAAA;AAClB,QAAAA,eAAc,OAAO,MAAM;AAAA,MAC7B;AAAA,MACA,OACG,oBAAA,OAAA,EAAM,SAAQ,qBAAoB,QAAQ,EAAC,MAAM,QAAQ,KAAO,EAAA,CAAA;AAAA,MAEnE,WAAWA,eAAc;AAAA,MAEzB,8BAAC,kBAAiB,EAAA;AAAA,IAAA;AAAA,EAAA;AAGxB;ACpCA,MAAMzC,aAAW;AAQV,SAAS,iBAAiB,MAA2C;AACpE,QAAA,EAAC,UAAS;AAChB,QAAM,WAAWiB;AACjB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,YAAkC,cAAc,OAAO;AAAA,IACpE,WAAW,MAAM;AACf,YAAM,MAAM,QAAQ,cAAc,CAAC,CAAC;AACpC,kBAAY,kBAAkB,EAAC,UAAU,CAACjB,UAAQ,EAAE,CAAA;AACpD,kBAAY,kBAAkB;AAAA,QAC5B,UAAU,sBAAsB,kBAAkB;AAAA,MAAA,CACnD;AACD,eAAS,cAAc;AAAA,IACzB;AAAA,IACA,SAAS,CAAA,QAAO,iBAAiB,KAAK,IAAI;AAAA,EAAA,CAC3C;AACH;AAEA,SAAS,cAAc,SAAkD;AACvE,QAAM,iBAAiB;AAAA,IACrB,GAAG;AAAA,IACH,cAAc,QAAQ,aAAa,IAAI,CAAA,YAAW,QAAQ,KAAK;AAAA,EAAA;AAE1D,SAAA,UAAU,KAAKA,YAAU,cAAc,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AAClE;AClCO,SAAS,iBAAiB;AAC/B,QAAM,OAAO,QAA8B;AAAA,IACzC,eAAe;AAAA,MACb,MAAM;AAAA,MACN,aAAa;AAAA,IACf;AAAA,EAAA,CACD;AACK,QAAA4C,iBAAgB,iBAAiB,IAAI;AAGzC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA,UAAU,CAAU,WAAA;AAClB,QAAAA,eAAc,OAAO,MAAM;AAAA,MAC7B;AAAA,MACA,OAAO,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA;AAAA,MACxC,WAAWA,eAAc;AAAA,MAEzB,8BAAC,kBAAiB,EAAA;AAAA,IAAA;AAAA,EAAA;AAGxB;ACZO,SAAS,eAAe;AAE3B,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,MAC7B,aACE,oBAAC,OAAM,EAAA,SAAQ,uEAAuE,CAAA;AAAA,MAGxF,UAAA;AAAA,QAAA,oBAAC,qBAAoB,EAAA;AAAA,4BACpB,mBAAkB,EAAA;AAAA,4BAClB,6BAA4B,EAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGnC;AAEA,SAAS,sBAAsB;AACvB,QAAA,EAAC,UAAS;AACV,QAAA,gBAAgB,MAAM,6BAA6B;AAEzD,8BACG,OACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,WAAU;AAAA,QACV,aACE,oBAAC,OAAM,EAAA,SAAQ,6FAA6F,CAAA;AAAA,QAG9G,UAAA,oBAAC,OAAM,EAAA,SAAQ,uBAAuB,CAAA;AAAA,MAAA;AAAA,IACxC;AAAA,IACC,sCACE,UACC,EAAA,UAAA;AAAA,MAAC,qBAAA,OAAA,EAAI,WAAU,uBACb,UAAA;AAAA,QAAA,oBAAC,SAAI,WAAU,4CACb,8BAAC,OAAM,EAAA,SAAQ,sBAAqB,EACtC,CAAA;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,6BAA2B;AAAA,YAC3B,gBAAe;AAAA,UAAA;AAAA,QACjB;AAAA,MAAA,GACF;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,eAAc;AAAA,UACd,OAAO,oBAAC,OAAM,EAAA,SAAQ,yBAAyB,CAAA;AAAA,UAC/C,WAAU;AAAA,UAEV,UAAA;AAAA,YAAA,oBAAC,QAAK,OAAM,OACV,8BAAC,OAAM,EAAA,SAAQ,OAAM,EACvB,CAAA;AAAA,YACA,oBAAC,QAAK,OAAM,UACV,8BAAC,OAAM,EAAA,SAAQ,UAAS,EAC1B,CAAA;AAAA,UAAA;AAAA,QAAA;AAAA,MACF;AAAA,IAAA,GACF;AAAA,EAEJ,EAAA,CAAA;AAEJ;AAEA,SAAS,8BAA8B;AACrC,QAAM,EAAC,QAAQ,QAAQ,OAAA,IAAU,cAG/B;AAAA,IACA,MAAM;AAAA,EAAA,CACP;AAED,8BACG,UACC,EAAA,UAAA;AAAA,IAAA,oBAAC,SAAI,WAAU,gBACb,8BAAC,OAAM,EAAA,SAAQ,yBAAwB,EACzC,CAAA;AAAA,IACA,oBAAC,SAAI,WAAU,sBACb,8BAAC,OAAM,EAAA,SAAQ,yHAAwH,EACzI,CAAA;AAAA,IACA,oBAAC,WAAU,EAAA,WAAU,SAAQ,SAAQ,WAClC,UAAO,OAAA,IAAI,CAAC,OAAO,UAClB;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,OAAO,MAAM;AAAA,QACb,iBAAgB;AAAA,QAChB,WACE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAQ;AAAA,YACR,OAAM;AAAA,YACN,MAAK;AAAA,YACL,SAAS,MAAM;AACb,qBAAO,KAAK;AAAA,YACd;AAAA,YAEA,8BAAC,WAAU,EAAA;AAAA,UAAA;AAAA,QACb;AAAA,QAGF,UAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,6BAA2B;AAAA,YAC3B,gBAAgB,4BAA4B,KAAK;AAAA,UAAA;AAAA,QACnD;AAAA,MAAA;AAAA,MAnBK,MAAM;AAAA,IAqBd,CAAA,GACH;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,SAAS,CAAS,UAAA;AAChB,cAAI,OAAO;AACT,mBAAO,KAAK;AAAA,UACd;AAAA,QACF;AAAA,QAEA,UAAA;AAAA,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAQ;AAAA,cACR,OAAM;AAAA,cACN,+BAAY,SAAQ,EAAA;AAAA,cACpB,MAAK;AAAA,cAEL,UAAA,oBAAC,OAAM,EAAA,SAAQ,qBAAqB,CAAA;AAAA,YAAA;AAAA,UACtC;AAAA,8BACC,mBAAkB,EAAA,2BAAQ,OAAM,EAAA,SAAQ,aAAa,CAAA,GAAI;AAAA,QAAA;AAAA,MAAA;AAAA,IAC5D;AAAA,EACF,EAAA,CAAA;AAEJ;ACvIa,MAAA,0BAA0B,CAAC,WAAgC;AAAA,EACtE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;AAaO,SAAS,cAAc,QAA6B;AACzD,SAAO,SAAS;AAAA,IACd,UAAU,wBAAwB,MAAM;AAAA,IACxC,SAAS,MAAM,gBAAgB,MAAM;AAAA,EAAA,CACtC;AACH;AAEA,SAAS,gBAAgB,QAA6B;AAC7C,SAAA,UACJ,IAA2B,iBAAiB;AAAA,IAC3C,QAAQ,EAAC,UAAU,UAAU,SAAS,IAAI,GAAG,OAAM;AAAA,EACpD,CAAA,EACA,KAAK,CAAA,aAAY,SAAS,IAAI;AACnC;AClCO,SAAS,6BAAkD;AAC1D,QAAA,EAAC,eAAc;AACd,SAAA,aACH,EAAC,MAAM,WAAW,UAAU,eAC5B,EAAC,MAAM;AACb;ACgBO,SAAS,kBAAkB,MAA4C;AACtE,QAAA,EAAC,UAAS;AAChB,QAAM,WAAW3B;AACjB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UAAiC4B,iBAAe,KAAK;AAAA,IAClE,WAAW,OAAM,aAAY;AACrB,YAAA,YAAY,kBAAkB,EAAC,UAAU,CAAC,MAAM,YAAY,GAAE;AACpE,YAAM,OAAO,SAAS,SAAS,aAAa,aAAa;AACzD,eAAS,qBAAqB,IAAI,IAAI,SAAS,SAAS,EAAE,EAAE;AAC5D;AAAA,QACE;AAAA,UACE,SAAS,SAAS,aACd,QAAQ,kBAAkB,IAC1B,QAAQ,iBAAiB;AAAA,QAC/B;AAAA,MAAA;AAAA,IAEJ;AAAA,IACA,SAAS,CAAA,QAAO,iBAAiB,KAAK,IAAI;AAAA,EAAA,CAC3C;AACH;AAEA,SAASA,iBAAe,SAAmD;AAClE,SAAA,UAAU,KAAK,iBAAiB,OAAO,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AAClE;ACjCO,SAAS,aAAa;AAAA,EAC3B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAU;AACR,QAAM,EAAC,KAAI,IAAI,cAAc,CAAC,OAAO,CAAC;AAChC,QAAA,SAAQ,6BAAM,UAAS;AAE7B,MAAI,CAAC,MAAM;AAAQ,+BAAQ,OAAI,EAAA,WAAW,KAAK,WAAW,MAAM,EAAG,CAAA;AAGjE,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,YAAW;AAAA,MACX;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,gBAAe;AAAA,MACf,eAAc;AAAA,MAEb,UAAA;AAAA,QAAA;AAAA,QACA,MAAM,IAAI,CAAA,6BACR,MAAK,EAAA,OAAO,KAAK,IAAkB,iBAAe,MACjD,UAAA,oBAAC,SAAM,SAAS,KAAK,MAAM,EADF,GAAA,KAAK,EAEhC,CACD;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGP;ACnCO,SAAS,eAAe,EAAC,WAAW,eAAqB;AAE5D,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA,MAAK;AAAA,MACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA;AAAA,MACnC;AAAA,MACA,aACG,oBAAA,MAAA,EAA4B,OAAO,QAClC,8BAAC,OAAM,EAAA,SAAQ,WAAW,CAAA,EAAA,GADlB,kBAEV;AAAA,IAAA;AAAA,EAAA;AAIR;ACdO,SAAS,eAAe,EAAC,WAAW,eAAqB;AAE5D,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA,MAAK;AAAA,MACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA;AAAA,MACnC;AAAA,MACA,aACG,oBAAA,MAAA,EAA0B,OAAO,QAChC,8BAAC,OAAM,EAAA,SAAQ,SAAS,CAAA,EAAA,GADhB,gBAEV;AAAA,IAAA;AAAA,EAAA;AAIR;ACHO,SAAS,qBAAqB;AAAA,EACnC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAyB;AACvB,QAAM,EAAC,KAAI,IAAI,cAAc,EAAC,MAAM,YAAW;AAC/C,SACG,qBAAAnC,QAAA,EAAK,IAAI,QAAQ,MAAY,UAC5B,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAC7B,WAAU;AAAA,QACV,UAAQ;AAAA,QACR,WAAS;AAAA,MAAA;AAAA,IACX;AAAA,wBACC,oBACC,EAAA,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,QAAQ,CAAA;AAAA,QAC9B,MAAK;AAAA,QACL,YAAW;AAAA,QACX,WAAU;AAAA,MAAA;AAAA,IAAA,GAEd;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,QACpC,kBAAiB;AAAA,QACjB,MAAM;AAAA,QACN,WAAU;AAAA,MAAA;AAAA,IACZ;AAAA,IACC,gBACC;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,eAAc;AAAA,QACd,OAAM;AAAA,QACN,WAAU;AAAA,QAET,uCAAM,WAAW,KAAK,IAAI,CACzB,aAAA,oBAAC,QAAuB,OAAO,SAAS,IACtC,UAAA,oBAAC,SAAM,SAAS,SAAS,MAAM,EADtB,GAAA,SAAS,EAEpB;AAAA,MACD;AAAA,IACH;AAAA,IAEF;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,aACE,oBAAC,OAAM,EAAA,SAAQ,mDAAmD,CAAA;AAAA,MAAA;AAAA,IAEtE;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,aAAa,oBAAC,OAAM,EAAA,SAAQ,qCAAqC,CAAA;AAAA,MAAA;AAAA,IACnE;AAAA,EACF,EAAA,CAAA;AAEJ;AC3DgB,SAAA,qBAAqB,EAAC,YAAkB;AACtD,QAAM,EAAC,OAAO,OAAM,IAAI,iBAAiB;AACzC,QAAM,OAAO,QAA+B;AAAA,IAC1C,eAAe;AAAA,MACb,WAAW,WAAW,SAAS,QAAkB,IAAI;AAAA,IACvD;AAAA,EAAA,CACD;AACK,QAAAmC,kBAAiB,kBAAkB,IAAI;AAE7C,8BACG,QACC,EAAA,UAAA;AAAA,IAAC,oBAAA,cAAA,EACE,UACC,WAAA,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA,IAEhC,oBAAA,OAAA,EAAM,SAAQ,mBAAmB,CAAA,GAEtC;AAAA,wBACC,YACC,EAAA,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,cAAc,CAAC,CAAC;AAAA,QAChB;AAAA,QACA;AAAA,QACA,UAAU,CAAU,WAAA;AAClB,UAAAA,gBAAe,OAAO,QAAQ;AAAA,YAC5B,WAAW,MAAM,MAAM;AAAA,UAAA,CACxB;AAAA,QACH;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAS,MAAM;AACP;UACR;AAAA,UAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,QAAA;AAAA,MAC1B;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAM;AAAA,UACN,UAAUA,gBAAe;AAAA,UACzB,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,MAAK;AAAA,UAEL,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,QAAA;AAAA,MAC1B;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;ACxDO,SAAS,gBAAmB,EAAC,cAAc,OAAO,YAAqB;AAE1E,SAAA,qBAAC,OAAI,EAAA,WAAU,gBACb,UAAA;AAAA,IAAC,qBAAA,OAAA,EAAI,WAAU,SACb,UAAA;AAAA,MAAA,oBAAC,iBACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA,GAC/B;AAAA,MACA,qBAAC,OAAI,EAAA,WAAU,4CACb,UAAA;AAAA,QAAA,qBAAC,OACC,EAAA,UAAA;AAAA,UAAA,oBAAC,QAAG,WAAU,uBACZ,8BAAC,OAAM,EAAA,SAAQ,eAAc,EAC/B,CAAA;AAAA,UACA,oBAAC,OAAE,WAAU,2BACX,8BAAC,OAAM,EAAA,SAAQ,0DAAyD,EAC1E,CAAA;AAAA,QAAA,GACF;AAAA,QACC,oBAAA,OAAA,EAAI,WAAU,gBAAgB,UAAa,cAAA;AAAA,MAAA,GAC9C;AAAA,IAAA,GACF;AAAA,IACC,oBAAA,QAAA,EACE,UAAM,MAAA,OACL,SAAS,MAAM,IAAI,IAElB,oBAAA,YAAA,EAAW,OAAc,iBAAgB,0BAA0B,CAAA,GAExE;AAAA,EACF,EAAA,CAAA;AAEJ;AC5BO,SAAS,oBAAoB,EAAC,UAAU,WAAiB;AAC9D,QAAM,WAAW5B;AACb,MAAA,CAAC,YAAY,CAAC;AAAgB,WAAA;AAClC,SACG,qBAAA,YAAA,EAAW,MAAK,MAAK,WAAU,SAC9B,UAAA;AAAA,IAAC,oBAAA,gBAAA,EAAe,YAAY,MAAM,SAAS,mBAAmB,GAC5D,UAAC,oBAAA,OAAA,EAAM,SAAQ,aAAA,CAAa,EAC9B,CAAA;AAAA,IACC,YACC;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAW,CAAC,UAAU,iBAAiB;AAAA,QACvC,YAAY,MACV,SAAS,gCAAgC,SAAS,EAAE,EAAE;AAAA,QAGxD,UAAC,oBAAA,OAAA,EAAM,SAAS,SAAS,MAAM;AAAA,MAAA;AAAA,IACjC;AAAA,IAED,WACE,oBAAA,gBAAA,EAAe,WAAU,gBACxB,8BAAC,OAAM,EAAA,SAAS,QAAQ,KAAA,CAAM,EAChC,CAAA;AAAA,EAEJ,EAAA,CAAA;AAEJ;AC9BgB,SAAA,eAAe,EAAC,YAAkB;AAChD,SACG,oBAAA,MAAA,EAAG,WAAU,gDAAgD,SAAS,CAAA;AAE3E;ACRO,SAAS,mBAAmB;AACjC,SAAO,cAAc,qBAAqB;AAC5C;ACcO,SAAS,qBAAqB,MAA+B;AAC5D,QAAA,WAAW,wBAAwB,2BAAA,CAA4B;AACrE,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,YAAqB;AAE1B,YAAA,MAAM,YACT,aAAoC,QAAQ,EAC5C,WAAW,KAAK,IAAI,CAAK,MAAA,EAAE,EAAE;AAChC,aAAO6B,UAAQ;AAAA,QACb,UAAU,QAAQ;AAAA,QAClB;AAAA,MAAA,CACD;AAAA,IACH;AAAA,IACA,UAAU,OAAO,EAAC,UAAU,eAAc;AACxC,YAAM,YAAY,cAAc,EAAC,SAAS,CAAA;AACpC,YAAA,mBAAmB,YAAY,aAAa,QAAQ;AAC9C,kBAAA,aAAoC,UAAU,CAAQ,SAAA;AAC1D,cAAA,UAAU,EAAC,GAAG,MAAM,YAAY,EAAC,GAAG,KAAM,WAAA;AAChD,gBAAQ,WAAW,OAAO;AAAA,UACxB,QAAQ,WAAW;AAAA,UACnB;AAAA,UACA;AAAA,QAAA;AAEK,eAAA;AAAA,MAAA,CACR;AACD,aAAO,EAAC,iBAAgB;AAAA,IAC1B;AAAA,IACA,WAAW,YAAY;AACf,YAAA,YAAY,kBAAkB,EAAC,UAAU,CAAC,MAAM,YAAY,GAAE;AAAA,IACtE;AAAA,IACA,SAAS,CAAC,KAAK,GAAG,YAAY;AAC5B,yBAAmB,GAAG;AACV,kBAAA,aAAa,UAAU,mCAAS,gBAAgB;AAAA,IAC9D;AAAA,EAAA,CACD;AACH;AAEA,SAASA,UAAQ,SAA6C;AACrD,SAAA,UACJ,KAAe,yBAAyB,OAAO,EAC/C,KAAK,CAAA,MAAK,EAAE,IAAI;AACrB;ACnDO,MAAM,cAAc,MAAM,WAG/B,CAAC,OAAO,QAAQ;AAChB,QAAM,SAAS,MAAM;AACrB,QAAM,CAAC,UAAU,WAAW,IAAI,SAA6B,IAAI;AAC3D,QAAA,SAAS,OAAuB,IAAK;AAE3C;AAAA,IACE;AAAA,IACA,MACE,CACE,WACA,aACG;AAGH,gBAAU,MAAM;AACF,oBAAA,OAAO,SAAS,CAAC;AAAA,MAAA,CAC9B;AAGD,eAAS,OAAO,OAAO;AAGvB,4BAAsB,MAAM;AAC1B,oBAAY,IAAI;AAAA,MAAA,CACjB;AAAA,IACH;AAAA,IACF,CAAC,MAAM;AAAA,EAAA;AAGT,MAAI,CAAC,UAAU;AACN,WAAA;AAAA,EACT;AAGO,SAAA;AAAA,IACL;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,EAAC,QAAQ,MAAM,UAAU,YAAY,KAAK,GAAG,MAAM,KAAO;AAAA,QACjE,KAAK;AAAA,QAEJ;AAAA,MAAA;AAAA,IACH;AAAA,IACA;AAAA,EAAA;AAEJ,CAAC;ACvBM,SAAS,aAAoC;AAAA,EAClD;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAa;AACL,QAAA,SAAS,OAA4B,IAAI;AACzC,QAAA,aAAa,OAA4B,IAAI;AACnD,QAAM,gBAAgB;AACtB,QAAMA,WAAU;AAEhB,QAAM,EAAC,eAAe,cAAa,IAAI,YAAY;AAAA,IACjD,KAAK;AAAA,IACL,UAAU,iBAAiB;AAAA,IAC3B;AAAA,IACA;AAAA,IACA,MAAM;AAAA,IACN,SAAS;AAAA,IACT;AAAA,EAAA,CACD;AAGC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,SAAS,mBAAmB,MAAM,SAAS;AAAA,MAC3C,KAAK;AAAA,MACJ,GAAG;AAAA,MAEH,UAAA;AAAA,QAAA,CAAC,iBACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,KAAK;AAAA,YACL,UAAUA,SAAQ;AAAA,YAClB,SAAS,CAAK,MAAA;AACZ,gBAAE,eAAe;AACjB,gBAAE,gBAAgB;AAAA,YACpB;AAAA,YAEA,8BAAC,mBAAkB,EAAA;AAAA,UAAA;AAAA,QACrB;AAAA,6BAED,OACC,EAAA,UAAA;AAAA,UAAC,oBAAA,MAAA,EAAG,WAAU,yBAAyB,SAAS,CAAA;AAAA,UAC/C,eAAe,oBAAC,OAAI,EAAA,WAAU,sBAAsB,UAAY,aAAA;AAAA,QAAA,GACnE;AAAA,6BACC,aACC,EAAA,UAAA;AAAA,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAU;AAAA,cACV,SAAS,CAAK,MAAA;AACZ,kBAAE,eAAe;AACjB,kBAAE,gBAAgB;AAAA,cACpB;AAAA,cAEA,8BAAC,cAAa,EAAA;AAAA,YAAA;AAAA,UAChB;AAAA,+BACC,MACC,EAAA,UAAA;AAAA,YAAC,oBAAAvB,MAAA,EAAS,OAAM,QAAO,YAAY,MAAM,OAAO,GAC9C,UAAC,oBAAA,OAAA,EAAM,SAAQ,OAAA,CAAO,EACxB,CAAA;AAAA,YACA;AAAA,cAACA;AAAAA,cAAA;AAAA,gBACC,OAAM;AAAA,gBACN,YAAY,MAAM;AAChB,4BAAU,MAAM,QAAQ,IAAI,GAAG,CAAC;AAChC,2BAAS,gBAAgB,YAAY;AAAA,gBACvC;AAAA,gBAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,cAAA;AAAA,YAC/B;AAAA,YACC,oBAAAA,MAAA,EAAS,OAAM,YAAW,YAAY,MAAM,OAAO,GAClD,UAAC,oBAAA,OAAA,EAAM,SAAQ,sBAAA,CAAsB,EACvC,CAAA;AAAA,YACC,oBAAAA,MAAA,EAAS,OAAM,UAAS,YAAY,MAAM,SAAS,GAClD,UAAC,oBAAA,OAAA,EAAM,SAAQ,SAAA,CAAS,EAC1B,CAAA;AAAA,UAAA,GACF;AAAA,QAAA,GACF;AAAA,QACC,oBAAA,gBAAA,EAAe,MAAM,UAAU,KAAK,YAAY;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGvD;AAKA,MAAM,iBAAiB,MAAM,WAG3B,CAAC,EAAC,KAAA,GAAO,QAAQ;AAEf,SAAA,oBAAC,eAAY,KACV,UAAA,0BAAO,OAAI,EAAA,WAAU,sCAAsC,UAAA,KAAK,CAAA,EACnE,CAAA;AAEJ,CAAC;ACzHM,SAAS,sBAAsB,EAAC,OAAO,eAAqB;AAE/D,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,OACG,oBAAA,OAAA,EACC,8BAAC,WAAU,EAAA,MAAK,KAAK,CAAA,GACvB;AAAA,MAEF,MAAK;AAAA,MACL,aAAY;AAAA,MACZ,aAAY;AAAA,MACZ;AAAA,MACA;AAAA,IAAA;AAAA,EAAA;AAGN;ACXO,SAAS,oBAAoB;AAClC,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,YAAqB,eAAe,OAAO;AAAA,IACxD,WAAW,YAAY;AACf,YAAA,YAAY,kBAAkB,EAAC,UAAU,CAAC,MAAM,YAAY,GAAE;AAC9D,YAAA,QAAQ,kBAAkB,CAAC;AAAA,IACnC;AAAA,IACA,SAAS,CAAO,QAAA,mBAAmB,GAAG;AAAA,EAAA,CACvC;AACH;AAEA,SAAS,eAAe,EAAC,MAAc;AAC9B,SAAA,UAAU,OAAiB,iBAAiB,EAAE,EAAE,EAAE,KAAK,CAAK,MAAA,EAAE,IAAI;AAC3E;ACPO,SAAS,kBAAkB,MAA4C;AACtE,QAAA,EAAC,UAAS;AAChB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,YAAmCwB,iBAAe,OAAO;AAAA,IACtE,WAAW,OAAM,aAAY;AACrB,YAAA,YAAY,kBAAkB,EAAC,UAAU,CAAC,MAAM,YAAY,GAAE;AACvD,eAAS,SAAS,aAAa,aAAa;AACzD;AAAA,QACE;AAAA,UACE,SAAS,SAAS,aACd,QAAQ,kBAAkB,IAC1B,QAAQ,iBAAiB;AAAA,QAC/B;AAAA,MAAA;AAAA,IAEJ;AAAA,IACA,SAAS,CAAA,QAAO,iBAAiB,KAAK,IAAI;AAAA,EAAA,CAC3C;AACH;AAEA,SAASA,iBAAe;AAAA,EACtB;AAAA,EACA,GAAG;AACL,GAA6C;AACpC,SAAA,UAAU,IAAI,iBAAiB,EAAE,IAAI,OAAO,EAAE,KAAK,CAAK,MAAA,EAAE,IAAI;AACvE;AC3BgB,SAAA,qBAAqB,EAAC,YAAkB;AACtD,QAAM,EAAC,OAAO,OAAM,IAAI,iBAAiB;AACzC,QAAM,OAAO,QAA+B;AAAA,IAC1C,eAAe;AAAA,MACb,MAAM,SAAS;AAAA,MACf,WAAW,SAAS,aAAa,SAAS,YAAY;AAAA,MACtD,aAAa,SAAS;AAAA,MACtB,OAAO,SAAS;AAAA,MAChB,iBAAiB,SAAS;AAAA,MAC1B,iBAAiB,SAAS;AAAA,IAC5B;AAAA,EAAA,CACD;AACK,QAAAA,kBAAiB,kBAAkB,IAAI;AAE7C,8BACG,QACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cACE,EAAA,UAAA,SAAS,aACR,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA,IAE/B,oBAAA,OAAA,EAAM,SAAQ,kBAAkB,CAAA,GAErC;AAAA,wBACC,YACC,EAAA,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,cAAc,SAAS;AAAA,QACvB;AAAA,QACA;AAAA,QACA,UAAU,CAAU,WAAA;AACH,UAAAA,gBAAA;AAAA,YACb,EAAC,GAAG,QAAQ,IAAI,SAAS,GAAE;AAAA,YAC3B;AAAA,cACE,WAAW,MAAM,MAAM;AAAA,YACzB;AAAA,UAAA;AAAA,QAEJ;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAS,MAAM;AACP;UACR;AAAA,UAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,QAAA;AAAA,MAC1B;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAM;AAAA,UACN,UAAUA,gBAAe;AAAA,UACzB,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,MAAK;AAAA,UAEL,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,QAAA;AAAA,MAC1B;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;ACjDO,SAAS,oBAAoB;AAClC,QAAM,SAAS;AACT,QAAA,QAAQ,cAAc,MAAM;AAEhC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA,cACE,qBAAC,eAAc,EAAA,MAAK,SAClB,UAAA;AAAA,QAAA,oBAAC,UAAO,SAAQ,QAAO,OAAM,WAAU,WAAU,gBAC9C,UAAO,OAAA,SAAS,aACd,oBAAA,OAAA,EAAM,SAAQ,eAAe,CAAA,wBAE7B,OAAM,EAAA,SAAQ,eAAc,EAEjC,CAAA;AAAA,QACC,oBAAA,sBAAA,EAAqB,UAAU,OAAO,SAAU,CAAA;AAAA,MAAA,GACnD;AAAA,MAGD,UAAA,CAAA,SAAS,oBAAAb,eAAA,EAAY,KAAY,CAAA;AAAA,IAAA;AAAA,EAAA;AAGxC;AAKA,SAASA,cAAY,EAAC,QAAyB;AAC7C,QAAM,SAAS;AACT,QAAA,aAAa,KAAK,WAAW;AACnC,QAAM,QAAQ,WAAW;AACzB,8BACG,UACC,EAAA,UAAA;AAAA,IAAC,oBAAA,qBAAA,EAAoB,UAAU,KAAK,SAAU,CAAA;AAAA,IAC7C,QACE,oBAAA,gBAAA,EACE,UAAO,OAAA,SAAS,aACd,oBAAA,OAAA,EAAM,SAAQ,uBAAsB,QAAQ,EAAC,MAAQ,EAAA,CAAA,IAErD,oBAAA,OAAA,EAAM,SAAQ,qBAAoB,QAAQ,EAAC,MAAA,GAAQ,EAAA,CAExD,IACE;AAAA,IACH,WAAW,IAAI,CACd,aAAA,oBAAC,eAAY,UAAoB,KAAA,GAAiB,SAAS,EAAI,CAChE;AAAA,IACA,CAAC,WAAW,UAAU,oBAAC,kBAAiB,CAAA,CAAA;AAAA,EAC3C,EAAA,CAAA;AAEJ;AAMA,SAAS,YAAY;AAAA,EACnB;AAAA,EACA,MAAM;AAAA,IACJ,YAAY,EAAC,MAAM,WAAU;AAAA,IAC7B,UAAU;AAAA,EACZ;AACF,GAAqB;AACnB,QAAM,WAAWjB;AACjB,QAAM+B,kBAAiB;AACvB,QAAMF,WAAU;AAEhB,QAAM,eAAe,MAAM;AACzB,QAAI,SAAS,YAAY;AACd,eAAA,8BAA8B,SAAS,EAAE,EAAE;AAAA,IAAA,OAC/C;AACI,eAAA,gCAAgC,SAAS,EAAE,EAAE;AAAA,IACxD;AAAA,EAAA;AAIA,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAM;AAAA,MACN,OAAO;AAAA,MACP,WAAW,CAAC,UAAU,aAAa;AACjC,QAAAA,SAAQ,OAAO,EAAC,UAAU,UAAU,UAAU,iCAAQ,IAAG;AAAA,MAC3D;AAAA,MACA,SAAS,MAAM,aAAa;AAAA,MAC5B,QAAQ,MAAM,SAAS,gBAAgB,QAAQ,CAAC;AAAA,MAChD,QAAQ,MAAM,WAAW,sBAAsB,EAAC,UAAS;AAAA,MACzD,UAAU,MAAM;AACd,mBAAW,oBAAoB;AAAA,UAC7B,OAAO,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA;AAAA,UACxC,MACE,oBAAC,OAAM,EAAA,SAAQ,iDAAiD,CAAA;AAAA,UAElE,SAAS,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,UACjC,UAAU;AAAA,UACV,WAAWE,gBAAe;AAAA,UAC1B,WAAW,MACTA,gBAAe;AAAA,YACb,EAAC,IAAI,SAAS,GAAE;AAAA,YAChB,EAAC,WAAW,MAAM,cAAa;AAAA,UACjC;AAAA,QAAA,CACH;AAAA,MACH;AAAA,MACA,kCACG,sBACE,EAAA,UAAA;AAAA,QAAA,SAAS,iBACR;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAQ;AAAA,YACR,QAAQ,EAAC,OAAO,SAAS,eAAc;AAAA,UAAA;AAAA,QAAA,IAEvC;AAAA,QACJ;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAQ;AAAA,YACR,QAAQ,EAAC,OAAO,SAAS,eAAc;AAAA,UAAA;AAAA,QACzC;AAAA,MAAA,GACF;AAAA,MAGD,UAAS,SAAA;AAAA,IAAA;AAAA,EAAA;AAGhB;AAEA,SAAS,mBAAmB;AACpB,QAAA,EAAC,aAAY;AACnB,MAAI,UAAU;AAEV,WAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,yBAAyB,CAAA;AAAA,QAC/C,aACE,oBAAC,OAAM,EAAA,SAAQ,qGAAqG,CAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAI5H;AAEE,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,8BAA8B,CAAA;AAAA,IAAA;AAAA,EAAA;AAG1D;AC3Ja,MAAA,wBAAwB,CAAC,WAA8B;AAAA,EAClE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;AAYO,SAAS,YAAY,QAA2B;AACrD,SAAO,SAAS;AAAA,IACd,UAAU,sBAAsB,MAAM;AAAA,IACtC,SAAS,MAAM,cAAc,MAAM;AAAA,EAAA,CACpC;AACH;AAEA,SAAS,cAAc,QAA2B;AACzC,SAAA,UACJ,IAAyB,eAAe;AAAA,IACvC,QAAQ,EAAC,UAAU,UAAU,SAAS,IAAI,GAAG,OAAM;AAAA,EACpD,CAAA,EACA,KAAK,CAAA,aAAY,SAAS,IAAI;AACnC;ACxBO,SAAS,oBAAoB;AAClC,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,YAAqB,cAAc,OAAO;AAAA,IACvD,WAAW,YAAY;AACrB,YAAM,QAAQ,WAAW;AAAA,QACvB,YAAY,kBAAkB,EAAC,UAAU,CAAC,MAAM,YAAY,GAAE;AAAA,QAC9D,YAAY,kBAAkB,EAAC,UAAU,CAAC,MAAM,UAAU,GAAE;AAAA,QAC5D,YAAY,kBAAkB,EAAC,UAAU,CAAC,UAAU,GAAE;AAAA,MAAA,CACvD;AACK,YAAA,QAAQ,iBAAiB,CAAC;AAAA,IAClC;AAAA,IACA,SAAS,CAAO,QAAA,mBAAmB,GAAG;AAAA,EAAA,CACvC;AACH;AAEA,SAAS,cAAc,EAAC,OAAe;AACrC,SAAO,UACJ,OAAiB,eAAe,IAAI,KAAK,GAAG,CAAC,EAAE,EAC/C,KAAK,CAAK,MAAA,EAAE,IAAI;AACrB;AC9BO,SAAS,4BAA4B;AACpC,QAAA,EAAC,cAAa;AACb,SAAA,EAAC,WAAW,OAAO;AAC5B;ACaO,SAAS,qBAAqB;AAC7B,QAAA,WAAW,sBAAsB,0BAAA,CAA2B;AAClE,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,YAAqB;AAE1B,YAAA,MAAM,YACT,aAAkC,QAAQ,EAC1C,WAAW,KAAK,IAAI,CAAK,MAAA,EAAE,EAAE;AAChC,aAAO,QAAQ;AAAA,QACb,WAAW,QAAQ;AAAA,QACnB;AAAA,MAAA,CACD;AAAA,IACH;AAAA,IACA,UAAU,OAAO,EAAC,UAAU,eAAc;AACxC,YAAM,YAAY,cAAc,EAAC,SAAS,CAAA;AACpC,YAAA,mBAAmB,YAAY,aAAa,QAAQ;AAC9C,kBAAA,aAAkC,UAAU,CAAQ,SAAA;AACxD,cAAA,UAAU,EAAC,GAAG,MAAM,YAAY,EAAC,GAAG,KAAM,WAAA;AAChD,gBAAQ,WAAW,OAAO;AAAA,UACxB,QAAQ,WAAW;AAAA,UACnB;AAAA,UACA;AAAA,QAAA;AAEK,eAAA;AAAA,MAAA,CACR;AACD,aAAO,EAAC,iBAAgB;AAAA,IAC1B;AAAA,IACA,WAAW,YAAY;AACf,YAAA,YAAY,kBAAkB,EAAC,UAAU,CAAC,MAAM,UAAU,GAAE;AAAA,IACpE;AAAA,IACA,SAAS,CAAC,KAAK,GAAG,YAAY;AAC5B,yBAAmB,GAAG;AACV,kBAAA,aAAa,UAAU,mCAAS,gBAAgB;AAAA,IAC9D;AAAA,EAAA,CACD;AACH;AAEA,SAAS,QAAQ,SAAsD;AACrE,SAAO,UACJ;AAAA,IACC,iBAAiB,QAAQ,SAAS;AAAA,IAClC;AAAA,EAED,EAAA,KAAK,CAAK,MAAA,EAAE,IAAI;AACrB;ACzCO,SAAS,mBAAmB;AAC3B,QAAA,QAAQ,YAAY,0BAAA,CAA2B;AAEnD,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA,cACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,aAAa;AAAA,UACb,IAAG;AAAA,UAEH,UAAA,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,QAAA;AAAA,MAC/B;AAAA,MAGD,UAAA,CAAA,SAAS,oBAAAd,eAAA,EAAY,KAAY,CAAA;AAAA,IAAA;AAAA,EAAA;AAGxC;AAKA,SAASA,cAAY,EAAC,QAAyB;;AACvC,QAAA,EAAC,cAAa;AACpB,QAAM,WAAWjB;AACjB,QAAM,iBAAiB;AACjB,QAAA,WAAW,KAAK,WAAW;AACjC,QAAM,QAAQ,SAAS;AACvB,QAAM6B,WAAU;AAChB,8BACG,UACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU5C,MAAA,KAAK,YAAL,gBAAAA,IAAc;AAAA,QACxB,SAAS,KAAK;AAAA,MAAA;AAAA,IAChB;AAAA,IACC,QACC,oBAAC,gBACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,qBAAoB,QAAQ,EAAC,MAAQ,EAAA,CAAA,EAAA,CACtD,IACE;AAAA,IACH,SAAS,IAAI,CACZ,YAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,MAAM;AAAA,QACN,OAAO;AAAA,QACP,WAAW,CAAC,UAAU,aAAa;AACjC,UAAA4C,SAAQ,OAAO,EAAC,WAAuB,UAAU,SAAS,CAAA;AAAA,QAC5D;AAAA,QACA,QAAQ,MAAM,SAAS,YAAY,QAAQ,EAAE,OAAO;AAAA,QACpD,SAAS,MAAM,SAAS,YAAY,QAAQ,EAAE,OAAO;AAAA,QACrD,QAAQ,MACN,SAAS,eAAe,SAAS,EAAC,SAAS,KAAK,QAAO,CAAC,CAAC;AAAA,QAE3D,UAAU,MAAM;AACd,qBAAW,oBAAoB;AAAA,YAC7B,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,YACvC,MACE,oBAAC,OAAM,EAAA,SAAQ,gDAAgD,CAAA;AAAA,YAEjE,SAAS,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,YACjC,UAAU;AAAA,YACV,WAAW,eAAe;AAAA,YAC1B,WAAW,MACT,eAAe;AAAA,cACb,EAAC,KAAK,CAAC,QAAQ,EAAE,EAAC;AAAA,cAClB,EAAC,WAAW,MAAM,cAAa;AAAA,YACjC;AAAA,UAAA,CACH;AAAA,QACH;AAAA,QAEC,UAAQ,QAAA;AAAA,MAAA;AAAA,MA5BJ,QAAQ;AAAA,IAAA,CA8BhB;AAAA,IACA,CAAC,SAAS,UACT;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,wBAAwB,CAAA;AAAA,QAC9C,aACE,oBAAC,OAAM,EAAA,SAAQ,oGAAoG,CAAA;AAAA,MAAA;AAAA,IAEvH;AAAA,EAEJ,EAAA,CAAA;AAEJ;AC5EO,SAAS,iBAAiB,MAA2C;AACpE,QAAA,EAAC,UAAS;AAChB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UAAgC,cAAc,KAAK;AAAA,IAChE,WAAW,YAAY;AACrB,YAAM,QAAQ,WAAW;AAAA,QACvB,YAAY,kBAAkB,EAAC,UAAU,CAAC,MAAM,YAAY,GAAE;AAAA,QAC9D,YAAY,kBAAkB,EAAC,UAAU,CAAC,MAAM,UAAU,GAAE;AAAA,MAAA,CAC7D;AACD,YAAM,MAAM,QAAQ,iBAAiB,CAAC,CAAC;AAAA,IACzC;AAAA,IACA,SAAS,CAAA,QAAO,iBAAiB,KAAK,IAAI;AAAA,EAAA,CAC3C;AACH;AAEO,SAAS,gCACd,WACA;;AACO,SAAA;AAAA,IACL,GAAG;AAAA,IACH,cAAa5C,MAAA,UAAU,gBAAV,gBAAAA,IAAuB,IAAI,CAAA,MAAK,EAAE;AAAA,IAC/C,OAAM,eAAU,SAAV,mBAAgB,IAAI,CAAA,MAAK,EAAE;AAAA,EAAI;AAEzC;AAEA,SAAS,cAAc,WAAoD;AAClE,SAAA,UACJ,KAAK,eAAe,gCAAgC,SAAS,CAAC,EAC9D,KAAK,CAAK,MAAA,EAAE,IAAI;AACrB;ACvCO,SAAS,iBAAiB,MAA4C;AAC3E,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,YAAkC,cAAc,OAAO;AAAA,IACpE,WAAW,YAAY;AACrB,YAAM,QAAQ,WAAW;AAAA,QACvB,YAAY,kBAAkB,EAAC,UAAU,CAAC,MAAM,YAAY,GAAE;AAAA,QAC9D,YAAY,kBAAkB,EAAC,UAAU,CAAC,MAAM,UAAU,GAAE;AAAA,MAAA,CAC7D;AAAA,IACH;AAAA,IACA,SAAS,SACP,OAAO,iBAAiB,KAAK,IAAI,IAAI,mBAAmB,GAAG;AAAA,EAAA,CAC9D;AACH;AAEA,SAAS,cAAc;AAAA,EACrB;AAAA,EACA,GAAG;AACL,GAA4C;AAC1C,SAAO,UACJ,IAAI,eAAe,EAAE,IAAI,gCAAgC,SAAS,CAAC,EACnE,KAAK,CAAK,MAAA,EAAE,IAAI;AACrB;AChCgB,SAAA,sBAAsB,EAAC,WAAiB;AACtD,QAAM+C,iBAAgB;AAEpB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,SAAQ;AAAA,MACR,OAAM;AAAA,MACN,UAAUA,eAAc;AAAA,MACxB,SAAS,MAAM;AACb,QAAAA,eAAc,OAAO;AAAA,UACnB,IAAI,QAAQ;AAAA,UACZ,OAAO,CAAC,QAAQ;AAAA,QAAA,CACjB;AAAA,MACH;AAAA,MAEC,UAAA,QAAQ,QACP,oBAAC,OAAM,EAAA,SAAQ,UAAU,CAAA,IAEzB,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,IAAA;AAAA,EAAA;AAInC;ACtBO,SAAS,qBAAqB;AACnC,QAAM,CAAC,cAAc,eAAe,IAAI,SAAS,KAAK;AAChD,QAAA,EAAC,UAAS;AAChB,QAAM,OAAO;AACP,QAAA,eAAe,KAAK,MAAM,OAAO;AAEvC,QAAM,mBAAmB,MAAM,EAAC,SAAS,QAAQ,CAAA;AAEjD,MAAI,cAAc;AAEd,WAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,aAAa;AAAA,QACb,WAAS;AAAA,QACT,WAAU;AAAA,QACV,QAAQ,MAAM;AACZ,0BAAgB,KAAK;AAAA,QACvB;AAAA,QACA,MAAK;AAAA,QACL,UAAQ;AAAA,MAAA;AAAA,IAAA;AAAA,EAGd;AAEE,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAU;AAAA,MACV,SAAS,MAAM;AACb,wBAAgB,IAAI;AAAA,MACtB;AAAA,MACA,SAAS,MAAM;AACb,wBAAgB,IAAI;AAAA,MACtB;AAAA,MACA,WAAW;AAAA,QACT;AAAA,QACA,CAAC,gBAAgB;AAAA,MACnB;AAAA,MAEC,UAAA;AAAA,QAAgB,gBAAA;AAAA,QACjB,oBAAC,UAAS,EAAA,WAAU,yCAAyC,CAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGnE;ACtBO,SAAS,WAAW;AAAA,EACzB;AAAA,EACA,OAAO,eAAe;AAAA,EACtB,aAAAC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,eAAe;AAAA,EACf;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAAoB;AACZ,QAAA,EAAC,aAAY;AACnB,QAAM,SAAS,MAAM,SAAS,IAAI,MAAM,MAAM,KAAK;AACnD,QAAM,SAAS,MAAM,SAAS,IAAI,MAAM,MAAM,KAAK;AACnD,QAAM,CAAC,WAAW,YAAY,IAAI,SAAS,KAAK;AAChD,QAAM,CAAC,OAAO,QAAQ,IAAI,SAAS,YAAY;AAC/C,SAAO,QAAQ;AAEf,YAAU,MAAM;AACd,aAAS,YAAY;AAAA,EAAA,GACpB,CAAC,YAAY,CAAC;AAEjB,QAAM,eAAe,MAAM;AACzB,QAAI,CAAC,WAAW;AACd,mBAAa,IAAI;AAAA,IAAA,OACZ;AACL,mBAAa,KAAK;AAClB,UAAI,OAAO;AACT,6CAAW;AAAA,MACb;AAAA,IACF;AAAA,EAAA;AAGF,MAAI,UAAkB;AACtB,MAAI,OAAO;AACC,cAAA;AAAA,aACDA,cAAa;AACtB,cAAU,cAAcA,YAAW;AAAA,EACrC;AAEA;AAAA;AAAA,yBAEG,OAAI,EAAA,WAAW,KAAK,qBAAqB,SAAS,GAChD,UAAA;AAAA,MAAgB,gBAAA,oBAAC,UAAS,EAAA,WAAU,qBAAqB,CAAA;AAAA,MAC1D,qBAAC,OAAI,EAAA,WAAU,2BACZ,UAAA;AAAA,QAAA;AAAA,QACA;AAAA,QACA,CAAC,aAAa,WACb,qBAAC,UACC,EAAA,UAAA;AAAA,UAAA,oBAAC,UAAK,UAAC,IAAA,CAAA;AAAA,UACN,oBAAA,QAAA,EAAK,WAAU,eAAe,UAAQ,SAAA;AAAA,QAAA,GACzC;AAAA,QAED,CAAC,YAAY,SAAS;AAAA,MAAA,GACzB;AAAA,MACC,aACC;AAAA,QAAC;AAAA,QAAA;AAAA,UACC;AAAA,UACA;AAAA,UACA;AAAA,UACA,WAAW,CAAK,MAAA;AACV,gBAAA,EAAE,QAAQ,SAAS;AACR;YACf;AAAA,UACF;AAAA,UACA,KAAK;AAAA,UACL,cAAW;AAAA,UACX,WAAS;AAAA,UACT,WAAU;AAAA,UACV,MAAK;AAAA,UACL;AAAA,UACA,QAAQ;AAAA,UACR,UAAU,CAAK,MAAA;AACJ,qBAAA,EAAE,OAAO,KAAK;AAAA,UACzB;AAAA,QAAA;AAAA,MACF;AAAA,MAED,CAAC,cACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,OAAM;AAAA,UACN,SAAQ;AAAA,UACR,MAAK;AAAA,UACL,SAAS,MAAM;AACA;UACf;AAAA,UAEC,UAAA,gCAAa,OAAM,EAAA,SAAQ,QAAO,IAAK,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAAA;AAAA,MAChE;AAAA,IAAA,GAEJ;AAAA;AAEJ;ACxHO,MAAM,gBAAgB;AAAA,EAC3B,oBAAC,QAAK,EAAA,GAAE,+DAA+D,CAAA;AAAA,EACvE;AAAmB;ACFd,MAAM,WAAW;AAAA,EACtB,oBAAC,QAAK,EAAA,GAAE,iJAAiJ,CAAA;AAAA,EACzJ;AAAc;ACFT,MAAM,WAAW;AAAA,EACtB,oBAAC,QAAK,EAAA,GAAE,kJAAkJ,CAAA;AAAA,EAC1J;AAAc;ACEA,SAAA,eAAe,EAAC,UAA6B;AAC3D,8BACG,QACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,UAAU,CAAC,OAAO,IAAA,EAAM,KAAK;AAAA,QAC7B,SAAS,MAAM;AACb,iBAAO,SAAS;AAChB,iBAAO,SAAS;QAClB;AAAA,QAEA,8BAAC,UAAS,EAAA;AAAA,MAAA;AAAA,IACZ;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,UAAU,CAAC,OAAO,IAAA,EAAM,KAAK;AAAA,QAC7B,SAAS,MAAM;AACb,iBAAO,SAAS;AAChB,iBAAO,SAAS;QAClB;AAAA,QAEA,8BAAC,UAAS,EAAA;AAAA,MAAA;AAAA,IACZ;AAAA,EACF,EAAA,CAAA;AAEJ;ACpBgB,SAAA,WAAW,EAAC,UAA0B;AAElD,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,SAAS,CAAY,aAAA;AACnB,YAAI,YAAY,MAAM;AACZ,2CAAA,SAAS,WAAW;AAAA,QAC9B;AAAA,MACF;AAAA,MAEA,UAAA;AAAA,QAAC,oBAAA,QAAA,EAAO,SAAQ,QAAO,WAAW,oBAAC,UAAS,CAAA,CAAA,GAC1C,UAAC,oBAAA,OAAA,EAAM,SAAQ,SAAS,CAAA,GAC1B;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,YACpC,cAAc,OAAO,QAAQ;AAAA,UAAA;AAAA,QAC/B;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AC5BO,MAAM,qBAAqB;AAAA,EAC/B,oBAAA,QAAA,EAAK,UAAS,WAAU,GAAE,iBAAgB;AAAA,EAC3C;AAAwB;ACFnB,MAAM,mBAAmB;AAAA,EAC9B,CAAE,oBAAA,UAAA,EAAO,IAAG,MAAK,IAAG,MAAK,GAAE,IAAQ,GAAA,GAAI,GAAI,oBAAA,QAAA,EAAK,GAAE,iBAAA,GAAqB,GAAI,CAAG;AAAA,EAC9E;AAAsB;ACFjB,MAAM,WAAW;AAAA,EACtB,oBAAC,QAAK,EAAA,GAAE,wGAAwG,CAAA;AAAA,EAChH;AAAc;ACFT,MAAM,mBAAmB;AAAA,EAC9B,CAAC,oBAAC,QAAK,EAAA,GAAE,oBAAwB,GAAA,GAAI,GAAG,oBAAC,QAAK,EAAA,GAAE,wGAA4G,GAAA,GAAI,CAAG;AAAA,EACnK;AAAsB;ACuBjB,SAAS,kBAAkB,EAAC,QAAQ,QAA2B;AACpE,QAAM,CAAC,QAAQ,SAAS,IAAI,SAA0B,KAAK;AAC3D,SAEI,qBAAA7B,YAAA,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,gBAAgB,CAAO,QAAA;AACrB,cAAI,QAAQ,MAAM;AAChB,mBAAO,SAAS;AAChB,mBAAO,SAAS;UAAkB,WACzB,QAAQ,SAAS;AAC1B,sBAAU,OAAO;AAAA,UAAA,OACZ;AACL,mBAAO,SAAS;AAChB,mBAAO,SAAS,QAAQ,EAAC,MAAM,IAAW,CAAA;AAAA,UAC5C;AAAA,QACF;AAAA,QAEA,UAAA;AAAA,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,SAAQ;AAAA,cACR;AAAA,cACA,WAAW,KAAK,eAAe;AAAA,cAE/B,8BAAC,cAAa,EAAA;AAAA,YAAA;AAAA,UAChB;AAAA,+BACC,MACC,EAAA,UAAA;AAAA,YAAC,oBAAAE,MAAA,EAAS,OAAM,MAAK,WAAW,oBAAC,oBAAmB,CAAA,CAAA,GAClD,UAAC,oBAAA,OAAA,EAAM,SAAQ,kBAAkB,CAAA,GACnC;AAAA,YACC,oBAAAA,MAAA,EAAS,OAAM,SAAQ,WAAW,oBAAC,kBAAiB,CAAA,CAAA,GACnD,UAAC,oBAAA,OAAA,EAAM,SAAQ,QAAQ,CAAA,GACzB;AAAA,YACC,oBAAAA,MAAA,EAAS,OAAM,aAAY,WAAW,oBAAC,kBAAiB,CAAA,CAAA,GACvD,UAAC,oBAAA,OAAA,EAAM,SAAQ,YAAY,CAAA,GAC7B;AAAA,YACC,oBAAAA,MAAA,EAAS,OAAM,WAAU,WAAW,oBAAC,aAAY,CAAA,CAAA,GAChD,UAAC,oBAAA,OAAA,EAAM,SAAQ,UAAU,CAAA,GAC3B;AAAA,YACC,oBAAAA,MAAA,EAAS,OAAM,WAAU,WAAW,oBAAC,UAAS,CAAA,CAAA,GAC7C,UAAC,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA,GACxB;AAAA,UAAA,GACF;AAAA,QAAA;AAAA,MAAA;AAAA,IACF;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,QAAQ,CAAC,CAAC;AAAA,QACV,SAAS,MAAM;AACb,oBAAU,KAAK;AAAA,QACjB;AAAA,QAEA,UAAA,oBAAC,eAAY,OAAgB,CAAA;AAAA,MAAA;AAAA,IAC/B;AAAA,EACF,EAAA,CAAA;AAEJ;AAEA,SAAS,YAAY,EAAC,UAA6B;AACjD,QAAM,cAAc,OAAO,cAAc,OAAO,EAAE;AAClD,QAAM,OAAO,QAAuB;AAAA,IAClC,eAAe,EAAC,KAAK,YAAW;AAAA,EAAA,CACjC;AACD,QAAM,EAAC,QAAQ,MAAK,IAAI,iBAAiB;AACzC,8BACG,QACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA,GAC/B;AAAA,wBACC,YACC,EAAA,UAAA;AAAA,MAACb;AAAAA,MAAA;AAAA,QACC;AAAA,QACA,IAAI;AAAA,QACJ,UAAU,CAAS,UAAA;AACV,iBAAA,SAAS,SAAS,KAAK;AACxB;QACR;AAAA,QAEA,UAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,YAClC,WAAS;AAAA,YACT,MAAK;AAAA,YACL,UAAQ;AAAA,UAAA;AAAA,QACV;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAC,oBAAA,QAAA,EAAO,SAAS,OAAO,SAAQ,QAC9B,UAAC,oBAAA,OAAA,EAAM,SAAQ,SAAA,CAAS,EAC1B,CAAA;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,MAAM;AAAA,UACN,UAAU,CAAC,KAAK,UAAU;AAAA,UAC1B,SAAQ;AAAA,UACR,OAAM;AAAA,UAEN,UAAA,oBAAC,OAAM,EAAA,SAAQ,MAAM,CAAA;AAAA,QAAA;AAAA,MACvB;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;ACvHO,SAAS,SAAS,EAAC,UAAU,UAAU,YAAY,OAAa;AAC/D,QAAA,SAAS,UACb,oBAAC,UAAK,WAAU,0BAAyB,cAAC,CAAA,IAE1C;AAGA,SAAA,qBAAC,OAAI,EAAA,WAAU,sBACZ,UAAA;AAAA,IAAA,YAEI,qBAAAW,YAAA,EAAA,UAAA;AAAA,MAAA;AAAA,MACA;AAAA,IAAA,GACH;AAAA,IAED;AAAA,EACH,EAAA,CAAA;AAEJ;ACVO,SAAS,kBAAkB,EAAC,QAAQ,QAA2B;AAElE,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,kBAAiB;AAAA,MACjB,gBAAgB,CAAO,QAAA;AACrB,eAAO,SAAS;AAChB,YAAI,OAAO,QAAQ,YAAY,IAAI,WAAW,GAAG,GAAG;AAClD,iBAAO,SAAS,cAAc;AAAA,YAC5B,OAAO,SAAS,IAAI,QAAQ,KAAK,EAAE,CAAC;AAAA,UAAA,CACrC;AAAA,QAAA,WACQ,QAAQ,QAAQ;AACzB,iBAAO,SAAS;QAAW,WAClB,QAAQ,UAAU;AAC3B,iBAAO,SAAS;QAAa,WACpB,QAAQ,SAAS;AAC1B,iBAAO,SAAS;QAAkB,WACzB,QAAQ,OAAO;AACxB,iBAAO,SAAS;QAAgB,WACvB,QAAQ,cAAc;AAC/B,iBAAO,SAAS;QAAiB,WACxB,QAAQ,aAAa;AAC9B,iBAAO,SAAS;QAClB;AAAA,MACF;AAAA,MAEA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAW,KAAK,eAAe;AAAA,YAC/B,SAAQ;AAAA,YACR;AAAA,YACA,6BAAU,uBAAsB,EAAA;AAAA,YAEhC,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,UAAA;AAAA,QAC1B;AAAA,6BACC,MACC,EAAA,UAAA;AAAA,UAAA,oBAACE,QAAS,OAAM,MAAK,YAAa,oBAAA,UAAA,EAAS,UAAQ,MAAC,UAAA,SAAK,GACvD,UAAC,oBAAA,OAAA,EAAM,SAAQ,mBAAkB,QAAQ,EAAC,QAAQ,KAAI,EACxD,CAAA;AAAA,UACA,oBAACA,QAAS,OAAM,MAAK,YAAa,oBAAA,UAAA,EAAS,UAAQ,MAAC,UAAA,SAAK,GACvD,UAAC,oBAAA,OAAA,EAAM,SAAQ,mBAAkB,QAAQ,EAAC,QAAQ,KAAI,EACxD,CAAA;AAAA,UACA,oBAACA,QAAS,OAAM,MAAK,YAAa,oBAAA,UAAA,EAAS,UAAQ,MAAC,UAAA,SAAK,GACvD,UAAC,oBAAA,OAAA,EAAM,SAAQ,mBAAkB,QAAQ,EAAC,QAAQ,KAAI,EACxD,CAAA;AAAA,UACA,oBAACA,QAAS,OAAM,MAAK,YAAa,oBAAA,UAAA,EAAS,UAAQ,MAAC,UAAA,SAAK,GACvD,UAAC,oBAAA,OAAA,EAAM,SAAQ,mBAAkB,QAAQ,EAAC,QAAQ,KAAI,EACxD,CAAA;AAAA,UACC,oBAAAA,MAAA,EAAS,OAAM,QAAO,YAAa,oBAAA,UAAA,EAAS,UAAQ,MAAC,eAAC,GACrD,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA,GACxB;AAAA,UACA;AAAA,YAACA;AAAAA,YAAA;AAAA,cACC,OAAM;AAAA,cACN,YAAY,oBAAC,UAAS,EAAA,UAAQ,MAAC,UAAO,WAAA;AAAA,cAEtC,UAAA,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,YAAA;AAAA,UACjC;AAAA,UACA;AAAA,YAACA;AAAAA,YAAA;AAAA,cACC,OAAM;AAAA,cACN,YACG,oBAAA,UAAA,EAAS,UAAQ,MAAC,WAAU,KAAI,UAEjC,KAAA;AAAA,cAGF,UAAA,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,YAAA;AAAA,UAC/B;AAAA,UACA;AAAA,YAACA;AAAAA,YAAA;AAAA,cACC,OAAM;AAAA,cACN,YACG,oBAAA,UAAA,EAAS,UAAQ,MAAC,WAAU,KAAI,UAEjC,KAAA;AAAA,cAGF,UAAA,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,YAAA;AAAA,UAC7B;AAAA,UACA;AAAA,YAACA;AAAAA,YAAA;AAAA,cACC,OAAM;AAAA,cACN,YAAY,oBAAC,UAAS,EAAA,UAAQ,MAAC,UAAO,WAAA;AAAA,cAEtC,UAAA,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA;AAAA,YAAA;AAAA,UAC9B;AAAA,UACA;AAAA,YAACA;AAAAA,YAAA;AAAA,cACC,OAAM;AAAA,cACN,YAAY,oBAAC,UAAS,EAAA,UAAQ,MAAC,UAAK,SAAA;AAAA,cAEpC,UAAA,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,YAAA;AAAA,UAC7B;AAAA,QAAA,GACF;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;ACvGO,MAAM,sBAAsB;AAAA,EACjC,oBAAC,QAAK,EAAA,GAAE,0HAA0H,CAAA;AAAA,EAClI;AAAyB;ACFpB,MAAM,sBAAsB;AAAA,EACjC,oBAAC,QAAK,EAAA,GAAE,yQAAyQ,CAAA;AAAA,EACjR;AAAyB;ACKpB,SAAS,aAAa,EAAC,QAAQ,QAA2B;AAC/D,QAAM,CAAC,QAAQ,SAAS,IAAI,SAAgC,KAAK;AACjE,QAAM,aAAa,OAAO,cAAc,WAAW,EAAE;AACrD,QAAM,mBAAmB,OAAO,cAAc,WAAW,EAAE;AAC3D,8BACG,UACC,EAAA,UAAA;AAAA,IAAA,qBAAC,QAAK,EAAA,WAAW,KAAK,iCAAiC,GACrD,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC;AAAA,UACA,OAAO,aAAa,YAAY;AAAA,UAChC,SAAS,MAAM;AACb,sBAAU,MAAM;AAAA,UAClB;AAAA,UAEA,8BAAC,qBAAoB,EAAA;AAAA,QAAA;AAAA,MACvB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC;AAAA,UACA,OAAO,mBAAmB,YAAY;AAAA,UACtC,SAAS,MAAM;AACb,sBAAU,IAAI;AAAA,UAChB;AAAA,UAEA,8BAAC,qBAAoB,EAAA;AAAA,QAAA;AAAA,MACvB;AAAA,IAAA,GACF;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,cAAc,WAAW,SAAS,YAAY;AAAA,QAC9C,MAAK;AAAA,QACL,QAAQ,CAAC,CAAC;AAAA,QACV,SAAS,CAAY,aAAA;AACnB,cAAI,UAAU;AACZ,gBAAI,WAAW,QAAQ;AACd,qBAAA,SAAS,SAAS,QAAQ;AAAA,YAAA,OAC5B;AACE,qBAAA,SAAS,mBAAmB,QAAQ;AAAA,YAC7C;AAAA,UACF;AACA,oBAAU,KAAK;AAAA,QACjB;AAAA,QAEA,UAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,cAAc,WAAW,SAAS,YAAY;AAAA,UAAA;AAAA,QAChD;AAAA,MAAA;AAAA,IACF;AAAA,EACF,EAAA,CAAA;AAEJ;ACtDO,MAAM,sBAAsB;AAAA,EACjC,oBAAC,QAAK,EAAA,GAAE,+EAA+E,CAAA;AAAA,EACvF;AAAyB;ACFpB,MAAM,wBAAwB;AAAA,EACnC,oBAAC,QAAK,EAAA,GAAE,8EAA8E,CAAA;AAAA,EACtF;AAA2B;ACFtB,MAAM,uBAAuB;AAAA,EAClC,oBAAC,QAAK,EAAA,GAAE,8EAA8E,CAAA;AAAA,EACtF;AAA0B;ACFrB,MAAM,yBAAyB;AAAA,EACpC,oBAAC,QAAK,EAAA,GAAE,6EAA6E,CAAA;AAAA,EACrF;AAA4B;ACY9B,MAAM,UAAU;AAAA,EACd,MAAM;AAAA,IACJ,MAAM;AAAA,IACN,OAAO,QAAQ,YAAY;AAAA,EAC7B;AAAA,EACA,QAAQ;AAAA,IACN,MAAM;AAAA,IACN,OAAO,QAAQ,cAAc;AAAA,EAC/B;AAAA,EACA,OAAO;AAAA,IACL,MAAM;AAAA,IACN,OAAO,QAAQ,aAAa;AAAA,EAC9B;AAAA,EACA,SAAS;AAAA,IACP,MAAM;AAAA,IACN,OAAO,QAAQ,SAAS;AAAA,EAC1B;AACF;AAEO,SAAS,aAAa,EAAC,QAAQ,QAA2B;AAC/D,QAAM,YAAa,OAAO,KAAK,OAAO,EAAE,KAAK,CAAO,QAAA;AAClD,WAAO,OAAO,SAAS,EAAC,WAAW,IAAI,CAAA;AAAA,EACxC,CAAA,KAAK;AACN,QAAM,aAA4B,YAC9B,QAAQ,SAAS,EAAE,OACnB,QAAQ,KAAK;AAGf,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,eAAc;AAAA,MACd,eAAc;AAAA,MACd,eAAe;AAAA,MACf,mBAAmB,CAAO,QAAA;AACxB,eAAO,SAAS;AACT,eAAA,SAAS,aAAa,GAAa;AAAA,MAC5C;AAAA,MAEA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC;AAAA,YACA,OAAO,YAAY,YAAY;AAAA,YAC/B,WAAW,KAAK,eAAe;AAAA,YAE/B,8BAAC,YAAW,EAAA;AAAA,UAAA;AAAA,QACd;AAAA,QACA,oBAAC,MACE,EAAA,UAAA,OAAO,QAAQ,OAAO,EAAE,IAAI,CAAC,CAAC,MAAM,MAAM,MAAM;AAC/C,gBAAM,OAAO,OAAO;AAElB,iBAAA;AAAA,YAACA;AAAAA,YAAA;AAAA,cAEC,OAAO;AAAA,cACP,WAAW,oBAAC,MAAK,EAAA,MAAK,KAAK,CAAA;AAAA,cAC3B,iBAAe;AAAA,cAEf,UAAC,oBAAA,OAAA,EAAM,SAAS,OAAO,MAAM,SAAS;AAAA,YAAA;AAAA,YALjC;AAAA,UAAA;AAAA,QAQV,CAAA,GACH;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AC3EO,MAAM,iBAAiB;AAAA,EAC5B,oBAAC,QAAK,EAAA,GAAE,0HAA0H,CAAA;AAAA,EAClI;AAAoB;ACFf,MAAM,iBAAiB;AAAA,EAC5B,oBAAC,QAAK,EAAA,GAAE,iIAAiI,CAAA;AAAA,EACzI;AAAoB;ACiBtB,MAAM,sBACJ;AAOK,SAAS,yBAAyB;AAAA,EACvC;AAAA,EACA,OAAO;AAAA,EACP,UAAU;AAAA,EACV,mBAAmB;AACrB,GAAU;AACR,QAAM,WAAW;AACjB,QAAM,CAAC,iBAAiB,kBAAkB,IAAI,SAAS,KAAK;AAC5D,8BACG,OAAI,EAAA,WAAW,KAAK,kBAAkB,SAAS,MAAM,GACpD,UAAA;AAAA,IAAA,qBAAC,SAAI,WAAW,KAAK,qBAAqB,SAAS,eAAe,GAChE,UAAA;AAAA,MAAC,oBAAA,mBAAA,EAAkB,QAAgB,KAAY,CAAA;AAAA,0BAC9C,SAAQ,EAAA;AAAA,MACT,oBAAC,kBAAiB,EAAA,QAAgB,KAAY,CAAA;AAAA,0BAC7C,SAAQ,EAAA;AAAA,MACT,oBAAC,cAAa,EAAA,QAAgB,KAAY,CAAA;AAAA,MAC1C,oBAAC,eAAc,EAAA,QAAgB,KAAY,CAAA;AAAA,0BAC1C,SAAQ,EAAA;AAAA,MACR,WACC;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAU;AAAA,UACV,OAAO,kBAAkB,YAAY;AAAA,UACrC;AAAA,UACA,SAAS,MAAM;AACb,+BAAmB,CAAC,eAAe;AAAA,UACrC;AAAA,UAEC,UAAkB,kBAAA,oBAAC,gBAAe,CAAA,CAAA,wBAAM,gBAAe,EAAA;AAAA,QAAA;AAAA,MAAA,IAG1D;AAAA,QAAC;AAAA,QAAA;AAAA,UACC;AAAA,UACA;AAAA,UACA;AAAA,QAAA;AAAA,MACF;AAAA,IAAA,GAEJ;AAAA,IACA,oBAAC,mBACE,UACC,mBAAA;AAAA,MAAC,EAAE;AAAA,MAAF;AAAA,QACC,WAAW;AAAA,UACT;AAAA,UACA;AAAA,UACA;AAAA,QACF;AAAA,QACA,SAAS,EAAC,GAAG,QAAO;AAAA,QACpB,SAAS,EAAC,GAAG,EAAC;AAAA,QACd,MAAM,EAAC,GAAG,QAAO;AAAA,QAEjB,UAAA,oBAAC,iBAAgB,EAAA,QAAgB,KAAY,CAAA;AAAA,MAAA;AAAA,IAAA,GAGnD;AAAA,EACF,EAAA,CAAA;AAEJ;AAEA,SAAS,gBAAgB,EAAC,QAAQ,OAAO,MAAM,oBAA0B;AACvE,8BACG,UACC,EAAA,UAAA;AAAA,IAAC,oBAAA,aAAA,EAAY,QAAgB,KAAY,CAAA;AAAA,wBACxC,SAAQ,EAAA;AAAA,IACT,oBAAC,YAAW,EAAA,QAAgB,KAAY,CAAA;AAAA,IACxC,oBAAC,aAAY,EAAA,QAAgB,KAAY,CAAA;AAAA,IACxC,CAAC,oBAAqB,oBAAA,mBAAA,EAAkB,QAAgB,KAAY,CAAA;AAAA,wBACpE,SAAQ,EAAA;AAAA,IACT,oBAAC,cAAa,EAAA,QAAgB,KAAY,CAAA;AAAA,wBACzC,SAAQ,EAAA;AAAA,IACT,oBAAC,sBAAqB,EAAA,QAAgB,KAAY,CAAA;AAAA,IAClD,oBAAC,mBAAkB,EAAA,QAAgB,KAAY,CAAA;AAAA,EACjD,EAAA,CAAA;AAEJ;AC5EO,SAAS,0BAA0B;AAAA,EACxC;AAAA,EACA,mBAAmB;AAAA,EACnB;AAAA,EACA;AAAA,EACA,YAAY;AAAA,EACZ;AAAA,EACA,aAAa;AACf,GAAsB;AACpB,QAAM,EAAC,UAAU,YAAW,IAAI,kBAAkB;AAClD,QAAM,WAAW;AAEjB,8BACG,UACC,EAAA,UAAA;AAAA,IAAC,oBAAA,OAAA,EAAI,KAAK,YAAa,CAAA;AAAA,IACvB;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAW;AAAA,UACT;AAAA,UACA,YAAY;AAAA,QACd;AAAA,QAEA,UAAA;AAAA,UAAC,qBAAA,OAAA,EAAI,WAAU,6FACZ,UAAA;AAAA,YAAC,CAAA,iCACC,UACC,EAAA,UAAA;AAAA,cAAA;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,SAAQ;AAAA,kBACR,MAAK;AAAA,kBACL,aAAa;AAAA,kBACb,IAAI;AAAA,kBACJ,UAAS;AAAA,kBACT,+BAAY,eAAc,EAAA;AAAA,kBAE1B,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,gBAAA;AAAA,cACxB;AAAA,cACC,oBAAA,OAAA,EAAI,WAAU,WACZ,UACC,oBAAA;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,MAAK;AAAA,kBACL,cAAc;AAAA,kBACd,QAAQ;AAAA,gBAAA;AAAA,cAAA,GAGd;AAAA,YAAA,GACF;AAAA,YAED,UAAW,oBAAA,gBAAA,EAAe,OAAgB,CAAA;AAAA,YAC1C,CAAC,YAAa,oBAAA,YAAA,EAAW,OAAgB,CAAA;AAAA,YACzC,UACC;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,QAAQ,MAAM;AACL,yBAAA,OAAO,SAAS;AAAA,gBACzB;AAAA,gBACA;AAAA,cAAA;AAAA,YACF;AAAA,YAED;AAAA,UAAA,GACH;AAAA,UACC,oBAAA,0BAAA,EAAyB,QAAgB,MAAK,KAAK,CAAA;AAAA,QAAA;AAAA,MAAA;AAAA,IACtD;AAAA,EACF,EAAA,CAAA;AAEJ;AAMA,SAAS,WAAW,EAAC,QAAQ,aAA6B;AACxD,QAAM,OAAO;AACP,QAAA,QAAQ,KAAK,MAAM,OAAO;AAG9B,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,SAAQ;AAAA,MACR,MAAK;AAAA,MACL,OAAM;AAAA,MACN,WAAU;AAAA,MACV,UAAU,aAAa,CAAC;AAAA,MACxB,SAAS,MAAM,OAAO;AAAA,MAEtB,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,IAAA;AAAA,EAAA;AAG5B;AAKA,SAAS,eAAe,EAAC,MAAM,GAAG,SAA6B;AACvD,QAAA;AAAA,IACJ,OAAO,EAAC,UAAU,QAAQ,QAAQ,IAAI,IAAG;AAAA,MACvC,cAAc;AAAA,IAChB;AAAA,EAAA,CACD;AACK,QAAA,kBAAkB,OAAO,KAAK;AAEpC,QAAM,EAAC,OAAO,SAAQ,IAAI,eAAwC;AAElE,YAAU,MAAM;AACd,UAAM,eAAe,MAAM,CAAC,SAAS,EAAC,MAAM,gBAAe;AAEzD,UAAI,cAAc,WAAW,CAAC,gBAAgB,SAAS;AAC5C,iBAAA,QAAQ,QAAQ,KAAK;AAAA,MAChC;AAAA,IAAA,CACD;AACM,WAAA,MAAM,aAAa;EAAY,GACrC,CAAC,OAAO,QAAQ,CAAC;AAGlB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW,KAAK,CAAC,SAAS,WAAW;AAAA,MACrC,UAAU,CAAK,MAAA;AACb,wBAAgB,UAAU;AAC1B,iBAAS,CAAC;AAAA,MACZ;AAAA,MACA,aAAa;AAAA,MACb;AAAA,MACA,UAAU;AAAA,MACT,GAAG;AAAA,IAAA;AAAA,EAAA;AAGV;AChJO,SAAS,2BAA2B;AACzC,QAAM,EAAC,YAAY,WAAW,cAAa,UAAU;AACjD,MAAA,WAAW,cAAc,YAAY,WAAW;AACpD,MAAI,WAAW;AACD,gBAAA;AAAA,EACd;AACO,SAAA;AACT;ACIA,MAAM4B,sBAAoB,MAAM;AAAA,EAC9B,MAAM,OAAO,oCAA4C;AAC3D;AAOO,SAAS,oBAAoB;AAAA,EAClC;AAAA,EACA;AAAA,EACA;AACF,GAAU;AACR,QAAM,WAAW;AAEf,SAAA,oBAAC,UACC,EAAA,UAAA,oBAACA,qBAAkB,EAAA,gBAAgC,QAChD,UAAC,CAAA,SAAS,WACT,qBAAC,oBACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,kBAAkB;AAAA,QAClB;AAAA,QACA;AAAA,QACA,WAAW;AAAA,QACX,YAAY;AAAA,MAAA;AAAA,IACd;AAAA,wBACC,OAAI,EAAA,WAAU,SACb,UAAC,qBAAA,OAAA,EAAI,WAAU,6CACb,UAAA;AAAA,MAAA,oBAAC,oBAAmB,EAAA;AAAA,MACnB;AAAA,IAAA,EAAA,CACH,EACF,CAAA;AAAA,EAAA,GACF,GAEJ,EACF,CAAA;AAEJ;AAMO,SAAS,oBAAoB;AAAA,EAClC;AAAA,EACA;AACF,GAA6B;AACrB,QAAA,gBAAgB,cAAc,qBAAqB;AACzD,QAAM,mBAAmB,gBACtB,oBAAA,kBAAA,EAAiB,MAAc,CAAA,IAC9B;AAEF,SAAA,qBAAC,OAAI,EAAA,WAAU,oCACb,UAAA;AAAA,IAAA,oBAAC,OAAI,EAAA,WAAU,aACZ,UAAA,YACC,aAAa,UAAU;AAAA,MACrB;AAAA,IACD,CAAA,GACL;AAAA,IACC,CAAC,iBACA,oBAAC,OAAI,EAAA,WAAU,kCACb,UAAA,oBAAC,SAAM,EAAA,WAAU,8CACd,UAAA,MACH,CAAA,GACF;AAAA,EAEJ,EAAA,CAAA;AAEJ;AAKA,SAAS,iBAAiB,EAAC,SAA+B;AAEtD,SAAA,qBAAC,eAAc,EAAA,MAAK,SAClB,UAAA;AAAA,IAAC,oBAAA,QAAA,EAAO,SAAQ,WAAU,OAAM,WAAU,MAAK,MAC7C,UAAC,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA,GACxB;AAAA,IACC,oBAAA,QAAA,EACC,UAAC,oBAAA,YAAA,EAAY,gBAAM,CAAA,GACrB;AAAA,EACF,EAAA,CAAA;AAEJ;AC7EgB,SAAA,uBAAuB,EAAC,UAAgB;;AAChD,QAAA,EAAC,SAAQ,cAAc,EAAC,MAAM,YAAY,MAAM,CAAC,UAAU,EAAA,CAAE;AACnE,QAAM,cAAa,6BAAM,WAAW,SAAQ,CAAA;AACtC,QAAA,WAAW,WAAW,IAAI,CAAA,MAAK,EAAE,QAAS,EAAE,KAAK,KAAK;AAC5D,QAAM,EAAC,OAAO,YAAW,IAAI,eAAqC;AAClE,QAAM,mBAAmB,MAAM,UAAU,KAAK,CAAA;AACxC,QAAA,EAAC,kBAAiB;AACxB,QAAM,gBAAejD,MAAA,cAAc,UAAU,EAAE,UAA1B,gBAAAA,IAAiC;AACtD,QAAM,aAAa,wBAAwB,EAAC,aAAa,CAAA;AAErD,MAAA,CAAC,SAAS,QAAQ;AACb,WAAA;AAAA,EACT;AAEM,QAAA,eAAe,SAAS,KAAK,CAAA,MAAK,EAAE,OAAO,iBAAiB,CAAC,CAAC;AACpE,QAAM,gBAAgB,WAAW,KAAK,OAAK,EAAE,QAAO,6CAAc,UAAS;AAC3E,QAAM,eAAe,iBAAiB;AAEtC,8BACG,OACC,EAAA,UAAA;AAAA,IAAC,oBAAA,OAAA,EAAI,WAAW,WAAW,OACzB,8BAAC,OAAM,EAAA,SAAQ,uBAAsB,EACvC,CAAA;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,SAAS,CAAAkD,cAAY;AACnB,cAAIA,WAAU;AACZ,mBAAOA,SAAQ;AACf,wBAAY,UAAU;AAAA,UACxB;AAAA,QACF;AAAA,QAEA,UAAA;AAAA,UAAC,qBAAA,OAAA,EAAI,WAAU,uEACZ,UAAA;AAAA,YAAC,CAAA,gBAAgB,CAAC,gBACjB,oBAAC,SAAM,SAAQ,mBAAmB,CAAA,IAElC,qBAAC,UACC,EAAA,UAAA;AAAA,cAAA,oBAAC,OAAI,EAAA,WAAU,0EACZ,UAAA,cAAc,MACjB;AAAA,cACC,oBAAA,OAAA,EAAI,WAAU,0EACZ,yBAAe,IACd;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,SAAQ;AAAA,kBACR,QAAQ,EAAC,MAAM,aAAa,MAAM,OAAO,eAAe,EAAC;AAAA,gBAAA;AAAA,cAAA,IAG3D,aAAa,MAEjB;AAAA,YAAA,GACF;AAAA,YAGD,oBAAA,UAAA,EAAS,WAAU,qCAAoC,MAAK,MAAK;AAAA,UAAA,GACpE;AAAA,8BACC,uBAAsB,EAAA;AAAA,QAAA;AAAA,MAAA;AAAA,IACzB;AAAA,IACC,gBAAiB,oBAAA,OAAA,EAAI,WAAW,WAAW,OAAQ,UAAa,cAAA;AAAA,EACnE,EAAA,CAAA;AAEJ;AAEA,SAAS,wBAAwB;AACzB,QAAA,EAAC,SAAQ,cAAc,EAAC,MAAM,YAAY,MAAM,CAAC,UAAU,EAAA,CAAE;AAC7D,QAAA,EAAC,UAAS;AACV,QAAA,EAAC,cAAa;AAEd,QAAA,CAAC,kBAAkB,mBAAmB,IAAI;AAAA,IAC9C,MAAM,UAAU,UAAU,KAAK,CAAC;AAAA,EAAA;AAG5B,QAAA,eAAe,CAAC,GAAkC,YAAqB;AACvE,QAAA,EAAE,OAAO,SAAS;AACpB,0BAAoB,CAAC,GAAG,kBAAkB,QAAQ,EAAE,CAAC;AAAA,IAAA,OAChD;AACL,0BAAoB,iBAAiB,OAAO,CAAA,OAAM,OAAO,QAAQ,EAAE,CAAC;AAAA,IACtE;AAAA,EAAA;AAIA,SAAA,qBAAC,QAAO,EAAA,MAAK,MACX,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA,GACnC;AAAA,IACA,oBAAC,cACC,UAAC,oBAAA,WAAA,EACE,uCAAM,WAAW,KAAK,IAAI,CAAY,aAAA;;AAC/B,YAAA,eAAalD,MAAA,SAAS,aAAT,gBAAAA,IAAmB,IAAI,OAAK,EAAE,QAAO;AACxD,YAAM,gBAAgB,WAAW;AAAA,QAAO,CAAA,OACtC,iBAAiB,SAAS,EAAE;AAAA,MAC5B,EAAA;AAEA,aAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,aACE,gBACE;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,SAAQ;AAAA,cACR,QAAQ,EAAC,OAAO,cAAa;AAAA,YAAA;AAAA,UAAA,IAE7B;AAAA,UAEN,OAAO,SAAS;AAAA,UAGf,WAAA,cAAS,aAAT,mBAAmB,IAAI,CACtB,YAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,WAAU;AAAA,cAEV,SAAS,iBAAiB,SAAS,QAAQ,EAAE;AAAA,cAC7C,UAAU,CAAA,MAAK,aAAa,GAAG,OAAO;AAAA,cAErC,UAAQ,QAAA;AAAA,YAAA;AAAA,YAJJ,QAAQ;AAAA,UAAA;AAAA,QAMhB;AAAA,QAXI,SAAS;AAAA,MAAA;AAAA,IAYhB,IAGN,EACF,CAAA;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAC,oBAAA,QAAA,EAAO,SAAS,MAAM,MAAA,GACrB,UAAC,oBAAA,OAAA,EAAM,SAAQ,SAAA,CAAS,EAC1B,CAAA;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,SAAS,MAAM,MAAM,gBAAgB;AAAA,UAErC,UAAA,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,QAAA;AAAA,MAC1B;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;AC3IA,MAAM,WAAW,KAAK,OAAO;AAEtB,SAAS,2BAA2B;AACzC,QAAM,UAAU,mBAAmB,CAAK,MAAA,EAAE,WAAW;AACrD,QAAM,cAAc,mBAAmB,CAAK,MAAA,EAAE,WAAW;AACzD,QAAM,iBAAiB,mBAAmB,CAAK,MAAA,EAAE,cAAc;AAC/D,QAAM,EAAC,QAAQ,QAAQ,OAAA,IAAU,cAAoC;AAAA,IACnE,MAAM;AAAA,EAAA,CACP;AAED,QAAM,eAAe,YAAY;AACzB,UAAA,QAAQ,MAAM,iBAAiB;AAAA,MACnC,UAAU;AAAA,IAAA,CACX;AAED,QAAI,MAAM,QAAQ;AAChB,qBAAe,OAAO;AAAA,QACpB,cAAc;AAAA,UACZ,aAAa;AAAA,QACf;AAAA,QACA,WAAW,CAAS,UAAA;AAClB,iBAAO,KAAK;AAAA,QACd;AAAA,QACA,SAAS,CAAWmD,aAAA;AAClB,cAAIA,UAAS;AACX,kBAAM,OAAOA,QAAO;AAAA,UACtB;AAAA,QACF;AAAA,MAAA,CACD;AAAA,IACH;AAAA,EAAA;AAGF,8BACG,OACC,EAAA,UAAA;AAAA,IAAA,oBAAC,SAAI,WAAU,sBACb,8BAAC,OAAM,EAAA,SAAQ,eAAc,EAC/B,CAAA;AAAA,yBACC,OACE,EAAA,UAAA;AAAA,MAAO,OAAA,IAAI,CAAC,OAAO,UAAU;AAC5B,cAAM,aAAa;AAEjB,eAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YAEC,MAAM,WAAW;AAAA,YACjB,MAAM,WAAW;AAAA,YACjB,UAAU,MAAM,OAAO,KAAK;AAAA,YAC5B,cAAc,yBAAyB,WAAW,IAAI;AAAA,UAAA;AAAA,UAJjD,WAAW;AAAA,QAAA;AAAA,MAKlB,CAEH;AAAA,MACA,CAAC,GAAG,QAAQ,QAAS,CAAA,EACnB,OAAO,CAAC,CAAC,GAAG,MAAM,MAAM,OAAO,WAAW,YAAY,EACtD,IAAI,CAAC,CAAC,IAAI,MAAM,MACf;AAAA,QAAC;AAAA,QAAA;AAAA,UAEC,MAAM,OAAO,KAAK;AAAA,UAClB,MAAM,OAAO,KAAK;AAAA,UAClB,UAAU,OAAO;AAAA,UACjB,UAAU,MAAM,YAAY,EAAE;AAAA,QAAA;AAAA,QAJzB;AAAA,MAAA,CAMR;AAAA,IAAA,GACL;AAAA,wBACC,OAAI,EAAA,WAAU,QACb,UAAC,oBAAA,QAAA,EAAO,SAAQ,QAAO,OAAM,WAAU,SAAS,MAAM,gBACpD,UAAA,oBAAC,SAAM,SAAQ,gCAA+B,GAChD,EACF,CAAA;AAAA,EACF,EAAA,CAAA;AAEJ;AASA,SAAS,kBAAkB;AAAA,EACzB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA2B;AAEvB,SAAA,qBAAC,OAAI,EAAA,WAAU,QACb,UAAA;AAAA,IAAC,qBAAA,OAAA,EAAI,WAAU,mCACb,UAAA;AAAA,MAAC,oBAAA,cAAA,EAAa,MAAY,MAAK,KAAK,CAAA;AAAA,MACpC;AAAA,QAAC;AAAA,QAAA;AAAA,UACC;AAAA,UACA,WAAU;AAAA,UACV;AAAA,QAAA;AAAA,MACF;AAAA,MACA,oBAAC,YAAW,EAAA,SAAS,MAAM,SAAA,GAAY,MAAK,MAC1C,UAAC,oBAAA,WAAA,CAAA,CAAU,EACb,CAAA;AAAA,IAAA,GACF;AAAA,IACC,+BACE,aAAY,EAAA,OAAO,UAAU,WAAU,kBAAiB,MAAK,KAAA,CAAK,IACjE;AAAA,EACN,EAAA,CAAA;AAEJ;AAOA,SAAS,eAAe,EAAC,MAAM,cAAc,aAAiC;AAC5E,MAAI,cAAc;AAEd,WAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAM;AAAA,QACN,UAAQ;AAAA,QACR,WAAW,KAAK,WAAW,iBAAiB;AAAA,QAE3C,UAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAGP;AACO,SAAA,oBAAC,OAAI,EAAA,WAAuB,UAAK,KAAA,CAAA;AAC1C;ACrIA,MAAM,cAAc,QAAQ,kBAAkB;AAC9C,MAAM,oBAAoB,QAAQ,aAAa;AACxC,SAAS,qBAAqB;AAEjC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAS;AAAA,MACT,MAAK;AAAA,MACL,YAAW;AAAA,MACX,WAAU;AAAA,MACV,OAAO,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,MAC/B;AAAA,MACA;AAAA,IAAA;AAAA,EAAA;AAGN;ACEO,SAAS,mBAAmB,EAAC,UAAU,QAAQ,YAAkB;AACtE,QAAM,OAAO;AACb,8BACG,UACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,OAAM;AAAA,QACN,WAAU;AAAA,QACV,SAAS,MAAM,OAAO;AAAA,QACtB,UAAU;AAAA,QAEV,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,MAAA;AAAA,IACxB;AAAA,IACA,qBAAC,OAAI,EAAA,WAAU,SACZ,UAAA;AAAA,MAAA;AAAA,MACD;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAU;AAAA,UACV,aACE,oBAAC,OAAM,EAAA,SAAQ,kDAAkD,CAAA;AAAA,QAAA;AAAA,MAErE;AAAA,0BACC,oBAAmB,EAAA;AAAA,MACpB;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,WAAU;AAAA,UACV,aACE,oBAAC,OAAM,EAAA,SAAQ,gDAAgD,CAAA;AAAA,QAAA;AAAA,MAEnE;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,CAAY,aAAA;AACb,iBAAA,SAAS,YAAY,QAAQ;AAAA,UACpC;AAAA,QAAA;AAAA,MACF;AAAA,0BACC,aAAY,EAAA;AAAA,MACZ,oBAAA,oBAAA,EACC,UAAC,oBAAA,0BAAA,CAAyB,CAAA,GAC5B;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;AAEA,SAAS,cAAc;AACf,QAAA,EAAC,KAAQ,IAAA,QAAQ,EAAC,MAAM,UAAU,SAAS,GAAA,CAAG;AACpD,QAAM,QAAO,6BAAM,WAAW,SAAQ,CAAA;AAChC,QAAA,EAAC,UAAS;AAEhB,MAAI,CAAC,KAAK;AAAe,WAAA;AAGvB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAU;AAAA,MACV,aAAa,MAAM,EAAC,SAAS,cAAa;AAAA,MAC1C,YAAW;AAAA,MACX,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,MAC7B,MAAK;AAAA,MACL,UAAS;AAAA,MACT,aAAa;AAAA,MACb,aACE,oBAAC,OAAM,EAAA,SAAQ,sDAAsD,CAAA;AAAA,MAGtE,mBACE,oBAAA,MAAA,EAAK,OAAO,IAAI,IAAiB,iBAAe,MAC/C,UAAC,oBAAA,OAAA,EAAM,SAAS,IAAI,gBAAgB,IAAI,MAAM,EAAA,GADtB,IAAI,EAE9B;AAAA,IAAA;AAAA,EAAA;AAIR;AC9DO,SAAS,oBAAoB;AAC5B,QAAA,QAAQ,WAAW,eAAe;AAEjC,SAAA,MAAM,OACX,qBAAC,UACC,EAAA,UAAA;AAAA,IAAA,oBAAC,gBAAa,OAAc;AAAA,IAC3B,oBAAAnB,eAAA,EAAY,SAAS,MAAM,KAAK,SAAS;AAAA,EAAA,GAC5C,IAEA,oBAAC,qBAAoB,EAAA,2BAAQ,UAAS,EAAA,SAAQ,QAAO,MAAK,cAAc,CAAA,GACtE,UAAC,oBAAA,YAAA,EAAW,OAAc,EAC5B,CAAA;AAEJ;AAKA,SAASA,cAAY,EAAC,WAA4B;;AAC1C,QAAA,EAAC,UAAS;AAChB,QAAM,SAAS;AACf,QAAM,OAAO,QAA8B;AAAA,IACzC,eAAe;AAAA,MACb,OAAO,QAAQ;AAAA,MACf,MAAM,QAAQ;AAAA,MACd,iBAAiB,QAAQ;AAAA,MACzB,WAAW,QAAQ;AAAA,MACnB,iBAAiB,QAAQ;AAAA,MACzB,WAAUhC,MAAA,QAAQ,aAAR,gBAAAA,IAAkB,IAAI,CAAA,MAAK,EAAE;AAAA,MACvC,OAAM,aAAQ,SAAR,mBAAc,IAAI,CAAM,OAAA;AAAA,QAC5B,MAAM,EAAE;AAAA,QACR,IAAI,EAAE;AAAA,QACN,aAAa,EAAE;AAAA,MAAA;AAAA,MAEjB,aAAa,QAAQ;AAAA,IACvB;AAAA,EAAA,CACD;AAEK,QAAA+C,iBAAgB,iBAAiB,IAAI;AAC3C,QAAM,aAAa,MAAM;AACvB,QAAI,CAAC,OAAO;AAAgB,aAAA;AACd,IAAAA,eAAA;AAAA,MACZ;AAAA,QACE,GAAG,KAAK,UAAU;AAAA,QAClB,MAAM,OAAO,QAAQ,QAAQ;AAAA,QAC7B,IAAI,QAAQ;AAAA,MACd;AAAA,MACA;AAAA,QACE,WAAW,MAAM;AACf,gBAAM,MAAM,QAAQ,iBAAiB,CAAC,CAAC;AAAA,QACzC;AAAA,MACF;AAAA,IAAA;AAAA,EACF;AAIA,SAAA,oBAAC,cAAc,EAAA,GAAG,MAChB,UAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,QAAQ,MAAM,WAAW;AAAA,UACzB,UAAUA,eAAc;AAAA,UAExB,UAAA,oBAAC,qBAAkB,QAAkB,CAAA;AAAA,QAAA;AAAA,MACvC;AAAA,MAGF,UAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,gBAAgB,QAAQ;AAAA,UACxB,QAAQ,CAAM,MAAA,OAAO,UAAU;AAAA,QAAA;AAAA,MACjC;AAAA,IAAA;AAAA,EAEJ,EAAA,CAAA;AAEJ;AAKA,SAAS,kBAAkB,EAAC,WAAkC;;AAE1D,SAAA,qBAAC,OAAI,EAAA,WAAU,gCACb,UAAA;AAAA,IAAA,oBAAC,SAAI,WAAU,sBACb,8BAAC,OAAM,EAAA,SAAQ,sBAAqB,EACtC,CAAA;AAAA,IACA,qBAAC,OAAI,EAAA,WAAU,qBACb,UAAA;AAAA,MAAC,qBAAA,OAAA,EAAI,WAAU,gDACb,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAW;AAAA,cACT;AAAA,cACA,QAAQ,QACJ,mBACA;AAAA,YACN;AAAA,UAAA;AAAA,QACF;AAAA,QACC,QAAQ,QACP,oBAAC,OAAM,EAAA,SAAQ,SAAQ,IAEvB,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,MAAA,GAE/B;AAAA,MACA,oBAAC,yBAAsB,SAAkB;AAAA,IAAA,GAC3C;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,OAAM;AAAA,QACN,aAAa;AAAA,QACb,IAAI,eAAe,SAAS,EAAC,UAAS/C,MAAA,QAAQ,aAAR,gBAAAA,IAAmB,IAAG;AAAA,QAC5D,6BAAU,eAAc,EAAA;AAAA,QACxB,QAAO;AAAA,QACP,MAAK;AAAA,QACL,WAAU;AAAA,QAEV,UAAA,oBAAC,OAAM,EAAA,SAAQ,yBAAyB,CAAA;AAAA,MAAA;AAAA,IAC1C;AAAA,EACF,EAAA,CAAA;AAEJ;AC1HO,SAAS,oBAAoB;AAC5B,QAAA,EAAC,cAAa;AACpB,QAAM,WAAWe;AACX,QAAA,EAAC,UAAS;AAChB,QAAM,SAAS;AACT,QAAA,EAAC,SAAQ;AACf,QAAM,OAAO,QAA8B;AAAA,IACzC,eAAe;AAAA,MACb,OAAO;AAAA,MACP,UAAU,YAAY,CAAC,SAAS,SAAS,CAAC,IAAI,CAAC;AAAA,MAC/C,WAAW,6BAAM;AAAA,IACnB;AAAA,EAAA,CACD;AAEK,QAAAqC,iBAAgB,iBAAiB,IAAI;AAC3C,QAAM,aAAa,MAAM;AACvB,QAAI,CAAC,OAAO;AAAgB,aAAA;AACd,IAAAA,eAAA;AAAA,MACZ;AAAA,QACE,GAAG,KAAK,UAAU;AAAA,QAClB,MAAM,OAAO,QAAQ,QAAQ;AAAA,MAC/B;AAAA,MACA;AAAA,QACE,WAAW,CAAY,aAAA;AACrB,gBAAM,MAAM,QAAQ,iBAAiB,CAAC,CAAC;AACvC,mBAAS,MAAM,SAAS,QAAQ,EAAE,SAAS;AAAA,YACzC,UAAU;AAAA,YACV,SAAS;AAAA,UAAA,CACV;AAAA,QACH;AAAA,MACF;AAAA,IAAA;AAAA,EACF;AAIA,SAAA,qBAAC,cAAc,EAAA,GAAG,MAChB,UAAA;AAAA,IAAA,oBAAC,iBACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA,GAC/B;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OACE;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,QAAQ,MAAM,WAAW;AAAA,YACzB,UAAUA,eAAc;AAAA,YAExB,UAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,MAAK;AAAA,gBACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,qBAAqB,CAAA;AAAA,gBAC3C,eAAc;AAAA,gBACd,YAAW;AAAA,gBACX,WAAU;AAAA,gBAEV,UAAA;AAAA,kBAAA,oBAAC,QAAK,OAAO,OACX,8BAAC,OAAM,EAAA,SAAQ,aAAY,EAC7B,CAAA;AAAA,kBACA,oBAAC,QAAK,OAAO,MACX,8BAAC,OAAM,EAAA,SAAQ,SAAQ,EACzB,CAAA;AAAA,gBAAA;AAAA,cAAA;AAAA,YACF;AAAA,UAAA;AAAA,QACF;AAAA,QAGF,8BAAC,qBAAoB,EAAA,QAAQ,CAAM,MAAA,OAAO,UAAU,GAAI;AAAA,MAAA;AAAA,IAC1D;AAAA,EACF,EAAA,CAAA;AAEJ;AC3EO,SAAS,YAAY,OAAyB;AAC7C,QAAA;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,gBAAgB;AAAA,IAChB;AAAA,IACA;AAAA,IACA,YAAY;AAAA,EACV,IAAA;AAGF,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW;AAAA,QACT;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,MAEA,UAAA;AAAA,QAAC,qBAAA,OAAA,EAAI,WAAU,gEACb,UAAA;AAAA,UAAC,oBAAA,OAAA,EAAI,WAAU,yBAAyB,UAAM,OAAA;AAAA,UAC7C,eAAe,oBAAC,OAAI,EAAA,WAAU,cAAc,UAAY,aAAA;AAAA,QAAA,GAC3D;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,KAAK;AAAA,YACL,WAAW;AAAA,cACT;AAAA,cACA,iBAAiB;AAAA,cACjB;AAAA,YACF;AAAA,YAEC;AAAA,UAAA;AAAA,QACH;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AC/CO,SAAS,wBAAwB;AAEpC,SAAA,qBAAC,OAAI,EAAA,WAAU,qDACb,UAAA;AAAA,IAAA,oBAAC,gBAAe,EAAA,iBAAe,MAAC,MAAK,MAAK;AAAA,IAC1C,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,EACjC,EAAA,CAAA;AAEJ;ACLA,MAAM,YAAY,KAAK,MAAM,OAAO,2BAAc,CAAC;AAS5C,SAAS,UACd,OACA;AACA,QAAM,EAAC,OAAO,aAAa,WAAW,YAAY,UAAa,IAAA;AAG7D,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MAEA,UAAC,qBAAA,UAAA,EAAS,UAAU,oBAAC,yBAAsB,GACzC,UAAA;AAAA,QAAC,oBAAA,WAAA,EAAW,GAAG,OAAO;AAAA,QACrB,iCAAc,uBAAsB,EAAA;AAAA,MAAA,GACvC;AAAA,IAAA;AAAA,EAAA;AAGN;ACXO,SAAS,iBACd,QACA,EAAC,aAAa,MAAM,0BAA0B,QACzB;AACrB,MAAI,CAAC;AAAe,WAAA,EAAC,UAAU,CAAA;AAE/B,QAAM,qBAA+C,CAAA;AAE9C,SAAA;AAAA,IACL,GAAG;AAAA,IACH,UAAU,OAAO,SAAS,IAAI,CAAC,SAAS,iBAAiB;AACvD,YAAM,OAAO,QAAQ,KAAK,IAAI,CAAC,aAAa,cAAc;AACpD,YAAA;AAGA,YAAA,iBAAiB,KAAK,CAAC,yBAAyB;AAC1C,kBAAA;AAAA,YACN;AAAA,YACA,OAAO;AAAA,YACP;AAAA,UAAA;AAEF,6BAAmB,SAAS,IAAI;AAAA,QAAA,OAC3B;AACL,kBAAQ,mBAAmB,SAAS;AAAA,QACtC;AACO,eAAA;AAAA,UACL,GAAG;AAAA,UACH,OAAO,YAAY;AAAA,QAAA;AAAA,MACrB,CACD;AAEM,aAAA,EAAC,GAAG,SAAS;IAAI,CACzB;AAAA,EAAA;AAEL;AAEA,SAAS,sBACP,OACA,aACA,QACwB;AACxB,MAAI,MAAM,OAAO;AACR,WAAA,EAAC,OAAO,MAAM;EACvB;AAEI,MAAA,CAAC,MAAM,MAAM;AACR,WAAA,EAAC,OAAO;EACjB;AAEO,SAAA,mBAAmB,OAAO,aAAa,MAAM;AACtD;AAEA,SAAS,mBACP,EAAC,MAAM,SAAS,SAAS,cACzB,cAAoD,OACpD,QACqC;AACrC,QAAM,OAAO,qBAAqB,OAAQ,EAAE,OAAO;AACnD,QAAM,UAAU,aAAa,qBAAqB,UAAU,EAAE,OAAW,IAAA;AAEzE,UAAQ,aAAa;AAAA,IACnB,KAAK;AACI,aAAA;AAAA,QACL,OAAO,aAAa,QAAQ;AAAA,UAC1B,QAAQ;AAAA,QAAA,CACT,EAAE,OAAO,IAAI;AAAA,QACd,cAAc,aAAa,QAAQ;AAAA,UACjC,KAAK;AAAA,UACL,MAAM;AAAA,UACN,QAAQ;AAAA,UACR,QAAQ;AAAA,QAAA,CACT,EAAE,OAAO,IAAI;AAAA,MAAA;AAAA,IAElB,KAAK;AACI,aAAA;AAAA,QACL,OAAO,aAAa,QAAQ;AAAA,UAC1B,MAAM;AAAA,UACN,QAAQ;AAAA,QAAA,CACT,EAAE,OAAO,IAAI;AAAA,QACd,cAAc,aAAa,QAAQ;AAAA,UACjC,OAAO;AAAA,UACP,KAAK;AAAA,UACL,MAAM;AAAA,UACN,QAAQ;AAAA,QAAA,CACT,EAAE,OAAO,IAAI;AAAA,MAAA;AAAA,IAElB,KAAK;AACI,aAAA;AAAA,QACL,OAAO,aAAa,QAAQ;AAAA,UAC1B,KAAK;AAAA,UACL,SAAS;AAAA,QAAA,CACV,EAAE,OAAO,IAAI;AAAA,QACd,cAAc,aAAa,QAAQ;AAAA,UACjC,KAAK;AAAA,UACL,SAAS;AAAA,UACT,OAAO;AAAA,QAAA,CACR,EAAE,OAAO,IAAI;AAAA,MAAA;AAAA,IAElB,KAAK;AACI,aAAA;AAAA,QACL,OAAO,aAAa,QAAQ;AAAA,UAC1B,OAAO;AAAA,UACP,KAAK;AAAA,QAAA,CACN,EAAE,OAAO,IAAI;AAAA,QACd,cAAc,aAAa,QAAQ;AAAA,UACjC,KAAK;AAAA,UACL,OAAO;AAAA,UACP,MAAM;AAAA,QAAA,CACP,EAAE,YAAY,MAAM,OAAe;AAAA,MAAA;AAAA,IAExC,KAAK;AACI,aAAA;AAAA,QACL,OAAO,aAAa,QAAQ;AAAA,UAC1B,OAAO;AAAA,UACP,MAAM;AAAA,QAAA,CACP,EAAE,OAAO,IAAI;AAAA,QACd,cAAc,aAAa,QAAQ;AAAA,UACjC,OAAO;AAAA,UACP,MAAM;AAAA,QAAA,CACP,EAAE,OAAO,IAAI;AAAA,MAAA;AAAA,IAElB,KAAK;AACI,aAAA;AAAA,QACL,OAAO,aAAa,QAAQ;AAAA,UAC1B,MAAM;AAAA,QAAA,CACP,EAAE,OAAO,IAAI;AAAA,QACd,cAAc,aAAa,QAAQ;AAAA,UACjC,MAAM;AAAA,QAAA,CACP,EAAE,OAAO,IAAI;AAAA,MAAA;AAAA,EAEpB;AACF;AAEA,MAAM,eAAe;AAAA,EACnB,CAAC,QAAQ,YAAwC;AACxC,WAAA,IAAI,cAAc,QAAQ,OAAO;AAAA,EAC1C;AAAA,EACA;AAAA,IACE,QAAQ,CAAC,GAAG,MAAM;AACT,aAAA,aAAa,GAAG,CAAC;AAAA,IAC1B;AAAA,IACA,aAAa;AAAA,EACf;AACF;AClKA,MAAM,eAAe,iBAAmB,EAAA,OAAO,IAAI,CAAC,EAAE,OAAO,cAAc;AACpE,MAAM,cAAc;AAAA,EACzB;AAAA,IACE,OAAO,aAAa,WAAW,KAAK,GAAG,CAAC;AAAA,IACxC,QAAQ,aAAa,WAAW,KAAK,GAAG,CAAC;AAAA,EAC3C;AAAA,EACA,CAAC,mBAAmB,qBAAqB;AAAA,EACzC,CAAC,mBAAmB,qBAAqB;AAAA,EACzC,CAAC,mBAAmB,qBAAqB;AAAA,EACzC,CAAC,oBAAoB,uBAAuB;AAAA,EAC5C,CAAC,mBAAmB,qBAAqB;AAC3C;ACHA,MAAM,mBAAyC;AAAA,EAC7C,SAAS;AAAA,IACP,UAAU;AAAA,IACV,UAAU;AAAA,EACZ;AAAA,EACA,UAAU;AAAA,IACR,MAAM;AAAA,MACJ,MAAM;AAAA,MACN,SAAS;AAAA,MACT,kBAAkB;AAAA,MAClB,gBAAgB;AAAA,IAClB;AAAA,EACF;AAAA,EACA,SAAS;AAAA,IACP,SAAS;AAAA,MACP,WAAW;AAAA,MACX,MAAM;AAAA,IACR;AAAA,EACF;AACF;AAKO,SAAS,UAAU,EAAC,MAAM,WAAW,GAAG,SAAwB;AAC/D,QAAA,EAAC,eAAc;AACf,QAAA,gBACJ,QAAQ,MAAM;AACZ,UAAMC,iBAAgB,iBAAiB,MAAM,EAAC,WAAW,CAAA;AACzDA,mBAAc,WAAWA,eAAc,SAAS,IAAI,CAAC,SAAS,OAAO;AAAA,MACnE,GAAG;AAAA,MACH,iBAAiB,YAAY,CAAC,EAAE,CAAC;AAAA,MACjC,aAAa,YAAY,CAAC,EAAE,CAAC;AAAA,MAC7B,sBAAsB,YAAY,CAAC,EAAE,CAAC;AAAA,IACtC,EAAA;AACKA,WAAAA;AAAAA,EAAA,GACN,CAAC,MAAM,UAAU,CAAC;AAGrB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACE,GAAG;AAAA,MACJ,WAAW,KAAK,WAAW,WAAW;AAAA,MACtC,MAAM;AAAA,MACN,MAAK;AAAA,MACL,SAAS;AAAA,IAAA;AAAA,EAAA;AAGf;AChDA,MAAM,WAAW;AAsCV,SAAS,gBAAgB,SAAkB;AAChD,SAAO,SAAoC;AAAA,IACzC,UAAU,CAAC,UAAU,OAAO;AAAA,IAC5B,SAAS,MAAM,kBAAkB,UAAU,OAAO;AAAA,IAClD,iBAAiB;AAAA,EAAA,CAClB;AACH;AAEA,SAAS,kBAEPvD,WAAkB,SAA8B;AAChD,SAAO,UACJ,IAAIA,WAAU,EAAC,QAAQ,wBAAwB,OAAO,EAAE,CAAA,EACxD,KAAK,CAAA,aAAY,SAAS,IAAI;AACnC;AC9CO,SAAS,SAAS;AAAA,EACvB;AAAA,EACA,YAAY;AAAA,EACZ,sBAAsB;AAAA,EACtB;AAAA,EACA,GAAG;AACL,GAAkB;AACV,QAAA,EAAC,eAAc;AACf,QAAA,gBACJ,QAAQ,MAAM;AACZ,UAAMuD,iBAAgB,iBAAiB,MAAM,EAAC,WAAW,CAAA;AACzDA,mBAAc,WAAWA,eAAc,SAAS,IAAI,CAAC,SAAS,OAAO;AAAA,MACnE,GAAG;AAAA,MACH,iBAAiB,sBACb,YAAY,IAAI,CAAK,MAAA,EAAE,CAAC,CAAC,IACzB,YAAY,CAAC,EAAE,CAAC;AAAA,MACpB,aAAa,sBACT,YAAY,IAAI,CAAK,MAAA,EAAE,CAAC,CAAC,IACzB,YAAY,CAAC,EAAE,CAAC;AAAA,MACpB,aAAa;AAAA,IACb,EAAA;AACKA,WAAAA;AAAAA,EACN,GAAA,CAAC,MAAM,YAAY,mBAAmB,CAAC;AAE5C,QAAM,eAAe,cAAc;AAC7B,QAAA,UAA+B,QAAQ,MAAM;AAC1C,WAAA;AAAA,MACL,WAAW,eAAe,MAAM;AAAA,MAChC,SAAS;AAAA,QACP,UAAU,eAAe,UAAU;AAAA,QACnC,UAAU,eAAe,UAAU;AAAA,MACrC;AAAA,IAAA;AAAA,EACF,GACC,CAAC,YAAY,CAAC;AAGf,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,WAAW,KAAK,WAAW,WAAW;AAAA,MACtC,MAAM;AAAA,MACN;AAAA,MACC,GAAG;AAAA,IAAA;AAAA,EAAA;AAGV;ACjDA,MAAM,OAAO,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;AAEjC,MAAM,QAAQ;AAAA,EACZ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;AAKgB,SAAA,sBAAsB,EAAC,UAAgB;AACrD,QAAM,SAAS;AACf,QAAM,YAAY,iBAAiB,EAAC,SAAS,QAAQ,CAAA;AACrD,QAAM,OAAO,YAAY,mBAAmB,GAAG,OAAO,UAAU;AAE9D,SAAA,oBAAC,aAAY,EAAA,OAAQ,oBAAA,OAAA,EAAM,SAAQ,sBAAA,CAAsB,GACvD,UAAA,qBAAC,OAAI,EAAA,WAAU,yEACb,UAAA;AAAA,IAAC,oBAAA,OAAA,EAAI,WAAU,SAAS,CAAA;AAAA,IACvB,MAAM,IAAI,CACT,SAAA,oBAAC,SAAe,WAAU,0CACvB,UADO,KAAA,GAAA,IAEV,CACD;AAAA,IACA,KAAK,IAAI,CACR,QAAA,qBAAC,UACC,EAAA,UAAA;AAAA,MAAA,oBAAC,OAAI,EAAA,WAAU,sDACZ,UAAA,UAAU,OAAO,KAAK,IAAI,EAAC,MAAM,IAAI,CAAA,EAAE,OAAQ,CAAA,GAClD;AAAA,MACC,MAAM,IAAI,CAAQ,SAAA;AACX,cAAA,QAAQ,SACV,OAAO,SAAS,CAAC,EAAE,KAAK,GAAG,EAAE,MAAM,IAAI,IACvC;AAEF,eAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YAEC,2BACG,OAAM,EAAA,SAAQ,sBAAqB,QAAQ,EAAC,SAAQ;AAAA,YAGvD,UAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,WAAU;AAAA,gBACV,OAAO;AAAA,kBACL,SAAS,SACL,WAAW,OAAO,OAAO,SAAS,CAAC,EAAE,GAAG,IACxC;AAAA,gBACN;AAAA,cAAA;AAAA,YACF;AAAA,UAAA;AAAA,UAZK;AAAA,QAAA;AAAA,MAaP,CAEH;AAAA,IAAA,EAAA,GAzBY,GA0Bf,CACD;AAAA,EAAA,EACH,CAAA,EACF,CAAA;AAEJ;AAEA,SAAS,WAAW,OAAe,KAAa;AAC9C,MAAI,UAAU;AAAU,WAAA;AACjB,SAAA,KAAK,IAAI,KAAK,KAAK,IAAI,GAAG,QAAQ,GAAG,CAAC;AAC/C;ACvEgB,SAAA,sBAAsB,EAAC,UAAgB;;AACrD,QAAM,OAAO,iCAAQ,SAAS,GAAG;AACjC,QAAM,WAAUrD,MAAA,iCAAQ,SAAS,OAAjB,gBAAAA,IAAqB;AAEnC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,MAC1C,eAAe;AAAA,MACf,WAAU;AAAA,MAEV,UAAA,qBAAC,SAAM,EAAA,WAAU,UACf,UAAA;AAAA,QAAA,oBAAC,WAAM,WAAU,kCACf,UAAC,qBAAA,MAAA,EAAG,WAAU,QACZ,UAAA;AAAA,UAAA,oBAAC,QAAG,WAAU,sBACZ,8BAAC,OAAM,EAAA,SAAQ,SAAQ,EACzB,CAAA;AAAA,UACA,oBAAC,QAAG,WAAU,sBACZ,8BAAC,OAAM,EAAA,SAAQ,eAAc,EAC/B,CAAA;AAAA,UACA,oBAAC,QAAG,WAAU,sBACZ,8BAAC,OAAM,EAAA,SAAQ,kBAAiB,EAClC,CAAA;AAAA,UACA,oBAAC,QAAG,WAAU,sBACZ,8BAAC,OAAM,EAAA,SAAQ,qBAAoB,EACrC,CAAA;AAAA,QAAA,EAAA,CACF,EACF,CAAA;AAAA,4BACC,SACE,EAAA,UAAA,6BAAM,IAAI,CAAC,OAAO,MAAM;AACjB,gBAAA,SAAS,MAAM,KAAK,SAAS;AAEjC,iBAAA,qBAAC,MAAG,EAAA,WAAU,gBACZ,UAAA;AAAA,YAAA,oBAAC,QAAG,WAAW,CAAC,SAAS,aAAa,QACnC,gBAAM,MACT,CAAA;AAAA,iCACC,MAAG,EAAA,WAAW,CAAC,SAAS,aAAa,QACnC,UAAA;AAAA,cAAM,MAAA;AAAA,cACN,WACC;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,cAAc,MAAM;AAAA,kBACpB,eAAe,QAAQ,CAAC,EAAE;AAAA,gBAAA;AAAA,cAC5B;AAAA,YAAA,GAEJ;AAAA,iCACC,MAAG,EAAA,WAAW,CAAC,SAAS,aAAa,QACnC,UAAA;AAAA,cAAM,MAAA;AAAA,cACN,WACC;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,cAAc,MAAM;AAAA,kBACpB,eAAe,QAAQ,CAAC,EAAE;AAAA,gBAAA;AAAA,cAC5B;AAAA,YAAA,GAEJ;AAAA,iCACC,MAAG,EAAA,WAAW,CAAC,SAAS,aAAa,QACnC,UAAA;AAAA,cAAM,MAAA;AAAA,cAAoB;AAAA,cAC1B,WACC;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,cAAc,MAAM;AAAA,kBACpB,eAAe,QAAQ,CAAC,EAAE;AAAA,gBAAA;AAAA,cAC5B;AAAA,YAAA,GAEJ;AAAA,UAAA,EAAA,GA9BgC,CA+BlC;AAAA,QAEH,IACH;AAAA,MAAA,GACF;AAAA,IAAA;AAAA,EAAA;AAGN;AAMA,SAAS,aAAa,EAAC,cAAc,iBAAmC;AAChE,QAAA,UAAUsD,sBAAoB,cAAc,aAAa;AAE7D,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW,KAAK,QAAQ,UAAU,IAAI,kBAAkB,aAAa;AAAA,MAEpE,UAAA;AAAA,QAAA;AAAA,QAAQ;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGf;AAEA,SAASA,sBAAoB,cAAsB,eAAuB;AACpE,MAAA,iBAAiB,QAAQ,gBAAgB,MAAM;AAC1C,WAAA;AAAA,EACT;AAEA,MAAI,kBAAkB,GAAG;AAChB,WAAA;AAAA,EACT;AAEA,SAAO,KAAK,OAAQ,eAAe,iBAAiB,gBAAiB,GAAG;AAC1E;ACtGO,MAAM,iBAAiB;AAAA,EAC5B,oBAAC,QAAK,EAAA,GAAE,6EAA6E,CAAA;AAAA,EACrF;AAAoB;ACFf,MAAM,mBAAmB;AAAA,EAC9B,oBAAC,QAAK,EAAA,GAAE,4EAA4E,CAAA;AAAA,EACpF;AAAsB;ACMxB,MAAM,wBAAmD;AAAA,EACvD,SAAS;AAAA,IACP,KAAK;AAAA,EACP;AAAA,EACA,SAAS;AAAA,IACP,SAAS;AAAA,MACP,WAAW;AAAA,IACb;AAAA,EACF;AACF;AAMO,SAAS,eAAe;AAAA,EAC7B;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAAwB;AAChB,QAAA,EAAC,eAAc;AACf,QAAA,gBACJ,QAAQ,MAAM;;AACZ,UAAMD,iBAAgB,iBAAiB,MAAM,EAAC,WAAW,CAAA;AACzDA,mBAAc,UAASA,MAAAA,eAAc,SAAS,CAAC,MAAxBA,gBAAAA,IAA2B,KAAK,IAAI,CAAK,MAAA,EAAE;AAClEA,mBAAc,WAAWA,eAAc,SAAS,IAAI,CAAC,SAAS,OAAO;AAAA,MACnE,GAAG;AAAA,MACH,iBAAiB,YAAY,IAAI,CAAK,MAAA,EAAE,CAAC,CAAC;AAAA,MAC1C,aAAa,YAAY,IAAI,CAAK,MAAA,EAAE,CAAC,CAAC;AAAA,MACtC,aAAa;AAAA,IACb,EAAA;AACKA,WAAAA;AAAAA,EAAA,GACN,CAAC,MAAM,UAAU,CAAC;AAGrB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,MAAM;AAAA,MACN,SAAS;AAAA,MACT,WAAW,KAAK,WAAW,WAAW;AAAA,MACrC,GAAG;AAAA,IAAA;AAAA,EAAA;AAGV;AC5CA,MAAM,YAAY;AAQX,SAAS,kBAAkB;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAA2B;AACnB,QAAA,EAAC,UAAS;AACV,QAAA,EAAC,cAAa;AACpB,QAAM,SAAS,uCAAW;AACpB,QAAA,EAAC,kBAAiB;AACxB,QAAM,cAAc;AAEpB,QAAM,sBAAsB,CAAC,CAAC,qBAAqB,CAAC;AAC9C,QAAA,kBAAkB,YAAY,MAAM;;AACxC,QAAI,OAAO,WAAW;AAAa;AAE7B,UAAA,WAAW,KAAK,IAAI,CAAA,aAAY,CAAC,SAAS,OAAO,SAAS,KAAK,CAAC;AACtE,aAAS,QAAQ;AAAA,MACf,UAAU,MAAM,QAAQ,MAAM,CAAC,IAAI,MAAM,QAAQ,SAAS,CAAC;AAAA,MAC3D,MAAM,QAAQ,QAAQ,CAAC;AAAA,IAAA,CACxB;AAED,UAAM,kBAAkB,GAAG;AAAA,MACzB,cAAc,OAAO,YAAY;AAAA,IAClC,CAAA;AACD,UAAM,aAAa,GAAG;AAAA,MACpB,cAAc,OAAO,cAAc;AAAA,IACpC,CAAA;AAED,UAAM,UAAgD;AAAA,MACpD,WAAW,EAAC,QAAQ,CAAC,UAAU,EAAC;AAAA,MAChC;AAAA,MACA,QAAQ,UAAU,QAAQ,YAAA,IAAgB;AAAA,MAC1C,YAAY,UAAU,cAAc;AAAA,MACpC,aAAa,UAAU,YAAY;AAAA,MACnC,2BAA2B;AAAA,IAAA;AAG7B,QACE,CAAC,YAAY,WACb,eAAe,aACfrD,MAAA,iCAAQ,kBAAR,gBAAAA,IAAuB,WACvB;AACY,kBAAA,UAAU,IAAI,OAAO,cAAc;AAAA,QAC7C,eAAe;AAAA,MAAA;AAAA,IAEnB;AACA,sBAAY,YAAZ,mBAAqB;AAAA,MACnB,OAAO,cAAc,iBAAiB,QAAQ;AAAA,MAC9C;AAAA;AAAA,EACF,GACC;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA,CACD;AAEK,QAAA,qBAAqB,YAAY,YAAY;AAC7C,QAAA,WAAW,kBAAkB,SAAS;AAAG;AACvC,UAAA,WAAW,UAAU,WAAW,EAAC,MAAM,MAAM,IAAI,oBAAmB;AACpE,UAAA,OAAO,OAAO,KAAK,WAAW;AAAA,MAClC,UAAU,CAAC,UAAU;AAAA,MACrB,YAAY;AAAA,IAAA,CACb;AACe;EAAA,GACf,CAAC,QAAQ,eAAe,CAAC;AAE5B,YAAU,MAAM;AACV,QAAA,YAAY,WAAW,mBAAmB;AAC5C,aAAO,cAAc,OAAO;AAAA,QAC1B,YAAY;AAAA,QACZ;AAAA,QACA,CAAC,MAAwB,uDAAoB,EAAE;AAAA,MAAM;AAAA,IAEzD;AAEA,WAAO,MAAM;AACX,UAAI,YAAY,SAAS;AACvB,eAAO,cAAc,OAAO,mBAAmB,YAAY,OAAO;AAAA,MACpE;AAAA,IAAA;AAAA,EAGD,GAAA,CAAC,mBAAmB,YAAY,OAAO,CAAC;AAG3C,YAAU,MAAM;AACK;EAAA,GAClB,CAAC,kBAAkB,CAAC;AAGvB,YAAU,MAAM;AACE;EACf,GAAA,CAAC,eAAe,iBAAiB,IAAI,CAAC;AAEzC,SAAO,EAAC,gBAAe;AACzB;AC7GO,MAAM,uBAAuB,KAAK,CAAC,EAAC,MAAM,kBAAwB;AACjE,QAAA,EAAC,eAAc;AACf,QAAA,cAAc,IAAI,KAAK,aAAa,CAAC,UAAU,GAAG,EAAC,MAAM,SAAA,CAAS;AACpE,MAAA;AAEA,MAAA;AACF,oBAAgB,YAAY,GAAG,YAAY,YAAa,CAAA;AAAA,WACjD,GAAG;AAAA,EAAC;AAEN,SAAA,oBAAC,YAAU,UAAc,cAAA,CAAA;AAClC,CAAC;ACIM,SAAS,SAAS;AAAA,EACvB,MAAM;AAAA,EACN;AAAA,EACA;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAAiB;AACT,QAAA,iBAAiB,OAAuB,IAAI;AAC5C,QAAA,sBAAsB,CAAC,CAAC;AAG9B,QAAM,cAAc,yCAAY,SAAS,GAAG;AACtC,QAAA,OAAO,QAAQ,MAAM;AACzB,WAAO,eAAe,CAAA;AAAA,EAAC,GACtB,CAAC,WAAW,CAAC;AAChB,oBAAkB,EAAC,gBAAgB,MAAM,SAAS,kBAAkB,CAAA;AAGlE,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACE,GAAG;AAAA,MACJ,WAAU;AAAA,MACV,OACE,qBAAC,OAAI,EAAA,WAAU,qBACb,UAAA;AAAA,QAAC,oBAAA,OAAA,EAAM,SAAQ,gBAAgB,CAAA;AAAA,QAC9B,UACC,qBAAC,QAAK,EAAA,WAAU,QAAO,UAAA;AAAA,UAAA;AAAA,UACnB,oBAAC,sBAAqB,EAAA,MAAM,QAAS,CAAA;AAAA,UAAG;AAAA,QAAA,EAAA,CAC5C,IACE;AAAA,QACH,2CAAwB,aAAY,EAAA;AAAA,MAAA,GACvC;AAAA,MAEF,eAAe;AAAA,MAEd,UAAA;AAAA,QAAA,iCAAc,uBAAsB,EAAA;AAAA,QACrC,qBAAC,OAAI,EAAA,WAAU,eACb,UAAA;AAAA,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,KAAK;AAAA,cACL,WAAU;AAAA,YAAA;AAAA,UACZ;AAAA,UACA,qBAAC,OAAI,EAAA,WAAU,aACb,UAAA;AAAA,YAAA,oBAAC,OAAI,EAAA,WAAU,6DACZ,UAAA,KAAK,IAAI,CACR,aAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBAEC,WAAW;AAAA,kBACT;AAAA,kBACA,uBAAuB;AAAA,gBACzB;AAAA,gBACA,MAAM,sBAAsB,WAAW;AAAA,gBACvC,SAAS,MAAM;AACb,yEAAoB,SAAS;AAAA,gBAC/B;AAAA,gBAEA,UAAA;AAAA,kBAAA,oBAAC,OAAI,EAAA,WAAU,iEACZ,UAAA,SAAS,OACZ;AAAA,uCACC,OAAI,EAAA,UAAA;AAAA,oBAAA;AAAA,oBAAE,SAAS;AAAA,oBAAW;AAAA,kBAAA,GAAE;AAAA,gBAAA;AAAA,cAAA;AAAA,cAbxB,SAAS;AAAA,YAejB,CAAA,GACH;AAAA,YACC,WACC;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,SAAQ;AAAA,gBACR,MAAK;AAAA,gBACL,WAAU;AAAA,gBACV,+BAAY,eAAc,EAAA;AAAA,gBAC1B,SAAS,MAAM;AACb,yEAAoB;AAAA,gBACtB;AAAA,gBAEA,UAAA,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,cAAA;AAAA,YACrC;AAAA,UAAA,GAEJ;AAAA,QAAA,GACF;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAEA,SAAS,cAAc;AAEnB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA;AAAA,MACnC,MACE,oBAAC,OAAM,EAAA,SAAQ,mGAAmG,CAAA;AAAA,IAAA;AAAA,EAAA;AAI1H;ACpGO,MAAM,wBAAwB;AACrC,MAAMuD,iBAAe,6DAA6D,qBAAqB;AAMhG,SAAS,qBAAqB;AAAA,EACnC;AAAA,EACA;AACF,GAA2B;AACnB,QAAA,aAAa,iCAAQ,UAAU;AACrC,8BACG,UACC,EAAA,UAAA;AAAA,IAAC,qBAAA,OAAA,EAAI,WAAWA,gBACd,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC;AAAA,UACA,WAAU;AAAA,UACV,MAAM,iCAAQ;AAAA,UACd,OAAO,oBAAC,OAAM,EAAA,SAAQ,YAAY,CAAA;AAAA,UAClC,aACE,aACE;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,SAAQ;AAAA,cACR,QAAQ,EAAC,2BAAQ,iBAAgB,EAAA,OAAO,YAAY,EAAE;AAAA,YAAA;AAAA,UAAA,IAEtD;AAAA,QAAA;AAAA,MAER;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC;AAAA,UACA,MAAM,iCAAQ;AAAA,UACd,OAAO,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,QAAA;AAAA,MACtC;AAAA,IAAA,GACF;AAAA,IACA,qBAAC,OAAI,EAAA,WAAWA,gBACd,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC;AAAA,UACA,MAAM,iCAAQ;AAAA,UACd,WAAU;AAAA,UACV,WAAU;AAAA,UACV,qBAAmB;AAAA,UACnB,YAAU;AAAA,UACV,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,QAAA;AAAA,MACvC;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC;AAAA,UACA,WAAU;AAAA,UACV,MAAM,iCAAQ;AAAA,UACd,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,QAAA;AAAA,MACxC;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;AC7DO,MAAM,mBAAmB;AAAA,EAC9B,oBAAC,QAAK,EAAA,GAAE,6BAA6B,CAAA;AAAA,EACrC;AAAsB;ACkBjB,SAAS,kBAAkB,EAAC,QAAQ,aAAoC;AAE3E,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW,4DAA4D,qBAAqB;AAAA,MAE3F,UAAA,iCAAQ,IAAI,CACX,UAAA,oBAAC,cAA4B,OAAc,UAAA,GAA1B,MAAM,IAA0C;AAAA,IAClE;AAAA,EAAA;AAGP;AAMA,SAAS,WAAW,EAAC,OAAO,YAAY,SAA8B;AAChE,MAAA;AACA,MAAA,eAAe,MAAM,IAAI,GAAG;AAC9B,WAAO,aAAa,MAAM,MAAM,EAAC,MAAM,MAAK;AAAA,EAAA,OACvC;AACC,UAAA,SAAS,sBAAsB,MAAM,IAAI;AACxC,WAAA,oBAAC,QAAO,EAAA,MAAK,KAAK,CAAA;AAAA,EAC3B;AAGE,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MAEC,WAAU;AAAA,MAEV,UAAA;AAAA,QAAC,oBAAA,OAAA,EAAI,WAAU,kEACZ,UACH,MAAA;AAAA,QACA,qBAAC,OAAI,EAAA,WAAU,aACb,UAAA;AAAA,UAAA,oBAAC,SAAI,WAAU,4CACb,8BAAC,OAAI,EAAA,WAAU,+BACb,UAAC,oBAAA,iBAAA,EAAgB,SAAS,OAAO,MAAK,QACnC,UAAA,gCACE,EAAE,KAAF,EAAsB,GAAG,kBACxB,UAAC,oBAAA,UAAA,EAAS,WAAU,YAAW,EAAA,GADtB,UAEX,IAEA,oBAAC,EAAE,KAAF,EAAmB,GAAG,kBACrB,8BAAC,gBAAe,EAAA,OAAc,KADrB,OAEX,GAEJ,GACF,EACF,CAAA;AAAA,UACA,qBAAC,OAAI,EAAA,WAAU,4CACb,UAAA;AAAA,YAAA,oBAAC,MAAG,EAAA,WAAU,sBAAsB,UAAA,MAAM,MAAK;AAAA,aAC7C,MAAM,oBAAoB,QAAQ,MAAM,iBAAiB,SACxD,oBAAA,OAAA,EAAI,WAAU,4BACb,UAAC,oBAAA,mBAAA,EAAkB,MAAc,CAAA,GACnC;AAAA,UAAA,GAEJ;AAAA,QAAA,GACF;AAAA,MAAA;AAAA,IAAA;AAAA,IA9BK,MAAM;AAAA,EAAA;AAiCjB;AAKA,SAAS,eAAe,EAAC,SAA6B;AACpD,UAAQ,MAAM,MAAM;AAAA,IAClB,KAAK;AACH,aAAQ,oBAAA,gBAAA,EAAe,OAAO,MAAM,aAAc,CAAA;AAAA,IACpD,KAAK;AAED,aAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAO,MAAM;AAAA,UACb,OAAM;AAAA,UACN,uBAAuB;AAAA,QAAA;AAAA,MAAA;AAAA,IAG7B;AACE,aAAQ,oBAAA,iBAAA,EAAgB,OAAO,MAAM,aAAc,CAAA;AAAA,EACvD;AACF;AAKA,SAAS,kBAAkB,EAAC,SAAgC;AACpD,QAAA,aAAa,oBAAoB,KAAK;AACxC,MAAA;AACJ,MAAI,aAAa,GAAG;AAClB,WAAQ,oBAAA,gBAAA,EAAe,MAAK,MAAK,WAAU,gBAAgB,CAAA;AAAA,EAAA,WAClD,eAAe,GAAG;AACpB,WAAA,oBAAC,kBAAiB,EAAA,WAAU,aAAa,CAAA;AAAA,EAAA,OAC3C;AACE,WAAA,oBAAC,kBAAiB,EAAA,WAAU,cAAc,CAAA;AAAA,EACnD;AAEA,8BACG,UACE,EAAA,UAAA;AAAA,IAAA;AAAA,IACD,qBAAC,OAAI,EAAA,WAAU,oCAAoC,UAAA;AAAA,MAAA;AAAA,MAAW;AAAA,IAAA,GAAC;AAAA,EACjE,EAAA,CAAA;AAEJ;AAEA,SAAS,oBAAoB;AAAA,EAC3B;AAAA,EACA;AAAA,EACA;AACF,GAAgB;AACd,MACE,oBAAoB,QACpB,iBAAiB,QACjB,gBAAgB,MAChB;AACA,WAAO,oBAAoB;AAAA,EAC7B;AAEA,MAAI,kBAAkB,GAAG;AAChB,WAAA;AAAA,EACT;AAEA,SAAO,KAAK,OAAQ,eAAe,iBAAiB,gBAAiB,GAAG;AAC1E;AC9IO,MAAM,kBAAkB;AAAA,EAC7B,oBAAC,QAAK,EAAA,GAAE,sPAAsP,CAAA;AAAA,EAC9P;AAAqB;ACFhB,MAAM,WAAW;AAAA,EACtB,oBAAC,QAAK,EAAA,GAAE,+GAA+G,CAAA;AAAA,EACvH;AAAc;ACFT,MAAM,kBAAkB;AAAA,EAC7B,oBAAC,QAAK,EAAA,GAAE,2SAA2S,CAAA;AAAA,EACnT;AAAqB;ACShB,SAAS,mBAAmB,EAAC,MAAM,aAAmB;AACrD,QAAA,SAAwB,QAAQ,MAAM;;AACnC,WAAA;AAAA,MACL;AAAA,QACE,MAAM;AAAA,QACN,eAAc,6BAAM,WAAW,SAAS,GAAG,UAAS;AAAA,QACpD,iBAAevD,MAAA,6BAAM,WAAW,SAAS,OAA1B,gBAAAA,IAA8B,UAAS;AAAA,QACtD,0BAAO,UAAS,EAAA;AAAA,MAClB;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,eAAc,6BAAM,WAAW,SAAS,GAAG,gBAAe;AAAA,QAC1D,iBAAe,kCAAM,WAAW,SAAS,OAA1B,mBAA8B,gBAAe;AAAA,QAC5D,0BAAO,WAAU,EAAA;AAAA,MACnB;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,eAAc,6BAAM,WAAW,SAAS,GAAG,kBAAiB;AAAA,QAC5D,iBAAe,kCAAM,WAAW,SAAS,OAA1B,mBAA8B,kBAAiB;AAAA,QAC9D,0BAAO,iBAAgB,EAAA;AAAA,MACzB;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,eACE,6BAAM,WAAW,SAAS,GAAG,iCAAgC;AAAA,QAC/D,iBACE,kCAAM,WAAW,SAAS,OAA1B,mBAA8B,iCAC9B;AAAA,QACF,0BAAO,iBAAgB,EAAA;AAAA,QACvB,MAAM;AAAA,MACR;AAAA,IAAA;AAAA,EACF,GACC,CAAC,IAAI,CAAC;AACF,SAAA,oBAAC,mBAAkB,EAAA,QAAgB,UAAsB,CAAA;AAClE;AClCA,MAAM,iBAA6C;AAAA,EACjD,OAAO;AAAA,EACP,KAAK;AACP;AAUO,SAAS,mBAAmB;AAAA,EACjC;AAAA,EACA;AAAA,EACA;AAAA,EACA,kBAAkB;AAAA,EAClB,gBAAgB;AAAA,EAChB,cAAc;AAChB,GAA4B;AAC1B,QAAM,WAAW;AAEf,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,SAAS,CAAAyC,WAAS;AAChB,YAAIA,QAAO;AACT,mBAASA,MAAK;AAAA,QAChB;AAAA,MACF;AAAA,MAEA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,SAAQ;AAAA,YACR,OAAM;AAAA,YACN,6BAAU,eAAc,EAAA;AAAA,YACxB;AAAA,YAEA,UAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,OAAO,MAAM;AAAA,gBACb,KAAK,MAAM;AAAA,gBACX,SACE,YAAY,kBACR,iBACA,kBAAkB;AAAA,cAAA;AAAA,YAE1B;AAAA,UAAA;AAAA,QACF;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC;AAAA,YACA;AAAA,YACA;AAAA,UAAA;AAAA,QACF;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAOA,SAAS,mBAAmB;AAAA,EAC1B;AAAA,EACA;AAAA,EACA;AACF,GAA4B;AAC1B,QAAM,WAAW;AACjB,QAAM,QAAQ,wBAAwB;AAAA,IACpC;AAAA,IACA,cAAc;AAAA,MACZ,OAAO,MAAM;AAAA,MACb,KAAK,MAAM;AAAA,MACX,QAAQ,MAAM;AAAA,IAChB;AAAA,IACA,wBAAwB;AAAA,EAAA,CACzB;AACD,QAAM,yBAAyB,CAAC,CAAC,MAAM,gBAAgB,CAAC,CAAC,MAAM;AAC/D,QAAM,eAAe,wBAAwB;AAAA,IAC3C;AAAA,IACA,cAAc,yBACV;AAAA,MACE,OAAO,MAAM;AAAA,MACb,KAAK,MAAM;AAAA,MACX,QAAQ,MAAM;AAAA,QAEhB,wBAAwB,CAAC,EAAE,cAAc,MAAM,aAAa;AAAA,EAAA,CACjE;AAEC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA,cAAc,gBAAgB,eAAe;AAAA,MAC7C,uBAAuB;AAAA,MACvB,2BAA2B,CAAC;AAAA,IAAA;AAAA,EAAA;AAGlC;ACvFA,MAAM,kBAAkB;AAAA,EACtB,EAAC,MAAM,WAAW,IAAI,kBAAkB,OAAO,QAAQ,SAAS,EAAC;AAAA,EACjE,EAAC,MAAM,UAAU,IAAI,wBAAwB,OAAO,QAAQ,QAAQ,EAAC;AAAA,EACrE,EAAC,MAAM,UAAU,IAAI,iBAAiB,OAAO,QAAQ,QAAQ,EAAC;AAAA,EAC9D,EAAC,MAAM,YAAY,IAAI,mBAAmB,OAAO,QAAQ,UAAU,EAAC;AACtE;AAYO,SAAS,wBAAwB;AAAA,EACtC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAU;AAEN,SAAA,qBAAC,OAAI,EAAA,WAAU,6CACb,UAAA;AAAA,IAAC,qBAAA,OAAA,EAAI,WAAU,qDACb,UAAA;AAAA,MAAA,oBAAC,mBAAiB,UAAM,MAAA,CAAA;AAAA,MACvB,oBAAA,MAAA,EAAG,WAAU,qCAAqC,UAAM,OAAA;AAAA,MACzD,qBAAC,OAAI,EAAA,WAAU,oEACb,UAAA;AAAA,QAAC,oBAAA,gBAAA,EAAe,OAAO,KAAM,CAAA;AAAA,QAC7B;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,UAAU;AAAA,YACV,OAAO;AAAA,YACP,UAAU;AAAA,YACV;AAAA,YACA;AAAA,UAAA;AAAA,QACF;AAAA,MAAA,GACF;AAAA,IAAA,GACF;AAAA,IACC;AAAA,EACH,EAAA,CAAA;AAEJ;AAKA,SAAS,eAAe,EAAC,SAA6B;AAC9C,QAAA,EAAC,WAAU;AACjB,QAAM,QAAQ,gBAAgB;AAAA,IAC5B,CAAQ,SAAA,KAAK,SAAS,YAAY,OAAO;AAAA,EAAA;AAE3C,QAAM,aAAa,gBAAgB,KAAK,CAAQ,SAAA,KAAK,SAAS,KAAK;AACnE,8BACG,UACC,EAAA,UAAA;AAAA,IAAC,oBAAA,aAAA,EAAY,SAAQ,WAAU,OAAc,WAAU,iBACpD,UAAA,MAAM,IAAI,CACT,SAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,OAAO,KAAK;AAAA,QACZ,aAAa;AAAA,QACb,IAAI,KAAK;AAAA,QAET,UAAC,oBAAA,OAAA,EAAO,GAAG,KAAK,MAAO,CAAA;AAAA,MAAA;AAAA,MALlB,KAAK;AAAA,IAOb,CAAA,GACH;AAAA,yBACC,aACC,EAAA,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,SAAQ;AAAA,UACR,WAAU;AAAA,UACV,+BAAY,gBAAe,EAAA;AAAA,UAE3B,UAAC,oBAAA,OAAA,EAAO,GAAG,WAAY,MAAO,CAAA;AAAA,QAAA;AAAA,MAChC;AAAA,MACC,oBAAA,MAAA,EACE,UAAM,MAAA,IAAI,CACT,SAAA;AAAA,QAACpB;AAAAA,QAAA;AAAA,UAEC,OAAO,KAAK;AAAA,UACZ,aAAa;AAAA,UACb,IAAI,KAAK;AAAA,UAET,UAAC,oBAAA,OAAA,EAAO,GAAG,KAAK,MAAO,CAAA;AAAA,QAAA;AAAA,QALlB,KAAK;AAAA,MAOb,CAAA,GACH;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;AC7GO,SAAS,8BAA8B,cAA+B;AAC3E,QAAM,CAAC,cAAc,eAAe,IAAI,gBAAgB;AACxD,QAAM,CAAC,WAAW,iBAAiB,IAAI,SAAyB,MAAM;AAChE,QAAA;AACI,YAAA,YAAY,aAAa,IAAI,WAAW;AACxC,YAAA,UAAU,aAAa,IAAI,SAAS;AACpC,YAAA,mBAAmB,aAAa,IAAI,kBAAkB;AACtD,YAAA,iBAAiB,aAAa,IAAI,gBAAgB;AACxD,UAAI,aAAa,SAAS;AACjB,eAAA;AAAA,UACL,OAAO,qBAAqB,SAAS;AAAA,UACrC,KAAK,qBAAqB,OAAO;AAAA,UACjC,cAAc,mBACV,qBAAqB,gBAAgB,IACrC;AAAA,UACJ,YAAY,iBACR,qBAAqB,cAAc,IACnC;AAAA,QAAA;AAAA,MAER;AAAA,aACO,GAAG;AAAA,IAAC;AAEb,WAAO,gBAAgB,iBAAiB,CAAC,EAAE,cAAc;AAAA,EAAA,CAC1D;AAED,QAAM,eAAe;AAAA,IACnB,CAACmC,eAA8B;AAC7B,wBAAkBA,UAAS;AAC3B;AAAA,QACE,CAAQ,SAAA;AAEN,cAAIA,WAAU,OAAO;AACnB,iBAAK,IAAI,aAAaA,WAAU,MAAM,kBAAkB;AAAA,UAAA,OACnD;AACL,iBAAK,OAAO,WAAW;AAAA,UACzB;AACA,cAAIA,WAAU,KAAK;AACjB,iBAAK,IAAI,WAAWA,WAAU,IAAI,kBAAkB;AAAA,UAAA,OAC/C;AACL,iBAAK,OAAO,SAAS;AAAA,UACvB;AAGA,cAAIA,WAAU,cAAc;AACrB,iBAAA;AAAA,cACH;AAAA,cACAA,WAAU,aAAa,iBAAiB;AAAA,YAAA;AAAA,UAC1C,OACK;AACL,iBAAK,OAAO,kBAAkB;AAAA,UAChC;AACA,cAAIA,WAAU,YAAY;AACxB,iBAAK,IAAI,kBAAkBA,WAAU,WAAW,kBAAkB;AAAA,UAAA,OAC7D;AACL,iBAAK,OAAO,gBAAgB;AAAA,UAC9B;AACO,iBAAA;AAAA,QACT;AAAA,QACA,EAAC,SAAS,KAAI;AAAA,MAAA;AAAA,IAElB;AAAA,IACA,CAAC,eAAe;AAAA,EAAA;AAEX,SAAA,CAAC,WAAW,YAAY;AACjC;AC1DA,MAAMC,WAAS;AACf,MAAMF,iBAAe,6DAA6DE,QAAM;AAEjF,SAAS,oBAAoB;;AAClC,QAAM,CAAC,WAAW,YAAY,IAAI,8BAA8B;AAChE,QAAM,QAAQ,gBAAgB,EAAC,UAAU,CAAA;AAEvC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,MACtC;AAAA,MACA;AAAA,MACA,eAAa;AAAA,MAEb,UAAA;AAAA,QAAA,oBAAC,sBAAmB,MAAM,MAAM,MAAM,WAAW,MAAM,WAAW;AAAA,QAClE,qBAAC,OAAI,EAAA,WAAWF,gBACd,UAAA;AAAA,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,OAAMvD,MAAA,MAAM,SAAN,gBAAAA,IAAY;AAAA,cAClB,WAAU;AAAA,cACV,WAAW,MAAM;AAAA,cACjB,OAAO,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,cACpC,YAAU;AAAA,cACV,aACE;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,SAAQ;AAAA,kBACR,QAAQ;AAAA,oBACN,OACE;AAAA,sBAAC;AAAA,sBAAA;AAAA,wBACC,SAAO,uBAAM,SAAN,mBAAY,eAAZ,mBAAwB,SAAS,OAAjC,mBAAqC,UAAS;AAAA,sBAAA;AAAA,oBACvD;AAAA,kBAEJ;AAAA,gBAAA;AAAA,cACF;AAAA,YAAA;AAAA,UAEJ;AAAA,UACA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,OAAM,WAAM,SAAN,mBAAY;AAAA,cAClB,WAAU;AAAA,cACV,WAAU;AAAA,cACV,qBAAmB;AAAA,cACnB,WAAW,MAAM;AAAA,cACjB,YAAU;AAAA,cACV,OAAO,oBAAC,OAAM,EAAA,SAAQ,gCAAgC,CAAA;AAAA,cACtD,aACE;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,SAAQ;AAAA,kBACR,QAAQ;AAAA,oBACN,OACE;AAAA,sBAAC;AAAA,sBAAA;AAAA,wBACC,SACE,iBAAM,SAAN,mBAAY,gBAAgB,SAAS,OAArC,mBAAyC,YAAW;AAAA,sBAAA;AAAA,oBAExD;AAAA,kBAEJ;AAAA,gBAAA;AAAA,cACF;AAAA,YAAA;AAAA,UAEJ;AAAA,QAAA,GACF;AAAA,QACA,qBAAC,OAAI,EAAA,WAAWuD,gBACd,UAAA;AAAA,UAAA,oBAAC,uBAAsB,EAAA,SAAQ,WAAM,SAAN,mBAAY,kBAAkB;AAAA,UAC7D;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,OAAM,WAAM,SAAN,mBAAY;AAAA,cAClB,WAAU;AAAA,cACV,WAAU;AAAA,cACV,WAAW,MAAM;AAAA,cACjB,qBAAmB;AAAA,cACnB,YAAU;AAAA,cACV,OAAO,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA;AAAA,YAAA;AAAA,UAC1C;AAAA,QAAA,GACF;AAAA,QACA,oBAAC,OAAI,EAAA,WAAWA,gBACd,UAAA,oBAAC,yBAAsB,SAAQ,WAAM,SAAN,mBAAY,OAAA,CAAQ,EACrD,CAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AC/EA,MAAM,WAAW;AAoBD,SAAA,eAAe,UAAmB,IAAI;AACpD,SAAO,SAAS;AAAA,IACd,UAAU,CAAC,UAAU,OAAO;AAAA,IAC5B,SAAS,MAAM,qBAAqB,OAAO;AAAA,IAC3C,iBAAiB;AAAA,EAAA,CAClB;AACH;AAEA,SAAS,qBAAqB;AAAA,EAC5B;AAAA,EACA;AACF,GAAmD;AACjD,QAAM,SAA8B,CAAA;AACpC,MAAI,OAAO;AACF,WAAA,QAAQ,MAAM,KAAK,GAAG;AAAA,EAC/B;AACA,MAAI,WAAW;AACN,WAAA,YAAY,UAAU,MAAM,iBAAiB;AAC7C,WAAA,UAAU,UAAU,IAAI,iBAAiB;AACzC,WAAA,WAAW,UAAU,MAAM;AAAA,EACpC;AACO,SAAA,UAAU,IAAI,UAAU,EAAC,OAAA,CAAO,EAAE,KAAK,CAAY,aAAA,SAAS,IAAI;AACzE;AC1CO,SAAS,sBAAsB;AACpC,QAAM,CAAC,WAAW,YAAY,IAAI,8BAA8B;AAChE,QAAM,EAAC,MAAM,WAAW,kBAAA,IAAqB,eAAe;AAAA,IAC1D,OAAO,CAAC,UAAU;AAAA,IAClB;AAAA,EAAA,CACD;AAGC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA;AAAA,MACxC;AAAA,MACA;AAAA,MACA,eAAa;AAAA,MAEb,UAAA;AAAA,QAAA,oBAAC,gBAAa,WAAsB;AAAA,QACpC;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAW,aAAa;AAAA,YACxB,QAAQ,6BAAM;AAAA,UAAA;AAAA,QAChB;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AAKA,SAAS,aAAa,EAAC,aAA+B;AACpD,QAAM,EAAC,MAAM,WAAW,kBAAA,IAAqB,eAAe;AAAA,IAC1D,OAAO,CAAC,QAAQ;AAAA,IAChB;AAAA,EAAA,CACD;AACD,SACG,oBAAA,mBAAA,EAAkB,QAAQ,6BAAM,cAAc,UAAsB,CAAA;AAEzE;ACjCA,MAAM,WAAW;AAAA,EACf,EAAC,KAAK,UAAU,OAAO,QAAQ,iBAAiB,GAAG,KAAK,EAAC;AAAA,EACzD,EAAC,KAAK,WAAW,OAAO,QAAQ,kBAAkB,GAAG,KAAK,EAAC;AAAA,EAC3D,EAAC,KAAK,YAAY,OAAO,QAAQ,kBAAkB,GAAG,KAAK,EAAC;AAC9D;AAEO,SAAS,oBAAoB;AAC5B,QAAA,CAAC,WAAW,YAAY,IAAI;AAAA,IAChC,iBAAiB,CAAC,EAAE,cAAc;AAAA,EAAA;AAE9B,QAAA,EAAC,aAAY;AACnB,QAAM,UAAU,SAAS,MAAM,GAAG,EAAE,IAAI;AAClC,QAAA,cAAc,SAAS,KAAK,CAAA,QAAO,IAAI,QAAQ,OAAO,KAAK,SAAS,CAAC;AAGzE,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,oBAAC,OAAO,EAAA,GAAG,YAAY,MAAO,CAAA;AAAA,MACrC,MAAK;AAAA,MACL;AAAA,MACA;AAAA,MACA,kBAAkB,YAAY,QAAQ;AAAA,MAEtC,UAAC,qBAAA,MAAA,EAAK,aAAa,YAAY,KAC7B,UAAA;AAAA,QAAC,oBAAA,SAAA,EACE,UAAS,SAAA,IAAI,CACZ,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YAEC,OAAM;AAAA,YACN,aAAa;AAAA,YACb,IAAI,iBAAiB,IAAI,GAAG;AAAA,YAC5B,SAAO;AAAA,YAEP,UAAC,oBAAA,OAAA,EAAO,GAAG,IAAI,MAAO,CAAA;AAAA,UAAA;AAAA,UANjB,IAAI;AAAA,QAQZ,CAAA,GACH;AAAA,QACA,oBAAC,OAAI,EAAA,WAAU,SACb,UAAA,oBAAC,UAAO,SAAS,EAAC,UAAS,EAAA,CAAG,EAChC,CAAA;AAAA,MAAA,GACF;AAAA,IAAA;AAAA,EAAA;AAGN;AC/CO,SAAS,uBAAuB;AAC/B,QAAA,EAAC,cAAa;AAElB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA,gBAAc;AAAA,MACd,aACE,oBAAC,OAAM,EAAA,SAAQ,2IAA2I,CAAA;AAAA,IAAA;AAAA,EAAA;AAIlK;ACXO,SAAS,wBAAwB;AAChC,QAAA,EAAC,cAAa;AAElB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA,aACE,oBAAC,OAAM,EAAA,SAAQ,gKAAgK,CAAA;AAAA,IAAA;AAAA,EAAA;AAIvL;ACeO,SAAS,kBAAkB,QAAgC;AAChE,SAAO,SAAS;AAAA,IACd,UAAU,CAAC,WAAW,YAAY,MAAM;AAAA,IACxC,SAAS,MAAM,mBAAmB,MAAM;AAAA,EAAA,CACzC;AACH;AAEA,SAAS,mBAAmB,QAAgC;AACnD,SAAA,UACJ,IAA8B,4BAA4B;AAAA,IACzD,QAAQ,wBAAwB,MAAM;AAAA,EACvC,CAAA,EACA,KAAK,CAAA,aAAY,SAAS,IAAI;AACnC;ACjCO,MAAM,4BAA+D;AAAA,EAC1E;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MACL,qBAAA,OAAA,EAAI,WAAU,2BACb,UAAA;AAAA,MAAA,oBAAC,OACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,UAAU,CAAA,GAC3B;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MACE,oBAAC,OAAM,EAAA,SAAQ,4HAA4H,CAAA;AAAA,QAAA;AAAA,MAE/I;AAAA,IAAA,GACF;AAAA,IAEF,eAAe;AAAA,IACf,MAAM,CAAA,SACH,oBAAA,MAAA,EAAK,IAAI,eAAe,IAAI,GAAG,WAAW,WAAW,QAAO,UAC1D,eAAK,OACR;AAAA,EAEJ;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,QAAQ,CAAA;AAAA,IACrC,OAAO;AAAA,IACP,MAAM,CAAQ,SAAA,oBAAC,iBAAgB,EAAA,OAAO,KAAK,OAAO;AAAA,EACpD;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,QAAQ,CAAA;AAAA,IACrC,OAAO;AAAA,IACP,MAAM,CAAQ,SAAA,qBAAC,QAAM,EAAA,UAAA;AAAA,MAAK,KAAA;AAAA,MAAM;AAAA,IAAA,GAAC;AAAA,EACnC;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,QAAQ,CAAA;AAAA,IACrC,OAAO;AAAA,IACP,MAAM,CAAQ,SAAA,oBAAC,iBAAgB,EAAA,OAAO,KAAK,gBAAgB;AAAA,EAC7D;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,WAAW,CAAA;AAAA,IACxC,OAAO;AAAA,IACP,MAAM,CAAQ,SAAA,oBAAC,iBAAgB,EAAA,OAAO,KAAK,gBAAgB;AAAA,EAC7D;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,WAAW,CAAA;AAAA,IACxC,eAAe;AAAA,IACf,MAAM,CAAA,SAAS,oBAAA,aAAA,EAAY,SAAS,MAAM;AAAA,EAC5C;AACF;ACnDO,SAAS,iBAAiB;AAC/B,QAAM,CAAC,cAAc,eAAe,IAAI,gBAAgB;AACxD,QAAM,QAAQ,kBAAkB;AAAA,IAC9B,MAAM,aAAa,IAAI,MAAM,KAAK;AAAA,IAClC,SAAS,aAAa,IAAI,SAAS,KAAK;AAAA,EAAA,CACzC;AACD,QAAM,EAAC,MAAM,aAAa,WAAW,sBAAqB;AAC1D,QAAM,SAAQ,6BAAM,WAAW,SAAQ,CAAA;AACjC,QAAA,UACH,gBAAgB,UAAU,MAAM,WAAW,KAC3C,CAAC,aAAa,CAAC,qBAAqB,MAAM,WAAW;AAGtD,SAAA,qBAAC,OAAI,EAAA,WAAU,mCACb,UAAA;AAAA,IAAA,oBAAC,yBAAsB,OAAc;AAAA,IACrC;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,MAAM;AAAA,QACN,iBAAiB;AAAA,QACjB,kBAAkB;AAAA,QAClB,WAAU;AAAA,MAAA;AAAA,IACZ;AAAA,IACC,WACC;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,OAAO,oBAAC,UAAS,EAAA,KAAK,YAAa,CAAA;AAAA,QACnC,OAAO,oBAAC,OAAM,EAAA,SAAQ,mCAAmC,CAAA;AAAA,MAAA;AAAA,IAC3D;AAAA,IAEF;AAAA,MAAC;AAAA,MAAA;AAAA,QACC;AAAA,QACA,cAAc,CACZ,SAAA,gBAAgB,CAAQ,SAAA;AACtB,eAAK,IAAI,QAAQ,KAAK,SAAU,CAAA;AACzB,iBAAA;AAAA,QAAA,CACR;AAAA,QAEH,iBAAiB,CACf,YAAA,gBAAgB,CAAQ,SAAA;AACtB,eAAK,IAAI,WAAW,QAAQ,SAAU,CAAA;AAC/B,iBAAA;AAAA,QAAA,CACR;AAAA,MAAA;AAAA,IAEL;AAAA,EACF,EAAA,CAAA;AAEJ;AC5BO,SAAS,gBAAgB,QAAgB;AAC9C,SAAO,SAAS;AAAA,IACd,UAAU,CAAC,WAAW,UAAU,MAAM;AAAA,IACtC,SAAS,MAAM,kBAAkB,MAAM;AAAA,EAAA,CACxC;AACH;AAEA,SAAS,kBAAkB,QAAgB;AAClC,SAAA,UACJ,IAA6B,kBAAkB;AAAA,IAC9C,QAAQ,wBAAwB,MAAM;AAAA,EACvC,CAAA,EACA,KAAK,CAAA,aAAY,SAAS,IAAI;AACnC;AClCA,MAAM,SAAS;AACf,MAAM,eAAe,6DAA6D,MAAM;AAEjF,SAAS,eAAe;;AAC7B,QAAM,CAAC,WAAW,YAAY,IAAI,8BAA8B;AAChE,QAAM,QAAQ,gBAAgB;AAAA,IAC5B;AAAA,EAAA,CACD;AAEC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,MACtC;AAAA,MACA;AAAA,MACA,eAAa;AAAA,MACb,aAAY;AAAA,MAEZ,UAAA;AAAA,QAAC,qBAAA,OAAA,EAAI,WAAW,cACd,UAAA;AAAA,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,OAAMvD,MAAA,MAAM,SAAN,gBAAAA,IAAY;AAAA,cAClB,WAAU;AAAA,cACV,WAAW,MAAM;AAAA,cACjB,OAAO,oBAAC,OAAM,EAAA,SAAQ,WAAW,CAAA;AAAA,cACjC,YAAU;AAAA,cACV,aACE;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACC,SAAQ;AAAA,kBACR,QAAQ;AAAA,oBACN,OACE;AAAA,sBAAC;AAAA,sBAAA;AAAA,wBACC,SAAO,uBAAM,SAAN,mBAAY,aAAZ,mBAAsB,SAAS,OAA/B,mBAAmC,UAAS;AAAA,sBAAA;AAAA,oBACrD;AAAA,kBAEJ;AAAA,gBAAA;AAAA,cACF;AAAA,YAAA;AAAA,UAEJ;AAAA,UACA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,OAAM,WAAM,SAAN,mBAAY;AAAA,cAClB,WAAU;AAAA,cACV,WAAU;AAAA,cACV,WAAW,MAAM;AAAA,cACjB,qBAAmB;AAAA,cACnB,YAAU;AAAA,cACV,OAAO,oBAAC,OAAM,EAAA,SAAQ,mBAAmB,CAAA;AAAA,YAAA;AAAA,UAC3C;AAAA,QAAA,GACF;AAAA,QACA,qBAAC,OAAI,EAAA,WAAW,cACd,UAAA;AAAA,UAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,OAAM,WAAM,SAAN,mBAAY;AAAA,cAClB,WAAU;AAAA,cACV,WAAW,MAAM;AAAA,cACjB,OAAO,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA;AAAA,YAAA;AAAA,UAC9C;AAAA,UACA;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,OAAM,WAAM,SAAN,mBAAY;AAAA,cAClB,WAAU;AAAA,cACV,WAAU;AAAA,cACV,WAAW,MAAM;AAAA,cACjB,qBAAmB;AAAA,cACnB,YAAU;AAAA,cACV,OAAO,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA;AAAA,YAAA;AAAA,UAC9C;AAAA,QAAA,GACF;AAAA,MAAA;AAAA,IAAA;AAAA,EAAA;AAGN;AC3EA,MAAe,wBAAA;ACUR,MAAM,2BAAoD;AAAA,EAC/D;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,eAAe;AAAA,IACf,OAAO;AAAA,IACP,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA;AAAA,IACpC,MAAM,aAAW,QAAQ;AAAA,EAC3B;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,aAAa,CAAA;AAAA,IAC1C,MAAM,CAAW,YAAA,oBAAC,iBAAgB,EAAA,OAAO,QAAQ,aAAa;AAAA,EAChE;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,OAAO;AAAA,IACP,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,eAAe,CAAA;AAAA,IAC5C,MAAM,CAAW,YAAA,oBAAC,eAAc,EAAA,MAAM,QAAQ,YAAY;AAAA,EAC5D;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,UAAU,CAAA;AAAA,IACvC,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,OAAO;AAAA,IACP,eAAe;AAAA,IACf,MAAM,CACJ,YAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,WAAU;AAAA,QACV,aAAa;AAAA,QACb,IAAI,mBAAmB,QAAQ,EAAE;AAAA,QAEjC,8BAAC,UAAS,EAAA;AAAA,MAAA;AAAA,IACZ;AAAA,EAEJ;AACF;ACxCO,SAAS,wBAAwB;AAEpC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAS;AAAA,MACT,OAAO,oBAAC,OAAM,EAAA,SAAQ,WAAW,CAAA;AAAA,MACjC,SAAS;AAAA,MACT,6BAAUI,WAAQ,EAAA;AAAA,MAClB,qCAAkB,2BAA0B,EAAA;AAAA,MAC5C,mBACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAOiC;AAAAA,UACP,OAAO,oBAAC,OAAM,EAAA,SAAQ,oCAAoC,CAAA;AAAA,UAC1D,gBAAgB,oBAAC,OAAM,EAAA,SAAQ,uBAAuB,CAAA;AAAA,QAAA;AAAA,MACxD;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA,SAASjC,YAAU;AAEf,SAAA,oBAAC,wBAAuB,EAAA,aAAa,MAAM,IAAG,uBAC5C,UAAC,oBAAA,OAAA,EAAM,SAAQ,kBAAkB,CAAA,EACnC,CAAA;AAEJ;ACzBO,SAAS,aAAa;AACrB,QAAA,EAAC,cAAa;AACpB,SAAO,SAAS;AAAA,IACd,UAAU,CAAC,YAAY,GAAG,SAAS,EAAE;AAAA,IACrC,SAAS,MAAM,aAAa,SAAU;AAAA,EAAA,CACvC;AACH;AAEA,eAAe,aAAa,WAA4B;AAChD,QAAA,OAAO,MAAM,UAChB,IAA0B,YAAY,SAAS,EAAE,EACjD,KAAK,CAAY,aAAA,SAAS,IAAI;AACjC,OAAK,QAAQ,gBAAgB,IAAI,KAAK,QAAQ,WAAY;AAAA,IACxD,CAAA,MAAK,EAAE,eAAe;AAAA,EAAA;AAExB,OAAK,QAAQ,gBAAgB,IAAI,KAAK,QAAQ,WAAY;AAAA,IACxD,CAAA,MAAK,EAAE,eAAe;AAAA,EAAA;AAEjB,SAAA;AACT;ACTO,SAAS,iBAAiB,MAA2C;AACpE,QAAA,EAAC,UAAS;AACV,QAAA,EAAC,cAAa;AACpB,QAAM,WAAWW;AACjB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UACX,cAAc,WAAY,KAAK;AAAA,IACjC,WAAW,MAAM;AACf,kBAAY,kBAAkB;AAAA,QAC5B,UAAU,sBAAsB,UAAU;AAAA,MAAA,CAC3C;AACD,eAAS,iBAAiB;AAC1B,YAAM,MAAM,QAAQ,iBAAiB,CAAC,CAAC;AAAA,IACzC;AAAA,IACA,SAAS,CAAA,QAAO,iBAAiB,KAAK,IAAI;AAAA,EAAA,CAC3C;AACH;AAEA,SAAS,cAAc,WAA4B,MAA4B;AAC7E,QAAM,UAAU;AAAA,IACd,GAAG;AAAA,IACH,YAAY,cAAc,KAAK,eAAe,OAAO,KAAK,cAAc,CAAC;AAAA,IACzE,SAAS,cAAc,KAAK,WAAW,CAAA,CAAE;AAAA,EAAA;AAEpC,SAAA,UACJ,IAAc,YAAY,SAAS,IAAI,OAAO,EAC9C,KAAK,CAAK,MAAA,EAAE,IAAI;AACrB;AAEA,SAAS,cAAc,OAAiC;AAC/C,SAAA,MAAM,IAAI,CAAQ,SAAA;;AACvB,SAAIf,MAAA,KAAK,OAAL,gBAAAA,IAAS,WAAW,WAAW,UAAU;AAC3C,aAAO,KAAK;AAAA,IACd;AACO,WAAA;AAAA,EAAA,CACR;AACH;ACnDgB,SAAA,qBAAqB,EAAC,YAAkB;AACtD,SAAQ,oBAAA,MAAA,EAAG,WAAU,mCAAmC,SAAS,CAAA;AACnE;ACkBO,SAAS,yBAAyB;AAAA,EACvC;AAAA,EACA;AAAA,EACA;AACF,GAAU;;AACR,QAAM,EAAC,QAAQ,QAAQ,OAAA,IAAU,cAI/B;AAAA,IACA,MAAM;AAAA,IACN,SAAS;AAAA,EAAA,CACV;AACK,QAAA,EAAC,kBAAiB;AACxB,QAAM,kBAAiBA,MAAA,cAAc,YAAY,EAAE,UAA5B,gBAAAA,IAAmC;AAE1D,QAAM,gBACJ,cAAc,mBACV,QAAQ,0CAA0C,IAClD,QAAQ,6CAA6C;AAE3D,QAAM,kBAAkB,MAAM;AAC5B,UAAM,YAAY,OAAO,WAAW,KAAK,CAAK,MAAA,EAAE,SAAS,YAAY;AAC9D,WAAA;AAAA,MACL,IAAI,QAAQ,OAAA,CAAQ;AAAA,MACpB,cAAc,UAAU;AAAA,MACxB,aAAa,UAAU,UAAU,CAAC,EAAE;AAAA,MACpC,OAAO;AAAA,MACP,YAAY,cAAc,mBAAmB,QAAQ;AAAA,IAAA,CACtD;AAAA,EAAA;AAID,SAAA,qBAAC,SAAI,WACH,UAAA;AAAA,IAAA,oBAAC,sBACC,EAAA,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS,cAAc;AAAA,QACvB,QAAQ;AAAA,UACN,GAAG,CACD,SAAA,oBAAC,QAAK,EAAA,WAAU,kDACb,UACH,MAAA;AAAA,QAEJ;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,IACC,OAAO,IAAI,CAAC,OAAO,UAClB;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC;AAAA,QACA;AAAA,QACA;AAAA,QACA,UAAU,CAAA0D,WAAS,OAAOA,MAAK;AAAA,QAC/B,WAAU;AAAA,MAAA;AAAA,MALL,MAAM;AAAA,IAAA,CAOd;AAAA,IACD;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,+BAAY,SAAQ,EAAA;AAAA,QACpB,SAAS;AAAA,QACT,MAAK;AAAA,QACL,WAAU;AAAA,QAEV,UAAA,oBAAC,OAAM,EAAA,SAAQ,gBAAgB,CAAA;AAAA,MAAA;AAAA,IACjC;AAAA,IACC,kBAAkB,cAAc,wCAC9B,KAAE,EAAA,WAAU,6BAA6B,UAAe,gBAAA;AAAA,EAE7D,EAAA,CAAA;AAEJ;AASA,SAAS,aAAa;AAAA,EACpB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAsB;AACpB,QAAM,oBAAoB,OAAO;AACjC,QAAM,EAAC,UAAU,MAAK,IAAI,eAAqC;AAC/D,QAAM,sBAAsB,MAAM,GAAG,SAAS,IAAI,KAAK,eAAe;AAChE,QAAA,oBAAoB,OAAO,WAAW;AAAA,IAC1C,CAAA,MAAK,EAAE,OAAO;AAAA,EAAA;AAEV,QAAA,4BAA4B,YAAY,iBAAiB;AAE/D,YAAU,MAAM;;AACd,QACE,qBACA,6BACA,0BAA0B,SAAS,kBAAkB,MACrD;AACA;AAAA,QACE,GAAG,SAAS,IAAI,KAAK;AAAA,SACrB1D,MAAA,kBAAmB,UAAU,CAAC,MAA9B,gBAAAA,IAAiC;AAAA,MAAA;AAE/B,UAAA,kBAAkB,SAAS,cAAc;AAC3C,iBAAS,GAAG,SAAS,IAAI,KAAK,UAAU,gBAAgB;AAAA,MAAA,OACnD;AACL,iBAAS,GAAG,SAAS,IAAI,KAAK,UAAU,EAAE;AAAA,MAC5C;AAAA,IACF;AAAA,EAAA,GACC;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA,CACD;AAED,8BACG,OAAI,EAAA,WAAW,KAAK,oCAAoC,SAAS,GAChE,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAM,GAAG,SAAS,IAAI,KAAK;AAAA,QAC3B,eAAc;AAAA,QACd,UAAS;AAAA,QAER,UAAO,OAAA,QAAQ,iBAAiB,EAAE,IAAI,CAAC,CAAC,WAAW,UAAU,MAC3D,oBAAA,SAAA,EAAQ,OAAO,WAAW,SAAS,GACjC,UAAA,WAAW,IAAI,CAAA,cACb,oBAAAY,MAAA,EAA0B,OAAO,UAAU,IACzC,UAAU,UAAA,KAAA,GADA,UAAU,EAEvB,CACD,EAAA,GALyC,SAM5C,CACD;AAAA,MAAA;AAAA,IACH;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAM,GAAG,SAAS,IAAI,KAAK;AAAA,QAC3B,eAAc;AAAA,QACd,UAAS;AAAA,QAER,UAAmB,uDAAA,UAAU,IAAI,CAAA,aAC/B,oBAAAA,MAAA,EAAyB,OAAO,SAAS,IACvC,UAAA,SAAS,gBADC,SAAS,EAEtB;AAAA,MACD;AAAA,IACH;AAAA,KACC,uDAAmB,UAAS,gBAC3B,qBAAC,YAAW,EAAA,MAAM,GAAG,SAAS,IAAI,KAAK,UAAU,eAAc,UAC7D,UAAA;AAAA,MAAA,oBAAC,QAAK,OAAM,kBACV,8BAAC,OAAM,EAAA,SAAQ,kBAAiB,EAClC,CAAA;AAAA,MACA,oBAAC,QAAK,OAAM,kBACV,8BAAC,OAAM,EAAA,SAAQ,kBAAiB,EAClC,CAAA;AAAA,IAAA,GACF;AAAA,KAED,uDAAmB,UAAS,gBAC1B,oBAAA,eAAA,EAAc,MAAM,GAAG,SAAS,IAAI,KAAK,SAAU,CAAA;AAAA,IAEtD,oBAAC,YAAW,EAAA,OAAM,UAAS,SAAS,MAAM,SAAS,KAAK,GACtD,UAAC,oBAAA,WAAA,CAAA,CAAU,EACb,CAAA;AAAA,EACF,EAAA,CAAA;AAEJ;ACnKgB,SAAA,sBAAsB,EAAC,UAAgB;;AACrD,QAAM,EAAC,QAAQ,QAAQ,OAAA,IAAU,cAI/B;AAAA,IACA,MAAM;AAAA,IACN,SAAS;AAAA,EAAA,CACV;AACK,QAAA,EAAC,kBAAiB;AACxB,QAAM,eAAcZ,MAAA,cAAc,SAAS,EAAE,UAAzB,gBAAAA,IAAgC;AAEpD,QAAM,eAAe,MAAM;AACnB,UAAA,UAAU,OAAO,QAAQ;AAAA,MAC7B,CAAA,MAAK,EAAE,SAAS;AAAA,IAAA;AAEX,WAAA;AAAA,MACL,IAAI,QAAQ,OAAA,CAAQ;AAAA,MACpB,WAAW,QAAQ;AAAA,MACnB,cAAc;AAAA,QACZ,aAAa;AAAA,MACf;AAAA,IAAA,CACD;AAAA,EAAA;AAGH,8BACG,OACC,EAAA,UAAA;AAAA,IAAA,oBAAC,sBACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,wBAAwB,CAAA,GACzC;AAAA,IACC,OAAO,IAAI,CAAC,OAAO,UAClB;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,aAAa;AAAA,QACb;AAAA,QACA,UAAU,CAAA0D,WAAS,OAAOA,MAAK;AAAA,QAC/B,WAAW,UAAU,IAAI,UAAU;AAAA,MAAA;AAAA,MAJ9B,MAAM;AAAA,IAAA,CAMd;AAAA,IACD;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,+BAAY,SAAQ,EAAA;AAAA,QACpB,SAAS,MAAM,aAAa;AAAA,QAC5B,MAAK;AAAA,QACL,WAAU;AAAA,QAEV,UAAA,oBAAC,OAAM,EAAA,SAAQ,aAAa,CAAA;AAAA,MAAA;AAAA,IAC9B;AAAA,IACC,eACC,oBAAC,KAAE,EAAA,WAAU,6BAA6B,UAAY,aAAA;AAAA,EAE1D,EAAA,CAAA;AAEJ;AAQA,SAAS,UAAU,EAAC,aAAa,UAAU,QAAQ,aAA4B;;AAC7E,QAAM,EAAC,OAAO,SAAQ,IAAI,eAAqC;AAC/D,QAAM,mBAAmB,MAAM,WAAW,WAAW,YAAY;AACjE,QAAM,iBAAiB,OAAO,QAAQ,KAAK,CAAK,MAAA,EAAE,OAAO,gBAAgB;AACnE,QAAA,yBAAyB,YAAY,cAAc;AAEzD,YAAU,MAAM;;AACd,QACE,kBACA,0BACA,eAAe,SAAS,uBAAuB,MAC/C;AAEA,eAAS,WAAW,WAAW,iBAAiB,CAAE,CAAA;AAGnC,OAAA1D,MAAA,eAAA,iBAAA,gBAAAA,IAAc,OAAO,IAAI,CAAS,UAAA;AAC/C,YAAI,MAAM,gBAAgB;AACxB;AAAA,YACE,WAAW,WAAW,iBAAiB,MAAM,IAAI;AAAA,YACjD,OAAO,cAAc,MAAM,cAAc,EAAE,CAAC,EAAE;AAAA,UAAA;AAAA,QAElD;AAAA,MAAA;AAAA,IAEJ;AAAA,EAAA,GACC,CAAC,wBAAwB,gBAAgB,aAAa,UAAU,MAAM,CAAC;AAE1E,8BACG,OAAI,EAAA,WAAW,KAAK,oCAAoC,SAAS,GAChE,UAAA;AAAA,IAAC,qBAAA,OAAA,EAAI,WAAU,qCACb,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAM,WAAW,WAAW;AAAA,UAC5B,eAAc;AAAA,UAEb,UAAO,OAAA,QAAQ,IAAI,CAAA,WACjB,oBAAAY,MAAA,EAAuB,OAAO,OAAO,IACnC,UAAA,OAAO,gBADG,OAAO,EAEpB,CACD;AAAA,QAAA;AAAA,MACH;AAAA,OACCZ,MAAA,iDAAgB,iBAAhB,gBAAAA,IAA8B,OAAO,IAAI,CAAC,OAAO,eAChD;AAAA,QAAC;AAAA,QAAA;AAAA,UACC;AAAA,UAEA;AAAA,UACA;AAAA,QAAA;AAAA,QAFK;AAAA,MAAA;AAAA,IAIR,GACH;AAAA,IACA,oBAAC,YAAW,EAAA,OAAM,UAAS,SAAS,MAAM,SAAS,WAAW,GAC5D,UAAC,oBAAA,WAAA,CAAA,CAAU,EACb,CAAA;AAAA,EACF,EAAA,CAAA;AAEJ;AAOA,SAAS,iBAAiB,EAAC,OAAO,aAAa,UAA2B;AACxE,QAAM,OAAO,WAAW,WAAW,iBAAiB,MAAM,IAAI;AAE9D,MAAI,MAAM,SAAS,iBAAiB,MAAM,SAAS,kBAAkB;AAC5D,WAAA,oBAAC,eAAY,KAAY,CAAA;AAAA,EAClC;AAEA,UAAQ,MAAM,MAAM;AAAA,IAClB,KAAK;AAAA,IACL,KAAK;AAED,aAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC;AAAA,UACA,OAAO,MAAM;AAAA,UACb,aAAa,MAAM;AAAA,UACnB,kBAAkB,MAAM,SAAS,aAAa,aAAa;AAAA,UAC3D,MAAM,MAAM,SAAS,aAAa,IAAI;AAAA,QAAA;AAAA,MAAA;AAAA,IAG5C,KAAK;AAED,aAAA,oBAAC,YAAW,EAAA,MAAY,eAAc,UACnC,UAAO,OAAA,cAAc,MAAM,cAAe,EAAE,IAAI,CAC/C,WAAA;AAAA,QAACY;AAAAA,QAAA;AAAA,UACC,aAAa,OAAO;AAAA,UAEpB,OAAO,OAAO;AAAA,UACd,iBAAe;AAAA,UACf,WAAW,OAAO,QAAQ,oBAAC,UAAO,KAAK,OAAO,MAAO,CAAA,IAAK;AAAA,UAEzD,UAAO,OAAA;AAAA,QAAA;AAAA,QALH,OAAO;AAAA,MAOf,CAAA,EACH,CAAA;AAAA,EAEN;AACF;AAKA,SAAS,YAAY,EAAC,QAAyB;AACvC,QAAA,EAAC,UAAS;AAChB,QAAM,CAAC,OAAO,QAAQ,IAAI,SAAS,EAAE;AAC/B,QAAA,EAAC,MAAM,WAAc,IAAA,QAAQ,EAAC,OAAO,SAAS,GAAG,SAAS,SAAS,CAAA;AAEvE,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC;AAAA,MACA,SAAO;AAAA,MACP,WAAW;AAAA,MACX,YAAY;AAAA,MACZ,oBAAoB;AAAA,MACpB,UAAS;AAAA,MACT,aAAa,MAAM,QAAQ,mBAAmB,CAAC;AAAA,MAC/C,kBAAgB;AAAA,MAEf,UAAM,6BAAA,WAAW,KAAK,IAAI,CACzB,WAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UAEC,OAAO,OAAO;AAAA,UACd,WAAW,OAAO;AAAA,UAClB,iBAAe;AAAA,UAEd,UAAO,OAAA;AAAA,QAAA;AAAA,QALH,OAAO;AAAA,MAAA;AAAA,IAOf;AAAA,EAAA;AAGP;AC9MgB,SAAA,oBAAoB,EAAC,UAAgB;AACnD,8BACG,OACC,EAAA,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAC7B,WAAU;AAAA,MAAA;AAAA,IACZ;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,QACpC,kBAAiB;AAAA,QACjB,MAAM;AAAA,QACN,WAAU;AAAA,MAAA;AAAA,IACZ;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,WAAU;AAAA,QACV;AAAA,MAAA;AAAA,IACF;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV;AAAA,QACA,WAAU;AAAA,MAAA;AAAA,IACZ;AAAA,IACA,oBAAC,yBAAsB,QAAgB;AAAA,EACzC,EAAA,CAAA;AAEJ;AClCgB,SAAA,aACd,KACA,IACA,SACsB;AACtB,QAAM,SAA+B,CAAA;AACrC,WAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK;AAC/B,QAAA,OAAO,IAAI,CAAC;AACV,UAAA,iBAAiB,GAAG,IAAI;AACxB,UAAA,SAAS,OAAO,cAAc;AAE7B,YAAA,mCAAS,OAAM,QAAQ,IAAI,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC;AAEjD,QAAI,CAAC,MAAM,QAAQ,MAAM,GAAG;AACnB,aAAA,cAAc,IAAI,CAAC,IAAI;AAAA,IAAA,OACzB;AACE,aAAA,cAAc,EAAE,KAAK,IAAI;AAAA,IAClC;AAAA,EACF;AAEO,SAAA;AACT;ACHO,SAAS,mBAAmB;AACjC,SAAO,SAAS;AAAA,IACd,UAAU,CAAC,YAAY,QAAQ;AAAA,IAC/B,SAAS,MAAM,YAAY;AAAA,EAAA,CAC5B;AACH;AAEA,eAAe,cAAc;AACrB,QAAA,OAAO,MAAM,UAChB,IAAgC,iBAAiB,EACjD,KAAK,CAAY,aAAA,SAAS,IAAI;AAC1B,SAAA;AAAA,IACL,mBAAmB;AAAA,MACjB,KAAK;AAAA,MACL,CAAQ,SAAA;AACN,cAAM,CAAC,KAAK,IAAI,KAAK,KAAK,MAAM,GAAG;AACnC,eAAO,MAAM;MACf;AAAA,MACA;AAAA,QACE,KAAK,CAAQ,SAAA;AACN,eAAA,OAAO,KAAK,KAAK,MAAM,GAAG,EAAE,CAAC,EAAE;AAC7B,iBAAA;AAAA,QACT;AAAA,MACF;AAAA,IACF;AAAA,IACA,YAAY,KAAK;AAAA,IACjB,WAAW,KAAK;AAAA,IAChB,SAAS,KAAK;AAAA,IACd,eAAe,KAAK;AAAA,EAAA;AAExB;AC9BO,SAAS,oBAAoB;AAClC,QAAM,eAAe;AACrB,QAAM,cAAc;AACd,QAAA,YAAY,aAAa,aAAa,YAAY;AAClD,QAAA,cAAc,aAAa,WAAW;AAAA,IAC1C,OAAO;AAAA,IACP,aAAa;AAAA,EAAA,CACd;AAEG,MAAA,aAAa,QAAQ,YAAY,MAAM;AAEvC,WAAA;AAAA,MAACoB;AAAAA,MAAA;AAAA,QACC,SAAS,aAAa,KAAK;AAAA,QAC3B,QAAQ,YAAY;AAAA,MAAA;AAAA,IAAA;AAAA,EAG1B;AAEA,MAAI,WAAW;AACN,WAAA,cAAe,oBAAA,gBAAA,CAAe,CAAA,IAAK;AAAA,EAC5C;AAEA,6BAAQ,kBAAiB,CAAA,CAAA;AAC3B;AAMA,SAASA,cAAY,EAAC,SAAS,UAA2B;AACxD,QAAM,OAAO,QAA8B;AAAA,IACzC,eAAe;AAAA,MACb,MAAM,QAAQ;AAAA,MACd,aAAa,QAAQ;AAAA,MACrB,gBAAgB,QAAQ;AAAA,MACxB,gBAAgB,QAAQ;AAAA,MACxB,SAAS,QAAQ;AAAA,IACnB;AAAA,EAAA,CACD;AACK,QAAA2B,iBAAgB,iBAAiB,IAAI;AAEzC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAU,CAAA,WAAUA,eAAc,OAAO,MAAM;AAAA,MAC/C;AAAA,MACA,OACG,oBAAA,OAAA,EAAM,SAAQ,wBAAuB,QAAQ,EAAC,MAAM,QAAQ,KAAO,EAAA,CAAA;AAAA,MAEtE,WAAWA,eAAc;AAAA,MACzB,YACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,aAAa;AAAA,UACb,IAAG;AAAA,UACH,WAAU;AAAA,UAEV,8BAAC,eAAc,EAAA;AAAA,QAAA;AAAA,MACjB;AAAA,MAEF,iBAAe;AAAA,MAEf,UAAA,oBAAC,uBAAoB,OAAgB,CAAA;AAAA,IAAA;AAAA,EAAA;AAG3C;AC3DO,SAAS,iBAAiB,MAA2C;AACpE,QAAA,EAAC,UAAS;AAChB,QAAM,WAAW5C;AACjB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UAAgC,cAAc,KAAK;AAAA,IAChE,WAAW,CAAY,aAAA;AACrB,kBAAY,kBAAkB;AAAA,QAC5B,UAAU,sBAAsB,UAAU;AAAA,MAAA,CAC3C;AACD,eAAS,mBAAmB,SAAS,QAAQ,EAAE,OAAO;AACtD,YAAM,MAAM,QAAQ,iBAAiB,CAAC,CAAC;AAAA,IACzC;AAAA,IACA,SAAS,CAAA,QAAO,iBAAiB,KAAK,IAAI;AAAA,EAAA,CAC3C;AACH;AAEA,SAAS,cAAc,MAA4B;AACjD,QAAM,UAAU;AAAA,IACd,GAAG;AAAA,IACH,YAAY,KAAK,eAAe,OAAO,KAAK,cAAc;AAAA,EAAA;AAErD,SAAA,UAAU,KAAe,YAAY,OAAO,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AACvE;AC3BO,SAAS,oBAAoB;AAClC,QAAM,cAAc;AACd,QAAA,cAAc,aAAa,YAAY,WAAW;AAAA,IACtD,OAAO;AAAA,IACP,aAAa;AAAA,EAAA,CACd;AAED,MAAI,YAAY,MAAM;AACpB,WAAQ,oBAAAiB,eAAA,EAAY,QAAQ,YAAY,KAAM,CAAA;AAAA,EAChD;AAEA,MAAI,YAAY,WAAW;AAClB,WAAA,cAAe,oBAAA,gBAAA,CAAe,CAAA,IAAK;AAAA,EAC5C;AAEA,6BAAQ,kBAAiB,CAAA,CAAA;AAC3B;AAKA,SAASA,cAAY,EAAC,UAA2B;AAC/C,QAAM,OAAO;AACP,QAAA4B,iBAAgB,iBAAiB,IAAI;AAEzC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAU,CAAA,WAAUA,eAAc,OAAO,MAAM;AAAA,MAC/C;AAAA,MACA,OAAO,oBAAC,OAAM,EAAA,SAAQ,qBAAqB,CAAA;AAAA,MAC3C,WAAWA,eAAc;AAAA,MACzB,YACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,aAAa;AAAA,UACb,IAAG;AAAA,UACH,WAAU;AAAA,UAEV,8BAAC,eAAc,EAAA;AAAA,QAAA;AAAA,MACjB;AAAA,MAEF,iBAAe;AAAA,MAEf,UAAA,oBAAC,uBAAoB,OAAgB,CAAA;AAAA,IAAA;AAAA,EAAA;AAG3C;ACxCO,MAAM,0BAAmD;AAAA,EAC9D;AAAA,IACE,KAAK;AAAA,IACL,OAAO;AAAA,IACP,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,UAAU,CAAA;AAAA,IACvC,MAAM,CAAA,YAAY,oBAAA,eAAA,EAAc,QAAkB,CAAA;AAAA,EACpD;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,OAAO;AAAA,IACP,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,QAAQ,CAAA;AAAA,IACrC,MAAM,CACJ,YAAA,QAAQ,SACN;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,QAAQ,OAAO;AAAA,QACtB,OAAO,QAAQ,OAAO;AAAA,QACtB,aAAa,QAAQ,OAAO;AAAA,MAAA;AAAA,IAAA,IAE5B;AAAA,EACR;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,OAAO;AAAA,IACP,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,YAAY,CAAA;AAAA,IACzC,MAAM,CACJ,YAAA,CAAC,QAAQ,4BACN,WAAU,EAAA,MAAK,MAAK,WAAU,gBAAgB,CAAA,IAE/C,oBAAC,aAAU,MAAK,MAAK,WAAU,eAAc;AAAA,EAEnD;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,OAAO;AAAA,IACP,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,eAAe,CAAA;AAAA,IAC5C,MAAM,WACH,oBAAA,QAAA,EACC,8BAAC,eAAc,EAAA,MAAM,MAAM,WAAA,CAAY,EACzC,CAAA;AAAA,EAEJ;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,UAAU,CAAA;AAAA,IACvC,OAAO;AAAA,IACP,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,eAAe;AAAA,IACf,MAAM,CAAA,YACH,qBAAA,OAAA,EAAI,WAAU,cACb,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAK;AAAA,UACL,aAAa;AAAA,UACb,IAAI,mBAAmB,OAAO;AAAA,UAE9B,8BAAC,UAAS,EAAA;AAAA,QAAA;AAAA,MACZ;AAAA,MACA,qBAAC,eAAc,EAAA,MAAK,SAClB,UAAA;AAAA,QAAA,oBAAC,SAAQ,EAAA,OAAQ,oBAAA,OAAA,EAAM,SAAQ,gBAAe,GAC5C,UAAA,oBAAC,YACC,EAAA,UAAA,oBAAC,YAAW,CAAA,CAAA,EACd,CAAA,GACF;AAAA,QACA,oBAAC,uBAAoB,SAAkB;AAAA,MAAA,GACzC;AAAA,IAAA,GACF;AAAA,EAEJ;AACF;AAKA,SAAS,cAAc,EAAC,WAA8B;AACpD,QAAM,EAAC,gBAAA,IAAmB,WAAW,YAAY;AAE/C,SAAA,qBAAC,OAAI,EAAA,WAAU,WACb,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAW;AAAA,UACT,kBACI,sBACA;AAAA,QACN;AAAA,QAEC,UAAQ,QAAA;AAAA,MAAA;AAAA,IACX;AAAA,IACC,CAAC,mBACC,qBAAA,OAAA,EAAI,WAAU,QACb,UAAA;AAAA,MAAA,oBAAC,SAAI,WAAU,WACb,UAAC,oBAAA,aAAA,EAAY,QAAkB,CAAA,GACjC;AAAA,MACA,oBAAC,KAAE,EAAA,WAAU,uDACV,UAAA,eAAe,UAAU,QAAQ,IAAI,GAAG,GAAG,EAC9C,CAAA;AAAA,IAAA,GACF;AAAA,EAEJ,EAAA,CAAA;AAEJ;AAKgB,SAAA,oBAAoB,EAAC,WAAoC;AACvE,QAAM,iBAAiB;AACjB,QAAA,EAAC,UAAS;AAEd,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAQ;AAAA,MACR,WAAW,eAAe;AAAA,MAC1B,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,MACvC,MAAM,oBAAC,OAAM,EAAA,SAAQ,gDAAgD,CAAA;AAAA,MACrE,SAAS,oBAAC,OAAM,EAAA,SAAQ,SAAS,CAAA;AAAA,MACjC,WAAW,MAAM;AACf,uBAAe,OAAO,EAAC,KAAK,CAAC,QAAQ,EAAE,EAAC,GAAG,EAAC,WAAW,MAAM,MAAA,EAAQ,CAAA;AAAA,MACvE;AAAA,IAAA;AAAA,EAAA;AAGN;ACvIO,MAAM,0BAA2C;AAAA,EACtD;AAAA,IACE,KAAK;AAAA,IACL,OAAO,QAAQ,WAAW;AAAA,IAC1B,aAAa,QAAQ,uCAAuC;AAAA,IAC5D,iBAAiB,eAAe;AAAA,IAChC,SAAS;AAAA,MACP,MAAM,kBAAkB;AAAA,MACxB,cAAc;AAAA,IAChB;AAAA,EACF;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,OAAO,QAAQ,QAAQ;AAAA,IACvB,aAAa,QAAQ,kCAAkC;AAAA,IACvD,iBAAiB,eAAe;AAAA,IAChC,SAAS;AAAA,MACP,MAAM,kBAAkB;AAAA,MACxB,OAAO;AAAA,IACT;AAAA,EACF;AAAA,EACA,gBAAgB;AAAA,IACd,aAAa,QAAQ,0BAA0B;AAAA,EAAA,CAChD;AAAA,EACD,gBAAgB;AAAA,IACd,aAAa,QAAQ,+BAA+B;AAAA,EAAA,CACrD;AACH;AC7BO,SAAS,uBAAuB;AAEnC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAS;AAAA,MACT,aAAa;AAAA,QACX,MAAM;AAAA,QACN,cAAc;AAAA,MAChB;AAAA,MACA,OAAO,oBAAC,OAAM,EAAA,SAAQ,WAAW,CAAA;AAAA,MACjC,SAAS;AAAA,MACT,SAAS;AAAA,MACT,6BAAUxD,WAAQ,EAAA;AAAA,MAClB,qCAAkB,2BAA0B,EAAA;AAAA,MAC5C,iBAAiB;AAAA,MACjB,YAAW;AAAA,MACX,mBACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAO;AAAA,UACP,OAAO,oBAAC,OAAM,EAAA,SAAQ,oCAAoC,CAAA;AAAA,UAC1D,gBAAgB,oBAAC,OAAM,EAAA,SAAQ,uBAAuB,CAAA;AAAA,QAAA;AAAA,MACxD;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA,SAASA,YAAU;AAEf,SAAA,oBAAC,wBAAuB,EAAA,aAAa,MAAM,IAAG,uBAC5C,UAAC,oBAAA,OAAA,EAAM,SAAQ,cAAc,CAAA,EAC/B,CAAA;AAEJ;ACvBO,SAAS,2BAA2B,EAAC,MAAM,UAAU,UAAgB;;AAC1E,QAAM,QAAQ;AACR,QAAA,iBAAgBJ,MAAA,+BAAO,SAAP,gBAAAA,IAAa,WAAW;AAE9C,SACG,qBAAAQ,QAAA,EAAK,IAAI,QAAQ,MAAY,UAC5B,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAC7B,aAAa,oBAAC,OAAM,EAAA,SAAQ,8BAA8B,CAAA;AAAA,QAC1D,WAAU;AAAA,QACV,UAAQ;AAAA,QACR,WAAS;AAAA,MAAA;AAAA,IACX;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,cAAc,CAAA;AAAA,QACpC,aAAa,oBAAC,OAAM,EAAA,SAAQ,mCAAmC,CAAA;AAAA,QAC/D,WAAU;AAAA,MAAA;AAAA,IACZ;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,QAAQ,CAAA;AAAA,QAC9B,aAAa;AAAA,QAEZ,UAAA,CAAA,6BACE,MAAmB,EAAA,OAAO,KAAK,MAC7B,UAAA,KAAK,aADG,GAAA,KAAK,EAEhB;AAAA,MAAA;AAAA,IAEJ;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,QACrC,aAAa,oBAAC,OAAM,EAAA,SAAQ,+BAA+B,CAAA;AAAA,QAC3D,WAAU;AAAA,MAAA;AAAA,IACZ;AAAA,wBACC,iBAAgB,EAAA;AAAA,EACnB,EAAA,CAAA;AAEJ;AAEA,SAAS,kBAAkB;AACnB,QAAA,EAAC,UAAS;AACV,QAAA,EAAC,MAAM,WAAU,IAAI,cAAc,EAAC,MAAM,YAAW;AAC3D,QAAM,CAAC,OAAO,QAAQ,IAAI,SAAS,EAAE;AAC/B,QAAA,cAAc,6BAAM,WAAW;AAEnC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,MAAK;AAAA,MACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,yBAAyB,CAAA;AAAA,MAC/C,SAAO;AAAA,MACP,WAAW;AAAA,MACX,YAAY;AAAA,MACZ,oBAAoB;AAAA,MACpB,aAAa,MAAM,QAAQ,+BAA+B,CAAC;AAAA,MAC3D,kBAAkB;AAAA,MAClB;AAAA,MAEC,UAAM,6BAAA,WAAW,KAAK,IAAI,CACzB,aAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UAEC,OAAO,SAAS;AAAA,UAChB,aAAa,SAAS;AAAA,UACtB,WAAW,SAAS;AAAA,UAEnB,UAAS,SAAA;AAAA,QAAA;AAAA,QALL,SAAS;AAAA,MAAA;AAAA,IAOjB;AAAA,EAAA;AAGP;ACxEgB,SAAA,wBACd,YACA,MACA;AACM,QAAA,EAAC,UAAS;AAChB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UACXqC,iBAAe,YAAY,KAAK;AAAA,IAClC,WAAW,YAAY;AACrB,YAAM,YAAY,kBAAkB;AAAA,QAClC,UAAU,sBAAsB,mBAAmB;AAAA,MAAA,CACpD;AACD,YAAM,MAAM,QAAQ,kBAAkB,CAAC,CAAC;AAAA,IAC1C;AAAA,IACA,SAAS,CAAA,QAAO,iBAAiB,KAAK,IAAI;AAAA,EAAA,CAC3C;AACH;AAEA,SAASA,iBACP,YACA,aACmB;;AACnB,QAAM,UAAU;AAAA,IACd,GAAG;AAAA,IACH,cAAY7C,MAAA,YAAY,eAAZ,gBAAAA,IAAwB,IAAI,OAAK,EAAE,QAAO,CAAC;AAAA,IACvD,uBAAqB,iBAAY,wBAAZ,mBAAiC,IAAI,OAAK,EAAE,QAAO,CAAC;AAAA,EAAA;AAEpE,SAAA,UACJ,IAAI,qBAAqB,UAAU,IAAI,OAAO,EAC9C,KAAK,CAAK,MAAA,EAAE,IAAI;AACrB;AC/BgB,SAAA,2BAA2B,EAAC,OAAa;AACvD,QAAM,EAAC,OAAO,OAAM,IAAI,iBAAiB;AACzC,QAAM,OAAO,QAAqC;AAAA,IAChD,eAAe;AAAA,MACb,MAAM,IAAI;AAAA,MACV,cAAc,IAAI;AAAA,MAClB,yBAAyB,IAAI;AAAA,MAC7B,qBAAqB,IAAI;AAAA,MACzB,YAAY,IAAI;AAAA,IAClB;AAAA,EAAA,CACD;AACD,QAAM6C,kBAAiB,wBAAwB,IAAI,IAAI,IAAI;AAE3D,8BACG,QACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,yBAAyB,CAAA,GAC1C;AAAA,wBACC,YACC,EAAA,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC;AAAA,QACA;AAAA,QACA,UAAU,CAAU,WAAA;AAClB,UAAAA,gBAAe,OAAO,QAAQ;AAAA,YAC5B,WAAW,MAAM,MAAM;AAAA,UAAA,CACxB;AAAA,QACH;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAC,oBAAA,QAAA,EAAO,SAAS,MAAM,MAAA,GACrB,UAAC,oBAAA,OAAA,EAAM,SAAQ,SAAA,CAAS,EAC1B,CAAA;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAM;AAAA,UACN,UAAUA,gBAAe;AAAA,UACzB,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,MAAK;AAAA,UAEL,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAAA;AAAA,MACxB;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;AC/DA,MAAe,wBAAA;AC2BR,SAAS,wBACd,MACA;AACM,QAAA,EAAC,UAAS;AAChB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UAAuC,eAAe,KAAK;AAAA,IACxE,WAAW,YAAY;AACrB,YAAM,YAAY,kBAAkB;AAAA,QAClC,UAAU,sBAAsB,mBAAmB;AAAA,MAAA,CACpD;AACD,YAAM,MAAM,QAAQ,kBAAkB,CAAC,CAAC;AAAA,IAC1C;AAAA,IACA,SAAS,CAAA,QAAO,iBAAiB,KAAK,IAAI;AAAA,EAAA,CAC3C;AACH;AAEA,SAAS,eACP,aACmB;;AACnB,QAAM,UAAU;AAAA,IACd,GAAG;AAAA,IACH,cAAY7C,MAAA,YAAY,eAAZ,gBAAAA,IAAwB,IAAI,OAAK,EAAE,QAAO,CAAC;AAAA,IACvD,uBAAqB,iBAAY,wBAAZ,mBAAiC,IAAI,OAAK,EAAE,QAAO,CAAC;AAAA,EAAA;AAEpE,SAAA,UAAU,KAAK,qBAAqB,OAAO,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AACtE;ACtCO,SAAS,6BAA6B;AAC3C,QAAM,EAAC,OAAO,OAAM,IAAI,iBAAiB;AACzC,QAAM,OAAO;AACP,QAAA2C,kBAAiB,wBAAwB,IAAI;AAEnD,8BACG,QACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA,GACvC;AAAA,wBACC,YACC,EAAA,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC;AAAA,QACA;AAAA,QACA,UAAU,CAAU,WAAA;AAClB,UAAAA,gBAAe,OAAO,QAAQ;AAAA,YAC5B,WAAW,MAAM,MAAM;AAAA,UAAA,CACxB;AAAA,QACH;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAC,oBAAA,QAAA,EAAO,SAAS,MAAM,MAAA,GACrB,UAAC,oBAAA,OAAA,EAAM,SAAQ,SAAA,CAAS,EAC1B,CAAA;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAM;AAAA,UACN,UAAUA,gBAAe;AAAA,UACzB,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,MAAK;AAAA,UAEL,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAAA;AAAA,MACxB;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;ACpCA,MAAMb,iBAA0C;AAAA,EAC9C;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA;AAAA,IACpC,MAAM,cAAY,SAAS;AAAA,EAC7B;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,aAAa,CAAA;AAAA,IAC1C,MAAM,cAAY,SAAS;AAAA,EAC7B;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,OAAO;AAAA,IACP,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,eAAe,CAAA;AAAA,IAC5C,MAAM,CAAY,aAAA,oBAAC,eAAc,EAAA,MAAM,SAAS,YAAY;AAAA,EAC9D;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,UAAU,CAAA;AAAA,IACvC,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,OAAO;AAAA,IACP,eAAe;AAAA,IACf,MAAM,CAAA,aACH,qBAAA,eAAA,EAAc,MAAK,SAClB,UAAA;AAAA,MAAA,oBAAC,cAAW,MAAK,MAAK,WAAU,cAC9B,UAAA,oBAAC,YAAS,EACZ,CAAA;AAAA,MACA,oBAAC,4BAA2B,EAAA,KAAK,SAAU,CAAA;AAAA,IAAA,GAC7C;AAAA,EAEJ;AACF;AAEO,SAAS,0BAA0B;AAEtC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAS;AAAA,MACT,OAAO,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,MAC1C,SAASA;AAAAA,MACT,6BAAU1B,WAAQ,EAAA;AAAA,MAClB,aAAa;AAAA,QACX,MAAM;AAAA,MACR;AAAA,MACA,qCAAkB,2BAA0B,EAAA;AAAA,MAC5C,mBACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAOiC;AAAAA,UACP,OAAO,oBAAC,OAAM,EAAA,SAAQ,sCAAsC,CAAA;AAAA,UAC5D,gBAAgB,oBAAC,OAAM,EAAA,SAAQ,yBAAyB,CAAA;AAAA,QAAA;AAAA,MAC1D;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA,SAASjC,YAAU;AACjB,SAEI,oBAAAe,YAAA,EAAA,UAAA,qBAAC,eAAc,EAAA,MAAK,SAClB,UAAA;AAAA,IAAA,oBAAC,wBACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA,GAChC;AAAA,wBACC,4BAA2B,EAAA;AAAA,EAAA,EAC9B,CAAA,EACF,CAAA;AAEJ;AC3EO,SAAS,8BAA8B,EAAC,MAAM,UAAU,UAAgB;AAC7E,SACG,qBAAAX,QAAA,EAAK,IAAI,QAAQ,MAAY,UAC5B,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAC7B,aAAa,oBAAC,OAAM,EAAA,SAAQ,kCAAkC,CAAA;AAAA,QAC9D,WAAU;AAAA,QACV,UAAQ;AAAA,QACR,WAAS;AAAA,MAAA;AAAA,IACX;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,QACrC,aAAa,oBAAC,OAAM,EAAA,SAAQ,mCAAmC,CAAA;AAAA,QAC/D,WAAU;AAAA,MAAA;AAAA,IACZ;AAAA,EACF,EAAA,CAAA;AAEJ;ACTgB,SAAA,2BACd,eACA,MACA;AACM,QAAA,EAAC,UAAS;AAChB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UACX,eAAe,eAAe,KAAK;AAAA,IACrC,WAAW,YAAY;AACrB,YAAM,YAAY,kBAAkB;AAAA,QAClC,UAAU,sBAAsB,qBAAqB;AAAA,MAAA,CACtD;AACD,YAAM,MAAM,QAAQ,sBAAsB,CAAC,CAAC;AAAA,IAC9C;AAAA,IACA,SAAS,CAAA,QAAO,iBAAiB,KAAK,IAAI;AAAA,EAAA,CAC3C;AACH;AAEA,SAAS,eACP,eACA,aACmB;AACnB,QAAM,UAAU;AAAA,IACd,GAAG;AAAA,EAAA;AAEE,SAAA,UACJ,IAAI,uBAAuB,aAAa,IAAI,OAAO,EACnD,KAAK,CAAK,MAAA,EAAE,IAAI;AACrB;AC9BgB,SAAA,8BAA8B,EAAC,eAAqB;AAClE,QAAM,EAAC,OAAO,OAAM,IAAI,iBAAiB;AACzC,QAAM,OAAO,QAAwC;AAAA,IACnD,eAAe;AAAA,MACb,MAAM,YAAY;AAAA,MAClB,cAAc,YAAY;AAAA,IAC5B;AAAA,EAAA,CACD;AACD,QAAMqC,kBAAiB,2BAA2B,YAAY,IAAI,IAAI;AAEtE,8BACG,QACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,6BAA6B,CAAA,GAC9C;AAAA,wBACC,YACC,EAAA,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC;AAAA,QACA;AAAA,QACA,UAAU,CAAU,WAAA;AAClB,UAAAA,gBAAe,OAAO,QAAQ;AAAA,YAC5B,WAAW,MAAM,MAAM;AAAA,UAAA,CACxB;AAAA,QACH;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAC,oBAAA,QAAA,EAAO,SAAS,MAAM,MAAA,GACrB,UAAC,oBAAA,OAAA,EAAM,SAAQ,SAAA,CAAS,EAC1B,CAAA;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAM;AAAA,UACN,UAAUA,gBAAe;AAAA,UACzB,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,MAAK;AAAA,UAEL,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAAA;AAAA,MACxB;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;AC7DA,MAAe,sBAAA;ACqBR,SAAS,2BACd,MACA;AACM,QAAA,EAAC,UAAS;AAChB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UAA0C,kBAAkB,KAAK;AAAA,IAC9E,WAAW,YAAY;AACrB,YAAM,YAAY,kBAAkB;AAAA,QAClC,UAAU,sBAAsB,qBAAqB;AAAA,MAAA,CACtD;AACD,YAAM,MAAM,QAAQ,sBAAsB,CAAC,CAAC;AAAA,IAC9C;AAAA,IACA,SAAS,CAAA,QAAO,iBAAiB,KAAK,IAAI;AAAA,EAAA,CAC3C;AACH;AAEA,SAAS,kBACP,aACmB;AACnB,QAAM,UAAU;AAAA,IACd,GAAG;AAAA,EAAA;AAEE,SAAA,UAAU,KAAK,uBAAuB,OAAO,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AACxE;AC9BO,SAAS,gCAAgC;AAC9C,QAAM,EAAC,OAAO,OAAM,IAAI,iBAAiB;AACzC,QAAM,OAAO;AACP,QAAAgB,qBAAoB,2BAA2B,IAAI;AAEzD,8BACG,QACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,0BAA0B,CAAA,GAC3C;AAAA,wBACC,YACC,EAAA,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC;AAAA,QACA;AAAA,QACA,UAAU,CAAU,WAAA;AAClB,UAAAA,mBAAkB,OAAO,QAAQ;AAAA,YAC/B,WAAW,MAAM,MAAM;AAAA,UAAA,CACxB;AAAA,QACH;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAC,oBAAA,QAAA,EAAO,SAAS,MAAM,MAAA,GACrB,UAAC,oBAAA,OAAA,EAAM,SAAQ,SAAA,CAAS,EAC1B,CAAA;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAM;AAAA,UACN,UAAUA,mBAAkB;AAAA,UAC5B,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,MAAK;AAAA,UAEL,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAAA;AAAA,MACxB;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;ACpCA,MAAM/B,iBAAkD;AAAA,EACtD;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA;AAAA,IACpC,MAAM,cAAY,SAAS;AAAA,EAC7B;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,aAAa,CAAA;AAAA,IAC1C,MAAM,cAAY,SAAS;AAAA,EAC7B;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,OAAO;AAAA,IACP,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,eAAe,CAAA;AAAA,IAC5C,MAAM,CAAY,aAAA,oBAAC,eAAc,EAAA,MAAM,SAAS,YAAY;AAAA,EAC9D;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,UAAU,CAAA;AAAA,IACvC,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,OAAO;AAAA,IACP,eAAe;AAAA,IACf,MAAM,CAAA,aACH,qBAAA,eAAA,EAAc,MAAK,SAClB,UAAA;AAAA,MAAA,oBAAC,cAAW,MAAK,MAAK,WAAU,cAC9B,UAAA,oBAAC,YAAS,EACZ,CAAA;AAAA,MACA,oBAAC,+BAA8B,EAAA,aAAa,SAAU,CAAA;AAAA,IAAA,GACxD;AAAA,EAEJ;AACF;AAEO,SAAS,oBAAoB;AAEhC,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAS;AAAA,MACT,OAAO,oBAAC,OAAM,EAAA,SAAQ,sBAAsB,CAAA;AAAA,MAC5C,SAASA;AAAAA,MACT,6BAAU1B,WAAQ,EAAA;AAAA,MAIlB,qCAAkB,2BAA0B,EAAA;AAAA,MAC5C,mBACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAO;AAAA,UACP,OAAO,oBAAC,OAAM,EAAA,SAAQ,yCAAyC,CAAA;AAAA,UAC/D,gBAAgB,oBAAC,OAAM,EAAA,SAAQ,4BAA4B,CAAA;AAAA,QAAA;AAAA,MAC7D;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA,SAASA,YAAU;AACjB,SAEI,oBAAAe,YAAA,EAAA,UAAA,qBAAC,eAAc,EAAA,MAAK,SAClB,UAAA;AAAA,IAAA,oBAAC,wBACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,0BAA0B,CAAA,GAC3C;AAAA,wBACC,+BAA8B,EAAA;AAAA,EAAA,EACjC,CAAA,EACF,CAAA;AAEJ;ACtFA,MAAe,UAAA;ACWR,SAAS,gBAAgB,EAAC,MAAM,UAAU,UAAgB;AAC/D,SACG,qBAAAX,QAAA,EAAK,IAAI,QAAQ,MAAY,UAC5B,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAC7B,aAAa,oBAAC,OAAM,EAAA,SAAQ,kCAAkC,CAAA;AAAA,QAC9D,WAAU;AAAA,QACV,UAAQ;AAAA,QACR,WAAS;AAAA,MAAA;AAAA,IACX;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,MAAK;AAAA,QACL,OAAO,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA;AAAA,QACrC,aAAa,oBAAC,OAAM,EAAA,SAAQ,mCAAmC,CAAA;AAAA,QAC/D,WAAU;AAAA,MAAA;AAAA,IACZ;AAAA,EACF,EAAA,CAAA;AAEJ;AChBO,SAAS,cACd,MACA;AACM,QAAA,EAAC,UAAS;AAChB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UAA6B,WAAW,KAAK;AAAA,IAC1D,WAAW,YAAY;AACrB,YAAM,YAAY,kBAAkB;AAAA,QAClC,UAAU,sBAAsB,OAAO;AAAA,MAAA,CACxC;AACD,YAAM,MAAM,QAAQ,cAAc,CAAC,CAAC;AAAA,IACtC;AAAA,IACA,SAAS,CAAA,QAAO,iBAAiB,KAAK,IAAI;AAAA,EAAA,CAC3C;AACH;AAEA,SAAS,WACP,aACmB;AACnB,QAAM,UAAU;AAAA,IACd,GAAG;AAAA,EAAA;AAEE,SAAA,UAAU,KAAK,SAAS,OAAO,EAAE,KAAK,CAAA,MAAK,EAAE,IAAI;AAC1D;ACzBO,SAAS,mBAAmB;AACjC,QAAM,EAAC,OAAO,OAAM,IAAI,iBAAiB;AACzC,QAAM,OAAO;AACP,QAAAqD,qBAAoB,cAAc,IAAI;AAE5C,8BACG,QACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA,GAChC;AAAA,wBACC,YACC,EAAA,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC;AAAA,QACA;AAAA,QACA,UAAU,CAAU,WAAA;AAClB,UAAAA,mBAAkB,OAAO,QAAQ;AAAA,YAC/B,WAAW,MAAM,MAAM;AAAA,UAAA,CACxB;AAAA,QACH;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAC,oBAAA,QAAA,EAAO,SAAS,MAAM,MAAA,GACrB,UAAC,oBAAA,OAAA,EAAM,SAAQ,SAAA,CAAS,EAC1B,CAAA;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAM;AAAA,UACN,UAAUA,mBAAkB;AAAA,UAC5B,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,MAAK;AAAA,UAEL,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAAA;AAAA,MACxB;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;ACpCgB,SAAA,cACd,QACA,MACA;AACM,QAAA,EAAC,UAAS;AAChB,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,UACX,WAAW,QAAQ,KAAK;AAAA,IAC1B,WAAW,YAAY;AACrB,YAAM,YAAY,kBAAkB;AAAA,QAClC,UAAU,sBAAsB,OAAO;AAAA,MAAA,CACxC;AACD,YAAM,MAAM,QAAQ,cAAc,CAAC,CAAC;AAAA,IACtC;AAAA,IACA,SAAS,CAAA,QAAO,iBAAiB,KAAK,IAAI;AAAA,EAAA,CAC3C;AACH;AAEA,SAAS,WACP,QACA,aACmB;AACnB,QAAM,UAAU;AAAA,IACd,GAAG;AAAA,EAAA;AAEE,SAAA,UACJ,IAAI,SAAS,MAAM,IAAI,OAAO,EAC9B,KAAK,CAAK,MAAA,EAAE,IAAI;AACrB;AC1BgB,SAAA,iBAAiB,EAAC,QAAc;AAC9C,QAAM,EAAC,OAAO,OAAM,IAAI,iBAAiB;AACzC,QAAM,OAAO,QAA2B;AAAA,IACtC,eAAe;AAAA,MACb,MAAM,KAAK;AAAA,MACX,cAAc,KAAK;AAAA,IACrB;AAAA,EAAA,CACD;AACD,QAAMC,cAAa,cAAc,KAAK,IAAI,IAAI;AAE9C,8BACG,QACC,EAAA,UAAA;AAAA,IAAA,oBAAC,cACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,6BAA6B,CAAA,GAC9C;AAAA,wBACC,YACC,EAAA,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC;AAAA,QACA;AAAA,QACA,UAAU,CAAU,WAAA;AAClB,UAAAA,YAAW,OAAO,QAAQ;AAAA,YACxB,WAAW,MAAM,MAAM;AAAA,UAAA,CACxB;AAAA,QACH;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,yBACC,cACC,EAAA,UAAA;AAAA,MAAC,oBAAA,QAAA,EAAO,SAAS,MAAM,MAAA,GACrB,UAAC,oBAAA,OAAA,EAAM,SAAQ,SAAA,CAAS,EAC1B,CAAA;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,MAAM;AAAA,UACN,UAAUA,YAAW;AAAA,UACrB,SAAQ;AAAA,UACR,OAAM;AAAA,UACN,MAAK;AAAA,UAEL,UAAA,oBAAC,OAAM,EAAA,SAAQ,OAAO,CAAA;AAAA,QAAA;AAAA,MACxB;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;ACnCA,MAAM,eAA0C;AAAA,EAC9C;AAAA,IACE,KAAK;AAAA,IACL,eAAe;AAAA,IACf,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,OAAO,CAAA;AAAA,IACpC,MAAM,CACJ,SAAA,qBAAC,OACC,EAAA,UAAA;AAAA,MAAC,oBAAA,OAAA,EACC,8BAAC,OAAM,EAAA,UAAS,6BAAM,iBAAiB,KAAK,MAAM,EACpD,CAAA;AAAA,MACA,oBAAC,OAAI,EAAA,WAAU,yDAEf,CAAA;AAAA,IAAA,GACF;AAAA,EAEJ;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,UAAU;AAAA,IACV,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,aAAa,CAAA;AAAA,IAC1C,MAAM,UAAS,oBAAA,OAAA,EAAM,SAAS,KAAK,SAAQ,6BAAM,eAAc;AAAA,EACjE;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,UAAU;AAAA,IACV,eAAe;AAAA,IACf,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,eAAe,CAAA;AAAA,IAC5C,MAAM,CAAQ,SAAA,oBAAC,eAAc,EAAA,MAAM,KAAK,YAAY;AAAA,EACtD;AAAA,EACA;AAAA,IACE,KAAK;AAAA,IACL,QAAQ,MAAO,oBAAA,OAAA,EAAM,SAAQ,UAAU,CAAA;AAAA,IACvC,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,OAAO;AAAA,IACP,eAAe;AAAA,IACf,MAAM,CAAA,SACH,qBAAA,eAAA,EAAc,MAAK,SAClB,UAAA;AAAA,MAAA,oBAAC,cAAW,MAAK,MAAK,WAAU,cAC9B,UAAA,oBAAC,YAAS,EACZ,CAAA;AAAA,MACA,oBAAC,oBAAiB,MAAY;AAAA,IAAA,GAChC;AAAA,EAEJ;AACF;AAEO,SAAS,iBAAiB;AAE7B,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,UAAS;AAAA,MACT,OAAO,oBAAC,OAAM,EAAA,SAAQ,QAAQ,CAAA;AAAA,MAC9B,SAAS;AAAA,MAET,6BAAU,SAAQ,EAAA;AAAA,MAClB,qCAAkB,2BAA0B,EAAA;AAAA,MAC5C,mBACE;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,OAAO;AAAA,UACP,OAAO,oBAAC,OAAM,EAAA,SAAQ,iCAAiC,CAAA;AAAA,UACvD,gBAAgB,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,QAAA;AAAA,MACrD;AAAA,IAAA;AAAA,EAAA;AAIR;AAEA,SAAS,UAAU;AACjB,SAEI,oBAAA3C,YAAA,EAAA,UAAA,qBAAC,eAAc,EAAA,MAAK,SAClB,UAAA;AAAA,IAAA,oBAAC,wBACC,EAAA,UAAA,oBAAC,OAAM,EAAA,SAAQ,eAAe,CAAA,GAChC;AAAA,wBACC,kBAAiB,EAAA;AAAA,EAAA,EACpB,CAAA,EACF,CAAA;AAEJ;AChFO,MAAM,iBAAgC;AAAA,EAC3C;AAAA,IACE,MAAM;AAAA,IACN,UAAU;AAAA,MACR,EAAC,MAAM,WAAW,SAAS,oBAAC,qBAAkB,EAAE;AAAA,MAChD,EAAC,MAAM,UAAU,SAAS,oBAAC,gBAAa,EAAE;AAAA,MAC1C;AAAA,QACE,MAAM;AAAA,QACN,6BAAU,mBAAkB,EAAA;AAAA,QAC5B,UAAU;AAAA,UACR;AAAA,YACE,OAAO;AAAA,YACP,SAAU,oBAAA,UAAA,EAAS,IAAG,UAAS,SAAO,MAAC;AAAA,UACzC;AAAA,UACA;AAAA,YACE,MAAM;AAAA,YACN,6BAAU,sBAAqB,EAAA;AAAA,UACjC;AAAA,UACA;AAAA,YACE,MAAM;AAAA,YACN,6BAAU,uBAAsB,EAAA;AAAA,UAClC;AAAA,UACA;AAAA,YACE,MAAM;AAAA,YACN,6BAAU,gBAAe,EAAA;AAAA,UAC3B;AAAA,QACF;AAAA,MACF;AAAA,MACA,EAAC,MAAM,YAAY,SAAS,oBAAC,uBAAoB,EAAE;AAAA,MACnD,EAAC,OAAO,MAAM,SAAS,oBAAC,YAAS,IAAG,WAAU,SAAO,KAAC,CAAA,EAAE;AAAA,IAC1D;AAAA,EACF;AAAA;AAAA,EAEA;AAAA,IACE,MAAM;AAAA,IACN,SAAU,oBAAA,UAAA,EAAS,IAAG,eAAc,SAAO,MAAC;AAAA,EAC9C;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,mBAAkB,EAAA;AAAA,EAC9B;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,mBAAkB,EAAA;AAAA,EAC9B;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,kBAAiB,EAAA;AAAA,EAC7B;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,sBAAqB,EAAA;AAAA,EACjC;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,mBAAkB,EAAA;AAAA,EAC9B;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,mBAAkB,EAAA;AAAA,EAC9B;AAAA;AAAA,EAEA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,mBAAkB,EAAA;AAAA,EAC9B;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,mBAAkB,EAAA;AAAA,EAC9B;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,mBAAkB,EAAA;AAAA,EAC9B;AAAA;AAAA,EAEA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,mBAAkB,EAAA;AAAA,EAC9B;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,mBAAkB,EAAA;AAAA,EAC9B;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,mBAAkB,EAAA;AAAA,EAC9B;AAAA;AAAA,EAEA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,yBAAwB,EAAA;AAAA,EACpC;AAAA;AAAA,EAEA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,mBAAkB,EAAA;AAAA,EAC9B;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,gBAAe,EAAA;AAAA,EAC3B;AAAA;AAAA,EAEA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,4BAA2B,EAAA;AAAA,EACvC;AAAA;AAAA,EAEA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,uBAAsB,EAAA;AAAA,EAClC;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,mBAAkB,EAAA;AAAA,EAC9B;AAAA,EACA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,mBAAkB,EAAA;AAAA,EAC9B;AACF;AC9HO,SAAS,oBAAoBrB,WAAmB;AAC/C,QAAA,EAAC,WAAU;AACjB,QAAM,gBAAgB,GAAGA,aAAY,cAAc,IAAI,MAAM;AAC7D,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,YACX,WAAW,SAAS,aAAa;AAAA,IACnC,SAAS,CAAO,QAAA,mBAAmB,GAAG;AAAA,IACtC,WAAW,YAAY;AACrB,YAAM,YAAY,kBAAkB,EAAC,UAAU,CAAC,cAAc,GAAE;AAChE,YAAM,YAAY,kBAAkB;AAAA,QAClC,UAAU,sBAAsB,aAAa;AAAA,MAAA,CAC9C;AACK,YAAA,QAAQ,cAAc,CAAC;AAAA,IAC/B;AAAA,EAAA,CACD;AACH;AAEA,SAAS,WACP,SACAA,WACmB;AACZ,SAAA,UAAU,IAAI,GAAGA,SAAQ,IAAI,OAAO,EAAE,KAAK,CAAK,MAAA,EAAE,IAAI;AAC/D;ACvBA,MAAMmD,sBAAoB,MAAM;AAAA,EAC9B,MAAM,OAAO,oCAA4C;AAC3D;AAEO,SAAS,iBAAiB;AAC/B,QAAM,QAAQ;AAEP,SAAA,MAAM,OACX,qBAAC,UACC,EAAA,UAAA;AAAA,IAAA,oBAAC,gBAAa,OAAc;AAAA,IAC3B,oBAAA,aAAA,EAAY,MAAM,MAAM,KAAK,MAAM;AAAA,EACtC,EAAA,CAAA,wBAEC,OAAI,EAAA,WAAU,0BACb,UAAC,oBAAA,YAAA,EAAW,MAAc,CAAA,EAC5B,CAAA;AAEJ;AAKA,SAAS,YAAY,EAAC,QAAyB;AAC7C,QAAM,WAAWlC;AACjB,QAAM,eAAe;AACrB,QAAM,OAAO,QAAiC;AAAA,IAC5C,eAAe;AAAA,MACb,OAAO,KAAK;AAAA,MACZ,MAAM,KAAK;AAAA,MACX,MAAM,KAAK;AAAA,IACb;AAAA,EAAA,CACD;AAEK,QAAA,aAAa,CAAC,kBAA0B;AAC/B,iBAAA;AAAA,MACX;AAAA,QACE,GAAG,KAAK,UAAU;AAAA,QAClB,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,WAAW,MAAM,SAAS,SAAS,EAAC,UAAU,QAAO;AAAA,MACvD;AAAA,IAAA;AAAA,EACF;AAGF,6BACG,UAAS,EAAA,8BAAW,gBAAe,CAAA,CAAA,GAClC,8BAACkC,qBAAkB,EAAA,gBAAgB,KAAK,MACrC,UAAA,CAAC,SAAS,WACT,oBAAC,sBACC,UAAC,qBAAA,cAAA,EAAc,GAAG,MAChB,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC;AAAA,QACA,UAAS;AAAA,QACT,WAAW,aAAa;AAAA,QACxB,QAAQ;AAAA,MAAA;AAAA,IACV;AAAA,wBACC,OAAI,EAAA,WAAU,SACb,UAAC,qBAAA,OAAA,EAAI,WAAU,6CACb,UAAA;AAAA,MAAA,oBAAC,oBAAmB,EAAA;AAAA,MACnB;AAAA,IAAA,EAAA,CACH,EACF,CAAA;AAAA,EACF,EAAA,CAAA,EACF,CAAA,GAEJ,EACF,CAAA;AAEJ;AC/DO,SAAS,oBAAoBnD,WAAmB;AACrD,QAAM,gBAAgBA,aAAY;AAClC,SAAO,YAAY;AAAA,IACjB,YAAY,CAAC,YACX,WAAW,SAAS,aAAa;AAAA,IACnC,SAAS,CAAO,QAAA,mBAAmB,GAAG;AAAA,IACtC,WAAW,YAAY;AACrB,YAAM,YAAY,kBAAkB,EAAC,UAAU,CAAC,cAAc,GAAE;AAChE,YAAM,YAAY,kBAAkB;AAAA,QAClC,UAAU,sBAAsB,aAAa;AAAA,MAAA,CAC9C;AACK,YAAA,QAAQ,cAAc,CAAC;AAAA,IAC/B;AAAA,EAAA,CACD;AACH;AAEA,SAAS,WACP,SACAA,WACmB;AACZ,SAAA,UAAU,KAAK,GAAGA,SAAQ,IAAI,OAAO,EAAE,KAAK,CAAK,MAAA,EAAE,IAAI;AAChE;AC7BA,MAAM,oBAAoB,MAAM;AAAA,EAC9B,MAAM,OAAO,oCAA4C;AAC3D;AAEO,SAAS,mBAAmB;AACjC,QAAM,WAAWiB;AACjB,QAAMgD,cAAa;AACnB,QAAM,OAAO;AAEP,QAAA,aAAa,CAAC,kBAA0B;AACjC,IAAAA,YAAA;AAAA,MACT;AAAA,QACE,GAAG,KAAK,UAAU;AAAA,QAClB,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,WAAW,MAAM,SAAS,OAAO,EAAC,UAAU,QAAO;AAAA,MACrD;AAAA,IAAA;AAAA,EACF;AAGF,6BACG,UAAS,EAAA,UAAW,oBAAA,gBAAA,CAAA,CAAe,GAClC,UAAC,oBAAA,mBAAA,EACE,UAAC,CAAA,SAAS,WACR,oBAAA,oBAAA,EACC,UAAC,qBAAA,cAAA,EAAc,GAAG,MAChB,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC;AAAA,QACA,WAAWA,YAAW;AAAA,QACtB,QAAQ;AAAA,QACR,UAAS;AAAA,MAAA;AAAA,IACX;AAAA,wBACC,OAAI,EAAA,WAAU,SACb,UAAC,qBAAA,OAAA,EAAI,WAAU,6CACb,UAAA;AAAA,MAAA,oBAAC,oBAAmB,EAAA;AAAA,MACnB;AAAA,IAAA,EAAA,CACH,EACF,CAAA;AAAA,EACF,EAAA,CAAA,EACF,CAAA,GAEJ,EACF,CAAA;AAEJ;ACzDA,MAAe,YAAA;ACkBR,SAAS,oBAAoB;AAAA,EAClC,OAAO,EAAC,SAAS,WAAU;AAC7B,GAAuB;AACf,QAAA,EAAC,UAAS;AAEd,SAAA,qBAAC,OAAI,EAAA,WAAU,sCACb,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,OAAO,QAAQ;AAAA,QACf,UAAU,CAAK,MAAA;AACF,qBAAA;AAAA,YACT,GAAG;AAAA,YACH,OAAO,EAAE,OAAO;AAAA,UAAA,CACjB;AAAA,QACH;AAAA,QACA,oCAAiB,YAAW,EAAA;AAAA,QAC5B,aAAa,MAAM,QAAQ,cAAc,CAAC;AAAA,MAAA;AAAA,IAC5C;AAAA,IACA;AAAA,MAAC7C;AAAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,eAAc;AAAA,QACd,eAAe,QAAQ;AAAA,QACvB,mBAAmB,CAAS,UAAA;AACf,qBAAA;AAAA,YACT,GAAG;AAAA,YACH,UAAU;AAAA,UAAA,CACX;AAAA,QACH;AAAA,QAEA,UAAA;AAAA,UAAA,oBAAC,QAAK,OAAM,IACV,8BAAC,OAAM,EAAA,SAAQ,kBAAiB,EAClC,CAAA;AAAA,UACA,oBAAC,QAAK,OAAM,SACV,8BAAC,OAAM,EAAA,SAAQ,SAAQ,EACzB,CAAA;AAAA,UACA,oBAAC,QAAK,OAAM,cACV,8BAAC,OAAM,EAAA,SAAQ,cAAa,EAC9B,CAAA;AAAA,UACA,oBAAC,QAAK,OAAM,WACV,8BAAC,OAAM,EAAA,SAAQ,WAAU,EAC3B,CAAA;AAAA,UACA,oBAAC,QAAK,OAAM,eACV,8BAAC,OAAM,EAAA,SAAQ,eAAc,EAC/B,CAAA;AAAA,UACA,oBAAC,QAAK,OAAM,aACV,8BAAC,OAAM,EAAA,SAAQ,aAAY,EAC7B,CAAA;AAAA,QAAA;AAAA,MAAA;AAAA,IACF;AAAA,EACF,EAAA,CAAA;AAEJ;ACzDO,SAAS,UAAU,SAAwC;AAChE,QAAM,WAAW,YAAY;AAAA,IAC3B,OAAO;AAAA,IACP,GAAG;AAAA,EAAA,CACJ;AAEM,SAAA;AAAA,IACL,WAAW,QAAQ,WAAW;AACxB,UAAA,UAAU,WAAW,GAAG;AACnB,eAAA;AAAA,MACT;AAES,eAAA,OAAO,UAAU,KAAK;AACnB,kBAAA,UAAU,UAAU,KAAK;AAEnC,aAAA,SAAS,QAAQ,OAAO,MAAM,GAAG,UAAU,MAAM,GAAG,SAAS,MAAM;AAAA,IAEvE;AAAA,IACA,SAAS,QAAQ,WAAW;AACtB,UAAA,UAAU,WAAW,GAAG;AACnB,eAAA;AAAA,MACT;AAES,eAAA,OAAO,UAAU,KAAK;AACnB,kBAAA,UAAU,UAAU,KAAK;AAC9B,aAAA,SAAS,QAAQ,OAAO,MAAM,CAAC,UAAU,MAAM,GAAG,SAAS,MAAM;AAAA,IAC1E;AAAA,IACA,SAAS,QAAQ,WAAW;AACtB,UAAA,UAAU,WAAW,GAAG;AACnB,eAAA;AAAA,MACT;AAES,eAAA,OAAO,UAAU,KAAK;AACnB,kBAAA,UAAU,UAAU,KAAK;AAErC,UAAI,OAAO;AACX,YAAM,WAAW,UAAU;AAC3B,aAAO,OAAO,YAAY,OAAO,QAAQ,QAAQ;AAC/C,cAAM,QAAQ,OAAO,MAAM,MAAM,OAAO,QAAQ;AAChD,YAAI,SAAS,QAAQ,WAAW,KAAK,MAAM,GAAG;AACrC,iBAAA;AAAA,QACT;AAAA,MACF;AAEO,aAAA;AAAA,IACT;AAAA,EAAA;AAEJ;ACvDO,MAAM,mBAAiC;AAAA,EAC5C;AAAA,IACE,OAAO,QAAQ,QAAQ;AAAA,IACvB,QACE;AAAA,IACF,UAAU;AAAA,EACZ;AAAA,EACA,EAAC,QAAQ,gCAAgC,UAAU,aAAY;AAAA,EAC/D,EAAC,QAAQ,gDAAgD,UAAU,QAAO;AAAA,EAC1E,EAAC,QAAQ,wCAAwC,UAAU,cAAa;AAAA,EACxE,EAAC,QAAQ,8BAA8B,UAAU,aAAY;AAAA,EAC7D,EAAC,QAAQ,qCAAqC,UAAU,YAAW;AAAA,EACnE;AAAA,IACE,QAAQ;AAAA,IACR,UAAU;AAAA,EACZ;AAAA,EACA,EAAC,QAAQ,mCAAmC,UAAU,QAAO;AAAA,EAC7D,EAAC,QAAQ,uCAAuC,UAAU,YAAW;AAAA,EACrE,EAAC,QAAQ,wCAAwC,UAAU,aAAY;AAAA,EACvE,EAAC,QAAQ,+BAA+B,UAAU,aAAY;AAAA,EAC9D;AAAA,IACE,QAAQ;AAAA,IACR,UAAU;AAAA,EACZ;AACF;ACJO,SAAS,qBAAqB;AAAA,EACnC;AAAA,EACA;AACF,GAA4C;AAC1C,QAAM,EAAC,MAAM,UAAA,IAAa,cAAc,CAAC,aAAa,CAAC;AACvD,QAAM,CAAC,aAAa,cAAc,IAAI,SAAS,CAAC;AAEhD,QAAM,CAAC,SAAS,cAAc,IAAI,SAAkC;AAAA,IAClE,OAAO;AAAA,IACP,WAAU,+BAAO,aAAY;AAAA,EAAA,CAC9B;AACK,QAAA,EAAC,SAAQ,IAAI,UAAU;AAAA,IAC3B,aAAa;AAAA,EAAA,CACd;AAEK,QAAA,aAAa,YAAY,CAAC8C,aAAqC;AACnE,mBAAeA,QAAO;AAEtB,mBAAe,CAAC;AAAA,EAClB,GAAG,CAAE,CAAA;AAEC,QAAA,WAAW,QAAQ,MAAM;AAC7B,WAAO,iBAAiB,QAAO,6BAAM,gBAAe,CAAE,CAAA;AAAA,EAAA,GACrD,CAAC,6BAAM,WAAW,CAAC;AAEhB,QAAA,gBAAgB,QAAQ,MAAM;AAC3B,WAAA,SAAS,OAAO,CAAQ,SAAA;;AAC7B,aACE,SAAS,KAAK,QAAQ,QAAQ,KAAK,MAClC,CAAC,QAAQ,cACRhE,MAAA,KAAK,aAAL,gBAAAA,IAAe,mBAAkB,QAAQ,SAAS,YAAY;AAAA,IAAA,CAEnE;AAAA,EACA,GAAA,CAAC,UAAU,SAAS,QAAQ,CAAC;AAE1B,QAAAiE,SAAQ,QAAQ,MAAM;AACnB,WAAA,WAAW,eAAe,EAAE;AAAA,EAAA,GAClC,CAAC,aAAa,CAAC;AACZ,QAAA,QAAQA,OAAM,WAAW;AAE/B,YAAU,MAAM;AACd,UAAM,KAAK;AACX,QAAI,+BAAO,QAAQ;AACP,gBAAA,OAAO,EAAC,GAAA,CAAG;AAAA,IACvB;AAAA,EAAA,GACC,CAAC,OAAO,WAAW,CAAC;AAEhB,SAAA;AAAA,IACL,OAAO,SAAS,CAAC;AAAA,IACjB;AAAA,IACA,eAAe,iBAAiB,CAAC;AAAA,IACjC;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,OAAAA;AAAA,EAAA;AAEJ;ACxEO,SAAS,uBAAuB;AAAA,EACrC,OAAO,EAAC,cAAc,GAAG,gBAAgB,eAAe,OAAAA,OAAK;AAC/D,GAAgC;AACxB,QAAA,SAAQ,+CAAe,WAAU;AAGrC,SAAA,qBAAC,OAAI,EAAA,WAAU,qEACZ,UAAA;AAAA,IAAQ,QAAA,yBACN,OACC,EAAA,UAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,QAAQ;AAAA,UACN,MAAM,cAAc,KAAK;AAAA,UACzB,IAAI,KAAK,KAAK,cAAc,KAAK,IAAI,KAAK;AAAA,UAC1C;AAAA,QACF;AAAA,MAAA;AAAA,IAAA,GAEJ;AAAA,IAEF,qBAAC,OAAI,EAAA,WAAU,cACb,UAAA;AAAA,MAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,cAAc;AAAA,UACxB,SAAS,MAAM;AACb,2BAAe,KAAK,IAAI,GAAG,cAAc,CAAC,CAAC;AAAA,UAC7C;AAAA,UAEA,8BAAC,uBAAsB,EAAA;AAAA,QAAA;AAAA,MACzB;AAAA,MACA;AAAA,QAAC;AAAA,QAAA;AAAA,UACC,UAAU,eAAeA,OAAM,SAAS;AAAA,UACxC,SAAS,MAAM;AACb,2BAAe,cAAc,CAAC;AAAA,UAChC;AAAA,UAEA,8BAAC,wBAAuB,EAAA;AAAA,QAAA;AAAA,MAC1B;AAAA,IAAA,GACF;AAAA,EACF,EAAA,CAAA;AAEJ;AC3BO,SAAS,aAAa,OAA0B;AAC/C,QAAA,QAAQ,qBAAqB,KAAK;AACxC,SACG,qBAAA,OAAA,EAAI,WAAW,MAAM,WACpB,UAAA;AAAA,IAAA,oBAAC,uBAAoB,OAAc;AAAA,IACnC,oBAAC,mBAAgB,SAAS,OAAO,MAAK,QACpC,UAAA,oBAAC,UAAS,EAAA,MAAA,CAAc,EAC1B,CAAA;AAAA,IACA,oBAAC,0BAAuB,OAAc;AAAA,EACxC,EAAA,CAAA;AAEJ;AAKA,SAAS,SAAS,EAAC,SAAuB;AAClC,QAAA,EAAC,WAAW,MAAS,IAAA;AAE3B,QAAM,gBACJ;AAEF,MAAI,WAAW;AACN,WAAA,oBAAC,kBAAiB,EAAA,WAAW,cAAe,CAAA;AAAA,EACrD;AAEI,MAAA,EAAC,+BAAO,SAAQ;AAEhB,WAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,WAAU;AAAA,QACV,MAAK;AAAA,QACL,OAAO,oBAAC,UAAS,EAAA,KAAK,UAAW,CAAA;AAAA,QACjC,OAAO,oBAAC,OAAM,EAAA,SAAQ,oBAAoB,CAAA;AAAA,QAC1C,aACE,oBAAC,OAAM,EAAA,SAAQ,iDAAiD,CAAA;AAAA,MAAA;AAAA,IAAA;AAAA,EAIxE;AAEA,6BACG,EAAE,KAAF,EAAuB,GAAG,kBAAkB,WAAW,eACrD,UAAA,+BAAO,IAAI,CACV,SAAA,oBAAC,cAA6B,MAAY,MAAA,GAAzB,KAAK,MAAkC,MAFjD,WAIX;AAEJ;AAMA,SAAS,WAAW,EAAC,MAAM,OAAO,EAAC,OAAO,SAAA,KAA6B;AAC/D,QAAA,YAAW,+BAAO,YAAW,KAAK;AAClC,QAAA,cAAc,KAAK,OAAO,MAAM,GAAG,EAAE,CAAC,EAAE,QAAQ,MAAM,EAAE;AAG5D,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MAEC,SAAQ;AAAA,MACR,SAAS,MAAM;AACb,iBAAS,IAAI;AAAA,MACf;AAAA,MAEA,UAAA;AAAA,QAAA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAW;AAAA,cACT;AAAA,cACA,YAAY;AAAA,YACd;AAAA,YAEA,UAAA,oBAAC,UAAK,OAAO,EAAC,YAAY,KAAK,OAAA,GAAS,UAAE,KAAA,CAAA;AAAA,UAAA;AAAA,QAC5C;AAAA,QACA;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAW;AAAA,cACT;AAAA,cACA,YAAY;AAAA,YACd;AAAA,YAEC,eAAK,QAAQ,oBAAC,SAAO,GAAG,KAAK,MAAO,CAAA,IAAK;AAAA,UAAA;AAAA,QAC5C;AAAA,MAAA;AAAA,IAAA;AAAA,IArBK,KAAK;AAAA,EAAA;AAwBhB;AAKA,SAAS,iBAAiB,EAAC,aAAmC;AAC5D,QAAM,QAAQ,MAAM,KAAK,MAAM,EAAE,EAAE,MAAM;AAEvC,SAAA,oBAAC,EAAE,KAAF,EAAgC,GAAG,kBAAkB,WACnD,UAAM,MAAA,IAAI,CACT,UAAA,qBAAC,OACC,EAAA,UAAA;AAAA,IAAC,oBAAA,OAAA,EAAI,WAAU,iBACb,UAAA,oBAAC,YAAS,SAAQ,SAAQ,SAAQ,OAAA,CAAO,EAC3C,CAAA;AAAA,IACA,oBAAC,UAAS,EAAA,WAAU,eAAe,CAAA;AAAA,EAJ3B,EAAA,GAAA,KAKV,CACD,EAAA,GARQ,oBASX;AAEJ;AClHO,SAAS,iBAAiB;AAC/B,QAAM,EAAC,UAAU,MAAK,IAAI,eAAiC;AACrD,QAAA,EAAC,eAAc;AACf,QAAA,MAAM,yBAAyB,UAAU;AAE7C,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,OAAO,MAAM,GAAG;AAAA,MAChB,UAAU,CAAQ,SAAA;AAChB,iBAAS,KAAK,MAAM,EAAC,aAAa,KAAK,CAAA;AACvB,0BAAE,QAAQ,aAAa,IAAI;AAAA,MAC7C;AAAA,IAAA;AAAA,EAAA;AAGN;ACdA,MAAM,YAAY;AAAA,EAChB,gBAAgB;AAAA,IACd,OAAO,QAAQ,QAAQ;AAAA,IACvB,OAAO;AAAA,EACT;AAAA,EACA,cAAc;AAAA,IACZ,OAAO,QAAQ,OAAO;AAAA,IACtB,OAAO;AAAA,EACT;AAAA,EACA,cAAc;AAAA,IACZ,OAAO,QAAQ,QAAQ;AAAA,IACvB,OAAO;AAAA,EACT;AAAA,EACA,cAAc;AAAA,IACZ,OAAO,QAAQ,OAAO;AAAA,IACtB,OAAO;AAAA,EACT;AAAA,EACA,cAAc;AAAA,IACZ,OAAO,QAAQ,QAAQ;AAAA,IACvB,OAAO;AAAA,EACT;AAAA,EACA,gBAAgB;AAAA,IACd,OAAO,QAAQ,MAAM;AAAA,IACrB,OAAO;AAAA,EACT;AACF;AAEO,SAAS,mBAAmB;AAE/B,SAAA,qBAAC,OAAI,EAAA,WAAU,cACb,UAAA;AAAA,IAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,kBAAkB,CAAA;AAAA,QACxC,MAAK;AAAA,MAAA;AAAA,IACP;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,QACvC,MAAK;AAAA,MAAA;AAAA,IACP;AAAA,IACA;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,OAAO,oBAAC,OAAM,EAAA,SAAQ,iBAAiB,CAAA;AAAA,QACvC,MAAK;AAAA,QACL,UAAQ;AAAA,MAAA;AAAA,IACV;AAAA,EACF,EAAA,CAAA;AAEJ;AAOA,SAAS,eAAe,EAAC,OAAO,MAAM,YAAgC;AAC9D,QAAA,EAAC,eAAc;AACrB,QAAM,EAAC,OAAO,SAAQ,IAAI,eAAiC;AAC3D,QAAM,UACJ,yBAAyB,UAAU,gBAAgB,IAAI;AACnD,QAAA,eAAe,MAAM,OAAO;AAClC,8BACG,OACC,EAAA,UAAA;AAAA,IAAC,oBAAA,OAAA,EAAI,WAAU,+BAA+B,UAAM,OAAA;AAAA,IACnD,oBAAA,OAAA,EAAI,WAAU,mCACZ,UAAO,OAAA,QAAQ,SAAS,EACtB,OAAO,CAAC,CAAC,GAAG,MAAM,CAAC,YAAY,CAAC,IAAI,SAAS,MAAM,CAAC,EACpD,IAAI,CAAC,CAAC,KAAK,EAAC,OAAAC,QAAO,MAAA,CAAM,MACxB;AAAA,MAAC;AAAA,MAAA;AAAA,QAEC,QAAQ;AAAA,QACR,UAAU,UAAU;AAAA,QACpB,SAAS,MAAM;AACb,mBAAS,SAAS,OAAO,EAAC,aAAa,KAAK,CAAA;AAAA,QAC9C;AAAA,QAEA,UAAA,oBAAC,OAAO,EAAA,GAAGA,OAAO,CAAA;AAAA,MAAA;AAAA,MAPb;AAAA,IASR,CAAA,GACL;AAAA,EACF,EAAA,CAAA;AAEJ;AAQA,SAAS,cAAc;AAAA,EACrB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAuB;AAEnB,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,SAAQ;AAAA,MACR,WAAW;AAAA,QACT;AAAA,QACA;AAAA,QACA,YAAY;AAAA,MACd;AAAA,MACA;AAAA,MAEC;AAAA,IAAA;AAAA,EAAA;AAGP;AC3DA,MAAM,cAAc,MAAM,KAAK,MAAM,OAAO,kCAA+B,CAAC;AAE5E,MAAM,mBAAkC;AAAA,EACtC;AAAA,IACE,MAAM;AAAA,IACN,SACG,oBAAA,WAAA,EAAU,YAAW,qBACpB,UAAA,oBAAC,mBAAiB,CAAA,GACpB;AAAA,IAEF,UAAU;AAAA,MACR,EAAC,OAAO,MAAM,SAAS,oBAAC,eAAY,EAAE;AAAA,MACtC,EAAC,MAAM,WAAW,SAAS,oBAAC,kBAAe,EAAE;AAAA,MAC7C,EAAC,MAAM,gBAAgB,SAAS,oBAAC,cAAW,EAAE;AAAA,MAC9C,EAAC,MAAM,eAAe,SAAS,oBAAC,qBAAkB,EAAE;AAAA,MACpD,EAAC,MAAM,UAAU,SAAS,oBAAC,aAAU,EAAE;AAAA,MACvC,EAAC,MAAM,sBAAsB,SAAS,oBAAC,eAAY,EAAE;AAAA,MACrD,EAAC,MAAM,2BAA2B,SAAS,oBAAC,kBAAe,EAAE;AAAA,MAC7D,EAAC,MAAM,6BAA6B,SAAS,oBAAC,oBAAiB,EAAE;AAAA,MACjE,EAAC,MAAM,SAAS,SAAS,oBAAC,YAAS,EAAE;AAAA,MACrC,EAAC,MAAM,oBAAoB,SAAS,oBAAC,cAAW,EAAE;AAAA,MAClD;AAAA,QACE,MAAM;AAAA,QACN,6BAAU,gBAAe,EAAA;AAAA,MAC3B;AAAA,MACA,GAAG,OAAO,OAAO,oBAAoB,QAAQ,EAAE;AAAA,QAC7C,CAAA,MAAK,EAAE,UAAU,CAAC;AAAA,MACpB;AAAA,IACF;AAAA,EACF;AAAA,EAEA;AAAA,IACE,MAAM;AAAA,IACN,6BAAU,aAAY,EAAA;AAAA,IACtB,UAAU;AAAA,MACR,GAAG;AAAA;AAAA,MAEH;AAAA,QACE,MAAM;AAAA,QACN,SACE,oBAAC,MAAM,UAAN,EAAe,UAAW,oBAAA,gBAAA,EAAe,QAAM,KAAC,CAAA,GAC/C,UAAA,oBAAC,cAAY,CAAA,GACf;AAAA,MAEJ;AAAA;AAAA,MAEA;AAAA,QACE,MAAM;AAAA,QACN,SACG,oBAAA,WAAA,EAAU,YAAW,gBACpB,UAAA,oBAAC,gBAAc,CAAA,GACjB;AAAA,MAEJ;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,SACG,oBAAA,WAAA,EAAU,YAAW,gBACpB,UAAA,oBAAC,iBAAe,CAAA,GAClB;AAAA,MAEJ;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,SACG,oBAAA,WAAA,EAAU,YAAW,gBACpB,UAAA,oBAAC,iBAAe,CAAA,GAClB;AAAA,MAEJ;AAAA;AAAA,MAEA;AAAA,QACE,MAAM;AAAA,QACN,SACG,oBAAA,WAAA,EAAU,YAAW,gBACpB,UAAA,oBAAC,iBAAe,CAAA,GAClB;AAAA,MAEJ;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,SACG,oBAAA,WAAA,EAAU,YAAW,gBACpB,UAAA,oBAAC,iBAAe,CAAA,GAClB;AAAA,MAEJ;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,SACG,oBAAA,WAAA,EAAU,YAAW,gBACpB,UAAA,oBAAC,eAAa,CAAA,GAChB;AAAA,MAEJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA4BA;AAAA,QACE,MAAM;AAAA,QACN,SACG,oBAAA,WAAA,EAAU,YAAW,wBACpB,UAAA,oBAAC,yBAAuB,CAAA,GAC1B;AAAA,MAEJ;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,SACG,oBAAA,WAAA,EAAU,YAAW,gBACpB,UAAA,oBAAC,iBAAe,CAAA,GAClB;AAAA,MAEJ;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,SACG,oBAAA,WAAA,EAAU,YAAW,gBACpB,UAAA,oBAAC,iBAAe,CAAA,GAClB;AAAA,MAEJ;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,SACG,oBAAA,WAAA,EAAU,YAAW,gBACpB,UAAA,oBAAC,eAAa,CAAA,GAChB;AAAA,MAEJ;AAAA;AAAA,MAEA;AAAA,QACE,MAAM;AAAA,QACN,SACG,oBAAA,WAAA,EAAU,YAAW,uBACpB,UAAA,oBAAC,wBAAsB,CAAA,GACzB;AAAA,MAEJ;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,SACG,oBAAA,WAAA,EAAU,YAAW,uBACpB,UAAA,oBAAC,mBAAiB,CAAA,GACpB;AAAA,MAEJ;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,SACG,oBAAA,WAAA,EAAU,YAAW,uBACpB,UAAA,oBAAC,iBAAe,CAAA,GAClB;AAAA,MAEJ;AAAA;AAAA,MAEA;AAAA,QACE,MAAM;AAAA,QACN,SACG,oBAAA,WAAA,EAAU,YAAW,eACpB,UAAA,oBAAC,eAAa,CAAA,GAChB;AAAA,MAEJ;AAAA;AAAA,MAEA;AAAA,QACE,MAAM;AAAA,QACN,SACG,oBAAA,WAAA,EAAU,YAAW,wBACpB,UAAA,oBAAC,oBAAkB,CAAA,GACrB;AAAA,MAEJ;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,6BAAU,2BAA0B,EAAA;AAAA,MACtC;AAAA;AAAA,MAEA;AAAA,QACE,MAAM;AAAA,QACN,SACG,oBAAA,WAAA,EAAU,YAAW,gBACpB,UAAA,oBAAC,qBAAmB,CAAA,GACtB;AAAA,MAEJ;AAAA;AAAA,MAEA;AAAA,QACE,MAAM;AAAA,QACN,SACG,oBAAA,WAAA,EAAU,YAAW,mBACpB,UAAA,oBAAC,UAAQ,CAAA,GACX;AAAA,MAEJ;AAAA;AAAA,MAEA;AAAA,QACE,MAAM;AAAA,QACN,SACG,oBAAA,WAAA,EAAU,YAAW,mBACpB,UAAA,oBAAC,iBAAe,CAAA,GAClB;AAAA,QAEF,UAAU;AAAA,UACR,EAAC,OAAO,MAAM,SAAS,oBAAC,YAAS,IAAG,WAAU,SAAO,KAAC,CAAA,EAAE;AAAA,UACxD,EAAC,MAAM,WAAW,SAAS,oBAAC,mBAAgB,EAAE;AAAA,UAC9C,EAAC,MAAM,YAAY,SAAS,oBAAC,oBAAiB,EAAE;AAAA,UAChD,EAAC,MAAM,iBAAiB,SAAS,oBAAC,wBAAqB,EAAE;AAAA,UACzD,EAAC,MAAM,gBAAgB,SAAS,oBAAC,wBAAqB,EAAE;AAAA,UACxD,EAAC,MAAM,kBAAkB,SAAS,oBAAC,0BAAuB,EAAE;AAAA,UAC5D,EAAC,MAAM,aAAa,SAAS,oBAAC,qBAAkB,EAAE;AAAA,UAClD,EAAC,MAAM,kBAAkB,SAAS,oBAAC,yBAAsB,EAAE;AAAA,UAC3D,EAAC,MAAM,SAAS,SAAS,oBAAC,iBAAc,EAAE;AAAA,UAC1C,EAAC,MAAM,aAAa,SAAS,oBAAC,mBAAgB,EAAE;AAAA,UAChD,EAAC,MAAM,WAAW,SAAS,oBAAC,mBAAgB,EAAE;AAAA,UAC9C,EAAC,MAAM,SAAS,SAAS,oBAAC,iBAAc,EAAE;AAAA,UAC1C,EAAC,MAAM,aAAa,SAAS,oBAAC,qBAAkB,EAAE;AAAA,UAClD,EAAC,MAAM,QAAQ,SAAS,oBAAC,gBAAa,EAAE;AAAA,UACxC,GAAG;AAAA,QACL;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAAA,EACA,EAAC,MAAM,KAAK,SAAS,oBAAC,gBAAa,EAAE;AACvC;AAEA,SAAwB,cAAc;AACpC,SAAO,UAAU,gBAAgB;AACnC;;;;;"}